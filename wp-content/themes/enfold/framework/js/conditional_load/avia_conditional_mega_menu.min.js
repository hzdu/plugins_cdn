/**
 * This file holds the main javascript functions which is required for the conditional mega menu
 *
 * @author      Christian "Kriesi" Budschedl
 * @copyright   Copyright ( c ) Christian Budschedl
 * @link        http://kriesi.at
 * @link        http://aviathemes.com
 * @since       Version 1.1
 * @package     AviaFramework
 */
!function(i){"use strict";var n={recalcTimeout:!1,input_event:function(){i(document).on("click",".menu-item-avia-enableconditionallogic",(function(){var e=i(this),a=e.parents(".menu-item").eq(0);e.is(":checked")?(a.addClass("avia_conditional_active"),a.find(".avia_conditional_logic_field").show()):(a.removeClass("avia_conditional_active"),a.find(".avia_conditional_logic_field").hide()),n.recalc()})),i(document).on("change",".menu-item-avia-conditional",(function(){var e=i(this),a=e.find(":selected"),o=e.parents(".menu-item").eq(0);a.hasClass("show_css_field")?o.find(".menu-item-avia-conditionalcss").show():o.find(".menu-item-avia-conditionalcss").hide(),n.recalc()})),i(document).on("change",".menu-item-avia-conditionalvalue",(function(){var e=i(this),a=e.find(":selected"),o=e.parents(".menu-item").eq(0);a.hasClass("show_id_field")?o.find(".menu-item-avia-conditionalid").show():o.find(".menu-item-avia-conditionalid").hide(),n.recalc()})),i(document).on("mouseenter",".menu-item-bar",(function(){n.recalc()}))},recalcInit:function(){i(document).on("mouseup",".menu-item-bar",(function(e,a){i(e.target).is("a")||(clearTimeout(n.recalcTimeout),n.recalcTimeout=setTimeout(n.recalc,500))}))},recalc:function(){i(".menu-item").each((function(n){var e=i(this);e.find(".menu-item-avia-enableconditionallogic").is(":checked")?(e.addClass("avia_conditional_active"),e.find(".avia_conditional_logic_field").show()):(e.removeClass("avia_conditional_active"),e.find(".avia_conditional_logic_field").hide()),e.find(".menu-item-avia-conditional",".menu-item-avia-conditionalvalue").find("option:selected").hasClass("show_css_field")?e.find(".menu-item-avia-conditionalcss").show():e.find(".menu-item-avia-conditionalcss").hide(),e.find(".menu-item-avia-conditionalvalue").find("option:selected").hasClass("show_id_field")?e.find(".menu-item-avia-conditionalid").show():e.find(".menu-item-avia-conditionalid").hide()}))}};i((function(){n.input_event(),n.recalcInit(),n.recalc()}))}(jQuery);