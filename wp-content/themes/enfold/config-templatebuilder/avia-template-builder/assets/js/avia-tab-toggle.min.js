!function(a){"use strict";a.AviaModal.register_callback=a.AviaModal.register_callback||{},a.AviaModal.register_callback.modal_start_sorting=function(e){var t=(e||this.modal).find(".avia-modal-group"),i={handle:".avia-attach-modal-element-move",items:".avia-modal-group-element",placeholder:"avia-modal-group-element-highlight",tolerance:"pointer",forcePlaceholderSize:!0,start:function(e,t){a(".avia-modal-group-element-highlight").height(t.item.outerHeight()).width(t.item.outerWidth())},update:function(a,e){e.item.parents(".avia-modal-group").eq(0).trigger("av-item-moved",[e.item]),e.item.find('textarea[data-name="text-shortcode"]').trigger("av-update-preview-instant")},stop:function(a,e){}};t.find(".avia-modal-group-element, .avia-insert-area").disableSelection(),t.sortable(i)},a.AviaModal.register_callback.modal_tab_functions=function(e){var t=e||this.modal;if(t.find(".avia-tab-container").length){var i=t.find(".avia-modal-group-wrapper"),n=a('<div id="fakeTabContent" class="avia_textblock_style"></div>').appendTo(i),o={bind_events:function(){i.on("update mouseenter",".avia-modal-group-element",o.update_fake),n.on("click",o.route_fakeContent_click)},update_fake:function(){i.find(".avia-active").removeClass("avia-active"),n.html(a(this).addClass("avia-active").find(".avia_content_container").html())},route_fakeContent_click:function(){return i.find(".avia-active .avia_title_container").trigger("click"),!1}};o.bind_events(),i.find(".avia-modal-group-element").first().trigger("update")}}}(jQuery);