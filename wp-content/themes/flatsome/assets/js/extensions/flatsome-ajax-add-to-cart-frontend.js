jQuery(document).ready((function(t){"undefined"!=typeof wc_add_to_cart_params&&t("body").on("submit","form.cart",(function(a){const r=t(this).parents(".type-product");if(!r||!r.is(".product-type-simple, .product-type-variable"))return;const d=t(this),e=d.find(".single_add_to_cart_button"),o=d.find('input[name="variation_id"]').val()||e.val()||0,n=d.find('input[name="quantity"]').val(),i={};if(r.is(".product-type-variable")&&d.serializeArray().forEach((t=>{let{name:a,value:r}=t;a.startsWith("attribute_")&&(i[a]=r)})),!e||!o||!n)return;a.preventDefault();const _={action:"flatsome_ajax_add_to_cart",product_id:o,quantity:n,variation:i};if(e.addClass("loading"),!1===t(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[e]))return t(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,e]),!0;t(document.body).trigger("adding_to_cart",[e,_]),t.ajax({url:flatsomeVars.ajaxurl,data:_,method:"POST",success:function(a){a&&(a.error&&a.product_url?window.location=a.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(e.removeClass("loading"),t(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,e])):window.location=wc_add_to_cart_params.cart_url)}})}))}));