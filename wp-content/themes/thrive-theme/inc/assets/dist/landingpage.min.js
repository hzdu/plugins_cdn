!function(){var e={2773:function(e,t,s){s(2810);class n{static get hoverClass(){return"section-hover"}constructor(){this.listenersInit()}listenersInit(e){const t=e=>{e.find(" > div").on("mouseenter",(e=>{this.showIcons(e.currentTarget)})).on("mouseleave",(e=>{this.hideIcons(e.currentTarget)}))};void 0===e?Object.values(TVE.Theme.$sections).forEach(t):t(TVE.Theme.$sections[e])}showIcons(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];TVE.Theme.FLAGS.doingResize?this.hideIcons(e):e&&!e.parentElement.classList.contains(n.hoverClass)&&(t&&n.clearHoverClass(),e.parentElement.classList.add(n.hoverClass))}hideIcons(e){e?e.parentElement.classList.remove(n.hoverClass):n.clearHoverClass()}static clearHoverClass(){TVE.inner.$body.find("."+n.hoverClass).removeClass(n.hoverClass)}}e.exports=n},9103:function(e,t,s){(t=>{const n=s(826),i=s(280);e.exports={"tcb.element.click":e=>{const t=TVE.inner_$(e.currentTarget);if(!t.is(TVE.identifier("sidebar-trigger"))){const e=TVE.Theme.utils.getSectionInstance(t);e&&e.isDynamic()&&!e.inEditMode()&&!e.$element.hasClass("section-no-overlay")&&new TVE.Theme.views.SectionOverlay({section:e})}},"tcb.edit_mode.exit":e=>{if(e.is(n.identifier+", "+i.identifier)){const t=TVE.Theme.utils.getSectionInstance(TVE.inner_$(e));t&&(t.update(),TVE.Editor_Page.focus_element(e))}},"tcb.wordfence.whitelist":(e,t)=>{const s=e.match(/sections\/(\d*)/);if(s&&2===s.length){const e=TVE.Theme.$wrapper.find(`.thrive-section-${s[1]}`);e.length&&TVE.Theme.utils.getSectionInstance(e).update(!0)}},tcb_after_cloud_template:(e,t)=>{"fancy-divider"===t&&e.hasClass("section-background")&&e.removeAttr("data-ct-name data-ct").attr("data-element-name",`${TVE.ucFirst(e.attr("data-section"))} Section`)},"theme.section.after_insert":(e,t)=>{t.$element.find(`.${TVE.Models.Widget.elementClass}`).each(((e,t)=>{new TVE.Models.Widget(TVE.inner_$(t)).maybeAddEmptyPlaceholder()})),t.$element.find(TVE.identifier("post_list")).each(((e,t)=>{const s=TVE.inner_$(t),n=s.attr("data-pagination-type");"numeric"!==n&&"load_more"!==n||TVE.PostList.content.renderPaginationForPostList(s),TVE.PostList.layout.applyLayout(s,!0);const i=_.uniq(s.find(TVE.identifier("article")).map(((e,t)=>parseInt(t.dataset.id)))).filter((e=>void 0===TVE.PostList.posts[e]));i.length&&TVE.PostList.utils.fetchPosts({get_initial_posts:!0,post_ids:i})})),t.$element.find(TVE.identifier("social_follow")).each(((e,t)=>{TVE.Components.social_follow.controls.SocialFollowPalettes.matchGlobal(TVE.inner_$(t))}))},"tcb.dragstart":e=>{TVE.FLAGS.dragFromSectionInstance=TVE.Theme.utils.getSectionInstance(e)},"tcb.image.change":e=>{const t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement);t&&t.$content.length&&TVE.ActiveElement.width()>t.$content.width()&&TVE.ActiveElement.head_css({width:"100%"})},"tcb.after-insert":e=>{const t=TVE.Theme.utils.getSectionInstance(e);if(!t||t.isDynamic()||!TVE.FLAGS.dragFromSectionInstance)return;const s=TVE.FLAGS.dragFromSectionInstance;if("sidebar"===t.type&&TVE.inner.window.ThriveTheme.sidebar.fixContentHeight(),s.selector!==t.selector){const i=TVE.stylesheet.cssRules,o=TVE.Theme.utils.escapedRegEx;for(let e=0;e<i.length;e++)if(i[e].type===CSSRule.MEDIA_RULE)for(let r=0;r<i[e].cssRules.length;r++){const a=i[e].cssRules[r];if(a.selectorText.includes(s.selector)){const c=a.selectorText.replace(TVE.Theme.utils.pseudoSelectorsRegex(),"").replace(o(TVE.Theme.CONST.body_class,"g"),"").replace(o(s.selector,"g"),"").replace(o(s.constructor.backgroundSelector,"g"),"").replace(o(s.constructor.contentSelector,"g"),"").replace(o(TVE.CONST.global_css_prefix,"g"),"").trim();if(c.length&&0===c.split(",").map((e=>e.trim())).filter((e=>n.typographySuffix.includes(e))).length&&t.$element.find(c).length){const n=a.cssText.replace(o(s.selector,"g"),t.baseSelector);i[e].deleteRule(r),i[e].insertRule(TVE.remove_extra_spaces(n),r)}}}e.is(TVE.identifier("post_list"))&&TVE.PostList.dynamicImage.regeneratePostListStyleNodes(e)}TVE.FLAGS.dragFromSectionInstance=null},"tcb.element.focus":e=>{const t=TVE.Theme.utils.getSectionInstance(e);t&&(t.constructor.is(e)||t.isContent(e)||t.isBackground(e))&&setTimeout((()=>t.toggleComponents()))}}})(jQuery)},8655:function(e,t,s){const n=s(2810),i=()=>TVE.inner.window.ThriveTheme.sidebar,o=s(1525);let r;e.exports=TVE.Views.Base.component.extend({after_init:function(){this.sectionSelect=new o({el:this.$(".section-select")})},before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section).setSectionComponent(this),this},mouseenter:function(){r=setTimeout((function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss()}),500)},mouseleave:function(){clearTimeout(r)},controls_init:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),o=_.throttle(TVE.PostList.layout.masonryRedo,500),r=this;t&&(e.Position.change=function(t,s){const n=s.value;TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,"left"===n),"sidebar"===r.section.type&&i().offScreenRefresh(!0),TVE.Editor_Page.reposition_icons(),setTimeout(TVE.inner.window.TCB_Front.resizePageSection,500),e.PageMap.update(t)},e.Position.update=function(){const e=TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?"left":"right";this.setValue(e),this.$el.toggleClass("tcb-disabled","sidebar"===r.section.type&&!r.section.isVisible())},e.MinWidth.input=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o(),i().isOffScreen()&&(parseInt(TVE.inner.document.body.style.getPropertyValue("--off-screen-sidebar-size"))<t.value?i()._get("off-screen").updateSidebarWidth(t.value):i()._get("off-screen").updateSidebarWidth())},e.MinWidth.change=function(e,t){this.applyElementCss({"min-width":t.value+this.getUM()}),o()},e.MinWidth.update=function(e){const t=parseInt(e.css("min-width"));this.setValue(isNaN(t)?0:t),this.$el.toggleClass("tcb-disabled","content"===r.section.type&&i().isOffScreen()||"sidebar"===r.section.type&&!r.section.isVisible()),this.originalConfig.max=TVE.Theme.$main.width()}),e.Visibility.change=function(e,t){r.section.toggle(t.checked),TVE.ElementEditIcons.hide_icons()},e.Visibility.update=function(){this.setChecked(r.section.isVisible())},e.StretchBackground.input=function(t,s){const n=s.checked;r.section.setWidth(n?"100%":"","background",!0);const i=r.section.$background.css("width");if(!n&&parseInt(r.section.$content.css("width"))>parseInt(i)){let e="";r.section.inheritsContent()||(e=i),r.section.setWidth(e,"content",!0)}"top"!==r.section.type&&"bottom"!==r.section.type||TVE.Theme.utils.toggleSectionFullWidth(t,n),e.PageMap.update(t),e.ContentWidth.update(),e.StretchContent.update()},e.StretchBackground.update=function(){this.setChecked(r.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!r.section.isVisible())},e.ContentWidth.input=function(e,t){r.section.setWidth(t.value+this.getUM(),"content",!1),s(),o()},e.ContentWidth.change=function(e,t){r.section.setWidth(t.value+this.getUM(),"content",!0)},e.ContentWidth.update=function(){const e=r.section.$content.css("width"),t=parseInt(r.section.$background.css("width"));this.$el.toggleClass("tcb-disabled",r.section.hasFullWidthContent()||!r.section.isVisible()),this.originalConfig.max=t,this.setValue(e)},e.StretchContent.input=function(t,n){r.section.setWidth(n.checked?"100%":"","content",!0),s(),o(),e.ContentWidth.update()},e.StretchContent.update=function(){this.setChecked(r.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!r.section.isVisible()||!r.section.hasFullWidthBackground())},e.InheritContentSize.input=function(t,i){const a=i.checked;r.section.setWidth(a?"":n.getWidth("content"),"content",!0),a||(e.ContentWidth.update(),e.StretchContent.update()),e.ContentWidth.$el.toggle(!a),e.StretchContent.$el.toggle(!a),s(),o()},e.InheritContentSize.update=function(){this.setChecked(r.section.inheritsContent()),this.$el.toggleClass("tcb-disabled",!r.section.isVisible())},e.SectionHeight.input=function(e,t){this.applyElementCss({"min-height":`${t.value}${this.getUM()}!important`})},e.SectionHeight.update=function(e){const t=parseInt(e.css("min-height"));this.setValue(t||0),this.$el.toggleClass("tcb-disabled",!r.section.isVisible()||"sidebar"===r.section.type&&i().isOffScreen())},e.VerticalPosition.change=function(e,t){const s={"justify-content":t.dataset.value,display:"block","flex-direction":""};""!==t.dataset.value&&(s.display="flex",s["flex-direction"]="column"),this.applyElementCss(s)},e.VerticalPosition.update=function(e){this.setActive(e.css("justify-content")),this.$el.toggleClass("tcb-disabled",!r.section.isVisible())}},after_update(){const e=!this.section.isDynamic(),t=this.section.inEditMode(),s="sidebar"===this.section.type||"content"===this.section.type;this.controls.PageMap.$el.toggle(!t),this.controls.LayoutVisibility.$el.toggle(!t),this.controls.Position.$el.toggle("sidebar"===this.section.type),this.controls.MinWidth.$el.toggle(s&&(t||e)),this.controls.InheritContentSize.$el.toggle(!s&&!t),this.controls.ContentWidth.$el.toggle(!s&&!t&&!this.section.inheritsContent()),this.controls.StretchContent.$el.toggle(!t&&!s&&(this.section.hasFullWidthBackground()||n.isFullWidth())&&!this.section.inheritsContent()),this.controls.StretchBackground.$el.toggle(!s&&!t),this.controls.Visibility.$el.toggle(!s&&!t||"sidebar"===this.section.type),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})},8179:function(e){const t=[".search-submit .thrv_icon",".search-submit .tcb-button-text.thrv-inline-text"];e.exports={identifiers:{EDITOR_CLASS:"ttb-editor-page",FLIP_SECTIONS_CLASS:"flip-sections",HIDE_SECTION_CLASS:"hide-section",MAIN_COLUMNS_SEPARATOR:".main-columns-separator"},templates:{error404:"error404",ARCHIVE:"archive",ARCHIVE_BASE:"archive-base",BLOG:"blog",PAGE:"page",POST:"post",SEARCH:"search",AUTHOR:"author",SINGULAR:"singular",HOME:"home",PRODUCT:"product",CART:"cart",CHECKOUT:"checkout",ACCOUNT:"account"},theme_button:{layout:"button_layout"},blog_list:{no_results:{type:"no_results",selector:".main-no-results",affected_selectors:".tcb-post-list#main,.tcb-pagination,.tcb-featured-list"},states:[{value:"blog_list",label:"Search results found"},{value:"no_results",label:"No results found"}]},comments:{states:[{value:"logged",label:"Logged In User View"},{value:"visitor",label:"Visitor View"},{value:"closed",label:"Comments are Closed"}],hiddenElements:["thrive_author_box","thrive_author_links","thrive_breadcrumbs","thrive_calendar_widget","thrive_widget_area","thrive_comments","thrive_dynamic_list","post_author_picture","post_content","post_thumbnail","contentblock","symbol","post_list","ct_symbol","tl_shortcode","quiz","ultimatum_countdown","ovation_capture","ovation_display","tcb_post_author_bio","thrive_author_follow","tcb_post_author_name","tcb_post_author_picture","tcb_post_categories","tcb_post_content","tcb_post_published_date","tcb_post_comments_number","tcb_post_tags","tcb_post_featured_image","tcb_post_title","tcb_post_read_more","thrive_post_meta"]},search_dynamic_selectors:t,text_dynamic_selectors:[".comment-form-reply-title",".comment-form-comment-notes"],dynamic_selectors:[...t,".comment-form-submit .thrv_icon",".comment-form-submit .tcb-button-text.thrv-inline-text",".comment-reply-link .thrv_icon",".comment-reply-link .tcb-button-text.thrv-inline-text"],dynamicVideo:{placeholderTemplate:"theme-main/video-overlay-placeholder",RESPONSIVE_VIDEO_CONTAINER:".tve_responsive_video_container",THUMBNAIL_UPLOAD_BUTTON_CLASS:".tve-video-thumbnail-control",THUMBNAIL:{STATIC:"static",DYNAMIC:"dynamic",NONE:"none"}},taxonomyShortcodes:["thrive_archive_name","thrive_archive_description","thrive_archive_parent_name"],DEFAULT_EXCERPT_WORDS:55,DEFAULT_READ_MORE:"...",content_switch:{blog_index_text:"Blog Index"},COMMENT_SUBMIT_TYPE:"thrive_comments_form_submit",COMMENT_REPLY_TYPE:"thrive_comment_reply_button",SIDEBAR_CROPPED_HEIGHT:600,SIDEBAR_MAXIMUM_PREVIEW_WIDTH:298,HORIZONTAL_LAYOUT_WIDTH:700,HORIZONTAL_LAYOUT_PADDING:60,VERTICAL_LAYOUT_WIDTH:350,VERTICAL_LAYOUT_PADDING:52,defaultPreviewOptions:{imageTypeCallback:"toJpeg",quality:1,fixWindowWidth:!1,bgcolor:"white",style:{top:0,left:0,right:0,bottom:0}},PREVIEW_SECTION_WRAPPER_CLASS:"preview-section-cloned-content",PREVIEW_TEMPLATE_WRAPPER_CLASS:"preview-template-cloned-content",THEME_SKIN_COLOR_VARIABLE_PREFIX:"--tcb-skin-color-",THEME_CONTEXT:"ttb",ARCHITECT_CONTEXT:"tar",WOO_ELEMENTS:["shop","product","cart","checkout","account"],NORMAL_OVERLAY_MIN_HEIGHT:106,SMALL_OVERLAY_MIN_HEIGHT:52,SMALL_OVERLAY_MIN_WIDTH:236}},2516:function(e,t,s){function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(t=>{const n=s(4219),o=s(826),r=s(9420),a={},c={};["top","content","sidebar","bottom"].forEach((e=>a[e]=`${o.identifier}.${e}-section ${o.contentSelector}`)),["header","footer"].forEach((e=>c[e]=`${e}.thrv_symbol ${r.contentSelector}`)),e.exports={save:function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s||TVE.main.overlay();const o=new n(TVE.Theme.$wrapper);TVE.do_action("theme.update_template.before");let r=JSON.stringify(TVE.apply_filters("theme.update_template.data",o.data()));"function"==typeof TVE.prepareWordfencePostContent&&(r=TVE.prepareWordfencePostContent(r));const a=t.ajax({url:`${TVE.CONST.theme.routes.templates}/${TVE.CONST.post.ID}`,type:"POST",data:{action:"update_template",template:r,"conditional-display-groups":TVE.Models.ConditionalDisplayManager.prepareGroupsForSave()},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((t=>{s||TVE.page_message(`Template <b>${TVE.CONST.post.post_title}</b> saved successfully!`,!1,5e3),window.onbeforeunload=null,"function"==typeof e&&e(t)})).fail((e=>{TVE.wordfenceResponse(e)||TVE.page_message("Template was not saved",!0,5e3)})).always((()=>{TVE.main.overlay("close"),TVE.Editor_Page.disableSaveWarning(),TVE.Editor_Page.enableSaveWarning(),TVE.do_action("theme.update_template.after",s,i)}));return i&&setTimeout(this.previewSavedTemplate,10),a},init_selectors:e=>{void 0===e&&(e=TVE.Theme.$wrapper),_.each(TVE.Theme.selectors.shortcodes,((s,n)=>{e.find(n).addBack(n).each(((e,i)=>{const o=t(i),r=o.closest(TVE.identifier("post_list"));r.length?TVE.PostList.content.initShortcode(r,n,s):(0===o.parents(".thrv_text_element, .thrv_heading").length&&(i.classList.add(TVE.PostList.constants.TCB_SHORTCODE_CLASS,"thrive-shortcode","thrv_wrapper"),i.setAttribute("data-shortcode",s),TVE.Elements[s]&&TVE.Elements[s].has_selector&&i.setAttribute("data-selector",n)),TVE.Theme.template&&TVE.Theme.template.isSingular()&&TVE.Theme.CONST&&0===o.find(".theme-empty-post-content-placeholder").length&&TVE.PostList.content.replaceShortcodeWithData(s,o,TVE.Theme.CONST.ID))}))})),""===TVE.CONST.symbol_type&&TVE.CONST.theme.is_theme_template&&[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach((e=>{const t=TVE.Theme.models.HFSection.getInstance(e);e.addClass(["tcb-shortcode","thrive-shortcode","tve_no_icons"].join(" ")).attr({draggable:!1,"data-tcb-elem-type":t.type,"data-element-name":TVE.ucFirst(t.type)}),t.updateAttr()})),TVE.Components.menu.setDataSelectors(),_.each(TVE.Theme.selectors.editor.have_selector,(t=>{e.find(t).addBack(t).addClass("thrv_wrapper").attr("data-selector",t)})),_.each(TVE.Theme.constants.text_dynamic_selectors,(t=>{e.find(t).attr("data-selector",t)})),TVE.Theme.$wrapper&&TVE.Theme.$wrapper.attr("data-selector","#wrapper"),TVE.Theme.selectors.editor.no_drag.forEach((t=>e.find(t).addBack(t).removeClass("tve-droppable"))),TVE.do_action("theme.selectors.init",e)},getSectionDropzoneTarget:e=>{if(!TVE.CONST.theme.is_theme_template||void 0!==TVE.FLAGS.$dragged_element)return e;let t;const s=TVE.main.EditMode.element();if(s&&s.length?(TVE.Theme.models.Section.is(s)||TVE.Theme.models.HFSection.is(s))&&(t=s):t=TVE.Theme.utils.getDropTargetSection(),t&&t.length){const s=TVE.Theme.utils.getSectionInstance(t),n=s.$content.children();n.length?e=n.last():(e=TVE.inner_$("<div></div>").appendTo(s.$content),setTimeout((()=>{e.remove()}),100))}return e},previewSavedTemplate:function(){arguments.length>0&&void 0!==arguments[0]||TVE.inner.$body;let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TVE.CONST.post.ID;const s=TVE.Theme.content.getTemplateContentToPreview(),n=i(i({},TVE.Theme.constants.defaultPreviewOptions),{quality:.1});TVE.generateElementPreview(s,(t=>{s.parent(`.${TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS}`).remove();const n={url:`${TVE.CONST.theme.routes.templates}/${e}/preview`,action:"template_preview",image:t,ID:TVE.CONST.post.ID};TVE.Theme.utils.savePreviewImage(n)}),t.extend(!0,{},n),!0)},getTemplateContentToPreview:function(){const e=TVE.inner.$body,t=e.clone(),s=this.getTemplatePreviewHeight(),n=TVE.Theme.utils.filterContentByHeight;let i=s;TVE.Theme.utils.fixClonedImageHeights(t,e),TVE.Theme.utils.filterContentToPreview(t),t.find(".section-overlay-actions").remove(),t.children(":not(#wrapper):not(style)").remove().end(),t.wrap(`<div class="${TVE.Theme.constants.PREVIEW_TEMPLATE_WRAPPER_CLASS}">`).parent().css({position:"absolute",top:"-100000px",left:0,right:0,"margin-left":"auto","margin-right":"auto"}).insertAfter(e),i=n(t.find(`${c.header}, ${a.top}`),i);let o=i,r=i;return o=n(t.find(`${a.content}`),o),1===parseInt(TVE.Theme.$main.attr("data-wrap"))&&(r=o),r=n(t.find(`${a.sidebar}`),r),i=Math.min(o,r),i=n(t.find(`${a.bottom}`),i),i=n(t.find(`${a.footer}`),i),i>0&&t.height(e.width()),e.hasClass("theme-has-off-screen-sidebar")&&t.find(`${a.sidebar}`).parent().attr("style",`display:block;height: ${s}px;`),t},getTemplatePreviewHeight:function(){return TVE.inner.$body.width()},renderers:()=>{const e={thrive_taxonomy_term_description:{render_default:()=>TVE.Theme.CONST.archive_description},thrive_breadcrumbs:{render_default:()=>{const e=TVE.inner_$(`<div>${TVE.inner_$("#tve-theme-thrive_breadcrumbs").html()}</div>`);return Object.keys(TVE.CONST.theme.breadcrumbs_labels).filter((e=>TVE.Components.thrive_breadcrumbs.controls[`${e}Label`])).forEach((t=>{TVE.Components.thrive_breadcrumbs.controls[`${t}Label`].onInput(e,{value:TVE.CONST.theme.breadcrumbs_labels[t]})})),e.html()}}};return["thrive_comments","product-template","shop-template","account-template","cart-template","checkout-template"].forEach((t=>{e[t]={render_default:()=>{let e=TVE.inner_$(`#tve-theme-${t}`).html();return e=e.replace(/tve-script/g,"script"),e}}})),e},updateResizeHandlersPosition:_.debounce((function(e){void 0===e&&(e=TVE.Theme.$wrapper.find(TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR).width()),(e=parseInt(e))&&(TVE.Theme.$sections.sidebar.find(".ui-resizable-w").css("left",-(e/2+3)+"px"),TVE.Theme.$sections.sidebar.find(".ui-resizable-e").css("right",-(e/2+3)+"px"))}),100)}})(jQuery)},1525:function(e){e.exports=TVE.Views.Base.control.extend({template:TVE.tpl("theme-main/controls/section-select"),update:function(){this.section.inEditMode()||!this.section.isVisible()?this.$el.hide():this.section.generatingPreview()||this.$el.show().html(TVE.$(this.template({section:this.section})))},setSection:function(e){return this.section=e,this},setSectionComponent:function(e){return this.sectionComponent=e,this},change:function(){},unlinkSection:function(){this.section.unlink(),this.update(this.section)},enterEditMode:function(){if(this.section instanceof TVE.Theme.models.Section)TVE.main.EditMode.enter(!1,{can_insert_elements:!0,show_default_message:!0,show_overlay:!0}),this.sectionComponent.after_update(),this.section.toggleComponents();else{const e=this.section.type;"function"==typeof TVE.Components[e].editSection&&TVE.Components[e].editSection(),TVE.Components["theme-hf"].before_update().after_update()}},getComponentColor:function(){return"LandingpageSection"===this.el.closest(".tve-component").getAttribute("data-view")?"green":"blue"},showPreviewLoader:function(){this.$(".section-preview").addClass("ttd-loading medium-small"),this.$('[data-fn="replaceSection"]').prop("disabled",!0)},openSaveModal:function(){TVE.Theme.modals.sectionSave.open({section:this.section})},openSectionsModal:function(){TVE.Components.theme_section&&TVE.Components.theme_section.tooltip.$el.hasClass("tcb-visible")&&TVE.Components.theme_section.tooltip.dismiss();const e=this.section.constructor.fetchListFromCloud(this.section.type).fail(console.warn);TVE.Theme.modals.sectionTemplates.open({section:this.section,sectionsLoaded:e})}})},7435:function(e,t,s){const n=s(826),i=s(4776)(TVE.inner_$),o=s(280);var r;r=jQuery,e.exports={"tcb.selection.element":(e,t)=>{if((TVE.CONST.landing_page||TVE.CONST.theme.is_theme_template)&&!e.is(TVE.identifier("sidebar-trigger"))){const t=TVE.Theme.utils.getSectionInstance(e);t&&t.isDynamic()&&!t.inEditMode()&&(e=t.$element)}return e},"tcb.show_icons.target":e=>(e.is(n.identifier+", "+o.identifier)?e=e.addClass("edit_mode").find(" > div ").removeClass("edit_mode").filter(".section-background"):e.hasClass("section-content")?e=e.removeClass("on_hover active_highlight ").siblings(".section-background").addClass("on_hover active_highlight "):e.hasClass("main-content-background")&&e.hasClass("edit_mode")?e.removeClass("edit_mode").parents("#content").addClass("edit_mode"):"content"===e.attr("id")&&(e=e.addClass("edit_mode").find(".main-content-background").removeClass("edit_mode")),e),"tcb.jumplinks.change_target":e=>(e.is(`${n.backgroundSelector}, ${n.contentSelector}`)&&(e=e.parent()),e),"tcb.dragenter.bubble":(e,t)=>{const s=r(t.target),n=TVE.Theme.utils.getSectionInstance(s);return n&&(n.constructor.is(s)||n.isContent(s)||n.isBackground(s))&&(n.$content.children(`:not(${i.closeIconSelector})`).length||n.isDynamic()&&!n.inEditMode())&&(e=!1),(TVE.Theme.models.HFSection.is(s)||TVE.Theme.models.HFSection.is(s.parent()))&&(e=!1),e},"tcb.allow_drop_near":(e,t)=>(t.hasClass("section-content")&&(e=!1),e),"tcb.post_list.add_linked_elements":(e,t)=>(t.is(TVE.Theme.models.Section.contentSelector)&&(e=!1),e),"tve.css_variable.selector|20":(e,t)=>{const s=TVE.Theme.utils.getSectionInstance(t);return s&&t.closest(s.$element).length&&!e.includes(s.selector)&&(e=s.ID?`${s.selector} ${e}`:`${TVE.Theme.CONST.body_class} ${s.baseSelector} ${e}`),e}}},2193:function(e){var t;t=jQuery,e.exports=TVE.modal.base.extend({after_initialize:function(){this.$sectionName=this.$(".new-section-name"),this.$sectionType=this.$(".new-section-type"),t(this.el).addClass("modal-w-sidebar"),this.$imageContainer=this.$(".section-preview-image"),this.$image=this.$imageContainer.find("img")},before_open:function(e){this.section=e.section;const t=TVE.ucFirst(this.section.type);this.$section=this.section.$element,this.$sectionName.val(`Custom ${TVE.ucFirst(this.section.type)} Section`).trigger("focus"),this.$sectionType.html(t),this.$el.toggleClass("vertical-sections",this.section.isVertical()),this.beforeImageLoad()},after_open:function(){setTimeout((()=>{const e=this.section.getContentToPreview();TVE.generateElementPreview(e,(t=>{e.parent(`.${TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS}`).remove(),this.afterImageLoad(t)}),TVE.Theme.constants.defaultPreviewOptions,!0)}),10)},beforeImageLoad:function(){const e=this.$section.outerWidth(!0);let t,s;this.section.isHorizontal()?(t=TVE.Theme.constants.HORIZONTAL_LAYOUT_WIDTH-TVE.Theme.constants.HORIZONTAL_LAYOUT_PADDING,s=this.$section.outerHeight(!0)*t/e):(t=TVE.Theme.constants.VERTICAL_LAYOUT_WIDTH-TVE.Theme.constants.VERTICAL_LAYOUT_PADDING,s=TVE.Theme.constants.SIDEBAR_CROPPED_HEIGHT),this.$imageContainer.addClass("ttd-loading-spinner").css({height:s+"px",width:t+"px"}),this.$image.attr("src",this.$image.attr("data-loading-src"))},afterImageLoad:function(e){this.$imageContainer.removeClass("ttd-loading-spinner").css({height:"",width:""}),this.$image.attr("src",e),this.section.previewImage=e},save:function(){if(!this.duringAjax){const e=this.$sectionName.val();e?(this.duringAjax=!0,this.section.save(e,(e=>{this.close()})).always((()=>{this.duringAjax=!1}))):TVE.page_message("Please enter the section title!",!0,3e3)}}})},1351:function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function s(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var i;i=jQuery,TVE.BlockModal&&(e.exports=TVE.BlockModal.extend({blocksCollection:new Backbone.Collection({}),item_template:TVE.tpl("theme-main/template-item"),itemClass:".section-template-item ",filters:{category:[],group:[],search:[]},groupMap:{},tooltipOpen:!1,renameInProgress:!1,after_initialize:function(){this.$content=this.$el,this.$content.addClass("modal-w-sidebar"),this.$cloudMenu=this.$("#cb-cloud-menu"),this.$packTitle=this.$("#lp-blk-pack-title"),this.$packDescription=this.$("#lp-blk-pack-description"),this.$packContent=this.$("#cb-pack-content"),this.$packGroupsWrapper=this.$("#lp-groups-wrapper"),this.$error=this.$(".error-container").hide(),window.addEventListener("resize",(()=>{this.windowResized=!0})),this.initClickHandler()},before_open:function(e){this.resetFilters(),this.section=e.section,this.$el.attr("data-columns",this.section.isHorizontal()?2:4),this.$packContent.empty(),this.$section=e.section.$element,this.displayName=TVE.ucFirst(this.section.type),this.groupMap={cloud:{key:`Theme ${this.displayName} Sections`},local:{key:`My Saved ${this.displayName} Sections`}},this.$packTitle.text(`${this.displayName} Sections`),this.$packDescription.text(`${this.displayName} Sections available for the current theme.`),this.$el.addClass("loading"),this.$(".tve-modal-content").attr("class",`tve-modal-content tpl-${this.section.type}`),this.currentSectionTemplate=this.section.ID,TVE.do_action("theme.sections_modal.before_open",this)},initClickHandler:function(){this.$el.on("click",(e=>{const t=i(e.target);this.tooltipOpen&&0===t.closest(".tcb-template-options-tooltip, .ttd-dropdown-dots").length?this.closeOptionsTooltip():this.renameInProgress&&0===t.closest(".template-name-section-edit, .tcb-template-options-tooltip").length&&this.triggerRename()}))},triggerRename(){const e=this.$packContent.find(".section-template-edit");e.length>0&&e.find(".template-name-check").click()},handle_keyup:function(e){if(this.renameInProgress)switch(e.which){case 13:this.triggerRename();break;case 27:this.closeRename()}return!1},after_open:function(e){i.when(e.sectionsLoaded).always((()=>setTimeout((()=>this.$el.removeClass("loading")),80))).then((()=>{this.setSections(),this.activateFirstTab(),TVE.BlockModal.prototype.after_open.call(this)}))},setSections:function(){let e=[...this.addSourceToTemplates(TVE.Theme.data.cloud[this.section.type],"cloud"),...this.addSourceToTemplates(TVE.Theme.data.local[this.section.type],"local")];e=TVE.apply_filters("theme.sections_modal.available_sections",e,this.section.type),e=this.addThumbnailRatios(e),this.blocksCollection.reset(e),this.groups={[this.groupMap.cloud.key]:{counter:_.filter(e,(e=>"cloud"===e.source)).length},[this.groupMap.local.key]:{counter:_.filter(e,(e=>"local"===e.source)).length}},this.$packGroupsWrapper.empty(),_.each(this.groups,((e,t)=>{this.$packGroupsWrapper.append(this.group_item({group:t,counter:e.counter}))}))},getCurrentSectionTemplate:function(){return this.currentSectionTemplate},activateFirstTab:function(){this.filters.group.push(this.groupMap.cloud.key),this.$packGroupsWrapper.find(".lp-group").first().addClass("active")},load:function(e,t){this.close();const s=t.dataset.id.replace(t.dataset.source[0],"");this.section.load(s,t.dataset.source,t.dataset.version)},openRename:function(e){const t=i(e.target).closest(this.itemClass);t.addClass("section-template-edit").find(".template-rename-input").focus().select(),this.closeOptionsTooltip(),this.renameInProgress=t.attr("data-id")},closeRename:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.$(this.itemClass.trim()+`[data-id="${this.renameInProgress}"]`),s=t.find(".template-rename-input"),n=t.find(".template-name");t.removeClass("section-template-edit").find(".template-name-check").removeClass("ttd-loading small"),e?s.val(n.text()):n.text(s.val())},renameSection:function(e){const t=i(e.target).closest(".template-name-check"),s=t.closest(this.itemClass),n=t.prev(".template-rename-input").val();t.addClass("ttd-loading small"),n?this.duringAjax||(this.duringAjax=!0,TVE.$.ajax({url:`${TVE.CONST.theme.routes.sections}/${s.attr("data-id").substring(1)}`,type:"POST",data:{title:n},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((e=>{TVE.Theme.utils.loadingMessage("Section renamed successfully!"),setTimeout((()=>TVE.Theme.utils.loadingMessage(!1)),1e3),this.closeRename(!1);const t=_.findWhere(TVE.Theme.data.local[this.section.type],{id:parseInt(e)});t&&(t.name=n),TVE.Components.theme_section.sectionSelect.section||TVE.Components.theme_section.sectionSelect.setSection(TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)),TVE.Components.theme_section.sectionSelect.update()})).always((()=>{this.duringAjax=!1,this.renameInProgress=!1}))):TVE.page_message("Please enter a section title!",!0,3e3)},openDelete:function(e){i(e.target).closest(this.itemClass).addClass("section-template-delete").find(".cb-template-wrapper").removeClass("click"),this.closeOptionsTooltip()},hideDelete:function(e){i(e.target).closest(this.itemClass).removeClass("section-template-delete")},delete:function(e){const t=e.target,s=parseInt(t.dataset.id.substring(1));s&&!this.duringAjax&&(this.duringAjax=!0,this.section.delete(s).done((e=>{this.blocksCollection.remove(this.blocksCollection.get(s)),i(t).closest(this.itemClass).remove();const n=this.$packGroupsWrapper.find(".active .lp-group-count"),o=parseInt(n.text())-1;n.text(o),o>0?this.applyMasonry():this.$packContent.html(this.no_templates())})).always((()=>{this.duringAjax=!1})))},openOptionsTooltip:function(e){i(e.target).closest(".template-name-section").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$packContent.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},addSourceToTemplates:function(e,t){return _.map(_.sortBy(e,(e=>e.order)),(e=>s(s({},e),{},{id:`${t[0]}${e.id}`,source:t,group:[this.groupMap[t].key],name:e.name||e.post_title})))},addThumbnailRatios:function(e){return e.map((e=>{let t=1;if(e.thumb&&e.thumb.w&&e.thumb.h){const s=parseInt(e.thumb.w),n=parseInt(e.thumb.h);t=parseFloat(n/s).toFixed(3)}return e.ratio=t,e}))},no_templates:function(){return TVE.tpl("theme-main/no-sections-available")({modal:this})},renderFirstTab:function(){this.resetFilters(),this.activateFirstTab(),this.build_preview()},getMasonryOptions:function(){return{gutter:".tpl-gutter-sizer",columnWidth:this.itemClass,isAnimated:!0}}}))},9051:function(e,t,s){e.exports={Content:s(4219),Layout:s(2810),Section:s(826),HFSection:s(9420),Template:s(4304)}},3626:function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function s(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.exports=class{static get identifier(){return""}static get component(){throw Error("Class should implement component function")}get selector(){return""}get baseSelector(){return""}static get contentSelector(){return""}static get backgroundSelector(){return""}isHorizontal(){throw Error("Class should implement the isHorizontal function")}isVertical(){throw Error("Class should implement the isVertical function")}constructor(e){this.$element=e,this.ID=parseInt(this.attr("data-id")||0),this.type=this.attr("data-section")||TVE._type(e),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(this.sectionData=TVE.Theme.data.local[this.type][this.ID]),this.setElements()}setElements(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(this.constructor.backgroundSelector)}updateAttr(){this.$element.attr("data-selector",this.selector),this.isDynamic()?(this.$content.attr("data-selector",`${this.constructor.contentSelector}`),this.$background.attr("data-selector",`${this.constructor.backgroundSelector}`)):(this.$content.attr("data-selector",`${this.baseSelector} ${this.constructor.contentSelector}`),this.$background.attr("data-selector",`${this.baseSelector} ${this.constructor.backgroundSelector}`))}beforeUnlink(){"function"==typeof TVE.Components.lead_generation.removeSettingsId&&TVE.Components.lead_generation.removeSettingsId(this.$element)}afterUnlink(){TVE.do_action("theme.section.after_unlink",this)}isDynamic(){return!!this.ID}isVisible(){return!this.$element.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)}toggle(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$element.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,!e),"sidebar"===this.type){const t=TVE.inner.window.ThriveTheme.sidebar;t.isOffScreen()&&(e?t.offScreenRefresh():t._get("off-screen").destroy()),TVE.Theme.content.updateResizeHandlersPosition(),TVE.inner.window.TCB_Front.resizePageSection(),TVE.PostList.layout.masonryRedo()}this.constructor.component.controls.PageMap.update(this.$element),this.constructor.is(TVE.ActiveElement)&&this.constructor.component.update(TVE.ActiveElement)}isContent(e){return e.is(this.$content)}isBackground(e){return e.is(this.$background)}inEditMode(){return this.$element.hasClass("tcb-compact-edit-mode")}inheritsContent(){return 0===TVE.Theme.$wrapper.tcbCss(`--${this.type}-content-width`).length}setWidth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=`--${this.type}-${t}-width`;s?(TVE.Theme.$wrapper.head_css({[n]:e}),TVE.Theme.$wrapper.tcbCss(n,"")):TVE.Theme.$wrapper.tcbCss(n,e)}getWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Theme.$wrapper.tcbCss(`--${this.type}-${e}-width`)}hasFullWidthContent(){return"100%"===this.getWidth("content")}hasFullWidthBackground(){return"100%"===this.getWidth("background")}startPreview(){this.$element.addClass("tcb-generating-preview"),this.constructor.component.sectionSelect.showPreviewLoader()}applyPreview(e){this.$element.removeClass("tcb-generating-preview section-no-overlay"),e.url=e.url+"?v="+Math.random().toString(16).slice(2),TVE.Theme.data.local[this.type]&&TVE.Theme.data.local[this.type][this.ID]&&(TVE.Theme.data.local[this.type][this.ID].thumb=e),this.sectionData&&this.sectionData.thumb&&(this.sectionData.thumb=e),this.constructor.component.sectionSelect.setSection(this).update()}generatingPreview(){return this.$element.hasClass("tcb-generating-preview")}attr(e){return this.$element.attr(e)}name(){let e=`Unlinked ${this.type}`;return e=this.sectionData?this.sectionData.name:this.attr("data-section-name")||e,e}preview(){let e="";return this.sectionData&&this.sectionData.thumb&&(e=this.sectionData.thumb.url),e}beforeSave(e){this.ID=parseInt(e),this.updateAttr(),this.convertCssToSection()}afterSave(){this.focus(),TVE.Theme.utils.loadingMessage(!1,"save-section"),this.constructor.saveTemplate(!0,!1)}beforeInsert(e){TVE.do_action("theme.section.before_insert",e,this),TVE.do_action(`theme.section.before_insert.${this.type}`,e,this);const t=(this.isDynamic()?"":TVE.Theme.CONST.body_class+" ")+this.selector;TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(t,"g"),"_ALL"),this.ID=parseInt(e.id),TVE.Theme.FLAGS.duringImport=!0}afterInsert(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action(`theme.section.after_insert.${this.type}`,e,this),TVE.do_action("tcb.new-editor-content",this.$element),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions(),TVE.inner.window.TCB_Front.$window.trigger("tve_after_content_toggle",[this.$element]),TVE.inner.window.TCB_Front.icons.migrate(this.$element)}convertCssToTemplate(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(let t=0;t<e.length;t++){const n=TVE.compat.conditionText(e[t]),i={};if(e[t].type===CSSRule.MEDIA_RULE&&n&&n.length){for(let n=0;n<e[t].cssRules.length;n++){let o=e[t].cssRules[n].selectorText;o.includes(this.selector)&&(o=o.replace(TVE.Theme.utils.escapedRegEx(`${this.selector}`,"g"),`${TVE.Theme.CONST.body_class} ${this.baseSelector}`),o=TVE.apply_filters("theme.convert_section_selector",o),void 0===i[o]&&(i[o]={}),i[o]=s(s({},i[o]),TVE.CSS_Rule_Cache.cssToObject(e[t].cssRules[n].cssText)),e[t].deleteRule(n--))}for(const e in i)TVE.head_css(e,i[e],n)}}}convertCssToSection(e){void 0===e&&(e=TVE.stylesheet.cssRules);for(let t=0;t<e.length;t++)if(e[t].type===CSSRule.MEDIA_RULE)for(let s=0;s<e[t].cssRules.length;s++){const n=e[t].cssRules[s];if(n.selectorText.includes(this.baseSelector)){const i=n.cssText.replace(TVE.Theme.utils.escapedRegEx(`${TVE.Theme.CONST.body_class} ${this.baseSelector}`,"g"),this.selector);e[t].deleteRule(s),e[t].insertRule(TVE.remove_extra_spaces(i),s)}}}getContentToPreview(){const e=this.$element.clone(),t=this.$element.width(),s=t*(this.isHorizontal()?1:2);let n=t;return TVE.Theme.utils.fixClonedImageHeights(e,this.$element),"sidebar"===this.type&&TVE.inner.window.ThriveTheme.sidebar.isOffScreen()&&n>=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH&&(n=TVE.Theme.constants.SIDEBAR_MAXIMUM_PREVIEW_WIDTH),"top"!==this.type&&"bottom"!==this.type||this.hasFullWidthBackground()||(n=this.$content.outerWidth()),e.attr("style",`display:block !important; position:absolute !important; width: ${n}px !important;`).wrap(`<div class="${TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS}"></div>`).parent().attr("style",`position: absolute !important; top: -100000px !important; width: ${t}px !important`).insertAfter(this.$element),e.removeClass("edit_mode layout-highlight"),e.children(".ui-resizable-handle").remove(),TVE.Theme.utils.filterContentToPreview(e),TVE.Theme.utils.filterContentByHeight(e.find(this.constructor.contentSelector),s),e}toggleComponents(){}focus(){TVE.Editor_Page.focus_element(this.$element.removeClass("edit_mode"))}static saveTemplate(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];arguments.length>0&&void 0!==arguments[0]&&arguments[0]||TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save((()=>{TVE.Theme.utils.loadingMessage(!1,"save-template")}),!0,e)}static is(e){return e.is(this.identifier)}static parentSection(e){return e&&e.closest(this.identifier)}static getInstance(e){let t=null;if(void 0===e&&(e=TVE.ActiveElement),(this.is(e)||(e=this.parentSection(e)).length)&&(t=new this(e)),null===t)throw Error("Those are not the sections you're looking for!");return t}static getTemplateId(){return 0}static fetchListFromCloud(e){const t=TVE.$.Deferred();return TVE.Theme.data.cloud[e]?setTimeout((()=>{t.resolve(TVE.Theme.data.cloud[e])}),1):TVE.$.ajax({url:`${TVE.CONST.theme.routes.sections}/cloud`,type:"GET",data:TVE.apply_filters("theme.sections.cloud_fetch_list_args",{type:e,template_id:this.getTemplateId()}),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((s=>{s.success?(TVE.Theme.data.cloud[e]=s.data,t.resolve(s.data)):t.reject("The sections could not be retrieved")})).fail((e=>{e.responseJSON&&t.reject(e.responseJSON.message)})),t.promise()}delete(e){return TVE.$.ajax({url:TVE.CONST.theme.routes.sections+"/"+e,type:"DELETE",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},data:{type:this.type}}).done((()=>{delete TVE.Theme.data.local[this.type][e],parseInt(this.ID)===parseInt(e)&&this.unlink(!0),TVE.StorageManager.set("theme_section.remove",{id:e,type:this.type}),TVE.Theme.utils.loadingMessage("Section deleted successfully!"),setTimeout((()=>TVE.Theme.utils.loadingMessage(!1)),1e3)})).fail((e=>{TVE.wordfenceResponse(e)||TVE.page_message("Error deleting the section!",!0,3e3)}))}unlink(){throw Error("Class should implement the unlink function")}bindElementActions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$element;TVE.drag.bind_element(e)}}},4219:function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function s(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i{constructor(e){this.$content=e}data(){const e=TVE.Theme.utils.getSpecificStyle((e=>!e.includes(TVE.identifier("symbol"))&&e.includes(TVE.Theme.CONST.body_class))),t=i.icons(this.$content),n=i.clean(this.$content);return i.elementClasses(n),TVE.apply_filters("theme.parse_content",n,"template"),s(s({icons:t,style:e,layout:i.getLayoutId(),layout_data:TVE.Theme.template.getLayoutDataToSave(),structure:this.structure(n),tve_globals:i.getGlobals()},i.extraData(this.$content)),{},{sections:this.saveSections(n)})}static clean(e){TVE.Components.pagination.cleanFroalaContent(e),e=TVE.inner_$(`<div>${TVE.Editor_Page.content_manager.get_clean_content({},e)}</div>`);const t=["edit_mode","on_hover","active_highlight","tve-droppable","tve-draggable","tcb_similar_edit","tcb-compact-edit-mode"],s=new RegExp([".top-",".bottom-",".sidebar","#content",".main-container","thrv_header","thrv_footer"].join("|"),"g");return["data-selector","draggable"].forEach((t=>e.find(`[${t}]`).each(((e,t)=>{s.test(t.dataset.selector)&&t.removeAttribute("data-selector")})))),e.find("."+t.join(",.")).removeClass(t.join(" ")),e.find(".thrv_widget").children(":not(.widget-config)").remove(),e.find(TVE.Theme.selectors.removeOnSave.join(",")).remove(),e}static shortcodes(e){(e=TVE.apply_filters("theme.save_shortcodes",e)).find(".thrive-shortcode").each(((e,t)=>{let s=t.dataset.shortcode;if(s){const e=TVE.Theme.utils.element_attributes(t,["data-shortcode","data-selector"],!0,!0),n=t.getAttribute("id");n&&(e.id=n),_.each(e,((e,t)=>{e=e.replace(/\'/g,"__SHORTCODE_SINGLE_QUOTE__"),s+=` ${t}='${e}'`})),TVE.inner_$(t).replaceWith(`[${s}]`)}})),e.find('[data-dynamic-link!=""][data-dynamic-link]:not(.tve-dynamic-link)').each(((e,t)=>{t.href=TVE.Theme.utils.applyBrackets(t.getAttribute("data-dynamic-link"))})),TVE.PostList.dynamicImage.saveDynamicImageSources(e),e.find(".wrapper-shortcode").each(((e,t)=>{const s=t.dataset.shortcode,n=t.dataset.css?` data-css=${t.dataset.css}`:"";s.length&&TVE.inner_$(t).replaceWith(`[${s}${n}]${t.innerHTML}[/${s}]`)}))}structure(e){return void 0===e&&(e=TVE.Theme.$wrapper.clone()),(e=i.clean(e)).find(`.main-content-background, ${TVE.Theme.constants.identifiers.MAIN_COLUMNS_SEPARATOR}`).remove(),e.find(`${TVE.Theme.models.Section.identifier}`).each(((e,t)=>{const s=TVE.inner_$(t),n=parseInt(t.dataset.id),i={type:s.attr("data-section")},o=["[thrive_template_section"];n&&o.push(`id="${n}"`),_.each(i,((e,t)=>{o.push(`${t}="${e}"`)})),o.push("]"),s.replaceWith(o.join(" "))})),e.find(TVE.identifier("main-container")).each(((e,t)=>{TVE.inner_$(t).replaceWith(`[thrive_main_container]${t.innerHTML}[/thrive_main_container]`)})),e.find("#content").each(((e,t)=>{TVE.inner_$(t).replaceWith(`[thrive_template_content]${t.innerHTML}[/thrive_template_content]`)})),e.html()}static elementClasses(e){e.find(".thrive-shortcode.tve_evt_manager_listen, .thrive-shortcode .tve_evt_manager_listen").each(((e,t)=>{t.setAttribute("data-class",TVE.PostList.utils.getEventClasses(t.className));const s=t.getAttribute("data-tcb-events");s&&t.setAttribute("data-tcb-events",s.replace(/\[/g,"|{|").replace(/\]/g,"|}|"))})),e.find(".tcb-desktop-hidden, .tcb-tablet-hidden, .tcb-mobile-hidden").each(((e,t)=>{const s=TVE.Theme.utils.getElementResponsiveClasses(t);let n=t.dataset.class?t.dataset.class:"";s.forEach((e=>{n.includes(e)||(n+=` ${e}`)})),t.setAttribute("data-class",n)})),e.find('[data-class*="-hidden"]').each(((e,t)=>{let s=t.dataset.class;const n=s.match(/(tcb-\w*-hidden)/g);n&&n.forEach((e=>{t.classList.contains(e)||(s=s.replace(e,""))})),t.setAttribute("data-class",s.trim())}))}saveSections(e){let t={};return e.find(TVE.Theme.models.Section.identifier).each(((e,n)=>{const i=TVE.inner_$(n),o=TVE.Theme.models.Section.getInstance(i),r=o.type;TVE.Theme.savedSection=r,o.isDynamic()?t[r]={id:o.ID}:t[r]=s({id:0,content:o.getContent()},o.getExtra()),t[r].hide=n.classList.contains("hide-section")?1:0})),[TVE.Theme.$sections.header,TVE.Theme.$sections.footer].forEach((e=>{const s=TVE.Theme.models.HFSection.getInstance(e),n={id:s.ID,hide:e.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0};TVE.Theme.savedSection=s.type,s.isDynamic()||(n.content=s.getContent(),n.sticky=s.$html.attr("data-tve-scroll")||""),t[s.type]=n})),delete TVE.Theme.savedSection,t}static extraData(e){const t={"sidebar-type":TVE.Theme.$sections.sidebar.attr("data-display-type")||"","sticky-sidebar":TVE.Theme.$sections.sidebar.attr("data-sticky")||"","off-screen-sidebar":TVE.Theme.$sections.sidebar.attr("data-off-screen")||""},s=e.find(TVE.Theme.constants.blog_list.no_results.selector);if(TVE.Theme.template.isSearch()&&s.length>0){const e=TVE.inner_$(`<div>${s[0].outerHTML.replace("tcb-permanently-hidden","")}</div>`);t.no_search_results=TVE.Editor_Page.content_manager.get_clean_content({},e)}return t}static getGlobals(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor;return{js_sdk:TVE.Editor_Page.content_manager.getUsedSDKs(e),fb_comment_admins:TVE.Editor_Page.content_manager.getFacebookCommentsModerators(e),progress_bar:i.getProgressBarPosition()}}static icons(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TVE.Theme.$wrapper;const t={};for(const s of TVE.Theme.selectors.icons)e.find(s+" svg.tcb-icon").each(((e,s)=>{t[void 0===s.dataset.id?s.dataset.name:s.dataset.id]=s.outerHTML}));return t}static parseContentString(e){return TVE.PostList.dynamicImage.replaceImageShortcodeSrc(e)}static getLayoutId(){const e=/thrive-layout-(\d*)/.exec(TVE.inner.$body.attr("class"));return e?parseInt(e.pop()):0}static getProgressBarPosition(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:TVE.Editor_Page.editor).find(".thrive-progress-bar"),t=e.attr("data-position");let s="";return e.length&&"undefined"!==t&&(s=t),s}}e.exports=i},9420:function(e,t,s){function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const o=s(3626);e.exports=class extends o{static get identifier(){return".thrv_header,.thrv_footer"}static get component(){return TVE.Components["theme-hf"]}get baseSelector(){return`.thrv_${this.type}`}get selector(){return this.ID?`.thrv_symbol_${this.ID}`:this.baseSelector}static get contentSelector(){return".symbol-section-in"}static get backgroundSelector(){return".symbol-section-out"}static getTemplateId(){return TVE.Theme.template.ID}setElements(){this.$content=this.$element.find(this.constructor.contentSelector),this.$html=this.$element.find(".thrive-symbol-shortcode:first"),this.$style=this.$element.find(".tve-symbol-custom-style"),this.$background=this.$element.find(".symbol-section-out")}isHorizontal(){return!0}isVertical(){return!1}save(e,t){return TVE.ajax("save_symbol","post",{symbol_title:e,tcb_symbols_tax:this.getSectionTermId()}).done((s=>{this.beforeSave(s.data.id),this.update((()=>{this.afterSave()})),void 0===TVE.Theme.data.local[this.type]&&(TVE.Theme.data.local[this.type]={}),TVE.Theme.data.local[this.type][this.ID]=this.sectionData={id:this.ID,name:e,type:this.type,thumb:{url:s.data.thumb_url,w:2,h:1}},"function"==typeof t&&t(s)})).fail(console.warn)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({id:this.ID,symbol_content:this.getContent(),symbol_css:this.getStyle()},TVE.Lightspeed.getLightspeedData({$content:this.$element}));t=TVE.apply_filters("tcb.symbol.before_save",t),TVE.ajax("save_symbol","post",t).done((s=>{TVE.Theme.data.local[this.type][this.ID].content=t.symbol_content,TVE.Theme.data.local[this.type][this.ID].style=t.symbol_css,TVE.Components.symbol.content_preview.savePreview(this.$element,{post_id:s.data.symbol.ID,file_name:s.data.symbol.ID+".png"}),"function"==typeof e&&e(s)})).fail(console.warn)}unlink(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr();let t="";this.$style&&this.$style.length&&(t=this.$style.html()),TVE.Editor_Page.content_manager.insert_head_css(this.convertStyle(t)).done((()=>{this.focus(),this.constructor.saveTemplate(e,!1),this.bindElementActions(),this.afterUnlink()}))}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";this.$element.addClass("element-loading");const s={id:e,type:this.type},n="local"===t?"get_symbol":"cloud_content_template_download";TVE.ajax(n,"get",s).done((s=>{const n=s.data;"local"===t?(n.id=e,n.style=s.data.css):(n.id=0,n.style=this.convertStyle(s.data.head_css)),this.insert(n)})).fail(console.warn)}insert(e){this.beforeInsert(e),this.$html.html(e.content),TVE.Editor_Page.content_manager.insert_head_css(e.style).done((()=>{this.$element.removeClass("element-loading"),this.afterInsert(e)})),this.setElements(),this.updateAttr()}beforeInsert(e){super.beforeInsert(e),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(this.baseSelector,"g"),"_ALL"),e.content=TVE.inner_$(e.content),e.content.filter(".symbol-section-out[data-css], .symbol-section-in[data-css]").each(((t,s)=>{const n=TVE.escapedRegEx(`[data-css="${s.dataset.css}"]`,"g");e.style=e.style.replace(n,"."+TVE.getClassThatContains(s,"symbol-section-")),delete s.dataset.css}))}afterInsert(e){super.afterInsert(e),this.$element.find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile")}convertStyle(e){const t="__TEMP_SELECTOR__";return(e=(e=(e=e.replace(/\.thrv_symbol_\|TEMPLATE_ID\|*/g,t)).replace(/\.thrv_symbol_\d*/g,t)).replace(/\.thrv_symbol\.thrv_\S*/g,t)).replace(new RegExp(t,"g"),`${TVE.Theme.CONST.body_class} ${this.baseSelector}`)}updateAttr(){this.$element.attr("data-selector",this.selector);const e=this.$element.attr("class").replace(/thrv_symbol_\d*/,"");if(this.$element.attr("class",e),this.isDynamic())this.$element.addClass(this.selector.replace(".","")).attr("data-id",this.ID),this.$html.attr("data-symbol-id",this.ID),this.$content.attr("data-selector",`${this.constructor.contentSelector}`),this.$background.attr("data-selector",`${this.constructor.backgroundSelector}`);else{const e="header"===this.type?".tve-default-state":"";this.$content.attr("data-selector",`${this.baseSelector}${e} ${this.constructor.contentSelector}${e}`),this.$background.attr("data-selector",`${this.baseSelector}${e} ${this.constructor.backgroundSelector}${e}`),"header"===this.type&&(this.$content.addClass("tve-default-state"),this.$background.addClass("tve-default-state")),this.$element.removeAttr("data-id").removeAttr("data-section-name"),this.$html.removeAttr("data-symbol-id")}this.$element.toggleClass("symbol-edit-mode",!this.isDynamic()||this.inEditMode()),this.$html.attr("data-selector",`${this.selector} .thrive-symbol-shortcode`).toggleClass("thrive-shortcode-html",this.isDynamic()&&!this.inEditMode())}getStyle(){const e=TVE.Theme.utils.getSpecificStyle((e=>{const t=this.isDynamic(),s=e.includes(TVE.Theme.CONST.body_class),n=(t&&!s||!t&&s)&&e.includes(this.selector);return TVE.apply_filters("theme.section.keep_styles_for_selector",n,e,this.$content)}));let t=e.fonts.join("");return _.each(e.css,((e,s)=>{t+=`@media ${s} {${e}}`})),t}getContent(){const e=TVE.Theme.models.Content.clean(this.$html);return e.find(".tve-symbol-custom-style").remove(),TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),e.html()}getSectionTermId(){const e=TVE.CONST.sections_tax_terms.find((e=>e.slug===`${this.type}s`));return e&&e.term_id?e.term_id:0}getBlockTarget(){let e;if("header"===this.type){const t=this.$element.next();TVE.Theme.models.LPSection.isLPSection(t)&&(e=t)}else{const t=this.$element.prev();TVE.Theme.models.LPSection.isLPSection(t)&&(e=t)}return e}allowBlockControlsBelow(e){const t=this.getBlockTarget();return t&&t.length&&(e="none"===t.css("display")),"footer"===this.type&&(e=!1),e}}},2810:function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function s(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i=()=>TVE.inner.window.ThriveTheme.sidebar;class o{static get prefix(){return":not(#layout)"}get selector(){return`.thrive-layout-${this.ID}`}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ID=e,this.setMeta(t)}getMeta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?this.meta[e]:this.meta}setMeta(e){e&&e.meta_input&&!e.meta_input.content_width&&(e.meta_input.content_width=o.getContentWidth()),this.meta=e.meta_input}name(){let e="Custom";if(this.ID){const t=TVE.CONST.theme.layouts.find((e=>e.ID===this.ID));t&&(e=t.post_title)}return e}save(e,t){TVE.Theme.utils.loadingMessage("Saving Layout"),TVE.$.ajax({url:TVE.CONST.theme.routes.layouts,type:"POST",data:{post_title:e},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((s=>{this.convertCss(s),TVE.CONST.theme.layouts.push({ID:s,post_title:e}),this.update(!0),"function"==typeof t&&t(s)})).fail((()=>{TVE.page_message("Error saving the layout!",!0,3e3)})).always((()=>{TVE.Theme.utils.loadingMessage(!1)}))}update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.ID)return!e&&TVE.Theme.utils.loadingMessage("Updating layout"),TVE.$.ajax({url:`${TVE.CONST.theme.routes.layouts}/${this.ID}`,type:"POST",data:{meta_input:s({template_id:TVE.Theme.template.ID,style:{css:this.getStyle()}},o.getDataFromPage())},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((e=>{const t=TVE.CONST.theme.layouts.findIndex((t=>t.ID===e.data.ID));-1===t?TVE.CONST.theme.layouts.push(e.data):TVE.CONST.theme.layouts[t]=e.data,o.getStyleNode().html(e.style),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(o.prefix,"g"),"_ALL"),TVE.do_action("theme.layout.after_update")})).fail((e=>{TVE.page_message("Error saving the layout!",!0,3e3)})).always((e=>{setTimeout((()=>{TVE.Theme.utils.loadingMessage(!1)}),2e3)}));TVE.page_message("Unknown layout to save!",!0,300)}static load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TVE.$.noop;e=parseInt(e),t=parseInt(t),e!==t&&(TVE.Theme.utils.loadingMessage("Loading layout"),TVE.$.ajax({url:`${TVE.CONST.theme.routes.layouts}/${e}`,type:"GET",headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((n=>{t&&TVE.inner.$body.removeClass(`thrive-layout-${t}`),TVE.inner.$body.addClass(`thrive-layout-${e}`),o.getStyleNode().html(n.style),o.fixLayoutStructure(n),TVE.head_css_remove(TVE.Theme.utils.escapedRegEx(o.prefix,"g"),"_ALL"),setTimeout((()=>{TVE.Theme.utils.loadingMessage(!1),TVE.Theme.content.updateResizeHandlersPosition(),TVE.PostList.layout.masonryRedo(),TVE.Theme.utils.loadingMessage("Updating also the template!","save-template"),TVE.Theme.content.save((()=>{TVE.Theme.utils.loadingMessage(!1,"save-template"),"function"==typeof s&&s(e)}),!0,!0)}),42)})).fail((()=>{TVE.page_message("Error loading layout!",!0,3e3),TVE.Theme.utils.loadingMessage(!1)})))}static getStyleNode(){let e=TVE.inner.jQuery("#thrive-theme-layout-css");return 0===e.length&&(e=TVE.inner.jQuery('<style id="thrive-theme-layout-css" type="text/css"></style>'),e.insertBefore(TVE.inner.jQuery("#thrive-template-css"))),e}getStyle(){const e=TVE.stylesheet;TVE.stylesheet=o.getStyleNode()[0].sheet;const t=this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(this.selector),this.selector);TVE.stylesheet=e;const s=TVE.$.extend(!0,{},t,this.convertSelector(TVE.CSS_Rule_Cache.getCssForSelector(o.prefix),TVE.Theme.CONST.body_class));for(const e in s)s.hasOwnProperty(e)&&(s[e]=_.map(s[e],((e,t)=>t+"{"+_.map(e,((e,t)=>`${t}:${e}`)).join("; ")+"}")).join(""));return s}convertSelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s={};for(const n in e)if(e.hasOwnProperty(n)&&"@imports"!==n){s[n]={};for(const i in e[n])if(e[n].hasOwnProperty(i)){const r=i.replace(o.prefix,"").replace(t,this.selector).trim();s[n][r]=e[n][i]}}return s}convertCss(e){TVE.inner.$body.addClass(`thrive-layout-${e}`);const t=o.getStyleNode(),s=t.html().replace(TVE.Theme.utils.escapedRegEx(`thrive-layout-${this.ID}`,"g"),`thrive-layout-${e}`);t.html(s),TVE.inner.$body.removeClass(`thrive-layout-${this.ID}`),this.ID=e}static hasUnsavedChanges(){const e=o.getInstance().getMeta();let t=void 0!==_.find(o.getDataFromPage(),((t,s)=>e[s]!==t));return t||(t=_.some(TVE.CSS_Rule_Cache.getCssForSelector(o.prefix),(e=>Object.values(e).length>0))),t}static fixLayoutStructure(e){const t=!!parseInt(e.meta_input.hide_sidebar);TVE.Theme.$main.toggleClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS,!!parseInt(e.meta_input.sidebar_on_left)),TVE.Theme.$sections.sidebar.toggleClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS,t),i().isOffScreen()&&(t?i()._get("off-screen").destroy():i().offScreenRefresh())}static getDataFromPage(){return{sidebar_on_left:TVE.Theme.$main.hasClass(TVE.Theme.constants.identifiers.FLIP_SECTIONS_CLASS)?1:0,content_width:this.getContentWidth(),hide_sidebar:this.isSidebarHidden()}}static isSidebarHidden(){return TVE.Theme.$sections.sidebar.hasClass(TVE.Theme.constants.identifiers.HIDE_SECTION_CLASS)?1:0}static getContentWidth(){return o.isFullWidth()?"100%":o.getWidth("content")}static setWidth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?(TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!0,TVE.Theme.$wrapper.head_css({[`--layout-${t}-width`]:e}),TVE.Theme.FLAGS.LAYOUT_CSS_WRITE=!1,TVE.Theme.$wrapper.tcbCss(`--layout-${t}-width`,"")):TVE.Theme.$wrapper.tcbCss(`--layout-${t}-width`,e),o}static getWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return TVE.Theme.$wrapper.tcbCss(`--layout-${e}-width`)}static isFullWidth(){return"100%"===o.getWidth("background")}static getInstance(){const e=TVE.Theme.models.Content.getLayoutId();return new o(e,TVE.CONST.theme.layouts.find((t=>t.ID===e)))}}e.exports=o},826:function(e,t,s){function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const r=s(3626);e.exports=class extends r{static get identifier(){return".theme-section"}static get component(){return TVE.Components.theme_section}static get typographySuffix(){return["p","li","label",".tcb-plain-text","h1","h2","h3","h4","h5","h6"]}get baseSelector(){return`.${this.type}-section`}get selector(){return this.ID?`.thrive-section-${this.ID}`:this.baseSelector}static get contentSelector(){return".section-content"}static get backgroundSelector(){return".section-background"}setElements(){this.$content=this.$element.find(this.constructor.contentSelector),this.$background=this.$element.find(".section-background")}static getTemplateId(){return TVE.Theme.template.ID}static isOnSingularTemplate(){return TVE.Theme.template.isSingular()}save(e,t){if(!this.ID)return this.removeOverlay(),TVE.Theme.utils.loadingMessage("Saving Section","save-section"),TVE.$.ajax({url:TVE.CONST.theme.routes.sections,type:"POST",data:{post_title:e,meta_input:{type:this.type,singular:this.constructor.isOnSingularTemplate()?1:0}},headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((s=>{this.beforeSave(s),this.update(!0,(()=>{this.afterSave()})),void 0===TVE.Theme.data.local[this.type]&&(TVE.Theme.data.local[this.type]={}),TVE.Theme.data.local[this.type][s]=this.sectionData={id:s,name:e,type:this.type},"function"==typeof t&&t(s)})).fail(console.warn).always((()=>{setTimeout((()=>{TVE.Theme.utils.loadingMessage(!1)}),4200)}));console.warn(`Section already saved with ID: ${this.ID}`)}update(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.ID)return void(this.isDynamic()&&console.warn("Error saving dynamic section!"));this.removeOverlay(),e||TVE.Theme.utils.loadingMessage("Updating Section");const s=()=>{const e=i({style:this.getStyle(),icons:TVE.Theme.models.Content.icons(this.$content),content:this.getContent(),tve_globals:TVE.Theme.models.Content.getGlobals(this.$content)},this.getExtra());TVE.$.ajax({url:`${TVE.CONST.theme.routes.sections}/${this.ID}`,type:"POST",data:i({meta_input:JSON.stringify(e)},TVE.Lightspeed.getLightspeedData({$content:this.$element})),headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done((e=>{this.generatePreview(),TVE.do_action("theme.after_section_update",this.$element,e),"function"==typeof t&&t(e)})).fail((e=>{TVE.wordfenceResponse(e)?TVE.Editor_Page.blur():TVE.page_message("Error saving the section!",!0,3e3)})).always((()=>{TVE.Theme.utils.loadingMessage(!1)}))};"function"==typeof TVE.Editor_Page.processPreSave?TVE.Editor_Page.processPreSave(this.$content,{forms_filter:(e,t)=>!t.closest(".thrive-shortcode-html"),post_id:this.ID}).then(s):s()}unlink(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beforeUnlink(),this.convertCssToTemplate(),this.ID=0,this.updateAttr(),this.focus(),this.$element.find(TVE.identifier("post_list")).each(((e,t)=>{TVE.PostList.dynamicImage.regeneratePostListStyleNodes(TVE.inner_$(t))})),this.constructor.saveTemplate(e,!1),this.bindElementActions(),this.afterUnlink()}static getLoadArguments(){return{query_vars:TVE.Theme.CONST.query_vars,template_id:TVE.Theme.template.ID}}load(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s="cloud"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local")?"/cloud":"",n=this.constructor.getLoadArguments();return _.isEmpty(t)||(n.version=t),this.$element.removeClass("hide-section"),this.$background.addClass("section-loading"),this.$background.outerHeight()>600&&this.$background.addClass("long-content"),TVE.$.ajax({url:`${TVE.CONST.theme.routes.sections}${s}/${e}`,type:"GET",data:n,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).done(this.insert.bind(this)).fail((e=>{TVE.Theme.utils.loadingMessage(!1)}))}insert(e){this.beforeInsert(e),this.$element.replaceWith(TVE.inner_$(e.content)),TVE.Theme.$sections[this.type]=TVE.ActiveElement=this.$element=TVE.inner_$(this.selector),this.$element.find(".tcb-post-content-placeholder").removeClass("tcb-post-content-placeholder"),TVE.Theme.sectionHover.listenersInit(this.type),TVE.inner_$("html").animate({scrollTop:this.$element.offset().top-24},1e3),TVE.Editor_Page.content_manager.insert_head_css(e.style).done((()=>{this.$background.removeClass("section-loading long-content"),this.afterInsert(e)}))}getStyle(){return TVE.Theme.utils.getSpecificStyle((e=>{const t=e.includes(TVE.Theme.CONST.body_class),s=e.includes(this.selector),n=e.includes(TVE.identifier("symbol")),i=s&&!t&&!n;return TVE.apply_filters("theme.section.keep_styles_for_selector",i,e,this.$content)}))}getContent(){const e=TVE.Theme.models.Content.clean(this.$content);return TVE.Theme.models.Content.elementClasses(e),TVE.Theme.models.Content.shortcodes(e),TVE.apply_filters("theme.parse_content",e,"section"),TVE.Theme.models.Content.parseContentString(e.html())}updateAttr(){if(super.updateAttr(),this.isDynamic())this.$element.attr("data-id",this.ID).addClass(`thrive-section-${this.ID}`);else{let e=this.$element.attr("class");e=e.replace(/thrive-section-\d*/,""),this.$element.attr("class",e).removeAttr("data-id")}}generatePreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||TVE.Theme.utils.loadingMessage("Updating section preview.","update-preview"),this.startPreview(),this.getPreviewPromise().then((t=>this.savePreview(t,e)))}getPreviewPromise(){return new Promise(((e,t)=>{if(this.previewImage)e(this.previewImage),delete this.previewImage;else{const t=this.getContentToPreview();TVE.generateElementPreview(t,(s=>{t.parent(`.${TVE.Theme.constants.PREVIEW_SECTION_WRAPPER_CLASS}`).remove(),e(s)}),TVE.$.extend(!0,{},TVE.Theme.constants.defaultPreviewOptions),!0)}}))}savePreview(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];TVE.Theme.utils.savePreviewImage({url:`${TVE.CONST.theme.routes.sections}/${this.ID}/preview/`,action:"section_preview",image:e,ID:this.ID}).done(this.applyPreview.bind(this)).always((()=>{t||TVE.Theme.utils.loadingMessage(!1,"update-preview"),this.$element.removeClass("tcb-generating-preview section-no-overlay")}))}toggleComponents(){const e=this.isDynamic()&&this.inEditMode()||!this.isDynamic();TVE.Components.background.toggle(e),TVE.Components.borders.toggle(e),TVE.Components.shadow.toggle(e),TVE.Components.layout.toggle(e),TVE.Components.decoration.toggle(e),TVE.Components.typography.toggle(e),TVE.Components.responsive.toggle(e)}getBackgroundVideo(){if(this.$background.is(".tcb-custom-field-source.tcb-video-background-el")){if(this.$background.find(".dynamic-source").length>0){let e=this.$background.clone().wrap("<div></div>").parent();return e=TVE.Theme.models.Content.clean(e),e.find(".tcb-custom-field-source").text()}return this.$background.html()}let e=!1;const t=this.$background.children("iframe"),s=this.$background.children(".wistia_embed").empty(),n=this.$background.children("video.tcb-bg-video"),i=this.$background.children("div.tcb-yt-bg");return t.length?e=t.hasClass("tcb-yt-bg")?'<div id="'+t.attr("id")+'" class="tcb-yt-bg" data-url="'+t.attr("data-url")+'" data-yt-id="'+t.attr("data-yt-id")+'"></div>':t.get(0).outerHTML:i.length?e=i[0].outerHTML:s.length?(e="",s.siblings("script").add(s).each((function(){e+=this.outerHTML}))):n.length&&(e=n.get(0).outerHTML),e}getDecoration(){let e={};const t=this.getBackgroundVideo(),s=this.$background.find("svg");return s.length&&(e={"clip-id":this.$background.attr("data-clip-id")||"",svg:""},s.each(((t,s)=>{e.svg+=s.outerHTML}))),t&&(e.video=t),e}getExtra(){const e={decoration:this.getDecoration(),comments:this.getCommentsMeta(),attr:this.getAttributes()};if(TVE.Theme.template.isList()){const t=TVE.inner.$body.find(TVE.identifier("blog_list"));e.posts_per_page=t.attr("data-posts_per_page"),TVE.Theme.template.isBlog()&&(e.query=t.attr("data-query"))}return TVE.apply_filters("theme.section.data.extra",e,this)}getAttributes(){return{class:TVE.Theme.utils.getElementResponsiveClasses(this.$element[0]).join(" ")}}getCommentsMeta(){let e={};const t=this.$element.find(TVE.identifier("thrive_comments"));if(t.length>0){const s={},n={};_.each(t,(e=>{const t=TVE.$(e),n=t.find(".theme-comments-label"),i=t.find("input, textarea");TVE.Editor_Page.content_manager.cleanup_froala(n),_.each(n,(e=>{TVE.$(e).find("small").remove(),s[e.getAttribute("data-comments-label")]=e.innerHTML.replace('<span class="required">*</span>',"")})),_.each(i,(e=>{s[`placeholder_${e.getAttribute("name")}`]||(s[`placeholder_${e.getAttribute("name")}`]=e.getAttribute("placeholder"))}))}));const o=t.find(".comment-list .reply").first(),r=this.getReplyAttr(o),a=t.find(".comment-form-submit .thrv_icon");n.submit_button=a.length?a.get(0).outerHTML:"",n.reply_button=t.find(".comment-reply-link .thrv_icon").first().html(),s.no_comments=TVE.Editor_Page.content_manager.get_clean_content({},this.$element.find(".no-comments")),s.error_msg=this.$element.find(".thrive-theme-comments-error-msg").html(),e={labels:i(i({},s),r),icons:n}}return e}getReplyAttr(e){return{reply_icon_flip:e.hasClass("tcb-flip")?"tcb-flip":"","reply-button-style":e.attr("data-button-style"),"reply-button_layout":e.attr("data-button_layout"),"reply-button-size":e.attr("data-button-size"),reply_label:e.find(".tcb-button-text").first().text()}}isOutsideContent(){return this.$element.parent().is(TVE.identifier("template-wrapper"))}removeOverlay(){this.$element.addClass("section-no-overlay").remove(".section-overlay")}isHorizontal(){return"top"===this.type||"bottom"===this.type}isVertical(){return"content"===this.type||"sidebar"===this.type}}},4304:function(e){e.exports=class{constructor(e){_.each(e,((e,t)=>{this[t]=e}))}meta(e,t){const s=this.meta_input;return void 0!==t&&(s[e]=t,this.meta_input=s),s[e]}primary(){return this.meta("primary_template")}secondary(){return this.meta("secondary_template")}variable(){return this.meta("variable_template")}format(){return this.meta("format")}isSingular(){return this.primary()===TVE.Theme.constants.templates.SINGULAR||this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.PAGE}isBlog(){return this.primary()===TVE.Theme.constants.templates.HOME&&this.secondary()===TVE.Theme.constants.templates.BLOG}isSearch(){return this.primary()===TVE.Theme.constants.templates.SEARCH}isAuthor(){return this.primary()===TVE.Theme.constants.templates.AUTHOR}isList(){const e=this.primary();return e===TVE.Theme.constants.templates.ARCHIVE||e===TVE.Theme.constants.templates.SEARCH||this.isBlog()}isArchive(){return this.primary()===TVE.Theme.constants.templates.ARCHIVE}is404(){return this.primary()===TVE.Theme.constants.templates.error404}isWoo(){return this.isProduct()||this.isShop(!0)||this.isWooPage()}isShop(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[TVE.Theme.constants.templates.PRODUCT];return e&&t.push("product_tag","product_cat"),this.isArchive()&&t.includes(this.secondary())}isProduct(){return this.isSingular()&&this.secondary()===TVE.Theme.constants.templates.PRODUCT}isHome(){return this.primary()===TVE.Theme.constants.templates.HOME}isWooPage(){return this.isSingular()&&(this.isCart()||this.isCheckout()||this.isAccount())}isCart(){return this.secondary()===TVE.Theme.constants.templates.CART}isCheckout(){return this.secondary()===TVE.Theme.constants.templates.CHECKOUT}isAccount(){return this.secondary()===TVE.Theme.constants.templates.ACCOUNT}getLayoutDataToSave(){const e=TVE.Theme.models.Layout.getDataFromPage(),t=TVE.Theme.models.Layout.getInstance().getMeta();let s={};return _.each(e,((e,n)=>{t&&t[n]!==e&&(s[n]=e)})),s}}},9907:function(e,t,s){const n=s(8179),i=[".thrive-breadcrumbs",".search-submit",".thrive-dynamic-styled-list-item","#comments",".tve-off-screen-sidebar-trigger",".tve-sidebar-close-icon"],o=["#thrive-header","#thrive-footer",".main-no-results",".preview-cloned-content",".thrive-progress-bar",".tve-sidebar-close-icon",`.${n.PREVIEW_SECTION_WRAPPER_CLASS}`,`.${n.PREVIEW_TEMPLATE_WRAPPER_CLASS}`],r='.theme-section[data-section="content"] > div,.theme-section[data-section="sidebar"] > div',a=".thrive_prev_next .thrv-prev-next-button, .thrive_prev_next .tcb-col, .thrive_prev_next .thrv-columns";let c=_.map(_.filter(tcb_main_const.elements,(e=>!1===e.has_icons)),(e=>e.identifier));i.forEach((e=>c.push(e+" .thrv_icon"))),c=c.concat([".thrv-inline-text",'.theme-section:not([data-section="content"],[data-section="sidebar"]) > div']);const l={},h=_.map(_.filter(tcb_main_const.elements,(e=>!0===e.is_theme_button)),(e=>e.identifier));_.each(tcb_main_const.elements,(e=>{e.shortcode&&(l[e.identifier]=e.shortcode)}));let d=_.map(_.filter(tcb_main_const.elements,(e=>!0===e.has_selector)),(e=>e.identifier));d=d.concat(n.dynamic_selectors);const m=c.concat(["div.tcb-col","a.tve-froala",".theme-section > div",".tve_editable.thrv_symbol",".tve-sidebar-close-icon"]),p=["#comments",".theme-dynamic-icon",r,a],u=[r,a],T=Object.values(TVE.CONST.theme.element_selectors).filter((e=>"#main"!==e&&".tcb-mega-drop li a"!==e)),g={elements:T,containers:[".section-content",".tve_shortcode_editor"],theme_buttons:h,no_drag:m,have_selector:d,compact_elements:[".tcb-post-content","section.widget"]};g.dragenter=g.droppable=_.difference(T.concat([".tve-droppable",".thrv_text_element p"]),m),g.draggable=_.difference(T,m),g.editable=T,g.architect={editable:g.editable,mouseover:g.editable,no_icons:c,no_clone:p,no_delete:u,no_lock:[".thrive-breadcrumbs"],no_unlock:[".thrive-breadcrumbs"],not_editable:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *"],no_highlight:[".tcb-post-content *",".thrive_author_box:not(.tcb-compact-edit-mode) *",".theme-section[data-id]:not(.tcb-compact-edit-mode) *"],no_save:[...Object.keys(l),"#comments",".tve_lg_input_container",".thrv_symbol",".tcb-col",r,a]},e.exports={haveDynamicPrefix:{thrive_dynamic_list:["dynamic-list-icon","dynamic-list-item","dynamic-list-text"],thrive_breadcrumbs:["breadcrumbs_leaf","breadcrumbs_path","breadcrumbs_icon"]},removeOnSave:o,shortcodes:l,editor:g,icons:i}},4834:function(e,t,s){(t=>{const n=s(2810),i=s(826),o=s(9420);e.exports={loadingMessage:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){const n=t(TVE.tpl("theme-main/loading")({message:e,messageTag:s})).appendTo(t("#tt-loading-wrapper"));setTimeout((()=>{n.css("top","0")}),1)}else{let e=t(".tt-loading");s&&(e=e.filter(`[data-tag="${s}"]`)),e&&(e.css("top","-400px"),setTimeout((()=>{e.remove()}),1e3))}},element_attributes:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.jquery&&(e=e[0]);const i={};return _.each(e.attributes,(e=>{if(-1!==t.indexOf(e.name))return;let o=e.value;n&&(o=o.replace(/\[/g,"|{|").replace(/\]/g,"|}|")),s?0===e.name.indexOf("data-")&&(i[e.name.replace("data-","")]=o):i[e.name]=o})),i},save_options:function(e,s){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Options saved!",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Error saving options!";t.post({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.options,data:{name:e,value:s},success:function(){n||TVE.page_message(i,!1,5e3)},error:function(){n||TVE.page_message(o,!0,5e3)}})},getElementResponsiveClasses:e=>{const t=/tcb-\w*-hidden/g,s=[];let n;for(;null!==(n=t.exec(e.className));)n.index===t.lastIndex&&t.lastIndex++,n.length&&s.push(n[0]);return s},ajax:function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.noop,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.noop,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.noop;return t.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:e,method:n,data:s,success:i,error:o,always:r})},fetch_list:(e,s)=>{t.ajax({headers:{"X-WP-Nonce":TVE.CONST.rest_nonce},url:TVE.CONST.theme.routes.list,method:"GET",data:{args:e,"demo-content":TVE.Theme.CONST.is_demo_content},success:function(e){1===e.success&&"function"==typeof s&&s(e)},error:function(){TVE.page_message("There has been an error and the list could not be generated",!0,5e3)}})},pseudoSelectorsRegex:function(){return new RegExp([":hover",":active",":after",":focus","::after",":before","::before","::placeholder",".tve-state-active",".tve-state-expanded"].join("|"),"gi")},replaceElementTag:(e,s)=>{const n=TVE.inner_$(s,{html:e.html()});return t.each(e[0].attributes,(function(){n.attr(this.name,this.value)})),e.replaceWith(n),n},inline_shortcodes_init:function(e){e.find(".thrive-shortcode-content").each((function(e,s){const n=t(s),i=s.dataset.shortcode;if("tcb_post_published_date"===i)return!0;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i&&0===n.html().trim().length){const e=TVE.PostList.utils.getArticleID(n);if(e&&TVE.PostList.posts[e]){const t=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[e][i],TVE.PostList.posts[e],n));t.length&&n.html(t.text())}}}))},image_shortcodes_init:function(e){e.find('.thrive-shortcode-content[data-shortcode="tcb_post_author_picture"]').each((function(e,s){const n=t(s),i=s.dataset.shortcode;if(TVE.PostList.posts&&TVE.inner.window.thrive_page_params&&i){const e=TVE.PostList.utils.getArticleID(n);if(e){const t=TVE.inner_$(TVE.apply_filters("tcb.post_list_article.sync."+i,TVE.PostList.posts[e][i],TVE.PostList.posts[e],n));t.length&&n.replaceWith(t)}}}))},replace_all_but_first:function(e,t,s){const n=new RegExp(t,"g");let i=1;return e.replace(n,(function(e){const t=1===i?e:s;return i++,t}))},applyBrackets:function(e){return`[${e}]`},extractShortcodeName:function(e){return e.split(" ")[0]},isInsideSymbol:function(e){let t;return"boolean"==typeof TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE?t=TVE.Theme.FLAGS.INSIDE_SYMBOL_OVERWRITE:(t=e&&e.closest(`${TVE.identifier("symbol").trim()}[data-id]`).length>0,t=TVE.apply_filters("theme.is_element_inside_symbol",t,e)),t},toggle_controls:function(e,t,s){for(const n of s)t[n]&&t[n].toggle_disabled(e)},disable_components:function(e,t){const s=TVE.Elements[TVE._type(TVE.ActiveElement)].components;for(const n in s)s.hasOwnProperty(n)&&t!==n&&TVE.Components[n].$el.toggleClass("disabled-children",e)},templatePrefix:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||TVE.Theme.FLAGS.duringImport||!TVE.CONST.theme.is_theme_template||this.isInsideSymbol(e))return t;e=TVE.apply_filters("theme.css.change_prefix_target",e);let s=TVE.Theme.CONST.body_class;const i=this.getSectionInstance(e);return TVE.Theme.FLAGS.LAYOUT_CSS_WRITE&&(s=`${n.prefix} ${s}`),i&&(i.constructor.is(e)?i.isDynamic()&&(s=""):i.isContent(e)||i.isBackground(e)?i.isDynamic()&&(s=i.selector):s=i.isDynamic()?i.selector:`${s} ${i.selector}`),t.includes(s)?t:(t=t.replace(this.escapedRegEx(TVE.Theme.CONST.body_class,"g"),""),t.includes(TVE.CONST.global_css_prefix)&&(s=`${TVE.CONST.global_css_prefix} ${s}`,t=t.replace(this.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"")),s=t.includes("{")?t.replace(/(.*){(.*)/g,((e,t,n)=>t.split(", ").map((e=>`${s} ${e}`)).join(", ")+"{"+n)):t.split(", ").map((e=>`${s} ${e}`)).join(", "),s)},cssRulesBeforeInsert:function(e){if(!TVE.main.EditMode.in_edit()||!TVE.main.EditMode.element().is(TVE.identifier("symbol"))){const t=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media);for(let s=0;s<e.length;s++)switch(e[s].type){case CSSRule.MEDIA_RULE:for(let t=0;t<e[s].cssRules.length;t++){const n=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[s].cssRules[t].cssText);e[s].deleteRule(t),e[s].insertRule(n,t)}break;case CSSRule.STYLE_RULE:const n=e[s];n.selectorText=TVE.Theme.utils.templatePrefix(TVE.ActiveElement,e[s].selectorText),t.insertStyleRule(n)}}return e},getDynamicElementPrefix:function(e){let t="",s=TVE._type(e);return s||(s=TVE._type(e.closest(".thrv_wrapper"))),_.each(TVE.Theme.selectors.haveDynamicPrefix,((n,i)=>{if(n.includes(s)){const s=e.closest(TVE.identifier(i));s.length&&(t=`[data-css="${TVE.CSS_Rule_Cache.uniq_id(s)}"]`)}})),t},replaceThemeSectionsCss:function(e,t){if(TVE.CONST.theme.is_theme_template&&e){const s=this.templatePrefix(e);"string"==typeof t?t=t.replace(this.escapedRegEx(s,"g"),"").trim():_.each(t,((e,n)=>{t[n]=e.map((e=>e.replace(this.escapedRegEx(s,"g"),"").trim()))}))}return t},deleteCssForElement:function(e){e&&e.length?_.each(TVE.stylesheet.cssRules,(t=>{const s=TVE.compat.conditionText(t);if(t.type===CSSRule.MEDIA_RULE&&s&&s.length){const n=_.map(t.cssRules,(e=>e.selectorText)),i=_.filter(n,(t=>TVE.inner.$document.find(t).is(e)&&t.includes(TVE.Theme.CONST.body_class)));_.each(i,(e=>TVE.head_css_remove(e,s)))}})):console.warn('Error - Element does not exist in function "deleteCssForElement"')},getImageUrlFromCss:e=>{const t=/(?:\(['"]?)(.*?)(?:['"]?\))/.exec(e);return null===t?"":t[1]},replaceInSymbolCss:e=>{if(TVE.CONST.theme.is_theme_template){const s=[];function t(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=n?TVE.Theme.utils.escapeString(e):e;s.push({regex:i,replacement:t})}void 0!==TVE.Elements.blog_list&&t(TVE.identifier("blog_list"),""),TVE.ActiveElement&&t(TVE.Theme.utils.templatePrefix(TVE.ActiveElement),""),t(TVE.Theme.CONST.body_class,""),_.each(s,(t=>{e=e.replace(new RegExp(t.regex,"g"),t.replacement)}))}return _.each(TVE.PostList.constants.dynamicStyles,(t=>{e=e.replace(new RegExp(t.regex,"g"),'url("'+t.replacement+'")')})),e},escapedRegEx:(e,t)=>new RegExp(TVE.Theme.utils.escapeString(e),t),escapeString:e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),isDynamicCss:e=>e.includes("dynamic_"),isDynamicColor:e=>e.includes(TVE.CONST.colors.dynamic_prefix),getDropTargetSection:()=>{let e,t;if(TVE.ActiveElement&&(t=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)),t&&TVE.Theme.utils.canDropIntoSection(t.$element))e=t.$element;else{const t=_.find(["content","top","sidebar","bottom"],(e=>TVE.Theme.utils.canDropIntoSection(TVE.Theme.$sections[e])));void 0!==t&&(e=TVE.Theme.$sections[t])}return e},canDropIntoSection:function(e){const t=this.getSectionInstance(e),s=t.isDynamic();return t.isVisible()&&(!s||s&&t.inEditMode())},getSpecificStyle:function(e){const t={},s={};let n=[];return"function"!=typeof e&&(e=()=>!0),_.each(TVE.stylesheet.cssRules,(i=>{const o=TVE.compat.conditionText(i);i.type===CSSRule.MEDIA_RULE&&o&&o.length?_.each(i.cssRules,(n=>{if(n.style.length&&e(n.selectorText)){const e=n.selectorText.replace(this.pseudoSelectorsRegex(),""),i=TVE.inner.$document.find(e),r=TVE.apply_filters("theme.css_rule.before_save",n.cssText.replace(/\n/g," ")),a=TVE.apply_filters("ttb.css.save.whitelist_rule",!1,e,r);(i.length||a)&&(void 0===t[o]&&(t[o]=""),t[o].includes(r.trim())||(t[o]+=r),0===i.closest(this.getListItemsIdentifiers()).length&&this.saveDynamicStyle(n,s))}})):i.type!==CSSRule.IMPORT_RULE||n.includes(i.cssText)||n.push(i.cssText)})),n=n.filter((e=>JSON.stringify(t).includes(TVE.FontManager.read_font_name(e)))),{css:t,fonts:n,dynamic:s}},getListItemsIdentifiers:()=>TVE.apply_filters("thrive_list_items_identifiers",TVE.identifier("article")),saveDynamicStyle:function(e,t){let s=e.cssText,n="";if(this.isDynamicCss(s)){const t=/background-image: .[^;]*;/gm,i=TVE.remove_extra_spaces(e.selectorText);_.each(TVE.PostList.constants.dynamicStyles,(e=>{s=s.replace(new RegExp(e.regex,"g"),'url("'+e.replacement+'")')}));const o=s.match(t);o&&(n=i+"{"+o[0]+"}")}if(this.isDynamicColor(s)){const e=/--tcb-dynamic-color-[^,]*_(\d+)/gm.exec(s),t=e?new RegExp(e[1],"gi"):null;t&&(n+=s.replace(t,"[thrive_the_id]"))}if(n){const s=TVE.compat.conditionText(e.parentRule);void 0===t[s]&&(t[s]=""),t[s]+=n}},toggleSectionFullWidth:(e,t)=>{const s=e.attr("data-section");t?TVE.Theme.$content["top"===s?"before":"after"](e):TVE.Theme.$content["top"===s?"prepend":"append"](e),TVE.ActiveElement&&TVE.main.active_elem_nav_view.reset_breadcrumbs()},addDebugButton:()=>{const e=TVE.Theme.template.isSingular()?"single":"list";TVE.main.$("#sidebar-bottom").append(`<a href="${window.location.href}&jstest=${e}" target="_blank" class="test-button-link preview-content tvd-fixed-right"><span>TEST</span></a>`)},getSectionInstance:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TVE.ActiveElement,t=null;const s=TVE.apply_filters("thrive_theme_sections",[i,o]);return s.forEach((s=>{!t&&s.parentSection(e).length&&(t=s.getInstance(e))})),t},base64ToBlob:e=>{const t=e?atob(e.split(",")[1]):"",s=new ArrayBuffer(t.length),n=new Uint8Array(s);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return new Blob([s],{type:"image/jpeg"})},savePreviewImage:function(e){const t=new FormData,s=e.imageName?e.imageName:`${e.ID}.png`;return t.append("action",e.action),t.append("img_data",this.base64ToBlob(e.image),s),TVE.$.ajax({url:e.url,type:"POST",data:t,processData:!1,contentType:!1,headers:{"X-WP-Nonce":TVE.CONST.rest_nonce}}).fail((e=>{void 0!==e.message&&TVE.page_message(e.message,!0,3e3)})).done((t=>{TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.thumbnail.generated",post_id:parseInt(e.ID),thumb:t},"*")}))},fixClonedImageHeights:function(e,t){e.find("img").each(((e,s)=>{const n=t.find(`img:eq(${e})`),i=n.height(),o=n.width();s.style.height=i+"px",s.style.width=o+"px"}))},filterContentByHeight:(e,t)=>(t<=0?e.empty():e.children(":not(style)").each(((e,s)=>{t>0?(s.classList.contains("thrv_wrapper")||"A"!==s.tagName.toUpperCase()||(s=s.firstChild),t-=TVE.$(s).outerHeight(!0)):s.parentNode.removeChild(s)})),t),filterContentToPreview(e){e.find(".edit_mode, .layout-highlight").removeClass("edit_mode layout-highlight"),e.find(".tcb-hamburger-logo").remove(),e.find("[srcset]").removeAttr("srcset").removeAttr("sizes"),TVE.do_action("theme.filter_generated_preview",e)},getSkinVariables:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=["colors","gradients"],s={master_variables:[],other_variables:[]};return _.each(t,(t=>{const n=e[`${t}_prefix`];_.each(e[t],(e=>{const i=parseInt(e.parent),o=`var(${n}${e.id})`,r="colors"===t?`linear-gradient(${o}, ${o})`:o;Object.assign(e,{type:t,css_variable:n+e.id,prefix:n,css:r}),-1===i?s.master_variables.push(e):_.isNaN(i)&&s.other_variables.push(e)}))})),s},saveSkinVariables:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wp.apiRequest({url:`${TVE.CONST.theme.routes.skins}/${TVE.CONST.theme.skin_id}/skin_variables`,type:"POST",data:e}).done((()=>{TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb.skin_variables_changed",color_data:e},"*")})).fail((e=>{e.responseJSON&&TVE.page_message(e.responseJSON.message,!0,5e3)}))},getOrderLabels:e=>{const t={title:[{name:"A to Z",value:"asc"},{name:"Z to A",value:"desc"}],popularity:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],id:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],date:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],modified:[{name:"Newest first",value:"asc"},{name:"Oldest first",value:"desc"}],menu_order:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}],price:[{name:"Lowest first",value:"asc"},{name:"Highest first",value:"desc"}]};return void 0===e?t:t[e]},refreshThemeContainerComponent:e=>{let t;(e.is(TVE.Theme.$wrapper)||e.is(TVE.Theme.$content)||e.is(TVE.Theme.$main))&&(t=TVE.getActiveComponent()),t&&t.controls.PageMap&&t.controls.LayoutVisibility&&(t.controls.PageMap.update(),t.controls.LayoutVisibility.render())},allowPostContentDelete(){const e=[];TVE.Theme.$wrapper.find(TVE.identifier("post_content")).each(((t,s)=>{s.closest(TVE.identifier("post_list"))||e.push(s)}));const t=e.length>1;e.forEach((e=>{e.classList[t?"remove":"add"]("tcb-no-delete")}))},getHeadCssPrefix:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!TVE.CONST.theme.is_theme_template)return e;if(!1===s&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;e=this.templatePrefix(t,e);const n=t.parents(TVE.identifier("thrive_widget_area"));return n.length&&(e=e+'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(n)+'"]'+TVE.identifier("thrive_widget_area")+" "),e.replace(/([ ]{2,})/g," ")},getWooElement:e=>{const t=TVE.Theme.constants.WOO_ELEMENTS.find((t=>TVE.Theme.template[`is${TVE.ucFirst(t)}`]()&&e.is(TVE.identifier(`${t}-template`))));return void 0!==t&&t}}})(jQuery)},4740:function(e,t,s){s(826),e.exports=TVE.Views.Base.base_view.extend({initialize:function(e){this.section=e.section,this.section.$element.one("mouseleave",(()=>{this.remove(!0)})),this.render()},render:function(){this.section.$element.hasClass("section-hover")&&0===this.section.$element.find(".section-overlay-actions").length&&(this.setElement(TVE.inner_$(TVE.tpl("theme-main/section-overlay")({view:this}))),this.$el.hide().appendTo(this.section.$element).fadeIn())},enterEditMode:function(){this.section.constructor.component.sectionSelect.setSection(this.section).enterEditMode(),this.remove()},unlink:function(){this.section.unlink(),this.section.constructor.component.after_update(),this.remove()},remove:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$el.fadeOut(e?400:0,(()=>{this.$el.remove()}))},addResponsiveClasses:function(){let e=[];return this.section.$element.height()<TVE.Theme.constants.NORMAL_OVERLAY_MIN_HEIGHT&&e.push("small-height-overlay"),this.section.$element.height()<TVE.Theme.constants.SMALL_OVERLAY_MIN_HEIGHT&&e.push("no-description-overlay"),this.hasSmallWidht()&&e.push("small-width-overlay"),e.join(" ")},hasSmallWidht:function(){return this.section.$element.width()<TVE.Theme.constants.SMALL_OVERLAY_MIN_WIDTH},openSectionModal:function(){this.section.constructor.component.sectionSelect.setSection(this.section).openSectionsModal()}})},4776:function(e){e.exports=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jQuery,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;class n{static get clickListener(){return"click.off-screen"}static get defaultSettings(){return{display:{desktop:"slide",mobile:"slide"},visibleOnLoad:{desktop:!0,mobile:!1},visibleInEditor:!0,hasOverlay:{desktop:!1},hasDefaultTrigger:{desktop:!0},hasCloseIcon:{desktop:!0},sidebarWidth:null,triggerPosition:{desktop:"center"},collapsedIcon:"icon-menu-left-solid",expandedIcon:"icon-menu-right-solid",closeIcon:"icon-close-solid"}}static get triggerSelector(){return".tve-off-screen-sidebar-trigger"}static get closeIconSelector(){return".tve-sidebar-close-icon"}constructor(e){this.sidebarInstance=e,this.$element=e.$element,this.element=e.$element[0],this.$main=e.$element.parent(),this.inEditor=e.constructor.inEditor&&TVE.Theme&&TVE.Theme.template;const t=e.getJsonData("off-screen");this.setConfig(t)}init(){return this.sidebarSide=this.$main.hasClass("flip-sections")?"left":"right",s.setAttribute("data-off-screen-side",this.sidebarSide),s.setAttribute("data-off-screen-type",this.getConfig("display",this.getDevice())),s.classList.add("theme-has-off-screen-sidebar"),this.updateSidebarWidth(),this.initDefaultTrigger(),this.initCloseIcon(),this.toggleCloseIcon(this.getConfig("hasCloseIcon",this.getDevice())),s.classList.remove("visible-off-screen-sidebar"),this.element.classList.remove("theme-has-off-screen-overlay"),this.element.classList.remove(`sidebar-off-screen-on-${this.getDevice()}`),this.element.style.display="block",this.inEditor?this.getConfig("visibleInEditor")&&setTimeout((()=>this.toggle(!0)),24):(this.setSidebarTop(),e(document).off("keyup.off-screen").on("keyup.off-screen",this.onKeyUp.bind(this)),this.getConfig("hasOverlay",this.getDevice())&&this.$element.off(n.clickListener).on(n.clickListener,this.onClick.bind(this)),this.isVisibleOnLoad()&&setTimeout((()=>this.toggle(!0)),24),this.$element.appendTo(e("#wrapper"))),this}isVisibleOnLoad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDevice(),t=null;return!this.inEditor&&"mobile"!==e&&ThriveTheme.localize.is_user_logged_in&&ThriveTheme.localize.sidebar_visibility&&void 0!==ThriveTheme.localize.sidebar_visibility[e]&&(t=!!parseInt(ThriveTheme.localize.sidebar_visibility[e])),null===t&&(t=this.getConfig("visibleOnLoad",e)),t}initDefaultTrigger(){this.$trigger=this.$element.find(n.triggerSelector),this.inEditor?(this.$trigger.data("tcb-elem-type","sidebar-trigger"),this.$trigger.attr("data-selector",n.triggerSelector)):this.$trigger.off(n.clickListener).on(n.clickListener,(()=>{this.toggle(!this.isVisible())})),this.$trigger.css({display:this.getConfig("hasDefaultTrigger",this.getDevice())?"flex":"none"});const e=this.getConfig("triggerPosition",this.getDevice());s.classList.contains("admin-bar")&&"top"===e&&this.$trigger.css({top:t.TCB_Front.bodyOffsetTop()}),this.element.setAttribute("data-trigger-position",e)}initCloseIcon(){this.inEditor?this.$element.find(n.closeIconSelector).attr("data-selector",n.closeIconSelector).addClass("tve_no_icons tve_no_drag"):e(document).off(n.clickListener).on(n.clickListener,n.closeIconSelector,(()=>this.toggle(!1)))}destroy(){return s.classList.remove("theme-has-off-screen-sidebar"),s.classList.remove("visible-off-screen-sidebar"),this.element.style.removeProperty("top"),this.element.style.removeProperty("height"),this.element.style.removeProperty("display"),this.element.style.removeProperty("min-width"),this.element.classList.remove(`sidebar-off-screen-on-${this.getDevice()}`),this.$trigger&&this.$trigger.hide(),this.toggleCloseIcon(!1),"wrapper"===this.$element.parent().attr("id")&&this.$element.insertBefore(e(".main-columns-separator")),this}toggle(e){void 0===e&&(e=!this.isVisible());const n=this.getDevice();return this.$element.hasClass(`tcb-${n}-hidden`)&&(e=!1),e&&this.getConfig("hasOverlay",n)?(this.element.classList.add("theme-has-off-screen-overlay"),setTimeout((()=>{s.classList.toggle("visible-off-screen-sidebar",e)}),42)):(s.classList.toggle("visible-off-screen-sidebar",e),setTimeout((()=>{this.element.classList.remove("theme-has-off-screen-overlay")}),420)),!this.sidebarInstance.constructor.inEditor&&ThriveTheme.localize.is_user_logged_in&&"mobile"!==n&&this.updateUserSidebarSettings(e),setTimeout((()=>{t.tve_frontend_options.is_editor_page?t.TCB_Front.resizePageSection():"function"==typeof t.TCB_Front.sticky.resetElementsPosition&&t.TCB_Front.sticky.resetElementsPosition(),t.TCB_Front.handleIframes(this.$element,e)}),500),this}setConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=e,this}getConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.config;return e&&(s=s[e],t&&(s=this.sidebarInstance.getConfigByDevice(s,t))),s}updateSidebarWidth(n){const i=e(t).width();if(void 0===n){switch(this.getDevice()){case"desktop":const e=getComputedStyle(this.element.parentElement);n="wrap"===e.flexWrap?parseInt(e.width)/2:parseFloat(e.getPropertyValue("--sidebar-size"))*parseInt(e.width)/100-parseFloat(e.getPropertyValue("--separator-size"))/2;break;case"tablet":n=i/2;break;case"mobile":n=i-24}let e=this.$element.css("min-width");e.includes("%")?e=parseInt(e)*i/100:(e=parseInt(e),isNaN(e)&&(e=0)),n=Math.max(e,n)}return n>=i&&(n=i-24),parseInt(this.$element.css("min-width"))&&this.$element.css("min-width",`${n}px`),s.style.setProperty("--off-screen-sidebar-size",`${n}px`),n}toggleCloseIcon(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$element.find(n.closeIconSelector).toggle(e)}setSidebarTop(){const e=t.TCB_Front.bodyOffsetTop();this.$element.css({top:`${e}px`,height:`calc(100vh - ${e}px)`})}updateUserSidebarSettings(s){("object"!=typeof ThriveTheme.localize.sidebar_visibility||Array.isArray(ThriveTheme.localize.sidebar_visibility))&&(ThriveTheme.localize.sidebar_visibility={}),ThriveTheme.localize.sidebar_visibility[this.getDevice()]=s?1:0,e.ajax({url:`${ThriveTheme.localize.routes.frontend}/user_options`,headers:{"X-WP-Nonce":t.tve_frontend_options.nonce},type:"POST",data:{template:ThriveTheme.localize.ID,option:"sidebar_visibility",value:ThriveTheme.localize.sidebar_visibility}})}onClick(e){e.target.classList.contains("sidebar-section")&&this.toggle(!1)}onKeyUp(e){"Escape"===e.key&&this.toggle(!1)}isVisible(){return s.classList.contains("visible-off-screen-sidebar")}getDevice(){return void 0===t.TCB_Front?TVE.main.device:t.TCB_Front.getDisplayType()}}return n}},2042:function(e,t,s){const n=s(8655),i=s(280);e.exports=n.extend({before_update:function(){return this.section=TVE.Theme.utils.getSectionInstance(TVE.ActiveElement),this.sectionSelect.setSection(this.section),this.sectionSelect.setSectionComponent(this),this},controls_init:function(e){const t=_.throttle(TVE.inner.window.TCB_Front.resizePageSection,10),s=_.throttle(TVE.PostList.layout.masonryRedo,500),o=this;n.prototype.controls_init.call(this,e,!1),e.StretchBackground.input=function(t,s){o.section.toggleFullWidthBackground(s.checked),e.PageMap.update(t),e.ContentWidth.update(),e.StretchContent.update()},e.StretchBackground.update=function(){this.setChecked(o.section.hasFullWidthBackground()),this.$el.toggleClass("tcb-disabled",!o.section.isVisible()||TVE.isLPFullWidth())},e.InheritContentSize.input=function(n,r){const a=r.checked;a?o.section.setContentWidth(`var(${i.contentWidthVariable}, 1080px)`,!0):(o.section.setContentWidth(i.getEditorContentWidth(!0),!0),e.ContentWidth.update(),e.StretchContent.update()),e.ContentWidth.$el.toggle(!a),e.StretchContent.$el.toggle(!a),t(),s()},e.ContentWidth.input=function(e,n){o.section.setContentWidth(n.value+this.getUM(),!1),t(),s()},e.ContentWidth.change=function(e,t){o.section.setContentWidth(t.value+this.getUM(),!0)},e.ContentWidth.update=function(){this.originalConfig.max=parseInt(o.section.$background.css("width")),this.setValue(o.section.$content.css("width")),this.$el.toggleClass("tcb-disabled",o.section.hasFullWidthContent()||!o.section.isVisible()),this.$el.toggle(!o.section.inheritsContent())},e.StretchContent.input=function(n,r){o.section.setContentWidth(r.checked?"100%":i.getEditorContentWidth(!0),!0),t(),s(),e.ContentWidth.update()},e.StretchContent.update=function(){this.setChecked(o.section.hasFullWidthContent()),this.$el.toggleClass("tcb-disabled",!(o.section.isVisible()&&(o.section.hasFullWidthBackground()||TVE.isLPFullWidth()))),this.$el.toggle(!o.section.inheritsContent())},TVE.add_filter("tcb_save_post_data_after",(e=>(this.section&&(e.tve_globals.body_class=TVE.toggleClassNames(e.tve_globals.body_class,`tcb-full-${this.section.type}`)),e))),TVE.add_action("theme.section.after_insert",((e,t)=>{t.setContentWidth(`var(${i.contentWidthVariable}, 1080px)`,!0)}))},after_update:function(){const e=!this.section.isDynamic(),t=this.section.inEditMode();this.controls.PageMap.$el.toggle(!t),this.controls.InheritContentSize.$el.toggle(!t),this.controls.Visibility.$el.toggle(!t),this.controls.SectionHeight.$el.toggle(t||e),this.controls.VerticalPosition.$el.toggle(t||e),this.sectionSelect.update()}})},6191:function(e,t,s){function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(t=>{const n=s(9103),o=(s(280),{"tve.lazyload.done":e=>{_.each(e.theme_sections,(e=>{void 0===TVE.Theme.data.local[e.type]&&(TVE.Theme.data.local[e.type]={}),TVE.Theme.data.local[e.type][e.id]=e}))},"tcb.page-map.extend":e=>{e.visibilityToggle=(t,s,n)=>{const i=TVE.inner_$(s);i.length?TVE.Theme.$sections[t]?TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t]).toggle(n):i.toggle():"header"!==t&&"footer"!==t||e.symbolInsert.add_section_placeholder(t,s,TVE.Editor_Page.editor)}},"tcb.before_select_section":(e,t)=>{e.length&&TVE.Theme.$sections[t]&&TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections[t]).openModal()}});e.exports=i(i({},o),n)})(jQuery)},8812:function(e,t,s){function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(t=>{const n=s(7109),o=s(280),r=s(7435),a=function(e){return e+","+o.selectionSelector()},c={selectors_editable:a,selectors_mouseover:a,selectors_no_icons:a,"tcb.page-map.template":e=>"architect-main/landing-page-map",editor_loaded_callback:()=>{TVE.Theme.$sections={},TVE.inner.$body.find(TVE.Theme.models.LPSection.identifier).each(((e,t)=>{const s=TVE.inner_$(t),n=s.children("style");TVE.Theme.$sections[t.dataset.section]=s,n.length&&TVE.Editor_Page.content_manager.insert_head_css(n.text()).done((()=>{n.remove()}))})),TVE.Theme.$wrapper=TVE.Editor_Page.editor;const e=s(2773);TVE.Theme.sectionHover=new e},selectors_no_highlight:e=>e+",.landingpage-section[data-id]:not(.tcb-compact-edit-mode) *","tcb.includes":e=>(t.extend(!0,e.Views.Components,{LandingpageSection:s(2042)}),e.Theme.views=i(i({},e.Theme.views||{}),{},{SectionOverlay:s(4740)}),e),tcb_save_post_data_after:e=>{const t=new n(TVE.Editor_Page.editor);return e.theme_extra=t.saveSections(),e},tcb_filter_html_before_save:(e,t,s)=>(e.find(`${TVE.Theme.models.LPSection.identifier}`).each(((e,t)=>{t.parentNode.removeChild(t)})),e),"tcb.element_selected":(e,t)=>("landingpage_section"===t&&(e=o.parentSection(e)),e),thrive_theme_sections:e=>(e.push(o),e),tcb_head_css_prefix:(e,t)=>TVE.LP.utils.sectionHeadCssPrefix(e,t,!1),"tve.css_variable.selector":(e,t)=>TVE.LP.utils.sectionHeadCssPrefix(e,t,!1),css_rules_before_insert:e=>(TVE.ActiveElement&&TVE.Theme.utils.getSectionInstance(TVE.ActiveElement)&&(TVE.CONST.theme.is_theme_template=!0,e=TVE.Theme.utils.cssRulesBeforeInsert(e),TVE.CONST.theme.is_theme_template=!1),e),head_css_selector:e=>{const s=t(e.element),n=TVE.Theme.utils.getDynamicElementPrefix(s);return n.length&&(e.prefix=e.prefix.trimRight()+" "+n+" "),e},"tcb.bg_effects_elements":e=>e.concat("landingpage-section"),"theme.convert_section_selector":e=>{const t=TVE.identifier("post_list");return e.includes(t)||(e=TVE.PostList.dynamicImage.replaceDynamicImage(TVE.Theme.CONST.ID,e)),e},"tcb.change_target":e=>TVE.LP.utils.getSectionDropzoneTarget(e),"tcb.get_dropzone_target":e=>((e=TVE.LP.utils.getSectionDropzoneTarget(e)).offset().top+e.height()<TVE.inner.$window.scrollTop()&&TVE.inner_$("html, body").animate({scrollTop:e.offset().top+e.height()}),e),"tcb.css.should_save_rule":(e,t)=>(t.selectorText.includes("thrive-section")&&(e=!1),e),"tcb.block_drop_target":e=>{const t=TVE.Theme.utils.getSectionInstance(e);return t&&(e=t.getBlockTarget()),e},"tcb.allow_block_controls_below":(e,t)=>{const s=TVE.Theme.utils.getSectionInstance(t);return s&&(e=s.allowBlockControlsBelow(e)),e},"tcb.allow_block_controls_above":(e,t)=>(t.length&&TVE.Theme.models.LPSection.isLPSection(t)&&(e=!1),e),"tcb.dragenter":e=>e.is(TVE.Theme.models.Section.contentSelector)&&e.parent(TVE.Theme.models.LPSection.identifier).length?e.addClass("tve_editor_main_content"):e};e.exports=i(i({},c),r)})(jQuery)},7109:function(e){function t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function s(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}jQuery,e.exports=class{constructor(e){this.$content=e}saveSections(){let e={},t={};return this.$content.find(TVE.Theme.models.LPSection.identifier).each(((n,i)=>{if(!i.classList.contains("placeholder-section")){const n=parseInt(i.dataset.id||0),o=i.dataset.section;if(TVE.Theme.savedSection=o,n)e[o]={id:n};else{const n=TVE.inner_$(i),r=TVE.Theme.models.LPSection.getInstance(n);t=s(s({},t),this.icons(n)),e[o]=s({id:0,content:r.getContent()},r.getExtra())}e[o].hide=i.classList.contains("hide-section")?1:0}})),{sections:e,icons:t}}icons(e){const t={};for(const s of TVE.Theme.selectors.icons)e.find(s+" svg.tcb-icon").each(((e,s)=>{t[void 0===s.dataset.id?s.dataset.name:s.dataset.id]=s.outerHTML}));return t}}},280:function(e,t,s){(t=>{const n=s(826);class i extends n{static get identifier(){return".landingpage-section"}static get component(){return TVE.Components.landingpage_section}get baseSelector(){return`.${this.type}-section`}static get contentSelector(){return".section-content"}static get backgroundSelector(){return".section-background"}static get contentWidthVariable(){return"--page-section-max-width"}static selectionSelector(){return".landingpage-section > div"}static isLPSection(e){return e.is(this.identifier)}get contentWidth(){return TVE.head_css_get(`${this.baseSelector} ${i.contentSelector}`,"max-width")}isHorizontal(){return!0}isVertical(){return!1}static getTemplateId(){return TVE.CONST.post_id}static getLoadArguments(){return{query_vars:{post_type:TVE.CONST.post_type,page_id:TVE.CONST.post_id}}}getWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"content";return TVE.Editor_Page.editor.tcbCss(`--${this.type}-${e}-width`)}inheritsContent(){return this.contentWidth.includes(i.contentWidthVariable)}setContentWidth(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.$content.tcbCss("max-width",`${e}!important`):(TVE.head_css(`${this.baseSelector} ${i.contentSelector}`,{"max-width":`${e}!important`}),this.$content.tcbCss("max-width",""))}getExtra(){const e={decoration:this.getDecoration(),attr:this.getAttributes()};return TVE.apply_filters("theme.section.data.extra",e,this)}static isOnSingularTemplate(){return!0}static saveTemplate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];TVE.Editor_Page.save(!0,void 0,void 0,e)}toggle(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPlaceholder()?this.constructor.component.sectionSelect.setSection(this).openSectionsModal():super.toggle(e)}openModal(){this.isPlaceholder()&&this.constructor.component.sectionSelect.setSection(this).openSectionsModal()}isPlaceholder(){return this.$element.hasClass("placeholder-section")}toggleFullWidthBackground(e){TVE.inner.$body.toggleClass(`tcb-full-${this.type}`,e)}hasFullWidthBackground(){return TVE.inner.$body.hasClass(`tcb-full-${this.type}`)}static getEditorContentWidth(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=TVE.Editor_Page.editor.tcbCss(i.contentWidthVariable);return!e||t&&!t.includes("%")||(t=TVE.Editor_Page.editor.css("width")),t}hasFullWidthContent(){const e=this.contentWidth;return"100%"===e||0===e.length}getBlockTarget(){return this.$element}allowBlockControlsBelow(){return"bottom"!==this.type}afterInsert(e){TVE.Theme.FLAGS.duringImport=!1,TVE.froala.init(),this.focus(),this.fixTypography(),TVE.Theme.content.init_selectors(this.$element),this.constructor.saveTemplate(!0),TVE.do_action("theme.section.after_insert",e,this),TVE.do_action(`theme.section.after_insert.${this.type}`,e,this),TVE.do_action("tcb.new-editor-content",this.$element),TVE.Theme.utils.loadingMessage(!1),this.bindElementActions()}fixTypography(e){let t=`${this.selector} ${i.contentSelector}`,s="";this.isDynamic()||(t=TVE.Theme.CONST.body_class+" "+t),s=[" p"," li"," label"," .tcb-plain-text"].map((e=>t+e)).join(", "),void 0===e&&(e=TVE.stylesheet.cssRules);for(let n=0;n<e.length;n++)if(e[n].type===CSSRule.MEDIA_RULE)for(let i=0;i<e[n].cssRules.length;i++){const o=e[n].cssRules[i];if(o.selectorText.includes(s)&&!o.selectorText.includes(TVE.CONST.global_css_prefix)){const s=o.cssText.replace(TVE.Theme.utils.escapedRegEx(`${t}`,"g"),`${TVE.CONST.global_css_prefix} ${t}`);e[n].deleteRule(i),e[n].insertRule(TVE.remove_extra_spaces(s),i)}}}}e.exports=i})(jQuery)},9242:function(e,t,s){const n=s(280);e.exports={getSectionDropzoneTarget:e=>{if(void 0!==TVE.FLAGS.$dragged_element)return e;let t,s=TVE.main.EditMode.element();if(s&&s.length)n.is(s)&&(t=s);else{const t=TVE.Theme.utils.getSectionInstance(TVE.Theme.$sections.bottom);t&&(e=t.$element.prev())}if(t&&t.length){const s=TVE.Theme.utils.getSectionInstance(t),n=s.$content.children();n.length?e=n.last():(e=TVE.inner_$("<div></div>").appendTo(s.$content),setTimeout((()=>{e.remove()}),100))}return e},sectionHeadCssPrefix:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=TVE.Theme.utils.getSectionInstance(t);if(n){if(!1===s&&TVE.flag_modify_hover_selector&&TVE.state_manager.is_hover())return e;let i=TVE.Theme.CONST.body_class;n.constructor.is(t)?n.isDynamic()&&(i=""):n.isContent(t)||n.isBackground(t)?n.isDynamic()&&(i=n.selector):i=n.isDynamic()?n.selector:`${i} ${n.selector}`,e=i?i+" "+e:e}return e.replace(/([ ]{2,})/g," ")}}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}!function(){function e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function t(t){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(e=>{const n=s(2773);e(window).on("tcb_main_ready",(()=>{TVE.Theme.modals||(TVE.Theme.modals={}),TVE.Theme.modals.sectionTemplates=new(s(1351))({el:TVE.modal.get_element("section-templates-block")}),TVE.Theme.modals.sectionSave=new(s(2193))({el:TVE.modal.get_element("section-save")})})).on("tcb.register-hooks",(()=>{const e=s(9051);TVE.Theme=t(t({},TVE.Theme||{}),{},{FLAGS:{},data:{cloud:{},local:{}},models:t(t({},e),{},{LPSection:s(280)}),selectors:s(9907),content:s(2516),utils:s(4834),CONST:ttb_landingpage_localize}),TVE.LP={utils:s(9242)},_.each(s(6191),((e,t)=>TVE.add_action(t,e))),_.each(s(8812),((e,t)=>TVE.add_filter(t,e)))})).on("tcb-ready",(()=>{TVE.Theme.sectionHover=new n}))})(jQuery)}()}();