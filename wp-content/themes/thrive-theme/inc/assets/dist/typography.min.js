!function(){var e={1974:function(e,t,s){jQuery,e.exports={"tcb.favorite_colors.after_render":e=>{if(TVE.CONST.theme.skin_palettes&&e.color_picker.options.showGlobals){const t=s(4790);e.$el.find(".tcb-skin-toggle-content").length||(e.$el.append(TVE.tpl("theme-main/theme-style-panel/skin-colors")()),e.skin_color_view=new t({el:e.$("#tcb-skin-color-details")[0],favorites_view:e}),e.variableViews.skin=e.skin_color_view)}},"tcb.favorite_colors.reset_html":e=>{if(TVE.CONST.theme.skin_palettes){const t=1===TVE.CONST.theme.skin_palettes.version?TVE.CONST.theme.skin_variables.colors:TVE.CONST.theme.palette_colors;if(t&&e.color_picker.options.showGlobals){let s="";_.each(t,(t=>{s+=e.global_thumb({global_prefix:TVE.CONST.theme.skin_variables.colors_prefix,css_prop:"background-color",color:TVE.getCssVariableValue(TVE.CONST.theme.skin_variables.colors_prefix+t.id),name:t.name,id:t.id,synced_var:"",custom_name:t.custom_name})})),e.$(".tcb-skin-colors-container").html(s.split("p-thumb-inner").join("p-thumb-inner tcb-tpl-var"))}}}}},4790:function(e){jQuery,e.exports=TVE.GlobalColors.extend({after_initialize:function(){this.enable_remove_color=!1,this.enable_edit_color=!1,this.unlink_label="Unlink Theme Color",this.color_type="theme",this.skinVariables=TVE.CONST.theme.skin_variables.colors},execute_ajax:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=_.findIndex(this.skinVariables,(t=>parseInt(t.id)===parseInt(e.id)));t>-1&&(e=_.extend({},{name:this.$global_color_name_input.val(),value:e.color,type:"colors",key:"color"},e),this.skinVariables[t].hsl_parent_dependency?e.hsl_parent_dependency=this.skinVariables[t].hsl_parent_dependency:this.skinVariables[t].hsl&&(e.hsl=this.skinVariables[t].hsl),TVE.Theme.utils.saveSkinVariables(e),this.skinVariables[t].name=e.name)}})}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,s),n.exports}(e=>{const t={currentPrefix:"",filters:["editable","mouseover","no_save","no_lock","no_unlock","no_delete","no_clone"],init:function(){TVE.Editor_Page.selection_manager.init(TVE.Editor_Page.editor),TVE.typographyEditor.init("selector"),TVE.inner_$('[data-selector-key="link"]').attr("data-element-name","Default Link")},editorInit:function(){TVE.main.$(".tve-more,.tve-templates-setup").remove(),TVE.main.$(".back-icon").remove(),TVE.main.sidebar_extra.$(".sidebar-item:not(.click)").remove()},registerHooks:function(){TVE.add_filter("editor_wrapper",(e=>TVE.inner_$("#typography-elements"))),TVE.add_filter("tcb_save_post_data_before",this.parseCssBeforeSave),TVE.add_filter("css_style_selector",(()=>"style#thrive-typography-css")),_.each(s(1974),((e,t)=>{TVE.add_action(t,e)}))},parseCssBeforeSave:e=>(e.tve_content="",e.inline_rules="",e.tve_stripped_content="",e.theme_typography_style=t.getStylesToSave(),e),getStylesToSave:function(){const e={};let t=[];const s=new RegExp(`^(${Object.values(TVE.CONST.default_styles).map((e=>TVE.escapeString(e.selector))).join("|")})${TVE.CSS.regexSuffix}([ .:#]*?){`,"i"),o=[" strong",":hover",":active"],i=new RegExp(`(${o.join("|")})`,"g");return _.each(TVE.stylesheet.cssRules,(n=>{n.type===CSSRule.MEDIA_RULE?function(t){const n=TVE.compat.conditionText(t),r=[];Array.from(t.cssRules).forEach((t=>{const a=t.cssText.replace(i,"");let l="";if(o.some((e=>{if(t.cssText.includes(e))return l=e,!0})),!t.selectorText.includes(".tve-state-")&&a.match(s)&&!r.includes(t.selectorText)){const s=(e=>{let t=!1;return e=e.split(",").shift().trim(),Object.keys(TVE.CONST.default_styles).some((s=>{const o=TVE.CONST.default_styles[s].selector.split(",").shift().trim();if(e===o)return t=s,!0})),t})(RegExp.$1);let o=TVE.CSS_Rule_Cache.getCssForSelector(t.selectorText);o=o[n]||{},o=o[t.selectorText]||{},e[s]=e[s]||{},e[s][n]=e[s][n]||[],e[s][n].push(`__el__${l}{ ${TVE.CSS_Rule_Cache.objectToCss(o)} }`),r.push(t.selectorText)}}))}(n):n.type!==CSSRule.IMPORT_RULE||t.includes(n.cssText)||t.push(n.cssText)})),t=t.filter((t=>JSON.stringify(e).includes(TVE.FontManager.read_font_name(t)))),e["@imports"]=t,Object.keys(e).forEach((t=>e[t]=JSON.stringify(e[t]))),e}};e(window).on("tcb.register-hooks",t.registerHooks.bind(t)).on("tcb_main_ready",(()=>{TVE.main.on("tcb-ready",t.init.bind(t)),t.editorInit(),TVE.main.on("tve.save_post.success",(()=>{TVE.outer.window.opener&&TVE.outer.window.opener.postMessage({action:"ttb-typography-saved",post_id:TVE.CONST.post_id})}))}))})(jQuery)}();