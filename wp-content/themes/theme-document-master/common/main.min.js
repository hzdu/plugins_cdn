const w=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function m(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function p(t){if(t.ep)return;t.ep=!0;const e=m(t);fetch(t.href,e)}};w();$(function(){console.log("%cTheme of Document Ver1.0 By \u53CB\u4EBAa\u4E36","background-color:#000000;color:white;padding:3px 6px;border-radius:8px;"),console.log("%cBlog\uFF1Anicen_theme.cn","background-color:#000000;color:white;padding:3px 6px;border-radius:8px;"),$.fn.scrollUnique=function(){return $(this).each(function(){var t="mousewheel";document.mozHidden!==void 0&&(t="DOMMouseScroll"),$(this).on(t,function(e){var o=this.scrollTop,n=this.scrollHeight,a=this.clientHeight,l=e.originalEvent.wheelDelta?e.originalEvent.wheelDelta:-(e.originalEvent.detail||0);(l>0&&o<=l||l<0&&n-a-o<=-1*l)&&(this.scrollTop=l>0?0:n,e.preventDefault())})})},function(){$(".first-index").each(function(){let t=$(this);t.parent().next().children("div").is(".secondary-index")&&t.prepend('<i class="iconfont icon-xiangxiazhankai1"></i>')}),$(".secondary-index").each(function(){let t=$(this);t.parent().next().children("div").is(".thrid-index")&&t.prepend('<i class="iconfont icon-xiangxiazhankai1"></i>')}),$(".scroll a").click(function(t){t.preventDefault();let e=$(this),o=$(e.attr("href"));o.length>0&&$("html").animate({scrollTop:o.get(0).offsetTop},200)})}(),function(){$(".scroll").scrollUnique(),$(".scroll").on("scroll",function(t){t.stopPropagation()})}();let h=!1;if(function(){function t(u){let i=u[0].offsetTop;a.height(u.height()),a.css("top",`${i}px`);let s=$(".scroll").get(0);if(i>=s.scrollTop+s.offsetHeight){if(h)return;h=!0,$(s).animate({scrollTop:i-100},200,function(){h=!1})}if(i<s.scrollTop){if(h)return;h=!0,$(s).animate({scrollTop:i-s.offsetHeight<0?0:i-s.offsetHeight+100},200,function(){h=!1})}if(!o){o=!0;return}let f=l.find(u.find("div a").attr("href"));if(n=!1,f.length!=0){let r=f.get(0).offsetTop;l.animate({scrollTop:r},200,function(){n=!0})}}function e(){$(".main-container .main-left .first-index").css("color",""),$(".main-container .main-left .secondary-index").css("color",""),$(".main-container .main-left .third-index").css("color","")}$("body").on("click",".first-index",function(){e(),t($(this)),$(this).css("color","var(--theme-color)")}),$("body").on("click",".secondary-index",function(){e(),t($(this)),$(this).css("color","var(--theme-color)"),$(this).parent().parent().prev(".first-index").css("color","var(--theme-color)")}),$("body").on("click",".third-index",function(){e(),t($(this)),$(this).css("color","var(--theme-color)"),$(this).parent().parent().prev(".secondary-index").css("color","var(--theme-color)"),$(this).parent().parent().parent().parent().prev(".first-index").css("color","var(--theme-color)")});let o=!0,n=!0,a=$(".main-container .line"),l=$("html"),c=$(".main-container .main-left li div:first");o=!1,c.trigger("click"),$(".main-left").css("opacity",1),$(window).on("scroll",function(){if(!n)return;let u=l,i=u.get(0).scrollTop,s=u.find(".main-content").find("h1,h2,h3,h4"),f=null;for(let r=0;r<s.length;r++){let g=s.eq(r);if(!!g.attr("id")&&g.get(0).offsetTop>i){f=r;break}}o=!1,$("a[href='#"+s.eq(f).attr("id")+"']").parent().trigger("click")})}(),function(){let t=$("html"),e=$(".toTop"),o=$("#progress"),n=$("#navigator"),a=$("#space");if(n.length>0){let i=a.position();n.css("left",i.left),n.css("top",i.top),n.show(),enquire.register("screen and (min-width:1024px)",{match(){$(window).on("resize",function(){n.css("left",a.position().left)})},unmatch(){$(window).off("resize",function(){n.css("left",a.position().left)})}})}o.text(((window.scrollY+t.get(0).clientHeight)/t.get(0).scrollHeight*100).toFixed(0)+"%"),$(".toTop").click(function(){t.animate({scrollTop:0},200,"linear",function(){window.scrollTo(0,0)})}),$(window).on("scroll",function(){let i=t.get(0);window.scrollY>0?e.css("visibility","visible"):e.css("visibility","hidden"),o.text(((window.scrollY+i.clientHeight)/i.scrollHeight*100).toFixed(0)+"%")});let l=!1,c=$("#right");if(c.length!=0){let r=function(){let g=$("html").get(0),x=$("#fixed");c.length==0||l||(l=!0,g.scrollTop>f?(c.css("left",x.position().left+rem),f>0?c.css("bottom","0.5rem"):c.css("top",x.position().top),c.css("position","fixed")):c.css("position","static"),l=!1)};var u=r;let i=c.position(),f=c.get(0).offsetHeight+i.top+1.5*rem-window.innerHeight;enquire.register("screen and (min-width:1024px)",{match(){$(window).on("scroll",r),$(window).on("resize",r)},unmatch(){$(window).off("scroll",r),$(window).off("resize",r)},setup(){window.innerWidth>1024&&r()}})}$(".readMode").click(function(){$("html").toggleClass("dark");let i=$(this).find("img");i.attr("src").indexOf("baitian")==-1?(localStorage.removeItem("night"),$("meta[name=theme-color]").attr("content","#ffffff"),i.attr("src",ROOT+"/assets/images/baitian.svg").attr("title","\u5207\u6362\u591C\u95F4\u6A21\u5F0F")):(localStorage.setItem("night",1),$("meta[name=theme-color]").attr("content","#141414"),i.attr("src",ROOT+"/assets/images/anhei.svg").attr("title","\u5207\u6362\u767D\u5929\u6A21\u5F0F"))})}(),function(){let t=$("html");$(".theme-color div").click(function(){let e=$(this).attr("class");t.hasClass("dark")?(t.removeClass(),t.addClass(["dark",e])):(t.removeClass(),t.addClass(e)),localStorage.setItem("theme-color",e)})}(),function(){typeof GLightbox!="undefined"&&GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,zoomable:!0,draggable:!0,autoplayVideos:!0})}(),function(){$(".icp-beian div").click(function(){if($(".icp-beian div").index(this)==0){let t=$(this);$.post(location.pathname+"?nice="+Current,function(e){t.find("span").text(parseInt(t.find("span").text())+1)})}else{let t=$(this);$.post(location.pathname+"?bad="+Current,function(e){t.find("span").text(parseInt(t.find("span").text())+1)})}})}(),function(){$("#search").on("keypress",function(t){let e=$(this);e.val()!=""&&t.keyCode=="13"&&(location.href=location.origin+"?s="+e.val())})}(),location.search.indexOf("replytocom")!=-1){let t=$(".comment-form").position().top-100;$("html").get(0).scrollTop=t}let d="60%";function m(){let t=$(".right"),e=$(".daohang");window.innerWidth>475?(t.css("width","45%"),d="45%"):(t.css("width","60%"),d="60%"),e.hasClass("icon-cha")?(t.css("left","-"+d),e.removeClass("icon-cha"),e.addClass("icon-daohangmoren")):(t.css("left",0),e.addClass("icon-cha"),e.removeClass("icon-daohangmoren"))}function p(){$(this).find(".sub-menu").toggle()}enquire.register("screen and (max-width: 1024px)",{match(){$(".daohang").on("click",m),$(".menu-item").on("click",p)},unmatch(){$(".daohang").off("click",m),$(".menu-item").off("click",p)}})});
