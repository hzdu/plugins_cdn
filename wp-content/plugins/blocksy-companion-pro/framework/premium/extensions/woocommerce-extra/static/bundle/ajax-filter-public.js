!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.ctFrontend,r=window.ctEvents,n=e.n(r);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="toggle-filter-panel",(r="id")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"beforeReplace",value:function(){var e=document.querySelector(".woo-listing-top");return{wasTopExanded:e&&!!e.querySelector('.ct-toggle-filter-panel[aria-expanded="true"]')}}},{key:"afterReplace",value:function(e){var t=e.wasTopExanded,r=document.querySelector(".ct-products-container").parentNode;if(r.querySelector(".ct-filter-content")){r.querySelector(".ct-toggle-filter-panel")?r.querySelector(".ct-toggle-filter-panel").ariaExpanded=t:t=!1;var n=r.querySelector("#woo-filters-panel");n&&(n.ariaHidden=!t)}}}])&&a(t.prototype,r),n&&a(t,n),e}();function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="pagination",(r="id")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"beforeReplace",value:function(){var e=document.querySelector(".ct-pagination");e&&(e.infiniteScroll&&e.infiniteScroll.destroy(),e.remove())}},{key:"afterReplace",value:function(){}}])&&i(t.prototype,r),n&&i(t,n),e}(),u=function(e){for(var t=[],r=e;r&&r!==document;r=r.parentNode)t.push(r);return(t=t.reverse()).filter((function(e){return!e.matches("body, html")})).map((function(t){if(t===document.body)return"body";var r=t.tagName;if(t!==e&&(r+=""!=t.id?"#"+t.id:"",r+=t.dataset.target?'[data-target="'.concat(t.dataset.target,'"]'):""),t.className)for(var n=t.className.split(/\s/),a=0;a<n.length;a++)n[a]&&"active"!==n[a]&&"ct-active"!==n[a]&&(r+="."+n[a]);return r})).join(" > ")};function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="search",(r="id")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"beforeReplace",value:function(){return{previousSearchInputValue:l(document.querySelectorAll('.ct-filter-search input[type="search"]')).map((function(e){return{selector:u(e),value:e.value}})).filter((function(e){return e.value}))}}},{key:"afterReplace",value:function(e){var t=e.previousSearchInputValue;(void 0===t?[]:t).map((function(e){var t=e.selector,r=e.value,n=document.querySelector(t);n&&(n.value=r,ctEvents.trigger("blocksy:filters:search",{el:n,value:r}))}))}}])&&s(t.prototype,r),n&&s(t,n),e}();function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="accordions",(r="id")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"getAllExpandables",value:function(){return p(document.querySelectorAll(".ct-filter-item-inner .ct-expandable-trigger, .ct-block-wrapper > .ct-expandable-trigger"))}},{key:"generateElIdentifier",value:function(e){return{selector:u(e),text:(e.innerText||e.parentNode.innerText).replace(/[\(\)0-9]/g,"")}}},{key:"elementMatchesIdentifier",value:function(e,t){var r=(e.innerText||e.parentNode.innerText).replace(/[\(\)0-9]/g,"");return t.text===r&&e.matches(t.selector)}},{key:"beforeReplace",value:function(){var e=this;return{allTriggersStates:this.getAllExpandables().map((function(t){return e.generateElIdentifier(t)})),previousExpandedTriggersStates:this.getAllExpandables().filter((function(e){return"true"===e.ariaExpanded})).map((function(t){return e.generateElIdentifier(t)}))}}},{key:"afterReplace",value:function(e){var t=this,r=e.previousExpandedTriggersStates,n=e.allTriggersStates;this.getAllExpandables().map((function(e){if(n.some((function(r){return t.elementMatchesIdentifier(e,r)}))){var a="true"===e.ariaExpanded,o=r.some((function(r){return t.elementMatchesIdentifier(e,r)}));if(!a||!o){e.ariaExpanded=o?"true":"false";var i=function(e){if(e.hasAttribute("data-target"))return document.querySelector(e.getAttribute("data-target"));var t=e.parentNode.querySelector("[aria-hidden]");if(t)return t;var r=e.parentNode.parentNode.querySelector("[aria-hidden]");return r||null}(e);i&&(i.ariaHidden=o?"false":"true")}}}))}}])&&y(t.prototype,r),n&&y(t,n),e}();function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=[new o,new c,new d,new v],q=function(e){return e.querySelector(".ct-filter-widget")||e.className.includes("ct-active-filters")||e.querySelector(".ct-active-filters")},j=function(e){var t=document.createElement("div");t.innerHTML=e;var r=b(new Set(Array.from(document.querySelectorAll(".ct-filter-widget, .ct-active-filters")).map((function(e){var t=null;return e.closest(".ct-block-wrapper")&&(t=e.closest(".ct-block-wrapper").parentNode),e.closest(".ct-widget")&&(t=e.closest(".ct-widget").parentNode),t?u(t):null})).filter((function(e){return e})))),n=function(e){var t=A.reduce((function(e,t){var r=t.beforeReplace();return w(w({},e),r?S({},t.id,r):{})}),{});return document.body.insertAdjacentHTML("beforeend",'<div class="ct-tmp-filter-buffer"></div>'),e.map((function(e){var t=document.querySelector(e);t&&b(t.children).map((function(e){q(e)?e.remove():document.querySelector(".ct-tmp-filter-buffer").appendChild(e)}))})),t}(r);!function(e,t){var r=document.querySelector(".ct-products-container").parentNode,n=null;e.querySelector(".ct-products-container")&&(n=e.querySelector(".ct-products-container").parentNode),n||(n=e.querySelector(".ct-no-results").parentNode),n&&(b(r.children).map((function(e){e.matches(".ct-products-container")?b(e.children).map((function(e){e.matches(".ct-filters-loading")||e.remove()})):e.remove()})),b(n.children).map((function(e){if(e.matches(".ct-products-container")){var t=r.querySelector(".ct-products-container");return b(e.children).map((function(e){e.matches(".ct-filters-loading")||t.appendChild(e)})),void r.appendChild(t)}r.insertAdjacentHTML("beforeend",e.outerHTML)})),t.map((function(t){var r=e.querySelector(t),n=document.querySelector(t);r&&n&&(n.innerHTML="",b(r.children).map((function(e){if(q(e))n.insertAdjacentHTML("beforeend",e.outerHTML);else if(e.id){var t=document.querySelector(".ct-tmp-filter-buffer #".concat(e.id));t&&n.appendChild(t)}})))})))}(t,r),function(e){if(e.previousExpandedTriggersStates){var t=e.previousExpandedTriggersStates.map((function(e){return document.querySelector(e)})).filter((function(e){return e})),r=e.previousExpandedTriggersStates.map((function(e){return document.querySelector(e)})).filter((function(e){return e}));b(document.querySelectorAll(".ct-filter-item-inner .ct-expandable-trigger, .ct-block-wrapper > .ct-expandable-trigger")).map((function(e){if(("true"!==e.ariaExpanded||!r.includes(e))&&t.includes(e)){e.ariaExpanded="false";var n=e.dataset.target;if(document.querySelector(n)&&(document.querySelector(n).ariaHidden="true"),r.includes(e)){e.ariaExpanded="true";var a=e.dataset.target;document.querySelector(a)&&(document.querySelector(a).ariaHidden="false")}}}))}document.querySelector(".ct-tmp-filter-buffer").remove(),A.forEach((function(t){var r=e[t.id]?e[t.id]:{};t.afterReplace(r)}))}(n)};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T={},P=function(e){return new Promise((function(r){var n=document.querySelector(".ct-products-container");document.querySelector('[data-ajax-filters*="scroll"]')&&n&&n.closest(".ct-container")&&function(e){if(e){var r=window.scrollY,n=null,a=function a(o){n||(n=o);var i=o-n,c=e.getBoundingClientRect(),u=0,l=document.querySelector("[data-sticky*=yes], [data-sticky*=fixed]");l&&(u=parseFloat(getComputedStyle(l).top)||0);var f,s,d,p=window.scrollY+c.top-(parseFloat(getComputedStyle(document.body).getPropertyValue("--header-sticky-height"))||0)-20-u,m=Math.max((f=i,s=r,d=-r,(f/=350)<1?d/2*f*f+s:-d/2*(--f*(f-2)-1)+s),p);t.areWeDealingWithSafari?(scrollTo(0,m),i<700&&requestAnimationFrame(a)):scrollTo(0,p)};t.areWeDealingWithSafari?requestAnimationFrame(a):a(0)}}(n.closest(".ct-container"));var a=document.querySelector(".ct-filters-loading");!e&&a&&a.classList.add("active"),n.dataset.animate="leave:start",requestAnimationFrame((function(){n.dataset.animate="leave:end",C(E(n.children).find((function(e){return e.matches("[data-products], .woocommerce-no-products-found")})),(function(){n.dataset.animate="leave",r()}))}))}))},I=function(e){window.history.pushState({},document.title,e)},N=function(e){return new Promise((function(t){var r;(r=e,T[r]?new Promise((function(e){e(T[r]),window.ct_customizer_localizations||(T[r]=T[r].clone())})):new Promise((function(e){return fetch(r,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){e(t),window.ct_customizer_localizations||(T[r]=t.clone())}))}))).then((function(e){return e.text()})).then((function(e){j(e),t()}))}))},L=function(e){var t=!!T[e];P(t).then((function(){N(e).then((function(){setTimeout((function(){!function(){var e=document.querySelector(".ct-filters-loading");if(e){var t=function(){var e=document.querySelector(".ct-products-container");e.dataset.animate="appear:start",requestAnimationFrame((function(){e.dataset.animate="appear:end",C(E(e.children).find((function(e){return e.matches("[data-products], .woocommerce-no-products-found")})),(function(){e.removeAttribute("data-animate")}))})),n().trigger("blocksy:frontend:init")};e.classList.contains("active")?(e.classList.remove("active"),C(e,(function(){t()}))):t()}}()}),50)}))}))};function C(e,t){var r=function(){e.removeEventListener("transitionend",n),t()},n=function(t){t.target===e&&r()};e.addEventListener("transitionend",n)}(0,t.registerDynamicChunk)("blocksy_ext_woo_extra_ajax_filters",{mount:function(e,t){var r=t.event,n=document.querySelector('[data-ajax-filters*="yes"]');if("INPUT"===e.tagName&&"checkbox"===e.type&&"change"===r.type){var a=e.closest(".ct-filter-item").querySelector("a");if(!n)return void(window.location.href=a.getAttribute("href"));e=a}if("A"===e.tagName){var o=e.closest(".ct-filter-item");if(o&&(o.classList.contains("active")?o.classList.remove("active"):o.classList.add("active")),e.closest(".ct-filter-item")){var i=e.closest(".ct-filter-item").querySelector('[type="checkbox"]');if(i){i.getAttribute("checked")?(i.checked=!1,i.removeAttribute("checked")):(i.checked=!0,i.setAttribute("checked","checked"));var c=i.cloneNode(!0);i.parentNode.replaceChild(c,i)}}if(!n)return void(window.location.href=e.getAttribute("href"))}if("FORM"!==e.tagName&&n){if("SELECT"===e.tagName&&e.closest(".woocommerce-ordering")){var u=new URL(window.location.href);return E(new FormData(e.closest(".woocommerce-ordering")).entries()).map((function(e){var t=O(e,2),r=t[0],n=t[1];u.searchParams.set(r,n)})),I(u.href),void L(u.href)}var l=e.getAttribute("href");I(l),L(l)}}}),window.addEventListener("popstate",(function(e){L(window.location.href)}),!1)}();