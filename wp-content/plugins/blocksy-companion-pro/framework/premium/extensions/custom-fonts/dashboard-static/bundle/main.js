!function(){var e={184:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&e.push(i)}else if("object"===a)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},172:function(e,t,n){var r,o,a=n(760),i=n(529),c=(o=[],{activateTrap:function(e){if(o.length>0){var t=o[o.length-1];t!==e&&t.pause()}var n=o.indexOf(e);-1===n||o.splice(n,1),o.push(e)},deactivateTrap:function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),o.length>0&&o[o.length-1].unpause()}});function u(e){return setTimeout(e,0)}e.exports=function(e,t){var n=document,o="string"==typeof e?n.querySelector(e):e,s=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),l={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},f={activate:function(e){if(l.active)return;w(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:s.onActivate;t&&t();return d(),f},deactivate:p,pause:function(){if(l.paused||!l.active)return;l.paused=!0,m()},unpause:function(){if(!l.paused||!l.active)return;l.paused=!1,w(),d()}};return f;function p(e){if(l.active){clearTimeout(r),m(),l.active=!1,l.paused=!1,c.deactivateTrap(f);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:s.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:s.returnFocusOnDeactivate)&&u((function(){var e;E((e=l.nodeFocusedBeforeActivation,v("setReturnFocus")||e))})),f}}function d(){if(l.active)return c.activateTrap(f),r=u((function(){E(b())})),n.addEventListener("focusin",h,!0),n.addEventListener("mousedown",y,{capture:!0,passive:!1}),n.addEventListener("touchstart",y,{capture:!0,passive:!1}),n.addEventListener("click",O,{capture:!0,passive:!1}),n.addEventListener("keydown",g,{capture:!0,passive:!1}),f}function m(){if(l.active)return n.removeEventListener("focusin",h,!0),n.removeEventListener("mousedown",y,!0),n.removeEventListener("touchstart",y,!0),n.removeEventListener("click",O,!0),n.removeEventListener("keydown",g,!0),f}function v(e){var t=s[e],r=t;if(!t)return null;if("string"==typeof t&&!(r=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(r=t()))throw new Error("`"+e+"` did not return a node");return r}function b(){var e;if(!(e=null!==v("initialFocus")?v("initialFocus"):o.contains(n.activeElement)?n.activeElement:l.firstTabbableNode||v("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function y(e){o.contains(e.target)||(s.clickOutsideDeactivates?p({returnFocus:!a.isFocusable(e.target)}):s.allowOutsideClick&&s.allowOutsideClick(e)||e.preventDefault())}function h(e){o.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),E(l.mostRecentlyFocusedNode||b()))}function g(e){if(!1!==s.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void p();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(w(),e.shiftKey&&e.target===l.firstTabbableNode)return e.preventDefault(),void E(l.lastTabbableNode);if(!e.shiftKey&&e.target===l.lastTabbableNode)e.preventDefault(),E(l.firstTabbableNode)}(e)}function O(e){s.clickOutsideDeactivates||o.contains(e.target)||s.allowOutsideClick&&s.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function w(){var e=a(o);l.firstTabbableNode=e[0]||b(),l.lastTabbableNode=e[e.length-1]||b()}function E(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),l.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):E(b()))}}},703:function(e,t,n){"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},760:function(e){var t=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],n=t.join(","),r="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function o(e,t){t=t||{};var o,i,c,l=[],f=[],p=e.querySelectorAll(n);for(t.includeContainer&&r.call(e,n)&&(p=Array.prototype.slice.apply(p)).unshift(e),o=0;o<p.length;o++)a(i=p[o])&&(0===(c=u(i))?l.push(i):f.push({documentOrder:o,tabIndex:c,node:i}));return f.sort(s).map((function(e){return e.node})).concat(l)}function a(e){return!(!i(e)||function(e){return function(e){return l(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),n=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(t);return!n||n===e}(e)}(e)||u(e)<0)}function i(e){return!(e.disabled||function(e){return l(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}o.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==r.call(e,n)&&a(e)},o.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==r.call(e,c)&&i(e)};var c=t.concat("iframe").join(",");function u(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function s(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function l(e){return"INPUT"===e.tagName}e.exports=o},529:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.hooks,r=(window.ctEvents,n(184)),o=n.n(r),a=window.wp.i18n,i=window.blocksyOptions,c=window.React,u=n.n(c);n(697);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){e.initialState,e.getInitialState,e.refs,e.getRefs,e.didMount,e.didUpdate,e.willUnmount,e.getSnapshotBeforeUpdate,e.shouldUpdate,e.render;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["initialState","getInitialState","refs","getRefs","didMount","didUpdate","willUnmount","getSnapshotBeforeUpdate","shouldUpdate","render"])},f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),p.call(r),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getArgs=function(){var e=this.state,t=this.props,n=this._setState,r=this._forceUpdate,o=this._refs;return{state:e,props:l(t),refs:o,setState:n,forceUpdate:r}},t.prototype.componentDidMount=function(){this.props.didMount&&this.props.didMount(this.getArgs())},t.prototype.shouldComponentUpdate=function(e,t){return!this.props.shouldUpdate||this.props.shouldUpdate({props:this.props,state:this.state,nextProps:l(e),nextState:t})},t.prototype.componentWillUnmount=function(){this.props.willUnmount&&this.props.willUnmount({state:this.state,props:l(this.props),refs:this._refs})},t.prototype.componentDidUpdate=function(e,t,n){this.props.didUpdate&&this.props.didUpdate(Object.assign(this.getArgs(),{prevProps:l(e),prevState:t}),n)},t.prototype.getSnapshotBeforeUpdate=function(e,t){return this.props.getSnapshotBeforeUpdate?this.props.getSnapshotBeforeUpdate(Object.assign(this.getArgs(),{prevProps:l(e),prevState:t})):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.render;return n?n(this.getArgs()):"function"==typeof t?t(this.getArgs()):t||null},t}(u().Component);f.defaultProps={getInitialState:function(){},getRefs:function(){return{}}};var p=function(){var e=this;this.state=this.props.initialState||this.props.getInitialState(this.props),this._refs=this.props.refs||this.props.getRefs(this.getArgs()),this._setState=function(){return e.setState.apply(e,arguments)},this._forceUpdate=function(){return e.forceUpdate.apply(e,arguments)}},d=f,m=function(t){var n=t.children,r=t.container,o=void 0===r?document.body:r,a=t.type,i=void 0===a?"reach-portal":a;return(0,e.createElement)(d,{getRefs:function(){return{node:null}},didMount:function(e){var t=e.refs,n=e.forceUpdate,r=o.hasOwnProperty("current")?o.current:o;t.node=document.createElement(i),r.appendChild(t.node),n()},willUnmount:function(e){var t=e.refs.node,n=o.hasOwnProperty("current")?o.current:o;n&&n.removeChild(t)},render:function(t){var r=t.refs.node;return r?(0,e.createPortal)(n,r):null}})};var v=function(e,t){return function(n){if(e&&e(n),!n.defaultPrevented)return t(n)}},b=n(172),y=n.n(b);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var O=function(){},w=function(){},E=function(e,t){var n,r,o;e.disposeAriaHider=(n=e.overlayNode,r=[],o=[],Array.prototype.forEach.call(document.querySelectorAll("body > *"),(function(e){if(e!==n.parentNode){var t=e.getAttribute("aria-hidden");null!==t&&"false"!==t||(r.push(t),o.push(e),e.setAttribute("aria-hidden","true"))}})),function(){o.forEach((function(e,t){var n=r[t];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)}))}),e.trap=y()(e.overlayNode,{initialFocus:t?function(){return t.current}:void 0,fallbackFocus:e.contentNode,escapeDeactivates:!1,clickOutsideDeactivates:!1})},j=function(e){var t=e.refs;t.trap.deactivate(),t.disposeAriaHider()},P=React.createContext(),S=React.forwardRef((function(t,n){var r=t.container,o=t.isOpen,a=void 0===o||o,i=t.onDismiss,c=void 0===i?O:i,u=t.initialFocusRef,s=t.onClick,l=t.onKeyDown,f=g(t,["container","isOpen","onDismiss","initialFocusRef","onClick","onKeyDown"]);return(0,e.createElement)(d,{didMount:w},a?(0,e.createElement)(m,{container:r,"data-reach-dialog-wrapper":!0},(0,e.createElement)(d,{refs:{overlayNode:null,contentNode:null},didMount:function(e){var t=e.refs;E(t,u)},willUnmount:j},(function(t){var r=t.refs;return(0,e.createElement)(P.Provider,{value:function(e){return r.contentNode=e}},(0,e.createElement)("div",h({"data-reach-dialog-overlay":!0,onClick:v(s,(function(e){e.stopPropagation(),c()})),onKeyDown:v(l,(function(e){"Escape"===e.key&&(e.stopPropagation(),c())})),ref:function(e){r.overlayNode=e,n&&n(e)}},f)))}))):null)}));S.propTypes={initialFocusRef:function(){}};var _=function(e){return e.stopPropagation()},F=React.forwardRef((function(t,n){var r=t.onClick,o=(t.onKeyDown,g(t,["onClick","onKeyDown"]));return(0,e.createElement)(P.Consumer,null,(function(t){return(0,e.createElement)("div",h({"aria-modal":"true","data-reach-dialog-content":!0,tabIndex:"-1",onClick:v(r,_),ref:function(e){t(e),n&&n(e)}},o))}))})),k=function(e){return!!e},x=function(t){var n=t.items,r=t.isVisible,a=void 0===r?k:r,c=t.render,u=t.className,s=t.onDismiss;return(0,e.createElement)(i.Transition,{items:n,onStart:function(){return document.body.classList[a(n)?"add":"remove"]("ct-dashboard-overlay-open")},config:{duration:200},from:{opacity:0,y:-10},enter:{opacity:1,y:0},leave:{opacity:0,y:10}},(function(t){return a(t)&&function(n){return(0,e.createElement)(S,{style:{opacity:n.opacity},container:document.querySelector("#wpbody"),onDismiss:function(){return s()}},(0,e.createElement)(F,{className:o()("ct-admin-modal",u),style:{transform:"translate3d(0px, ".concat(n.y,"px, 0px)")}},(0,e.createElement)("button",{className:"close-button",onClick:function(){return s()}},"×"),c(t,n)))}}))},N=function(e){return{n1:"Thin 100",i1:"Thin 100 Italic",n2:"Extra-Light 200",i2:"Extra-Light 200 Italic",n3:"Light 300",i3:"Light 300 Italic",n4:"Regular 400",i4:e?"Italic":"Regular 400 Italic",n5:"Medium 500",i5:"Medium 500 Italic",n6:"Semi-Bold 600",i6:"Semi-Bold 600 Italic",n7:"Bold 700",i7:"Bold 700 Italic",n8:"Extra-Bold 800",i8:"Extra-Bold 800 Italic",n9:"Ultra-Bold 900",i9:"Ultra-Bold 900 Italic"}},C=function(e){return N(arguments.length>1&&void 0!==arguments[1]&&arguments[1])[e]};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(t){var n=t.customFontsSettings,r=t.onChange,o=t.editFont;return(0,e.createElement)(e.Fragment,null,n.fonts.length>0&&(0,e.createElement)("div",{className:"ct-custom-fonts-list"},(0,e.createElement)("h4",null,(0,a.__)("Available Fonts","blocksy-companion")),(0,e.createElement)("ul",null,n.fonts.map((function(t,i){return(0,e.createElement)("li",{key:i},(0,e.createElement)("div",{className:"ct-custom-font-info"},(0,e.createElement)("span",null,t.name,t.__custom?" (".concat((0,a.__)("Dynamic Font","blocksy-companion"),")"):""),"variable"===t.fontType?(0,e.createElement)("i",null,(0,a.__)("Variable font","blocksy-companion"),": ",t.variations.filter((function(e){return!!e.url})).map((function(e){var t=e.variation;return C(t,!0)})).join(", ")):(0,e.createElement)("i",null,(0,a.__)("Variations","blocksy-companion"),": ",t.variations.map((function(e){var t=e.variation;return C(t)})).join(", "))),!t.__custom&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ct-custom-font-actions"},(0,e.createElement)("button",{className:"ct-edit-font","data-tooltip":"top",onClick:function(){return o(i)}},(0,e.createElement)("span",{className:"ct-tooltip"},(0,a.__)("Edit Font","blocksy-companion"))),(0,e.createElement)("button",{className:"ct-remove-font","data-hover":"red","data-tooltip":"top",onClick:function(){r(T(T({},n),{},{fonts:n.fonts.filter((function(e){return e.name!==t.name}))}))}},(0,e.createElement)("span",{className:"ct-tooltip"},(0,a.__)("Remove Font","blocksy-companion"))))))})))))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(t){var n=t.name,r=t.futureFont,o=t.setFutureFont,i=t.variations;t.onChange,t.customFontsSettings;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)(ie,{name:n,onChange:function(e){return o(R(R({},r),{},{name:e}))}}),(0,e.createElement)("span",{className:"ct-option-description",dangerouslySetInnerHTML:{__html:(0,a.sprintf)((0,a.__)("Upload only the %s.woff2%s or %s.ttf%s font file formats (see browser coverage %shere%s). Use %sthis converter tool%s if you don't have these font formats.","blocksy-companion"),"<code>","</code>","<code>","</code>",'<a href="https://caniuse.com/#search=woff2" target="_blank">',"</a>",'<a href="https://transfonter.org/" target="_blank">',"</a>")}}),(0,e.createElement)("ul",{className:"ct-upload-fonts"},i.map((function(t,n){return(0,e.createElement)(ce,{futureFont:r,key:n,variation:t,onChange:function(e){return o(R(R({},r),{},{variations:i.map((function(t,r){return r===n?e:t}))}))},onRemove:function(){o(R(R({},r),{},{variations:i.slice(0,n).concat(i.slice(n+1,i.length))}))}})})),"regular"===r.fontType&&(0,e.createElement)("li",{className:"ct-add-variation"},(0,e.createElement)(ae,{futureFont:r,setFutureFont:o}))))};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(t){var n=t.name,r=t.futureFont,o=t.setFutureFont,i=t.variations;t.onChange,t.customFontsSettings;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)(ie,{name:n,onChange:function(e){return o(q(q({},r),{},{name:e}))}}),(0,e.createElement)("span",{className:"ct-option-description",dangerouslySetInnerHTML:{__html:(0,a.sprintf)((0,a.__)("Upload only the %s.woff2%s or %s.ttf%s font file formats. Don't convert variable fonts by yourself. Ask the font provider to hand a correct file or the %svariable%s font won't work.","blocksy-companion"),"<code>","</code>","<code>","</code>",'<a href="https://web.dev/variable-fonts/" target="_blank">',"</a>")}}),(0,e.createElement)("ul",{className:"ct-upload-fonts"},i.map((function(t,n){return(0,e.createElement)(ce,{futureFont:r,key:n,variation:t,onChange:function(e){return o(q(q({},r),{},{variations:i.map((function(t,r){return r===n?e:t}))}))},onRemove:function(){o(q(q({},r),{},{variations:i.slice(0,n).concat(i.slice(n+1,i.length))}))}})}))))};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(t){var n=t.variations,r=void 0===n?[]:n,o=t.setFuturePreloadFonts,a=t.futurePreloadFonts;return(0,e.createElement)(i.Checkboxes,{value:a.variations.reduce((function(e,t){return W(W({},e),{},Y({},t,a.variations.includes(t)))}),{}),option:{choices:r.filter((function(e){return e.url})).map((function(e){var t=e.variation;return{key:t,value:C(t)}})),attr:{"data-columns":2},allow_empty:!0},onChange:function(e){o(W(W({},a),{},{variations:Object.keys(e).filter((function(t){return e[t]}))}))}})},G=function(t){var n=t.variations,r=t.futurePreloadFonts,o=t.setFuturePreloadFonts;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)("h4",{className:"ct-title"},(0,a.__)("Preload Variations","blocksy-companion")),(0,e.createElement)($,{variations:n,setFuturePreloadFonts:o,futurePreloadFonts:r}))};function J(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){return te({variation:"n4",attachment_id:null,url:"",filename:""},e)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return{name:"",fontType:e,variations:[re({variation:"n4"})].concat(z("variable"===e?[re({variation:"i4"})]:[]))}},ae=function(t){var n=t.futureFont,r=t.setFutureFont;return 0===Object.keys(N()).filter((function(e){return!n.variations.find((function(t){return t.variation===e}))})).reduce((function(e,t){return te(te({},e),{},ne({},t,C(t)))}),{}).length?null:(0,e.createElement)("button",{className:"button",onClick:function(){r(te(te({},n),{},{variations:[].concat(z(n.variations),[re({variation:""})])}))}},(0,a.__)("Add Variation","blocksy-companion"))},ie=function(t){var n=t.name,r=t.onChange;return(0,e.createElement)("div",{className:"ct-font-name"},(0,e.createElement)("div",{className:"ct-option-input"},(0,e.createElement)("input",{onChange:function(e){var t=e.target.value;return r(t)},type:"text",placeholder:(0,a.__)("Font Name","blocksy-companion"),value:n})))},ce=function(t){var n=t.futureFont,r=t.variation,o=t.onChange,c=t.onRemove,u=te({},Object.keys(N()).filter((function(e){return r.variation===e||!n.variations.find((function(t){return t.variation===e}))})).reduce((function(e,t){return te(te({},e),{},ne({},t,C(t)))}),{}));return(0,e.createElement)("li",null,"regular"===n.fontType&&(0,e.createElement)(i.Select,{option:{appendToBody:!0,placeholder:(0,a.__)("Select variation","blocksy-companion"),choices:u,defaultToFirstItem:!1},value:r.variation,onChange:function(e){o(te(te({},r),{},{variation:e}))}}),"variable"===n.fontType&&"n4"===r.variation&&(0,e.createElement)("span",{className:"ct-variation-name"},(0,a.__)("Regular","blocksy-companion")),"variable"===n.fontType&&"i4"===r.variation&&(0,e.createElement)("span",{className:"ct-variation-name"},(0,a.__)("Italic","blocksy-companion")),r.attachment_id&&(0,e.createElement)("span",{className:"ct-font-preview"},r.filename),(0,e.createElement)("button",{className:"button ct-upload-edit-font-button",onClick:function(){var e=wp.media({button:{text:"Select"},states:[new wp.media.controller.Library({title:"Select font",multiple:!1,date:!1,priority:20})]});r.attachment_id&&e.on("open",(function(){var t,n;e.reset(),t=r.attachment_id,n=function(){e.state().get("selection").add(wp.media.attachment(r.attachment_id))},wp.media.attachment(t).get("url")?wp.media.attachment(t).fetch().then((function(){return n(wp.media.attachment(t))})):n(wp.media.attachment(t))})),e.setState("library").open(),e.on("select",(function(){var t=e.state().get("selection").first().toJSON();o(te(te({},r),{},{attachment_id:t.id,url:wp.media.attachment(t.id).get("url"),filename:t.filename}))}))}},r.attachment_id?(0,a.__)("Change","blocksy-companion"):(0,a.__)("Choose","blocksy-companion")),"regular"===n.fontType&&n.variations.length>1&&(0,e.createElement)("button",{className:"ct-remove",onClick:function(){return c()}},"×"),"variable"===n.fontType&&r.attachment_id&&(0,e.createElement)("button",{className:"ct-remove",onClick:function(){o(te(te({},r),{},{attachment_id:null,url:"",filename:""}))}},"×"))},ue=function(t){var n=t.customFontsSettings,r=t.onChange,i=t.futureFont,c=t.moveToAllFonts,u=t.setFutureFont,s=Q((0,e.useState)({variations:[]}),2),l=s[0],f=s[1],p=Q((0,e.useState)("regular"),2),d=p[0],m=p[1],v=Q((0,e.useState)("regular"),2),b=v[0],y=v[1],h=d;i.regular||(h="variable"),i.variable||(h="regular");var g=function(e){u(te(te({},i),{},ne({},h,e)))},O=i[h],w=O.name,E=O.variations;(0,e.useEffect)((function(){O.preloads&&f(O.preloads)}),[O]),(0,e.useEffect)((function(){window._wpPluploadSettings&&(window._wpPluploadSettings.defaults.filters.mime_types[0].extensions=window._wpPluploadSettings.defaults.filters.mime_types[0].extensions+",ttf,woff2",jQuery.extend(wp.Uploader,window._wpPluploadSettings))}),[]);var j=!w||0===E.length||"regular"===O.fontType&&E.length>0&&E.some((function(e){var t=e.attachment_id,n=e.variation;return!t||!n}))||"variable"===O.fontType&&E.length>0&&E.find((function(e){var t=e.attachment_id,n=e.variation;return!(t&&n||"n4"!==n)})),P=Object.keys(O).includes("editedIndex");return(0,e.createElement)("div",{className:"ct-modal-content","data-state":P?"edit":"new"},P?(0,e.createElement)("h2",null,(0,a.__)("Edit Font","blocksy-companion")):(0,e.createElement)("h2",null,(0,a.__)("Upload Font","blocksy-companion")),(0,e.createElement)("div",{className:"ct-tabs-scroll"},(0,e.createElement)("div",{className:"ct-tabs"},(0,e.createElement)("ul",null,(P?["regular","advanced"]:["regular","variable"]).map((function(t){var n=P?b===t:h===t;return(0,e.createElement)("li",{key:t,className:o()({active:n}),onClick:function(){P?y(t):m(t)}},{regular:P?(0,a.__)("General","blocksy-companion"):(0,a.__)("Simple Font","blocksy-companion"),variable:(0,a.__)("Variable Font","blocksy-companion"),advanced:(0,a.__)("Preload","blocksy-companion")}[t])}))),(0,e.createElement)("div",{className:"ct-current-tab"},P?"regular"===b?(0,e.createElement)(B,{name:w,futureFont:O,setFutureFont:g,variations:E,onChange:r,customFontsSettings:n}):(0,e.createElement)(G,{variations:E,futurePreloadFonts:l,setFuturePreloadFonts:f}):"regular"===h?(0,e.createElement)(B,{name:w,futureFont:O,setFutureFont:g,variations:E,onChange:r,customFontsSettings:n}):(0,e.createElement)(V,{name:w,futureFont:O,setFutureFont:g,variations:E,onChange:r,customFontsSettings:n})))),(0,e.createElement)("div",{className:"ct-modal-actions has-divider"},(0,e.createElement)("button",{className:"button button-primary",disabled:j,onClick:function(){var e=O.editedIndex,t=te(te({},J(O,["editedIndex"])),{preloads:l.variations.length>0?l:{variations:[]}});r(te(te({},n),{},{fonts:e||0===e?n.fonts.map((function(n,r){return r===e?t:n})):[].concat(z(n.fonts),[t])})),c()}},(0,a.__)("Save Custom Font","blocksy-companion"))))};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=function(t){var n=t.extension,r=t.onExtsSync,o=t.setExtsStatus,i=de((0,e.useState)(!1),2),c=i[0],u=i[1],s=de((0,e.useState)({regular:null,variable:null}),2),l=s[0],f=s[1],p=n.data.settings,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object.values(e.fonts).reduce((function(e,t){var n=t.variations,r=t.preloads;return r?[].concat(pe(e),pe(n.map((function(e){var t=e.variation,n=e.url;return r.variations.includes(t)&&n})))):e}),[]);r({extAction:{type:"update-settings",settings:le(le({},e),{urls:(null==t?void 0:t.length)>0?t:[]})}}),o((function(t){return le(le({},t),{},fe({},n.name,le(le({},t[n.name]),{},{data:le(le({},t[n.name].data),{},{settings:le(le({},t[n.name].data.settings),e)})})))}))};return(0,e.createElement)("div",{className:"ct-extension-options ct-custom-fonts-options"},(0,e.createElement)("h4",null,(0,a.__)("Custom Fonts Settings","blocksy-companion")),(0,e.createElement)("p",null,(0,a.__)("Here you can see all your custom fonts that can be used in all typography options across the theme.","blocksy-companion")),(0,e.createElement)(I,{onChange:function(e){d(e)},customFontsSettings:p,saveCustomFontsSettings:d,editFont:function(e){f(fe({regular:null,variable:null},p.fonts[e].fontType,le(le({},p.fonts[e]),{},{editedIndex:e}))),u(!0)}}),(0,e.createElement)(x,{items:c,className:"ct-custom-fonts-modal",onDismiss:function(){u(!1)},render:function(){return(0,e.createElement)(ue,{futureFont:l,setFutureFont:f,onChange:function(e){d(e)},moveToAllFonts:function(){u(!1)},customFontsSettings:p})}}),(0,e.createElement)("button",{className:"ct-button-primary",onClick:function(){f({regular:oe("regular"),variable:oe("variable")}),u(!0)}},(0,a.__)("Upload Font","blocksy-companion")))};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,t.addFilter)("blocksy.extensions.current_extension_content","blocksy",(function(t,n){var r=n.extension,o=n.onExtsSync,a=n.setExtsStatus;return"custom-fonts"!==r.name?t:he(he({},t),{},{content:(0,e.createElement)(be,{setExtsStatus:a,extension:r,onExtsSync:o})})}))}()}();