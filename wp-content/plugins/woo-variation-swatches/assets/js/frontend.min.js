!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=3)}([,,,function(t,e,i){i(4),t.exports=i(5)},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=o(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var a,n,o=[],r=!0,s=!1;try{for(i=i.call(t);!(r=(a=i.next()).done)&&(o.push(a.value),!e||o.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==i.return||i.return()}finally{if(s)throw n}}return o}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function s(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){"use strict";var e,o=(e=jQuery,function(){function t(i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"defaults",{}),this._element=i,this.$element=e(i),this._config=e.extend(!0,{},this.defaults,a),this.product_variations=this.$element.data("product_variations")||[],this.is_ajax_variation=this.product_variations.length<1,this.product_id=this.$element.data("product_id"),this.reset_variations=this.$element.find(".reset_variations"),this.attributeFields=this.$element.find(".variations select"),this.selected_item_template='<span class="woo-selected-variation-item-name" data-default=""></span>',this.$element.addClass("wvs-loaded"),this.init(),this.update(),e(document).trigger("woo_variation_swatches_loaded",this)}var i,o,r;return i=t,(o=[{key:"isAjaxVariation",value:function(){return this.is_ajax_variation}},{key:"init",value:function(){this.prepareLabel(),this.prepareItems(),this.setupItems(),this.setupEvents(),this.setUpStockInfo()}},{key:"prepareLabel",value:function(){var t=this;woo_variation_swatches_options.show_variation_label&&this.$element.find(".variations .label").each((function(i,a){e(a).append(t.selected_item_template)}))}},{key:"prepareItems",value:function(){this.$element.find("ul.variable-items-wrapper").each((function(t,i){e(i).parent().addClass("woo-variation-items-wrapper")}))}},{key:"setupItems",value:function(){var t=this;this.$element.find("ul.variable-items-wrapper").each((function(i,a){var n="",o=e(a).parent().prev().find(".woo-selected-variation-item-name"),r=e(a).parent().find("select.woo-variation-raw-select"),s=r.find("option"),l=r.find("option:disabled"),c=r.find("option.enabled.out-of-stock"),u=r.find("option:selected"),d=r.find("option").eq(1),v=[],f=[],h=[];s.each((function(){""!==e(this).val()&&(v.push(e(this).val()),n=0===u.length?d.val():u.val())})),l.each((function(){""!==e(this).val()&&f.push(e(this).val())})),c.each((function(){""!==e(this).val()&&h.push(e(this).val())}));var p=_.difference(v,f);t.setupItem(a,n,p,h,o)}))}},{key:"setupItem",value:function(t,i,a,n,o){var r=this;e(t).find("li.variable-item").each((function(t,s){var l=e(s).attr("data-value"),c=e(s).attr("data-title");e(s).removeClass("selected disabled no-stock").addClass("disabled"),e(s).attr("aria-checked","false"),e(s).attr("tabindex","-1"),e(s).attr("data-wvstooltip-out-of-stock",""),e(s).find("input.variable-item-radio-input:radio").prop("disabled",!0).prop("checked",!1),i.length<1&&woo_variation_swatches_options.show_variation_label&&o.text(""),r.isAjaxVariation()?(e(s).find("input.variable-item-radio-input:radio").prop("disabled",!1),e(s).removeClass("selected disabled no-stock"),l===i&&(e(s).addClass("selected"),e(s).attr("aria-checked","true"),e(s).attr("tabindex","0"),e(s).find("input.variable-item-radio-input:radio").prop("disabled",!1).prop("checked",!0),woo_variation_swatches_options.show_variation_label&&o.text("".concat(woo_variation_swatches_options.variation_label_separator," ").concat(c)),e(s).trigger("wvs-item-updated",[i,l]))):(_.includes(a,l)&&(e(s).removeClass("selected disabled"),e(s).removeAttr("aria-hidden"),e(s).attr("tabindex","0"),e(s).find("input.variable-item-radio-input:radio").prop("disabled",!1),l===i&&(e(s).addClass("selected"),e(s).attr("aria-checked","true"),e(s).find("input.variable-item-radio-input:radio").prop("checked",!0),woo_variation_swatches_options.show_variation_label&&o.text("".concat(woo_variation_swatches_options.variation_label_separator," ").concat(c)),e(s).trigger("wvs-item-updated",[i,l]))),_.includes(n,l)&&woo_variation_swatches_options.clickable_out_of_stock&&(e(s).removeClass("disabled").addClass("no-stock"),e(s).attr("data-wvstooltip-out-of-stock",woo_variation_swatches_options.out_of_stock_tooltip_text)))}))}},{key:"setupEvents",value:function(){var t=this;this.$element.find("ul.variable-items-wrapper").each((function(i,a){var n=e(a).parent().find("select.woo-variation-raw-select");woo_variation_swatches_options.clear_on_reselect?(e(a).on("click.wvs","li.variable-item:not(.selected):not(.radio-variable-item)",(function(i){i.preventDefault(),i.stopPropagation();var a=e(this).data("value");n.val(a).trigger("change"),n.trigger("click"),woo_variation_swatches_options.is_mobile,e(this).trigger("wvs-selected-item",[a,n,t.$element])})),e(a).on("click.wvs","li.variable-item.selected:not(.radio-variable-item)",(function(i){i.preventDefault(),i.stopPropagation();var a=e(this).val();n.val("").trigger("change"),n.trigger("click"),woo_variation_swatches_options.is_mobile,e(this).trigger("wvs-unselected-item",[a,n,t.$element])})),e(a).on("click.wvs","input.variable-item-radio-input:radio",(function(t){t.stopPropagation(),e(this).trigger("change.wvs",{radioChange:!0})})),e(a).on("change.wvs","input.variable-item-radio-input:radio",(function(i,a){if(i.preventDefault(),i.stopPropagation(),a&&a.radioChange){var o=e(this).val();e(this).parent("li.radio-variable-item").hasClass("selected")?(n.val("").trigger("change"),e(this).parent("li.radio-variable-item").trigger("wvs-unselected-item",[o,n,t.$element])):(n.val(o).trigger("change"),e(this).parent("li.radio-variable-item").trigger("wvs-selected-item",[o,n,t.$element])),n.trigger("click"),woo_variation_swatches_options.is_mobile}}))):(e(a).on("click.wvs","li.variable-item:not(.radio-variable-item)",(function(i){i.preventDefault(),i.stopPropagation();var a=e(this).data("value");n.val(a).trigger("change"),n.trigger("click"),woo_variation_swatches_options.is_mobile,e(this).trigger("wvs-selected-item",[a,n,t._element])})),e(a).on("change.wvs","input.variable-item-radio-input:radio",(function(i){i.preventDefault(),i.stopPropagation();var a=e(this).val();n.val(a).trigger("change"),n.trigger("click"),woo_variation_swatches_options.is_mobile,e(this).parent("li.radio-variable-item").removeClass("selected disabled no-stock").addClass("selected"),e(this).parent("li.radio-variable-item").trigger("wvs-selected-item",[a,n,t.$element])}))),e(a).on("keydown.wvs","li.variable-item:not(.disabled)",(function(t){(t.keyCode&&32===t.keyCode||t.key&&" "===t.key||t.keyCode&&13===t.keyCode||t.key&&"enter"===t.key.toLowerCase())&&(t.preventDefault(),e(this).trigger("click"))}))})),this.$element.on("click.wvs",".woo-variation-swatches-variable-item-more",(function(t){t.preventDefault(),e(this).parent().removeClass("enabled-display-limit-mode enabled-catalog-display-limit-mode"),e(this).remove()}))}},{key:"update",value:function(){var t=this;this.$element.on("woocommerce_variation_has_changed.wvs",(function(e){t.setupItems()}))}},{key:"setUpStockInfo",value:function(){var t=this;if(woo_variation_swatches_options.show_variation_stock){var e=parseInt(woo_variation_swatches_options.stock_label_threshold,10);this.$element.on("wvs-selected-item.wc-variation-form",(function(){var i=t.getChosenAttributes(),a=t.findStockVariations(t.product_variations,i);i.count>1&&i.count===i.chosenCount&&t.resetStockInfo(),i.count>1&&i.count===i.mayChosenCount&&a.forEach((function(i){var a='[data-attribute_name="'.concat(i.attribute_name,'"] > [data-value="').concat(i.attribute_value,'"]');i.variation.is_in_stock&&i.variation.max_qty&&i.variation.variation_stock_left&&i.variation.max_qty<=e?(t.$element.find("".concat(a," .wvs-stock-left-info")).attr("data-wvs-stock-info",i.variation.variation_stock_left),t.$element.find(a).addClass("wvs-show-stock-left-info")):(t.$element.find(a).removeClass("wvs-show-stock-left-info"),t.$element.find("".concat(a," .wvs-stock-left-info")).attr("data-wvs-stock-info",""))}))})),this.$element.on("hide_variation.wc-variation-form",(function(){t.resetStockInfo()}))}}},{key:"resetStockInfo",value:function(){this.$element.find(".variable-item").removeClass("wvs-show-stock-left-info"),this.$element.find(".wvs-stock-left-info").attr("data-wvs-stock-info","")}},{key:"getChosenAttributes",value:function(){var t={},i=0,a=0;return this.attributeFields.each((function(){var n=e(this).data("attribute_name")||e(this).attr("name"),o=e(this).val()||"";o.length>0&&a++,i++,t[n]=o})),{count:i,chosenCount:a,mayChosenCount:a+1,data:t}}},{key:"findStockVariations",value:function(t,e){for(var i=[],o=0,r=Object.entries(e.data);o<r.length;o++){var s=n(r[o],2),c=s[0];if(0===s[1].length){var u,d=a(this.$element.find("ul[data-attribute_name='".concat(c,"']")).data("attribute_values")||[]);try{for(d.s();!(u=d.n()).done;){var v=u.value,f=_.extend(e.data,l({},c,v)),h=this.findMatchingVariations(t,f);if(h.length>0){var p=h.shift(),m={};m.attribute_name=c,m.attribute_value=v,m.variation=p,i.push(m)}}}catch(t){d.e(t)}finally{d.f()}}}return i}},{key:"findMatchingVariations",value:function(t,e){for(var i=[],a=0;a<t.length;a++){var n=t[a];this.isMatch(n.attributes,e)&&i.push(n)}return i}},{key:"isMatch",value:function(t,e){var i=!0;for(var a in t)if(t.hasOwnProperty(a)){var n=t[a],o=e[a];void 0!==n&&void 0!==o&&0!==n.length&&0!==o.length&&n!==o&&(i=!1)}return i}}])&&s(i.prototype,o),r&&s(i,r),t}());(function(t){return function(e,a){t.fn[e]=function(n){for(var o=this,r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return this.each((function(r,l){var c=t(l),u=c.data(e);if(u||(u=new a(c,t.extend({},n)),c.data(e,u)),"string"==typeof n){if("object"===i(u[n]))return u[n];var d;if("function"==typeof u[n])return(d=u)[n].apply(d,s)}return o}))},t.fn[e].Constructor=a,t[e]=function(i){for(var a,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return(a=t({}))[e].apply(a,[i].concat(o))},t.fn[e].noConflict=function(){return t.fn[e]}}})(jQuery)("WooVariationSwatches",o)}(window)},function(t,e){jQuery((function(t){try{t(document.body).on("woo_variation_swatches_init",(function(){t(".variations_form:not(.wvs-loaded)").WooVariationSwatches(),t(".woo_variation_swatches_variations_form:not(.wvs-loaded)").WooVariationSwatches(),t(".ywcp_inner_selected_container:not(.wvs-loaded)").WooVariationSwatches()})).trigger("woo_variation_swatches_init")}catch(t){window.console.log("Variation Swatches:",t)}t(document.body).on("wc_variation_form.wvs",(function(e){t(document.body).trigger("woo_variation_swatches_init")})),t(document.body).on("wc-composite-initializing",".composite_data",(function(e,i){i.actions.add_action("component_options_state_changed",(function(e){t(e.$component_content).find(".variations_form").removeClass("wvs-loaded wvs-pro-loaded")}))}))}))}]);