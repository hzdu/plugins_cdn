!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=115)}({0:function(t,e){function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o;o=jQuery,t.exports=Backbone.View.extend({events:{"click .click":"_call","change .change":"_call","input .input":"_call"},initialize:function(t){o.extend(!0,this,t),t&&t.template&&(this.template=t.template),this.afterInitialize(t)},_call:function(t){var e=t.currentTarget.dataset.fn;if("function"==typeof this[e])return this[e].call(this,t,t.currentTarget)},render:function(){return"string"==typeof this.template&&(this.template=TVE_Dash.tpl(this.template)),"function"==typeof this.template&&this.$el.html(this.template({model:this.model})),this.afterRender(),this},openModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.prototype instanceof TVE_Dash.views.Modal)return e=i(i({},{"max-width":"calc(100% - 40px)",width:"850px",in_duration:200,out_duration:300,className:"tvd-modal tva-modal-create",dismissible:!0}),e),TVE_Dash.modal(t,e);console.warn("Invalid type of modal view")},destroy:function(){return this.stopListening(),this.undelegateEvents(),this.$el.removeData().off(),this},afterRender:o.noop,afterInitialize:o.noop})},1:function(t,e,n){t.exports=n(0).extend({template:"",className:"tvd-content-set-rule-step",afterInitialize:function(t){this.ruleModel=t.ruleModel,this.step=t.step},hasStoredValue:function(){return this.getStoredValue().length>0},getStoredValue:function(){return this.ruleModel.get(this.step)},isValid:function(t){return t&&t.trim().length>0},change:function(t,e){this.isValid(e.value)&&this.ruleModel.trigger("control-changed",this.step,this.processValue(e.value))},processValue:function(t){return t}})},115:function(t,e,n){t.exports=n(116)},116:function(t,e,n){var i;(i=jQuery).extend(TD_SETS,{Models:{Set:n(19),Rule:n(21)},Collections:{Sets:n(117),Rules:n(20)},Views:{List:n(118),Item:n(119),Rule:n(120),Form:n(125),Pagination:n(126),Confirm:n(127),Modals:{Edit:n(128)},Controls:{Base:n(1)}}}),i(window).trigger("td_sets_ready",TD_SETS),TD_SETS.sets=new TD_SETS.Collections.Sets(TD_SETS.sets)},117:function(t,e,n){t.exports=Backbone.Collection.extend({model:n(19),offset:0,limit:8,currentPage:1,_filter:{},hasFilters:function(){return Object.keys(this._filter).length>0},resetFilters:function(){return this.currentPage=1,this.offset=0,this._filter={},this},applyFilters:function(t,e){return this.currentPage=1,this.offset=0,this._filter[t]=e,this},next:function(){return this.currentPage++,this.offset=(this.currentPage-1)*this.limit,this},prev:function(){return this.currentPage--,this.offset=(this.currentPage-1)*this.limit,this},pageInfo:function(){var t=this.length;return{currentPage:this.currentPage,totalPages:Math.ceil(t/this.limit),page:this.currentPage,prev:this.offset>0,next:this.currentPage*this.limit<t}},paginated:function(){var t=this,e=this.currentPage-1,n=[],i=this.clone();if(this.hasFilters()&&this._filter.search&&this._filter.search.length>0)for(var s in i.each((function(e){-1===e.get("post_title").toLowerCase().indexOf(t._filter.search)&&n.push(e)})),n)i.remove(n[s]);return i=_(i.rest(this.limit*e)),i=_(i.first(this.limit))}})},118:function(t,e,n){t.exports=n(0).extend({template:"list",noItemsTemplate:"tva-c-s-no-items",noSearchItemsTemplate:"tva-c-s-no-search-items",pagination:null,itemViews:{},afterInitialize:function(){var t=this;this.listenTo(this.collection,"reset",_.bind(this.renderList,this)),this.listenTo(this.collection,"page-changed",_.bind(this.renderList,this)),this.listenTo(this.collection,"remove",_.bind((function(){t.collection.pageInfo().currentPage>1&&0===t.collection.paginated().toJSON().length&&t.collection.prev(),t.renderList(),t.pagination.render()}),this))},afterRender:function(){this.$list=this.$(".tvd-content-sets-list"),this.$pagination=this.$(".tvd-content-sets-list-pagination"),this.renderList(),this.renderPagination()},renderPagination:function(){this.pagination=new TD_SETS.Views.Pagination({el:this.$pagination,collection:this.collection}),this.pagination.render()},filterSets:function(t,e){e.value.length?this.collection.applyFilters("search",e.value):this.collection.resetFilters(),this.renderList(),this.pagination.toggle(!this.collection.hasFilters()).render()},renderList:function(){if(this.$list.empty(),this.itemViews={},0===this.collection.length)return this.$list.html(TVE_Dash.tpl(this.noItemsTemplate));var t=this.collection.paginated();if(this.collection.hasFilters()&&0===t.size())return this.$list.html(TVE_Dash.tpl(this.noSearchItemsTemplate));t.forEach(this.renderItem,this)},renderItem:function(t){var e=new TD_SETS.Views.Item({model:t,collection:this.collection});this.$list.append(e.render().$el),this.itemViews[t.get("ID")]=e},addSet:function(){this.openModal(TD_SETS.Views.Modals.Edit,{model:new TD_SETS.Models.Set({}),collection:this.collection,width:"810px",className:"tvd-modal tvd-content-set-edit"})}})},119:function(t,e,n){t.exports=n(0).extend({className:"tvd-content-set-item",template:"item",edit:function(){this.openModal(TD_SETS.Views.Modals.Edit,{model:this.model,collection:this.collection,width:"810px",className:"tvd-modal tvd-content-set-edit"})},delete:function(){var t=this,e=new TD_SETS.Views.Confirm({template:TVE_Dash.tpl("item-delete-confirmation"),className:"tvd-content-set-delete-confirmation",confirm:function(){t.model.destroy({wait:!0,success:function(e,n){t.destroy().remove()}})},cancel:function(){this.remove()}});this.$el.append(e.render().$el)}})},120:function(t,e,n){t.exports=n(0).extend({template:"rule",className:"tvd-content-set-rule",hiddenPostTypes:["tvd_blog_page","tvd_search_result_page"],afterInitialize:function(){this.listenTo(this.model,"control-changed",_.bind(this.stepChanged,this)),this.listenTo(this.collection,"add",_.bind(this.allowDelete,this)),this.listenTo(this.collection,"remove",_.bind(this.allowDelete,this))},clearSteps:function(){this.stepInstances&&this.stepInstances.forEach((function(t){t.off("all"),t.destroy()})),this.stepInstances=[]},afterRender:function(){var t=this;this.$ruleWrapper=this.$(".tvd-rule-holder").empty(),this.$deleteRuleWrapper=this.$(".tvd-content-set-delete-rule-wrapper"),this.clearSteps(),this.model.isEmpty()||this.model.getSteps().forEach((function(e){t.model.get(e).length>0&&t.addStep(e)})),this.computeNextStep(),this.allowDelete()},stepChanged:function(t,e){var n=this;this.clearSteps(),this.$ruleWrapper.empty();var i=this.getStepIndex(t)+1;if(this.getStepsLength()!==i)for(var s=i;s<this.getStepsLength();s++){var o=this.model.getSteps()[s];if(this.model.get(o).toString().length){var r={};r[o]="",this.model.set(r,{silent:!0})}}this.model.set(this.getRuleModelParams(t,e)),this.model.getSteps().forEach((function(t){n.model.get(t).length>0&&n.addStep(t)})),this.computeNextStep("field"===t&&this.getNextStep().length)},getRuleModelParams:function(t,e){var n={};return n[t]=e,"content"===t&&(["tvd_search_result_page","tvd_blog_page"].includes(n.content)?(n.content_type=n.content,n.field=-1):"archive"===n.content?n.content_type=n.content:n.content_type=TD_SETS.post_types.includes(e)?"post":"term"),"field"===t&&("title"===n.field&&"archive"===this.model.get("content_type")&&(n.content_type="term",n.content="category"),"author"===n.field&&["archive","term"].includes(this.model.get("content_type"))&&(n.content_type="archive",n.content="archive")),n},computeNextStep:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.getNextStep();e.length&&this.addStep(this.getNextStep(),t)},getStepIndex:function(t){return this.model.getSteps().indexOf(t)},getStepsLength:function(){return this.model.getSteps().length},getNextStep:function(){var t=this,e="";return this.forceCompleteSteps()||this.model.getSteps().some((function(n){if(0===t.model.get(n).length)return e=n,!0})),e},forceCompleteSteps:function(){return this.model.get("field")&&-1===parseInt(this.model.get("field"))||this.hiddenPostTypes.includes(this.model.get("content"))},addStep:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getStepView(t),i=new n({ruleModel:this.model,step:t,model:new Backbone.Model({options:this.getStepOptions(t),trigger_change:e})});"content"===t&&"category"===this.model.get("content")&&(i.getStoredValue=function(){return"term"===this.ruleModel.get("content_type")&&"category"===this.ruleModel.get("content")?"archive":this.ruleModel.get(this.step)}),this.stepInstances.push(i),this.$ruleWrapper.append(i.render().$el)},getStepOptions:function(t){var e=TD_SETS.options.general[t];return"field"===t&&Array.isArray(TD_SETS.options.exceptions[this.model.get("content")])?e=TD_SETS.options.exceptions[this.model.get("content")]:"operator"===t&&Array.isArray(TD_SETS.options.exceptions[this.model.get("field")])&&(e=TD_SETS.options.exceptions[this.model.get("field")]),e},getStepView:function(t){var e=n(0);switch(t){case"content":case"field":case"operator":e=n(121);break;case"value":e=this.model.get("field")===TD_SETS.fields.published_date?this.model.get("operator")===TD_SETS.operators.within_last?n(122):n(123):n(124)}return e},allowDelete:function(){this.$deleteRuleWrapper.toggle(this.collection.length>1)},deleteRule:function(){var t=this,e=new TD_SETS.Views.Confirm({template:TVE_Dash.tpl("rule-delete-confirmation"),className:"tvd-content-set-delete-confirmation",confirm:function(){t.model.destroy(),t.destroy().remove()},cancel:function(){this.remove()}});this.$el.append(e.render().$el)}})},121:function(t,e,n){t.exports=n(1).extend({template:"tvd-c-s-select",afterRender:function(){var t=this;this.$select=this.$("select"),this.model.get("options").forEach((function(e){var n='<option value="'.concat(e.value,'"').concat(e.disabled?" disabled selected":"",">").concat(e.label,"</option>");t.$select.append(n)})),this.hasStoredValue()&&this.setSelected(this.getStoredValue()),this.model.get("trigger_change")&&(this.setSelected(this.getFirstOptionValue()),setTimeout((function(){t.triggerChange()}))),this.$select.select2({minimumResultsForSearch:-1,width:"100%"}),this.$select.data("select2").$container.addClass("tvd-content-set-select-simple"),this.$select.data("select2").$dropdown.addClass("tvd-content-set-select-dropdown")},setSelected:function(t){t&&this.$select.find('option[value="'.concat(t,'"]')).attr("selected","selected")},getFirstOptionValue:function(){return this.$select.find("option:eq(1)").val()},triggerChange:function(){this.$select.trigger("change")},isValid:function(){return!0}})},122:function(t,e,n){t.exports=n(1).extend({template:"tvd-c-s-within-the-last",afterRender:function(){if(this.$input=this.$("input"),this.$select=this.$("select"),this.hasStoredValue()){var t=this.getStoredValue().split(" ");this.$input.val(t[0].trim()),this.$select.val(t[1].trim())}else this.$input.val(0),this.$select.val(this.$select.find("option").first().attr("value"));this.$select.select2(),this.$select.data("select2").$container.addClass("mt-10 tvd-content-set-select-simple"),this.$select.data("select2").$dropdown.addClass("tvd-content-set-select-dropdown")},isValid:function(){var t=this.$input.val();return isNaN(t)||parseInt(t)<0?(this.$input.val(1),!1):Number.isInteger(parseInt(this.$input.val()))&&this.$select.val().length>0},change:function(t,e){if(this.isValid(e.value)){var n={};n[this.step]=this.processValue(e.value),this.ruleModel.set(n)}},processValue:function(t){return"".concat(this.$input.val()," ").concat(this.$select.val())}})},123:function(t,e,n){t.exports=n(1).extend({template:"tvd-c-s-date-picker",afterRender:function(){this.$input=this.$(".tvd-date-picker"),this.$input.pickadate({firstDay:1,format:"dd-mmm-yyyy",formatSubmit:"yyyy-mm-dd",hiddenName:!0}),this.picker=this.$input.pickadate("picker"),this.hasStoredValue()&&this.$input.val(this.processFormat())},processFormat:function(){var t=new Date(this.getStoredValue()),e=parseInt(t.getMonth())+1,n=t.getFullYear(),i=e<10?"0"+e:e;return(t.getDate()<10?"0"+t.getDate():t.getDate())+"-"+i+"-"+n},processValue:function(t){return this.picker.get("select","yyyy-mm-dd")}})},124:function(t,e,n){function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n(1).extend({template:"tvd-c-s-select-multiple",afterRender:function(){var t=this;this.$select=this.$("select"),this.$select.data("select2")&&this.$select.select2("destroy");var e=this.ruleModel;this.$select.select2({placeholder:"Search for content",minimumInputLength:2,delay:250,multiple:!0,tags:!1,ajax:{url:TD_SETS.routes.base,type:"GET",dataType:"json",data:function(t){return s(s({},e.toJSON()),{_wpnonce:TD_SETS.nonce,query_string:t.term})},delay:250,cache:!0,processResults:function(t){return{results:t}}}}),this.hasStoredValue()&&this.setSelected(this.getStoredValue()),this.$select.data("select2").$container.addClass("tvd-content-set-select-multiple"),this.$select.on("select2:select",(function(e){t.change()})).on("select2:unselect",(function(e){e.params.originalEvent&&(e.params.originalEvent.stopPropagation(),t.change())})).data("select2").$dropdown.addClass("tvd-content-set-delete-select-multiple-dropdown")},setSelected:function(t){var e=this,n=[];this.$select.empty(),(t=t.filter((function(t){return t}))).forEach((function(t){n.push(t.id),e.$select.append('<option value="'+t.id+'">'+t.text+"</option>")})),this.$select.val(n).trigger("change")},change:function(t,e){var n=[];this.$select.select2("data").forEach((function(t){n.push({id:t.id,text:t.text})})),this.ruleModel.trigger("control-changed",this.step,n)}})},125:function(t,e,n){t.exports=n(0).extend({template:"form",addNewRuleTemplate:"add-new-rule",addRuleView:null,afterInitialize:function(){this.listenTo(this.model.getRules(),"add remove change",_.bind(this.rulesChanged,this)),this.listenTo(this.model.getRules(),"add change",this.animateToBottom)},afterRender:function(){var t=this;this.$name=this.$("#tvd-content-set-name"),this.$rulesWrapper=this.$("#tvd-content-set-rules"),this.$addRuleWrapper=this.$("#tvd-content-set-add-rule"),this.$inner=this.$(".tvd-content-set-inner"),this.$saveButton=this.$("button"),this.renderRules(),this.rulesChanged(),this.$name.on("input",(function(){t.getTitle().length>=1&&t.$name.removeClass("tva-cset-error")}))},renderRules:function(){this.$rulesWrapper.empty(),this.model.getRules().each(this.renderRule,this)},renderRule:function(t){this.$rulesWrapper.append(new TD_SETS.Views.Rule({model:t,collection:this.model.getRules()}).render().$el)},rulesChanged:function(){this.$addRuleWrapper.children().remove(),this.allowAddNewRule()&&this.$addRuleWrapper.append(TVE_Dash.tpl(this.addNewRuleTemplate)())},animateToBottom:function(){this.$inner.animate({scrollTop:this.$inner[0].scrollTop+1e3},150)},addNewRule:function(){var t=new TD_SETS.Models.Rule({});this.model.getRules().add(t),this.renderRule(t)},allowAddNewRule:function(){var t=!0;return this.model.getRules().each((function(e){e.isCompleted()||(t=!1)})),t},getTitle:function(){return this.$name.val().trim()},saveContentSet:function(){var t=this,e=this.getTitle();if(this.$(".tva-cset-error").removeClass("tva-cset-error"),this.$name.toggleClass("tva-cset-error",0===e.length),0===e.length)return setTimeout((function(){t.$inner.animate({scrollTop:0},150)}),200),void TVE_Dash.err("Please add a name");if(this.model.set({post_title:e},{silent:!0}),!this.model.isValid()){var n=this.model.changedAttributes();if(n&&n.post_title){var i=this.model.previousAttributes();this.model.set({post_title:i.post_title},{silent:!0})}return TVE_Dash.err(this.model.getValidationError()),void this.$("input, select").each((function(t,e){"input"===e.tagName.toLowerCase()&&e.classList.contains("select2-search__field")?0===jQuery(e).closest(".tvd-content-set-rule-step").find("select").val().length&&e.classList.add("tva-cset-error"):e.value||e.classList.add("tva-cset-error")}))}this.$saveButton.addClass("disabled"),TVE_Dash.showLoader(),this.model.save().done((function(e){t.collection.reset(e),t.$saveButton.removeClass("disabled"),TVE_Dash.hideLoader()})).fail((function(e){e.responseJSON&&e.responseJSON.message?TVE_Dash.err("Something went wrong: "+e.responseJSON.message):TVE_Dash.err("Something went wrong: "+e.responseText),t.$saveButton.removeClass("disabled"),TVE_Dash.hideLoader()}))}})},126:function(t,e,n){t.exports=n(0).extend({template:"tva-c-s-pagination",afterInitialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"page-changed",this.render)},toggle:function(t){return this.$el.toggle(!!t),this},render:function(){var t=this.collection.pageInfo();this.$el.html(t.totalPages>1?TVE_Dash.tpl(this.template)(t):"")},previousPage:function(){this.collection.prev().trigger("page-changed")},nextPage:function(){this.collection.next().trigger("page-changed")}})},127:function(t,e,n){t.exports=n(0).extend({cancel:function(){this.remove()},confirm:function(){this.remove()}})},128:function(t,e,n){t.exports=n(129).extend({template:"modals/edit",afterInitialize:function(){this.listenTo(this.collection,"reset",_.bind(this.close,this))},afterRender:function(){this.$_content=this.$el,this.$(".tvd-content-set-form").html(new TD_SETS.Views.Form({model:this.model,collection:this.collection}).render().$el)}})},129:function(t,e){jQuery,t.exports=TVE_Dash.views.Modal.extend({template:"",events:{"click .click":"_call","input .input":"_call","keyup .keyup":"_call","change .change":"_call"},_call:function(t){var e=t.currentTarget.dataset.fn;if("function"==typeof this[e])return this[e].call(this,t,t.currentTarget)},afterRender:function(){return this}})},19:function(t,e,n){var i=n(20);t.exports=n(22).extend({idAttribute:"ID",allowEmptyRules:!1,defaults:function(){return{post_title:"",post_content:new i}},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.post_content instanceof Backbone.Collection&&(t.post_content=jQuery.extend(!0,[],t.post_content.toJSON())),t.post_content&&this.set("post_content",new i(t.post_content))},parse:function(t){return t.post_content instanceof Backbone.Collection&&(t.post_content=jQuery.extend(!0,[],t.post_content.toJSON())),t.post_content&&(this.get("post_content").reset(t.post_content),t=[]),t},url:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.buildUrl([TD_SETS.routes.base,this.get("ID"),t].filter((function(t){return t})).join("/"),e)},getRules:function(){return this.get("post_content")},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];if(t.post_title||e.push(this.validation_error("post_title","Title is empty!")),!1!==this.allowEmptyRules||t.post_content.isCompleted()||e.push(this.validation_error("post_content","You must add some content")),e.length)return e}})},20:function(t,e,n){t.exports=Backbone.Collection.extend({model:n(21),isCompleted:function(){var t=!0;return 0===this.length?t=!1:this.each((function(e){e.isCompleted()||(t=!1)})),t}})},21:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=n(22).extend({idAttribute:"ID",defaults:function(){return{content_type:"",content:"",field:"",operator:"",value:[],content_label:{singular:"",plural:""}}},orderSteps:["content","field","operator","value"],getSteps:function(){return this.orderSteps},getValues:function(){var t=[];return Array.isArray(this.get("value"))&&this.get("value").forEach((function(e){"object"===i(e)&&void 0!==e.id&&t.push(e.id)})),t},isCompleted:function(){var t=this,e=!0;return this.orderSteps.some((function(n){return!(!t.get("field")||-1!==parseInt(t.get("field")))||(0===t.get(n).length?(e=!1,!0):void 0)})),e},isEmpty:function(){var t=this,e=!0;return this.orderSteps.some((function(n){if(t.get(n).length>0)return e=!1,!0})),e},normalize:function(){var t=this;return new Promise((function(e){wp.apiRequest({type:"POST",url:"".concat(TD_SETS.routes.base,"/normalize-rule"),data:t.toJSON()}).always((function(t){return e(t)}))}))}})},22:function(t,e){t.exports=Backbone.Model.extend({sync:function(t,e,n){var i=n.beforeSend;return n.beforeSend=function(t){t.setRequestHeader("X-WP-Nonce",TD_SETS.nonce),"function"==typeof i&&i.apply(this,arguments)},Backbone.Model.prototype.sync.apply(this,arguments)},buildUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new URL(t);return _.each(e,(function(t,e){i.searchParams.append(e,t)})),n&&(t.includes("?rest_route")?i.searchParams.set("rest_route",i.searchParams.get("rest_route")+n):i.pathname+=n),i.toString()},validation_error:function(t,e){return{field:t,message:e}},getValidationError:function(){return this.validationError&&this.validationError[0]?this.validationError[0].message:""}})}});