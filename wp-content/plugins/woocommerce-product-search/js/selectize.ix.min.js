/*!
 * selectize.ix.js
 *
 * Copyright (c) 2018 "kento" Karim Rahimpur www.itthinx.com
 * 
 * ixremove derived from remove_button Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author itthinx
 * @package woocommerce-product-search
 * @since 2.9.0
 */
;Selectize.define("ixnorm",function(b){var a=this;a.positionDropdown=(function(){var c=a.positionDropdown;return function(){var d=a.$control;var e=a.settings.dropdownParent==="body"?d.offset():d.position();e.top+=d.outerHeight(true);a.$dropdown.css({width:d[0].getBoundingClientRect().width,top:0,left:0})}})()});Selectize.define("ixboxed",function(b){var a=this;a.close=(function(){var c=a.close;return function(){}})();a.setup=(function(){var c=a.setup;return function(){c.apply(a,arguments);a.open()}})()});var ixboxed={};(function(a){ixboxed.adjustSize=function(e,n,d){if(typeof n==="undefined"){n=10}if(typeof d==="undefined"){d=0}else{if(d>=42){return}}var h=a(e).closest(".selectize-control").find(".selectize-dropdown-content");if(h.length>0){var b=h.children();if(b.length>0){var m=a(e).closest(".selectize-control").find(".selectize-dropdown");var k=parseFloat(h.first().css("line-height"));var c=0,g=0;b.each(function(i,j){if(i<n){g+=parseFloat(a(j).outerHeight())}else{return false}});g+=parseFloat(h.css("padding-top"));g+=parseFloat(h.css("padding-bottom"));var l=n*k;if(g>0){l=g}var f={height:l+"px","max-height":l+"px"};m.css(f)}else{setTimeout(function(){ixboxed.adjustSize(e,n,d+1)},100)}}}})(jQuery);(function(a){Selectize.define("ixremove",function(c){var b=this;c=a.extend({label:"&times;",title:selectize_ix.clear,className:"remove",append:true},c);var e=function(g){return(g+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var d=function(k,i){i.className="remove-single";var h=k;var j='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+e(i.title)+'">'+i.label+"</a>";var g=function(l,m){return jQuery(l).append(m)};k.setup=(function(){var l=h.setup;return function(){if(i.append){var o=jQuery(h.$input.context).attr("id");var n=jQuery("#"+o);var m=h.settings.render.item;h.settings.render.item=function(p){return g(m.apply(k,arguments),j)}}l.apply(k,arguments);k.$control.on("click","."+i.className,function(p){p.preventDefault();if(h.isLocked){return}h.clear()})}})()};var f=function(k,i){var h=k;var j='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+e(i.title)+'">'+i.label+"</a>";var g=function(l,m){var n=l.search(/(<\/[^>]+>\s*)$/);return l.substring(0,n)+m+l.substring(n)};k.setup=(function(){var l=h.setup;return function(){if(i.append){var m=h.settings.render.item;h.settings.render.item=function(n){return g(m.apply(k,arguments),j)}}l.apply(k,arguments);k.$control.on("click","."+i.className,function(o){o.preventDefault();if(h.isLocked){return}var n=jQuery(o.currentTarget).parent();h.setActiveItem(n);if(h.deleteSelection()){h.setCaret(h.items.length)}})}})()};jQuery.extend(Selectize.prototype,{set_items:function(h,g){if(typeof h!=="object"){h=[]}if(typeof g==="undefined"){g=true}for(var j=0;j<this.items.length;j++){this.removeItem(this.items[j],g)}for(var j=0;j<h.length;j++){this.addItem(h[j],g)}this.updatePlaceholder();this.showInput()}});b.getSearchOptions=(function(){var g=b.getSearchOptions;return function(){var i=b.settings;var h=i.sortField;if(typeof h==="string"){h=[{field:h}]}return{fields:i.searchField,conjunction:i.searchConjunction,sort:h,nesting:i.nesting,sort_empty:false}}})();jQuery(document).ready(function(){jQuery(document).on("focusin focusout",".selectize-input",function(i){var j=jQuery(this).closest(".selectize-control").find(".selectize-dropdown").first(),h=j.css("z-index"),g=h>0?h*2:1;if(!j.data("zindex")){j.data("zindex",h)}switch(i.type){case"focusin":j.css("z-index",g);break;case"focusout":j.css("z-index",j.data("zindex"));break}})});if(this.settings.mode==="single"){d(this,c)}else{f(this,c)}})})(jQuery);(function(a){Selectize.define("ixthumbnail",function(c){var b=this;c=a.extend({show_selected_thumbnails:true},c);var f=function(g){return typeof g!=="undefined"};var d=function(g){if(typeof g==="undefined"||g===null){return null}if(typeof g==="boolean"){return g?"1":"0"}return g+""};var e=function(g){return(g+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};b.render=(function(){var g=b.render;return function(p,j){var n,i,m;var k="";var h=false;var o=this;var l=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if(p==="option"||p==="item"){n=d(j[o.settings.valueField]);h=!!n}if(h){if(!f(o.renderCache[p])){o.renderCache[p]={}}if(o.renderCache[p].hasOwnProperty(n)){return o.renderCache[p][n]}}k=a(o.settings.render[p].apply(this,[j,e]));if(p==="option"||p==="option_create"){if(!j[o.settings.disabledField]){k.attr("data-selectable","")}}else{if(p==="optgroup"){i=j[o.settings.optgroupValueField]||"";k.attr("data-group",i);if(j[o.settings.disabledField]){k.attr("data-disabled","")}}}if(p==="option"||p==="item"){k.attr("data-value",n||"")}if(h){o.renderCache[p][n]=k[0]}return k[0]}})();b.setupTemplates=(function(){var g=b.setupTemplates;return function(){g.apply(b);b.settings.render.option=function(o,s){var h=ix_dropdown_thumbnails[o.value],p="",q="",r=o[b.settings.labelField],n=0,l=0,i="",m="ltr";if(typeof h!=="undefined"){if(typeof h.html!=="undefined"){p=h.html;q=h.padding;n=h.depth,l=h.padding_step;var j=Math.max(0,n-1)*l;i="width:"+j+"px;min-width:"+j+"px;max-width:"+j+"px"}}var k='<div class="option"><span class="option-padding" style="'+i+'">'+q+'</span><span class="option-thumbnail">'+p+'</span><span class="option-label">'+s(r)+"</span></div>";return k};if(c.show_selected_thumbnails){b.settings.render.item=b.settings.render.option}}})()})})(jQuery);