!function(){"use strict";var t,i,s="rs-addon-poly-top",e="rs-addon-poly-bottom";function h(t,i){this.calc=!1,this.slider=t,this.scrolled=!1,this.ids=t[0].id,this.time=i.time,this.ease=i.ease,this.color=i.color,this.point=i.point,this.height=i.height,this.onScroll=i.scroll,this.inverted=i.inverted,this.animated=i.animated,this.negative=i.negative,this.placement=i.placement,this.leftWidth=i.leftWidth,this.rightWidth=i.rightWidth,this.responsive=i.responsive,this.range="slider"===i.range,this.isTop="top"===i.position,this.starter=this.calculate.bind(this),t.one("revolution.slide.onbeforeswap",this.init.bind(this))}window.RsPolyfoldAddOn=function(s,e,n){s&&e&&(i=(t=s)(window),t.event.special.polyfoldDestroyed={remove:function(t){t.handler()}},new h(e,n))},h.prototype={init:function(){if(document.body.contains(this.slider[0])){var h=!(!t.fn.revolution||!t.fn.revolution[this.ids])&&t.fn.revolution[this.ids];if(h){var n,r="rs-addon-polyfold",o=document.createElement("div"),d=document.createDocumentFragment();if(this.left=document.createElement("div"),this.right=document.createElement("div"),this.gridWidth=h.gridwidth,Array.isArray(this.gridWidth)&&(this.gridWidth=this.gridWidth[0]),this.isTop?(n=s,r+=" "+s):(n=e,r+=" "+e),this.placement>1&&(r+=" ",2===this.placement?(r+="rs-addon-poly-nav-level",this.slider.find(".tparrows").css("z-index",1e3)):r+="rs-addon-poly-static-level"),this.animated){var a=document.createElement("style");a.type="text/css",a.innerHTML="#"+this.ids+"_wrapper ."+n+" div {transition: border-width "+this.time+"s "+this.ease+";}",document.getElementsByTagName("head")[0].appendChild(a)}"center"===this.point&&(r+=" rs-addon-poly-center"),d.appendChild(this.left),d.appendChild(this.right),o.className=r,o.appendChild(d),this.slider.one("polyfoldDestroyed",this.destroy.bind(this)),this.slider[0].parentNode.insertBefore(o,this.slider.nextSibling),i.on("resize.rspolyaddon"+this.ids,this.resize.bind(this)),this.onScroll&&i.on("scroll.rspolyaddon"+this.ids,this.draw.bind(this)),this.colors();this.onResize=this.onResize.bind(this),this.resize(!1,!0)}}else this.destroy()},colors:function(){var t,i;this.negative?this.isTop?(t="transparent "+this.color+" transparent transparent",i=this.color+" transparent transparent transparent"):(t="transparent transparent "+this.color+" transparent",i="transparent transparent transparent "+this.color):this.isTop?(t=this.color+" transparent transparent transparent",i="transparent "+this.color+" transparent transparent"):(t="transparent transparent transparent "+this.color,i="transparent transparent "+this.color+" transparent"),this.left.style.borderColor=t,this.right.style.borderColor=i},draw:function(t){var i,s,e;if(this.onScroll){t&&(this.scrolled=!0);var h=this.slider[0].getBoundingClientRect();if(!(h.top+window.pageYOffset<this.winHeight+window.pageYOffset&&h.bottom>0))return 1;if(this.isTop){var n=this.range?this.winHeight-this.sliderHeight:0;this.inverted?(i=!1!==this.calc?h.top:this.left.getBoundingClientRect().top,this.calc=this.polyHeight-this.polyHeight*((i-n)/this.drawHeight)):(i=!1!==this.calc?h.top+this.calc:this.left.getBoundingClientRect().top,this.calc=this.polyHeight*((i-n)/this.drawHeight))}else this.inverted?(i=!1!==this.calc?h.bottom:this.left.getBoundingClientRect().top,this.calc=this.polyHeight-this.polyHeight*((this.drawHeight-i)/this.drawHeight)):(i=!1!==this.calc?h.bottom-this.calc:this.left.getBoundingClientRect().top,this.calc=this.polyHeight*((this.drawHeight-i)/this.drawHeight));this.calc=Math.floor(Math.min(Math.max(this.calc,0),this.polyHeight))}else this.calc=this.polyHeight;if(this.negative?this.isTop?(s="0 "+Math.round(this.drawWidth*this.leftWidth)+"px "+this.calc+"px 0",e=this.calc+"px "+Math.round(this.drawWidth*this.rightWidth)+"px 0 0"):(s="0 0 "+this.calc+"px "+Math.round(this.drawWidth*this.leftWidth)+"px",e=this.calc+"px 0 0 "+Math.round(this.drawWidth*this.rightWidth)+"px"):this.isTop?(s=this.calc+"px "+Math.round(this.drawWidth*this.leftWidth)+"px 0 0",e="0 "+Math.round(this.drawWidth*this.rightWidth)+"px "+this.calc+"px 0"):(s=this.calc+"px 0 0 "+Math.round(this.drawWidth*this.leftWidth)+"px",e="0 0 "+this.calc+"px "+Math.round(this.drawWidth*this.rightWidth)+"px"),this.left.style.borderWidth=s,this.right.style.borderWidth=e,this.onScroll)return i},resize:function(t,i){var s=this;tpGS.gsap.delayedCall(.25,(function(){s.onResize(t,i)}))},onResize:function(t,i){this.winHeight=window.innerHeight,this.drawWidth=this.slider[0].clientWidth,this.sliderHeight=this.slider[0].clientHeight,this.drawHeight=this.range?this.sliderHeight:this.winHeight,this.polyHeight=this.responsive?Math.round(this.height*(this.drawWidth/this.gridWidth)):this.height,this.polyHeight=Math.min(this.polyHeight,this.sliderHeight),i&&this.onScroll?this.onScroll&&(this.oldOffset=0,this.newOffset=1,this.calculate()):this.draw()},calculate:function(){this.scrolled||this.newOffset===this.oldOffset?delete this.starter:(this.oldOffset=this.newOffset,this.newOffset=this.draw(),window.requestAnimationFrame(this.starter))},destroy:function(){for(var t in i.off("scroll.rspolyaddon"+this.ids+" resize.rspolyaddon"+this.ids),this)this.hasOwnProperty(t)&&delete this[t]}},window.RS_MODULES=window.RS_MODULES||{},window.RS_MODULES.polyfold={loaded:!0,version:"3.0.5"},window.RS_MODULES.checkMinimal&&window.RS_MODULES.checkMinimal()}();