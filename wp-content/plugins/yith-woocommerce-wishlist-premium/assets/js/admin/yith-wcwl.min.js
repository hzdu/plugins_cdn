jQuery(function(i){i.fn.dependency=function(t,e,n,_){var o=i(this);o.on("change",function(){var c=e(o);i.each(t,function(t,e){var n,e=i(e);!e.length||(n=e.closest(".yith-plugin-fw__panel__option")).length&&(c?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){n.hide()}):n.css("opacity",0).hide())}),void 0!==n&&n(o,_)}).change()};var e=function(t){return t.is(":checked")},n=(i("#yith_wcwl_disable_wishlist_for_unauthenticated_users"),i("#yith_wcwl_multi_wishlist_enable")),c=i("#yith_wcwl_enable_multi_wishlist_for_unauthenticated_users"),_=i("#yith_wcwl_modal_enable"),t=i("#yith_wcwl_loop_position"),o=i(".icon-select"),a=i('[name="yith_wcwl_add_to_cart_style"]'),s=i("#yith_wcwl_add_to_cart_icon"),l=i('[name="yith_wcwl_ask_an_estimate_style"]'),w=i("#yith_wcwl_ask_an_estimate_icon"),h=i("#yith_wcwl_enable_share"),u=i("#yith_wcwl_share_fb"),r=i("#yith_wcwl_fb_button_icon"),d=i("#yith_wcwl_share_twitter"),m=i("#yith_wcwl_tw_button_icon"),y=i("#yith_wcwl_share_pinterest"),f=i("#yith_wcwl_pr_button_icon"),g=i("#yith_wcwl_share_email"),p=i("#yith_wcwl_em_button_icon"),b=i("#yith_wcwl_share_whatsapp"),v=i("#yith_wcwl_wa_button_icon"),k=i("#yith_wcwl_show_estimate_button"),x=i("#yith_wcwl_show_additional_info_textarea"),T=i("#yith_wcwl_ask_an_estimate_fields"),j=i("#woocommerce_promotion_mail_settings\\[email_type\\]"),C=i("#woocommerce_yith_wcwl_back_in_stock_settings\\[enabled\\]"),O=i("#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]"),P=i("#woocommerce_yith_wcwl_on_sale_item_settings\\[enabled\\]"),D=i("#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]"),S=i('[id^="type_"]');t.add("select#yith_wcwl_button_position").on("change",function(){var t=i(this);"shortcode"===t.val()?t.parent().parent().next().find(".addon").show():t.parent().parent().next().find(".addon").hide()}).change(),S.on("change",function(){var t=i(this),e=t.val(),n=t.closest(".yith-toggle-content-row").next();"radio"===e||"select"===e?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){n.hide()}):n.css("opacity",0).hide()}).change(),a.on("change",function(){s.change()}),l.on("change",function(){w.change()}),o.each(function(){i(this).select2({templateResult:function(t){return t.id?i('<span><i class="option-icon fa '+t.element.value.toLowerCase()+'" ></i> '+t.text+"</span>"):t.text}})}),n.dependency(["#yith_wcwl_show_login_notice","#yith_wcwl_login_anchor_text"],function(){return e(n)&&"no"===(t=!(t=c).is('input[type="radio"]')?t.find('input[type="radio"]:checked'):t).val();var t}),_.dependency(["#yith_wcwl_show_exists_in_a_wishlist"],function(){var t="default"!==_.find(":checked").val();return t||i("#yith_wcwl_show_exists_in_a_wishlist").prop("checked",!0),t}),s.dependency(["#yith_wcwl_add_to_cart_custom_icon"],function(){return"custom"===s.val()&&"button_custom"===a.filter(":checked").val()}),w.dependency(["#yith_wcwl_ask_an_estimate_custom_icon"],function(){return"custom"===w.val()&&"button_custom"===l.filter(":checked").val()}),h.dependency(["#yith_wcwl_share_fb"],e,function(){u.change(),r.change(),d.change(),m.change(),y.change(),f.change(),g.change(),p.change(),b.change(),v.change()}),u.dependency(["#yith_wcwl_fb_button_icon","#yith_wcwl_color_fb_button_background"],function(){return e(u)&&e(h)},function(){r.change()}),r.dependency(["#yith_wcwl_fb_button_custom_icon"],function(){return e(u)&&e(h)&&"custom"===r.val()}),d.dependency(["#yith_wcwl_tw_button_icon","#yith_wcwl_color_tw_button_background"],function(){return e(d)&&e(h)},function(){m.change()}),m.dependency(["#yith_wcwl_tw_button_custom_icon"],function(){return e(d)&&e(h)&&"custom"===m.val()}),y.dependency(["#yith_wcwl_socials_image_url","#yith_wcwl_pr_button_icon","#yith_wcwl_color_pr_button_background"],function(){return e(y)&&e(h)},function(){f.change()}),f.dependency(["#yith_wcwl_pr_button_custom_icon"],function(){return e(y)&&e(h)&&"custom"===f.val()}),g.dependency(["#yith_wcwl_em_button_icon","#yith_wcwl_color_em_button_background"],function(){return e(g)&&e(h)},function(){p.change()}),p.dependency(["#yith_wcwl_em_button_custom_icon"],function(){return e(g)&&e(h)&&"custom"===p.val()}),b.dependency(["#yith_wcwl_wa_button_icon","#yith_wcwl_wa_button_custom_icon","#yith_wcwl_color_wa_button_background"],function(){return e(b)&&e(h)},function(){v.change()}),v.dependency(["#yith_wcwl_wa_button_custom_icon"],function(){return e(b)&&e(h)&&"custom"===v.val()}),d.add(y).dependency(["#yith_wcwl_socials_title","#yith_wcwl_socials_text"],function(){return(e(d)||e(y))&&e(h)}),k.dependency(["#yith_wcwl_show_additional_info_textarea"],e,function(){x.change()}),k.on("change",function(){x.change()}),x.dependency(["#yith_wcwl_additional_info_textarea_label"],function(){return e(k)&&e(x)}),x.on("change",function(){i(this).is(":checked")&&k.is(":checked")?T.removeClass("yith-disabled"):T.addClass("yith-disabled")}),j.dependency(["#woocommerce_promotion_mail_settings\\[content_html\\]"],function(){return"multipart"===j.val()||"html"===j.val()}),j.dependency(["#woocommerce_promotion_mail_settings\\[content_text\\]"],function(){return"multipart"===j.val()||"plain"===j.val()}),C.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[heading\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[subject\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return e(C)},function(){O.change()}),O.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]"],function(){return("multipart"===O.val()||"html"===O.val())&&e(C)}),O.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return("multipart"===O.val()||"plain"===O.val())&&e(C)}),P.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[heading\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[subject\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return e(P)},function(){D.change()}),D.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]"],function(){return("multipart"===D.val()||"html"===D.val())&&e(P)}),D.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return("multipart"===D.val()||"plain"===D.val())&&e(P)}),i(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),i(document).on("yith-add-box-button-toggle",function(){var e=i("#new_type"),n=i("#new_options").closest(".yith-add-box-row");e.on("change",function(){var t=e.val();"radio"===t||"select"===t?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){i(this).hide()}):n.css("opacity",0).hide()}).change()}),i(document).on("click",".toggle-settings",function(t){t.preventDefault(),i(this).closest(".yith-wcwl-row").toggleClass("active");t=i(this).data("target");i("#"+t).slideToggle()}),i(document).on("click",".yith-wcwl-save-settings",function(t){t.preventDefault(),i(this).closest("form").find(".wp-switch-editor.switch-html").trigger("click");t=i(this.closest(".email-settings")).attr("id"),t={action:"yith_wcwl_save_email_settings",params:i(this).closest("form").serialize(),email_key:t};i.ajax({type:"POST",data:t,url:ajaxurl,success:function(t){const e=i(".yith-wcwl-row.active");e.find(".email-settings").slideToggle(),e.toggleClass("active")}})}),i(document).on("change","#yith-wcwl-email-status",function(){var t={action:"yith_wcwl_save_mail_status",enabled:i(this).val(),email_key:i(this).closest(".yith-plugin-fw-onoff-container ").data("email_key")};i.ajax({type:"POST",data:t,url:ajaxurl,success:function(t){console.log("Email status updated")}})}),i("#popular-filter .tablenav #post-query-submit").on("click",function(t){window.onbeforeunload=null})});