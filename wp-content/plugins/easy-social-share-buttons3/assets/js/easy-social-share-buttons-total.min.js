jQuery(document).ready(function(t){"use strict";essb_settings.essb3_plugin_url;var e=essb_settings.essb3_facebook_total,s=essb_settings.essb3_admin_ajax,a=essb_settings.essb3_internal_counter,n=(essb_settings.essb3_counter_button_min,void 0!==essb_settings.twitter_counter?essb_settings.twitter_counter:""),r=void 0!==essb_settings.google_counter?essb_settings.google_counter:"";""==n&&(n="api"),""==r&&(r="api");jQuery.fn.essb_total_counters=function(){return this.each(function(){if("undefined"!=typeof essb_settings){var o=t(this).attr("data-post")||"",i=t(this).attr("data-url")||"",c=i,u=t(this).attr("data-essb-instance")||"",l=essb_settings.ajax_url;"light"==essb_settings.ajax_type&&(l=essb_settings.blog_url);for(var b=t(this).attr("data-network-list"),h=(t(this).find(".essb-total-value"),t(this)),p=s?l+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&":essb_settings.essb3_plugin_url+"/public/get-noapi-counts.php?",f=l+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&",d="twitter,linkedin,facebook,pinterest,google,stumbleupon,vk,reddit,buffer,love,ok,mwp,xing,pocket,mail,print,comments,yummly".split(","),g="del,digg,weibo,flattr,tumblr,whatsapp,meneame,blogger,amazon,yahoomail,gmail,aol,newsvine,hackernews,evernote,myspace,mailru,viadeo,line,flipboard,sms,viber,telegram".split(","),_=[],m=[],k=[],w=0;w<d.length;w++)if(b.indexOf(d[w])>-1)switch(d[w]){case"stumbleupon":case"vk":case"reddit":case"ok":case"mwp":case"xing":case"pocket":case"linkedin":s?k.push(d[w]):m.push(d[w]);break;case"mail":case"print":case"love":case"comments":k.push(d[w]);break;case"twitter":"api"==n||"newsc"==n?_.push(d[w]):"self"==n&&k.push(d[w]);break;case"google":"self"==r?k.push(d[w]):m.push(d[w]);break;default:_.push(d[w])}if(a)for(w=0;w<g.length;w++)b.indexOf(g[w])>-1&&k.push(g[w]);for(w=0;w<_.length;w++){switch(M=_[w]){case"facebook":var v="https://graph.facebook.com/?id="+i;t.getJSON(v).done(function(t){if(e)try{h.attr("data-facebook",t.share.share_count)}catch(t){h.attr("data-facebook","0")}else try{h.attr("data-facebook",t.share.share_count)}catch(t){h.attr("data-facebook","0")}});break;case"twitter":var y=c;c="https://cdn.api.twitter.com/1/urls/count.json?url="+c+"&callback=?";"newsc"==n&&(c="https://public.newsharecounts.com/count.json?url="+y),t.getJSON(c).done(function(t){h.attr("data-twitter",t.count)});break;case"linkedin":var j="https://www.linkedin.com/countserv/count/share?format=jsonp&url="+i+"&callback=essb";t.getJSON(j).done(function(t){h.attr("data-linkedin",t.count)});break;case"pinterest":var N="https://api.pinterest.com/v1/urls/count.json?callback=?&url="+i;t.getJSON(N).done(function(t){h.attr("data-pinterest",t.count)});break;case"buffer":var O="https://api.bufferapp.com/1/links/shares.json?url="+i+"&callback=?";t.getJSON(O).done(function(t){h.attr("data-buffer",t.shares)});break;case"yummly":var x="https://www.yummly.com/services/yum-count?callback=?&url="+i;t.getJSON(x).done(function(t){h.attr("data-yummly",t.count)})}}for(w=0;w<m.length;w++){var J=p+"nw="+(M=m[w])+"&url="+i+"&instance="+u;t.getJSON(J).done(function(t){t.network,t.url;h.attr("data-"+t.network,t.count)})}var S=[];for(w=0;w<k.length;w++){var M=k[w];S.push(M);J=f+"nw="+M+"&url="+i+"&instance="+u+"&post="+o;t.getJSON(J).done(function(t){var e=t[t.network]||"0";h.attr("data-"+t.network,e)})}}})},jQuery.fn.essb_update_total_counters=function(){return this.each(function(){var e=t(this).attr("data-network-list").split(","),s=t(this).find(".essb-total-value"),a=t(this).attr("data-full-number"),n=t(this),r=t(this).attr("data-essb-hide-till")||"";setInterval(function(){for(var t=0,o=0;o<e.length;o++){var i=e[o],c=n.attr("data-"+i);void 0===c&&(c=0),Number(c)<=0&&(c=0),t+=parseInt(c)}"true"==a?s.text(t):s.text(function(t){"number"!=typeof t&&(t=Number(t));var e,s,a=t<0?"-":"",n=["k","M","G","T","P","E","Z","Y"],r=Math.pow(10,3*n.length+3);if((t=Math.abs(Math.round(t)))<1e3)return a+t;if(t>=1e100)return a+"many";if(t>=r)return(a+t).replace(/(\.\d*)?e\+?/i,"e");do{if(t=Math.floor(t),e=n.shift(),s=t%1e6,!((t/=1e3)>=1e3))return t>=10&&t<1e3||t<10&&s%1e3<100?a+Math.floor(t)+e:(a+t).replace(/(\.\d).*/,"$1")+e}while(n.length);return a+"many"}(t)),""!=r&&parseInt(r)<=t&&n.show()},1200)})},t(".essb-total").essb_total_counters(),t(".essb-total").essb_update_total_counters()});