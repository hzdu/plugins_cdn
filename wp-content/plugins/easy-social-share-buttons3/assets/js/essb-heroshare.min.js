var heroshareTriggeredOnScroll=!1,heroshareTriggerPercent=-1,heroshareTriggerEnd=!1,heroshareTriggerExit=!1,heroImageWidth=0,essb_heroshare_exit=function(){if(!heroshareTriggerExit){var e=window.event,t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(heroshareTriggerExit=!0,essb_heroshare_show())}},essb_heroshare_onscroll=function(){if(!heroshareTriggeredOnScroll){var e=jQuery(window).scrollTop(),t=e/(jQuery(document).height()-jQuery(window).height())*100;if(heroshareTriggerEnd)if(jQuery(".essb_break_scroll").length){e>=jQuery(".essb_break_scroll").offset().top-parseFloat(jQuery(".essb_break_scroll").css("marginTop").replace(/auto/,0))&&(heroshareTriggeredOnScroll=!0,essb_heroshare_show())}else{t>90&&(heroshareTriggeredOnScroll=!0,essb_heroshare_show())}else t>heroshareTriggerPercent&&heroshareTriggerPercent>0&&(heroshareTriggeredOnScroll=!0,essb_heroshare_show())}},essb_heroshare_show=function(){jQuery.fn.extend({center:function(){return this.each(function(){var e=(jQuery(window).height()-jQuery(this).outerHeight())/2,t=(jQuery(window).width()-jQuery(this).outerWidth())/2;jQuery(this).css({position:"fixed",margin:0,top:(e>0?e:0)+"px",left:(t>0?t:0)+"px"})})}});var e=jQuery(".essb-heroshare");if(e.length){var t=jQuery(e).attr("data-width")||"",s=jQuery(e).attr("data-close-hide")||"",i=jQuery(e).attr("data-close-hide-all")||"",n=jQuery(e).attr("data-postid")||"";jQuery(e).attr("data-close-after");if("1"==s||"1"==i){var r="";if("1"==s){if("yes"==essbGetCookie(r="essb_heroshare_"+n))return;essbSetCookie(r,"yes",7)}if("1"==i){if("yes"==essbGetCookie(r="essb_heroshare_all"))return;essbSetCookie(r,"yes",7)}}var o=jQuery(window).width(),a=(jQuery("document").height(),960),h=t;Number(h)&&Number(h)>0&&(a=h),o<a&&(a=o-60);var l=heroImageWidth,_=a-l-50;jQuery(".essb-heroshare-post-image").css({width:l+"px"}),jQuery(".essb-heroshare-post-content").css({width:_+"px"}),jQuery(".essb-heroshare").css({width:a+"px"}),jQuery(".essb-heroshare").center(),jQuery(".essb-heroshare").fadeIn(400),jQuery(".essb-heroshare-shadow").fadeIn(200)}};function essbSetCookie(e,t,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var n="expires="+i.toGMTString();document.cookie=e+"="+t+"; "+n+"; path=/"}function essbGetCookie(e){for(var t=e+"=",s=document.cookie.split(";"),i=0;i<s.length;i++){var n=s[i].trim();if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}var essb_heroshare_close=function(){jQuery(".essb-heroshare").fadeOut(400),jQuery(".essb-heroshare-shadow").fadeOut(400)};function get_url_parameter(e){for(var t=window.location.search.substring(1).split("&"),s=0;s<t.length;s++){var i=t[s].split("=");if(i[0]==e)return i[1]}}jQuery(document).ready(function(e){"use strict";var t=e(".essb-heroshare");if(t.length){heroImageWidth=e(".essb-heroshare-post-image-src").prop("naturalWidth");var s=200/e(".essb-heroshare-post-image-src").prop("naturalHeight");if(heroImageWidth=Math.round(heroImageWidth*s),"true"==get_url_parameter("essb_heroshare")&&t.hasClass("essb-heroshare-oncomment"))essb_heroshare_show();else{var i=e(t).attr("data-load-percent")||"",n=e(t).attr("data-load-time")||"",r=e(t).attr("data-load-end")||"",o=e(t).attr("data-load-manual")||"",a=e(t).attr("data-exit-intent")||"";if("1"!=o)return""!=i||"1"==r?(heroshareTriggerPercent=Number(i),heroshareTriggeredOnScroll=!1,heroshareTriggerEnd="1"==r,console.log("scroll event heroshareTriggerPercent = "+heroshareTriggerPercent+", heroshareTriggeredOnScroll = "+heroshareTriggeredOnScroll+", heroshareTriggerEnd = "+heroshareTriggerEnd),void e(window).on("scroll",essb_heroshare_onscroll)):void("1"!=a?n&&void 0!==n&&""!=n&&Number(n)&&(shortly1=new Date,shortly1.setSeconds(shortly1.getSeconds()+Number(n)),e("#essb_settings_heroafter_counter").countdown({until:shortly1,onExpiry:essb_heroshare_show})):e(document).mouseout(essb_heroshare_exit));console.log("manual display")}}else console.log("no heroshare")}),function(e){function t(){this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},e.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var t="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},s=window.performance&&"function"==typeof window.performance.now;var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,r=0;!n||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){i._updateTargets()},980)):(r=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||t(),n(function e(o){var a=o<1e12?s?performance.now()+performance.timing.navigationStart:t():o||t();a-r>=1e3&&(i._updateTargets(),r=a),n(e)}))}e.extend(t.prototype,{markerClassName:"hasCountdown1",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t),e.extend(this._defaults,t||{})},UTCDate:function(e,t,s,i,n,r,o,a){"object"==typeof t&&t.constructor==Date&&(a=t.getMilliseconds(),o=t.getSeconds(),r=t.getMinutes(),n=t.getHours(),i=t.getDate(),s=t.getMonth(),t=t.getFullYear());var h=new Date;return h.setUTCFullYear(t),h.setUTCDate(1),h.setUTCMonth(s||0),h.setUTCDate(i||1),h.setUTCHours(n||0),h.setUTCMinutes((r||0)-(Math.abs(e)<30?60*e:e)),h.setUTCSeconds(o||0),h.setUTCMilliseconds(a||0),h},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},_attachPlugin:function(t,s){if(!(t=e(t)).hasClass(this.markerClassName)){var i={options:e.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};t.addClass(this.markerClassName).data(this.propertyName,i),this._optionPlugin(t,s)}},_addTarget:function(e){this._hasTarget(e)||this._timerTargets.push(e)},_hasTarget:function(t){return e.inArray(t,this._timerTargets)>-1},_removeTarget:function(t){this._timerTargets=e.map(this._timerTargets,function(e){return e==t?null:e})},_updateTargets:function(){for(var e=this._timerTargets.length-1;e>=0;e--)this._updateCountdown(this._timerTargets[e])},_optionPlugin:function(t,s,i){var n=(t=e(t)).data(this.propertyName);if(!s||"string"==typeof s&&null==i){var r=s;return(s=(n||{}).options)&&r?s[r]:s}if(t.hasClass(this.markerClassName)){if("string"==typeof(s=s||{})){r=s;(s={})[r]=i}s.layout&&(s.layout=s.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,s);var o=n.options.timezone!=s.timezone;e.extend(n.options,s),this._adjustSettings(t,n,null!=s.until||null!=s.since||o);var a=new Date;(n._since&&n._since<a||n._until&&n._until>a)&&this._addTarget(t[0]),this._updateCountdown(t,n)}},_updateCountdown:function(t,s){var i=e(t);if(s=s||i.data(this.propertyName)){if(i.html(this._generateHTML(s)).toggleClass(this._rtlClass,s.options.isRTL),e.isFunction(s.options.onTick)){var n="lap"!=s._hold?s._periods:this._calculatePeriods(s,s._show,s.options.significant,new Date);1!=s.options.tickInterval&&this.periodsToSeconds(n)%s.options.tickInterval!=0||s.options.onTick.apply(t,[n])}if("pause"!=s._hold&&(s._since?s._now.getTime()<s._since.getTime():s._now.getTime()>=s._until.getTime())&&!s._expiring){if(s._expiring=!0,this._hasTarget(t)||s.options.alwaysExpire){if(this._removeTarget(t),e.isFunction(s.options.onExpiry)&&s.options.onExpiry.apply(t,[]),s.options.expiryText){var r=s.options.layout;s.options.layout=s.options.expiryText,this._updateCountdown(t,s),s.options.layout=r}s.options.expiryUrl&&(window.location=s.options.expiryUrl)}s._expiring=!1}else"pause"==s._hold&&this._removeTarget(t);i.data(this.propertyName,s)}},_resetExtraLabels:function(e,t){var s=!1;for(var i in t)if("whichLabels"!=i&&i.match(/[Ll]abels/)){s=!0;break}if(s)for(var i in e)i.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[i]=null)},_adjustSettings:function(t,s,i){for(var n,r=0,o=null,a=0;a<this._serverSyncs.length;a++)if(this._serverSyncs[a][0]==s.options.serverSync){o=this._serverSyncs[a][1];break}if(null!=o)r=s.options.serverSync?o:0,n=new Date;else{var h=e.isFunction(s.options.serverSync)?s.options.serverSync.apply(t,[]):null;n=new Date,r=h?n.getTime()-h.getTime():0,this._serverSyncs.push([s.options.serverSync,r])}var l=s.options.timezone;l=null==l?-n.getTimezoneOffset():l,(i||!i&&null==s._until&&null==s._since)&&(s._since=s.options.since,null!=s._since&&(s._since=this.UTCDate(l,this._determineTime(s._since,null)),s._since&&r&&s._since.setMilliseconds(s._since.getMilliseconds()+r)),s._until=this.UTCDate(l,this._determineTime(s.options.until,n)),r&&s._until.setMilliseconds(s._until.getMilliseconds()+r)),s._show=this._determineShow(s)},_destroyPlugin:function(t){(t=e(t)).hasClass(this.markerClassName)&&(this._removeTarget(t[0]),t.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(e){this._hold(e,"pause")},_lapPlugin:function(e){this._hold(e,"lap")},_resumePlugin:function(e){this._hold(e,null)},_hold:function(t,s){var i=e.data(t,this.propertyName);if(i){if("pause"==i._hold&&!s){i._periods=i._savePeriods;var n=i._since?"-":"+";i[i._since?"_since":"_until"]=this._determineTime(n+i._periods[0]+"y"+n+i._periods[1]+"o"+n+i._periods[2]+"w"+n+i._periods[3]+"d"+n+i._periods[4]+"h"+n+i._periods[5]+"m"+n+i._periods[6]+"s"),this._addTarget(t)}i._hold=s,i._savePeriods="pause"==s?i._periods:null,e.data(t,this.propertyName,i),this._updateCountdown(t,i)}},_getTimesPlugin:function(t){var s=e.data(t,this.propertyName);return s?"pause"==s._hold?s._savePeriods:s._hold?this._calculatePeriods(s,s._show,s.options.significant,new Date):s._periods:null},_determineTime:function(e,t){var s=null==e?t:"string"==typeof e?function(e){e=e.toLowerCase();for(var t=new Date,s=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=t.getHours(),a=t.getMinutes(),h=t.getSeconds(),l=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,_=l.exec(e);_;){switch(_[2]||"s"){case"s":h+=parseInt(_[1],10);break;case"m":a+=parseInt(_[1],10);break;case"h":o+=parseInt(_[1],10);break;case"d":r+=parseInt(_[1],10);break;case"w":r+=7*parseInt(_[1],10);break;case"o":n+=parseInt(_[1],10),r=Math.min(r,i._getDaysInMonth(s,n));break;case"y":s+=parseInt(_[1],10),r=Math.min(r,i._getDaysInMonth(s,n))}_=l.exec(e)}return new Date(s,n,r,o,a,h,0)}(e):"number"==typeof e?function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t}(e):e;return s&&s.setMilliseconds(0),s},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var s=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);for(var n=!1,r=0,o=t.options.significant,a=e.extend({},t._show),h=0;h<=6;h++)n|="?"==t._show[h]&&t._periods[h]>0,a[h]="?"!=t._show[h]||n?t._show[h]:null,r+=a[h]?1:0,o-=t._periods[h]>0?1:0;var l=[!1,!1,!1,!1,!1,!1,!1];for(h=6;h>=0;h--)t._show[h]&&(t._periods[h]?l[h]=!0:(l[h]=o>0,o--));var _=t.options.compact?t.options.compactLabels:t.options.labels,u=t.options.whichLabels||this._normalLabels,d=function(e){var i=t.options["compactLabels"+u(t._periods[e])];return a[e]?s._translateDigits(t,t._periods[e])+(i?i[e]:_[e])+" ":""},c=function(e){var n=t.options["labels"+u(t._periods[e])];return!t.options.significant&&a[e]||t.options.significant&&l[e]?'<span class="'+i._sectionClass+'"><span class="'+i._amountClass+'">'+s._translateDigits(t,t._periods[e])+"</span><br/>"+(n?n[e]:_[e])+"</span>":""};return t.options.layout?this._buildLayout(t,a,t.options.layout,t.options.compact,t.options.significant,l):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+d(0)+d(1)+d(2)+d(3)+(a[4]?this._minDigits(t,t._periods[4],2):"")+(a[5]?(a[4]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[5],2):"")+(a[6]?(a[4]||a[5]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[6],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||r)+(t._hold?" "+this._holdingClass:"")+'">'+c(0)+c(1)+c(2)+c(3)+c(4)+c(5)+c(6))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,s,i,n,r,o){for(var a=t.options[n?"compactLabels":"labels"],h=t.options.whichLabels||this._normalLabels,l=function(e){return(t.options[(n?"compactLabels":"labels")+h(t._periods[e])]||a)[e]},_=function(e,s){return t.options.digits[Math.floor(e/s)%10]},u={desc:t.options.description,sep:t.options.timeSeparator,yl:l(0),yn:this._minDigits(t,t._periods[0],1),ynn:this._minDigits(t,t._periods[0],2),ynnn:this._minDigits(t,t._periods[0],3),y1:_(t._periods[0],1),y10:_(t._periods[0],10),y100:_(t._periods[0],100),y1000:_(t._periods[0],1e3),ol:l(1),on:this._minDigits(t,t._periods[1],1),onn:this._minDigits(t,t._periods[1],2),onnn:this._minDigits(t,t._periods[1],3),o1:_(t._periods[1],1),o10:_(t._periods[1],10),o100:_(t._periods[1],100),o1000:_(t._periods[1],1e3),wl:l(2),wn:this._minDigits(t,t._periods[2],1),wnn:this._minDigits(t,t._periods[2],2),wnnn:this._minDigits(t,t._periods[2],3),w1:_(t._periods[2],1),w10:_(t._periods[2],10),w100:_(t._periods[2],100),w1000:_(t._periods[2],1e3),dl:l(3),dn:this._minDigits(t,t._periods[3],1),dnn:this._minDigits(t,t._periods[3],2),dnnn:this._minDigits(t,t._periods[3],3),d1:_(t._periods[3],1),d10:_(t._periods[3],10),d100:_(t._periods[3],100),d1000:_(t._periods[3],1e3),hl:l(4),hn:this._minDigits(t,t._periods[4],1),hnn:this._minDigits(t,t._periods[4],2),hnnn:this._minDigits(t,t._periods[4],3),h1:_(t._periods[4],1),h10:_(t._periods[4],10),h100:_(t._periods[4],100),h1000:_(t._periods[4],1e3),ml:l(5),mn:this._minDigits(t,t._periods[5],1),mnn:this._minDigits(t,t._periods[5],2),mnnn:this._minDigits(t,t._periods[5],3),m1:_(t._periods[5],1),m10:_(t._periods[5],10),m100:_(t._periods[5],100),m1000:_(t._periods[5],1e3),sl:l(6),sn:this._minDigits(t,t._periods[6],1),snn:this._minDigits(t,t._periods[6],2),snnn:this._minDigits(t,t._periods[6],3),s1:_(t._periods[6],1),s10:_(t._periods[6],10),s100:_(t._periods[6],100),s1000:_(t._periods[6],1e3)},d=i,c=0;c<=6;c++){var p="yowdhms".charAt(c),g=new RegExp("\\{"+p+"<\\}([\\s\\S]*)\\{"+p+">\\}","g");d=d.replace(g,!r&&s[c]||r&&o[c]?"$1":"")}return e.each(u,function(e,t){var s=new RegExp("\\{"+e+"\\}","g");d=d.replace(s,t)}),d},_minDigits:function(e,t,s){return(t=""+t).length>=s?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-s)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,s=[];return s[0]=t.match("y")?"?":t.match("Y")?"!":null,s[1]=t.match("o")?"?":t.match("O")?"!":null,s[2]=t.match("w")?"?":t.match("W")?"!":null,s[3]=t.match("d")?"?":t.match("D")?"!":null,s[4]=t.match("h")?"?":t.match("H")?"!":null,s[5]=t.match("m")?"?":t.match("M")?"!":null,s[6]=t.match("s")?"?":t.match("S")?"!":null,s},_calculatePeriods:function(e,t,s,n){e._now=n,e._now.setMilliseconds(0);var r=new Date(e._now.getTime());e._since?n.getTime()<e._since.getTime()?e._now=n=r:n=e._since:(r.setTime(e._until.getTime()),n.getTime()>e._until.getTime()&&(e._now=n=r));var o=[0,0,0,0,0,0,0];if(t[0]||t[1]){var a=i._getDaysInMonth(n.getFullYear(),n.getMonth()),h=i._getDaysInMonth(r.getFullYear(),r.getMonth()),l=r.getDate()==n.getDate()||r.getDate()>=Math.min(a,h)&&n.getDate()>=Math.min(a,h),_=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},u=Math.max(0,12*(r.getFullYear()-n.getFullYear())+r.getMonth()-n.getMonth()+(r.getDate()<n.getDate()&&!l||l&&_(r)<_(n)?-1:0));o[0]=t[0]?Math.floor(u/12):0,o[1]=t[1]?u-12*o[0]:0;var d=(n=new Date(n.getTime())).getDate()==a,c=i._getDaysInMonth(n.getFullYear()+o[0],n.getMonth()+o[1]);n.getDate()>c&&n.setDate(c),n.setFullYear(n.getFullYear()+o[0]),n.setMonth(n.getMonth()+o[1]),d&&n.setDate(c)}var p=Math.floor((r.getTime()-n.getTime())/1e3),g=function(e,s){o[e]=t[e]?Math.floor(p/s):0,p-=o[e]*s};if(g(2,604800),g(3,86400),g(4,3600),g(5,60),g(6,1),p>0&&!e._since)for(var m=[1,12,4.3482,7,24,60,60],f=6,w=1,y=6;y>=0;y--)t[y]&&(o[f]>=w&&(o[f]=0,p=1),p>0&&(o[y]++,p=0,f=y,w=1)),w*=m[y];if(s)for(y=0;y<=6;y++)s&&o[y]?s--:s||(o[y]=0);return o}});var s=["getTimes"];e.fn.countdown=function(t){var n=Array.prototype.slice.call(arguments,1);return function(t,i){return"option"==t&&(0==i.length||1==i.length&&"string"==typeof i[0])||e.inArray(t,s)>-1}(t,n)?i["_"+t+"Plugin"].apply(i,[this[0]].concat(n)):this.each(function(){if("string"==typeof t){if(!i["_"+t+"Plugin"])throw"Unknown command: "+t;i["_"+t+"Plugin"].apply(i,[this].concat(n))}else i._attachPlugin(this,t||{})})};var i=e.countdown=new t}(jQuery);