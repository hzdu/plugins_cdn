var wffnUtm_terms=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","flt","timezone","is_mobile","browser","fbclid","gclid","referrer"],wffnCookieManage={setCookie:function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},getCookie:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},remove:function(e){var t=new Date;t.setTime(t.getTime()-864e5);var r="expires="+t.toUTCString();document.cookie=e+"=;"+r+";path=/"},commons:{inArray:function(e,t){return-1===t.indexOf(e)}}};function wffnGetQueryVars(){try{var e={},t=[];return window.location.search.substr(1).split("&").forEach(function(r){(t=r.split("=")).length>1&&(e[t[0]]=t[1])}),wffnDefaultEvent(e)}catch(e){console.log(e)}}function wffnDefaultEvent(e){if("object"==typeof Intl&&"object"==typeof Intl.DateTimeFormat()){let t=Intl.DateTimeFormat().resolvedOptions();t.hasOwnProperty("timeZone")&&(e.timezone=t.timeZone)}e.flt=wffnGetAdminTime(),e.referrer=-1===document.referrer.indexOf(window.location.hostname)?document.referrer:"";let t=wffnDetectDevice();return void 0!==t&&""!==t&&(void 0!==t.browser.name&&(e.browser=t.browser.name),void 0!==t.is_mobile&&(e.is_mobile=t.is_mobile)),e}function wffnGetAdminTime(){let e=new Date,t=e.getTimezoneOffset(),r=parseFloat(wffnUtm.utc_offset);return e.setMinutes(e.getMinutes()+t),e.setMinutes(e.getMinutes()+r),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function wffnGetTrafficSource(){try{var e=document.referrer.toString(),t=0===e.length,r=!t&&0===e.indexOf(wffnUtm.site_url),n=!(t||r),o=""!==wffnCookieManage.getCookie("wffn_traffic_source")&&wffnCookieManage.getCookie("wffn_traffic_source");return!1===n?o||"direct":o&&o===e?o:e}catch(e){return""}}function wffnManageCookies(){try{var e=wffnGetTrafficSource();"direct"!==e?wffnCookieManage.setCookie("wffn_traffic_source",e,2):wffnCookieManage.remove("wffn_traffic_source");var t=wffnGetQueryVars();for(var r in wffnUtm_terms)""===wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[r])&&Object.prototype.hasOwnProperty.call(t,wffnUtm_terms[r])&&wffnCookieManage.setCookie("wffn_"+wffnUtm_terms[r],t[wffnUtm_terms[r]],2)}catch(e){console.log(e)}}function wffnGetUTMs(){try{var e={},t=wffnGetQueryVars(),r=["flt","timezone","is_mobile","browser","fbclid","gclid","referrer"];for(var n in wffnUtm_terms)-1===r.indexOf(wffnUtm_terms[n])&&(wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[n])?e[wffnUtm_terms[n]]=wffnCookieManage.getCookie("wffn_"+wffnUtm_terms[n]):Object.prototype.hasOwnProperty.call(t,wffnUtm_terms[n])&&(e[wffnUtm_terms[n]]=t[wffnUtm_terms[n]]));return e}catch(e){return{}}}function wffnAddTrafficParamsToEvent(e){try{var t=wffnUtm.genericParamEvents,r=JSON.parse(t);for(var n in r)e[n]=r[n];var o=new Date,f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()],i=["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()],a=["00-01","01-02","02-03","03-04","04-05","05-06","06-07","07-08","08-09","09-10","10-11","11-12","12-13","13-14","14-15","15-16","16-17","17-18","18-19","19-20","20-21","21-22","22-23","23-24"][o.getHours()];e.event_month=i,e.event_day=f,e.event_hour=a,e.traffic_source=wffnGetTrafficSource();var s=wffnGetUTMs();for(var m in s)e[m]=s[m];return e}catch(t){return e}}function wffnDetectDevice(){let e=[navigator.userAgent,navigator.vendor,window.opera],t=!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t=!0),!1===t){let e=navigator.userAgent||navigator.vendor||window.opera;(e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1)&&(t=!0)}return{is_mobile:t,browser:wffnDetectBrowser(e.join(" "),[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}])}}function wffnDetectBrowser(e,t){var r,n,o,f=0,i=0;for(f=0;f<t.length;f+=1)if(new RegExp(t[f].value,"i").test(e)){if(r=new RegExp(t[f].version+"[- /:;]([\\d._]+)","i"),o="",(n=e.match(r))&&n[1]&&(n=n[1]),n)for(n=n.split(/[._]+/),i=0;i<n.length;i+=1)o+=0===i?n[i]+".":n[i];else o="0";return{name:t[f].name,version:parseFloat(o)}}return{name:"unknown",version:0}}wffnManageCookies();