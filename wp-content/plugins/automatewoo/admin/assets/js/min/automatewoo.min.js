var AutomateWoo,AW={};!function(t){AW.init=function(){AW.params=automatewooLocalizeScript,AW.initTooltips(),AW.initWorkflowStatusSwitch(),AW.initShowHide(),AW.initHoverableDates(),t(document.body).on("wc-enhanced-select-init",(function(){AW.initEnhancedSelects()}))},AW.initTooltips=function(){t(".automatewoo-help-tip, .automatewoo-tiptip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},AW.initEnhancedSelects=function(){t("select.automatewoo-json-search").filter(":not(.enhanced)").each((function(){var i={allowClear:!!t(this).data("allow_clear"),placeholder:t(this).data("placeholder"),minimumInputLength:"1",escapeMarkup:function(t){return t},ajax:{url:AW.params.url.ajax,dataType:"json",quietMillis:250,data:function(i){var a={term:i.term,action:t(this).data("action")},e=t(this).data("pass-sibling");if(e){var o=t('[name="'+e+'"]');o.length&&(a.sibling=o.val())}return a},processResults:function(i){var a=[];return i&&t.each(i,(function(t,i){a.push({id:t,text:i})})),{results:a}},cache:!0}};t(this).select2(i).addClass("enhanced")}))},AW.initWorkflowStatusSwitch=function(){t(".aw-switch.js-toggle-workflow-status").on("click",(function(){var i,a;(i=t(this)).is(".aw-loading")||(a="on"===i.attr("data-aw-switch")?"off":"on",i.addClass("aw-loading"),i.attr("data-aw-switch",a),t.post(ajaxurl,{action:"aw_toggle_workflow_status",workflow_id:i.attr("data-workflow-id"),new_state:a},(function(){i.removeClass("aw-loading")})))}))},AW.price=function(t){var i=t.toFixed(2),a=AW.params.locale.currency_symbol;switch(AW.params.locale.currency_position){case"right":i+=a;break;case"right_space":i=i+" "+a;break;case"left":i=a+i;break;default:i=a+" "+i}return i},AW.block=function(t){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},AW.initShowHide=function(){var i=function(i){var a=i.data("automatewoo-bind"),e=i.val(),o=i.is('input[type="checkbox"]');t("[data-automatewoo-show]").each((function(){if(o&&t(this).data("automatewoo-show")===a)i.is(":checked")?t(this).show():t(this).hide();else{var n=t(this).data("automatewoo-show").split("=");if(n[0]!==a)return;-1!==n[1].split("|").indexOf(e)?t(this).show():t(this).hide()}})),t("[data-automatewoo-hide]").each((function(){if(o&&t(this).data("automatewoo-hide")===a)i.is(":checked")?t(this).hide():t(this).show();else{var n=t(this).data("automatewoo-hide").split("=");if(n[0]!==a)return;-1!==n[1].split("|").indexOf(e)?t(this).hide():t(this).show()}}))};t(document).on("change","[data-automatewoo-bind]",(function(){i(t(this))})),t("[data-automatewoo-bind]").each((function(){i(t(this))}))},AW.initHoverableDates=function(){var i=".automatewoo-hoverable-date";t(document.body).on("mouseenter",i,(function(){t(this).text(t(this).data("automatewoo-date-no-diff"))})).on("mouseleave",i,(function(){t(this).text(t(this).data("automatewoo-date-with-diff"))}))},t((function(){AW.init()}))}(jQuery),jQuery((function(t){(AutomateWoo={_email_preview_window:null,init:function(){this.init_notice_dismiss(),this.init_date_pickers()},notices:{success:function(t,i){i.length&&i.before('<div class="automatewoo-notice updated fade"><p><strong>'+t+"</strong></p></div>")},error:function(t,i){i.length&&i.before('<div class="automatewoo-notice error fade"><p><strong>'+t+"</strong></p></div>")},clear_all:function(){t(".automatewoo-notice").slideUp()}},init_notice_dismiss:function(){t(".aw-notice-system-error").on("click",".notice-dismiss",(function(){t.ajax({url:ajaxurl,data:{action:"aw_dismiss_system_error_notice"}})})),t("[data-automatewoo-dismissible-notice]").on("click",".notice-dismiss",(function(){var i=t(this).parents("[data-automatewoo-dismissible-notice]");t.post({url:ajaxurl,data:{action:"automatewoo_remove_notice",notice:i.data("automatewoo-dismissible-notice"),nonce:AW.params.nonces.remove_notice}})}))},init_date_pickers:function(){t(".automatewoo-date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})},isEmailPreviewOpen:function(){return this._email_preview_window&&!this._email_preview_window.closed},openLoadingEmailPreview:function(){this.openPreviewWindow(AW.params.url.admin+"admin.php?page=automatewoo-preview&action=loading")},open_email_preview:function(i,a){var e={page:"automatewoo-preview",action:"preview-ui",type:i,args:a};this.openPreviewWindow(AW.params.url.admin+"admin.php?"+t.param(e))},openPreviewWindow:function(t){this._email_preview_window=window.open(t,"automatewoo_preview","titlebar=no,toolbar=no,height=768,width=860,resizable=yes,status=no")}}).init(),t(".automatewoo-before-after-day-field-group__field--type").on("change",(function(){const i=t(this),a=i.siblings(".automatewoo-before-after-day-field-group__field--days");"on_the_day"===i.val()?a.hide():a.show()})).trigger("change")}));
//# sourceMappingURL=automatewoo.min.js.map
