{"version":3,"file":"preview.min.js","names":["jQuery","$","set_iframe_height","height","window","outerHeight","on","e","preventDefault","$form","this","addClass","find","trigger","data","action","type","val","to_emails","args","JSON","parse","post","ajaxurl","response","alert","message","removeClass"],"sources":["preview.js"],"sourcesContent":["jQuery(function($) {\n\n    /**\n     * Init\n     */\n    function init() {\n\n        set_iframe_height();\n\n        $(window).on( 'resize', function(){\n            set_iframe_height();\n        });\n\n    }\n\n\n    function set_iframe_height() {\n        $('.aw-preview__email-iframe').height( $(window).height() - $('.aw-preview__header').outerHeight() );\n    }\n\n\n\n    $('form.aw-preview__send-test-form').on( 'submit', function(e){\n        e.preventDefault();\n\n        var $form = $(this);\n\n        $form.addClass('aw-loading');\n        $form.find('button').trigger( 'blur' );\n\n        var data = {\n            action: 'aw_send_test_email',\n            type: $form.find('[name=\"type\"]').val(),\n            to_emails: $form.find('[name=\"to_emails\"]').val(),\n            args: JSON.parse( $form.find('[name=\"args\"]').val() )\n        };\n\n        $.post( ajaxurl, data, function( response ){\n            alert( response.data.message );\n            $form.removeClass('aw-loading');\n        });\n\n        return false;\n\n    });\n\n\n    init();\n\n});\n"],"mappings":"AAAAA,QAAO,SAASC,GAgBZ,SAASC,IACLD,EAAE,6BAA6BE,OAAQF,EAAEG,QAAQD,SAAWF,EAAE,uBAAuBI,cACzF,CAIAJ,EAAE,mCAAmCK,GAAI,UAAU,SAASC,GACxDA,EAAEC,iBAEF,IAAIC,EAAQR,EAAES,MAEdD,EAAME,SAAS,cACfF,EAAMG,KAAK,UAAUC,QAAS,QAE9B,IAAIC,EAAO,CACPC,OAAQ,qBACRC,KAAMP,EAAMG,KAAK,iBAAiBK,MAClCC,UAAWT,EAAMG,KAAK,sBAAsBK,MAC5CE,KAAMC,KAAKC,MAAOZ,EAAMG,KAAK,iBAAiBK,QAQlD,OALAhB,EAAEqB,KAAMC,QAAST,GAAM,SAAUU,GAC7BC,MAAOD,EAASV,KAAKY,SACrBjB,EAAMkB,YAAY,aACtB,KAEO,CAEX,IArCIzB,IAEAD,EAAEG,QAAQE,GAAI,UAAU,WACpBJ,GACJ,GAsCR"}