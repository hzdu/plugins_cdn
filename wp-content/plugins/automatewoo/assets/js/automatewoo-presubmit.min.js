jQuery((function(e){if("undefined"==typeof automatewoo_presubmit_params)return!1;const t=automatewoo_presubmit_params;let n=parseInt(t.guest_id,10),a="";const o=e("form.checkout"),c=t.email_capture_selectors,u=t.checkout_capture_selectors,i={},r=t.language;let s;function l(){const t={};return e.each(u,(function(n,a){t[a]=e('form.woocommerce-checkout [name="'+a+'"]').val()})),t}function f(){const a=e(this).attr("name");if(!a||-1===u.indexOf(a))return;const o=e(this).val();o&&i[a]!==o&&(i[a]=o,n&&e.post(t.ajax_url.toString().replace("%%endpoint%%","capture_checkout_field"),{guest_id:n,field_name:a,field_value:o}))}e.each(u,(function(e,t){i[t]=""})),e(document).on("blur change",c.join(", "),(function(){if(!e(this).val()||a===e(this).val())return;a=e(this).val();const o={email:a,language:r,checkout_fields:l()};s&&s.abort(),s=e.post(t.ajax_url.toString().replace("%%endpoint%%","capture_email"),o,(function(e){e&&e.success&&(n=e.data.guest_id)}))})),o.on("change","select",f),o.on("blur change",".input-text",f)}));
//# sourceMappingURL=automatewoo-presubmit.min.js.map