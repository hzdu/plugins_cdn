!function(m){function p(){m(".woocommerce-checkout-review-order-table, .wcf-product-option-wrap, .wcf-bump-order-wrap").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function w(e){!cartflows.wcf_refresh_checkout&&jQuery(".wc_payment_methods").length?e.hasOwnProperty("cart_total")&&(e.hasOwnProperty("fragments")&&m.each(e.fragments,function(e,t){if("#place_order"===e){const c=m(".wc_payment_methods input[name='payment_method']:checked");0<c.length&&(m(e).replaceWith(t),"ppcp-gateway"===c.val()&&m(e).css("display","none"),c.trigger("click"))}else m(e).replaceWith(t)}),0<parseFloat(e.cart_total)?m("body").trigger("cartflows_update_checkout"):m("body").trigger("update_checkout"),m(".woocommerce-checkout-review-order-table, .wcf-product-option-wrap, .wcf-bump-order-wrap").unblock()):(m("body").trigger("update_checkout"),m(".woocommerce-checkout-review-order-table, .wcf-product-option-wrap, .wcf-bump-order-wrap").unblock())}function t(){m(".wcf-qty-row").on("click",function(e){if(!m(e.target).is(".wcf-multiple-sel, .wcf-single-sel, .wcf-qty, .wcf-qty-selection, .wcf-variable-item-popup-text, .wcf-qty-selection-btn, .wcf-qty-increment-icon, .wcf-qty-decrement-icon")){const t=m(this).find(".wcf-single-sel"),c=m(this).find(".wcf-multiple-sel");0<t.length?t.trigger("click"):0<c.length&&c.trigger("click")}}),m(document).on("change",".wcf-single-sel",function(){const e=m(this),t=e.closest(".wcf-qty-options"),c=e.closest(".wcf-qty-row"),o=c.data("options"),i=c.find(".wcf-qty input");let a=parseInt(i.val());var r=m("._wcf_checkout_id").val(),r=((a<=0||isNaN(a))&&(i.val(1),a=1),o.input_quantity=a,o.checkout_id=r,m("form.checkout").serialize());p(),t.addClass("wcf-loading"),m.ajax({url:cartflows.ajax_url,data:{action:"wcf_single_selection",option:o,post_data:r,security:cartflows.wcf_single_selection_nonce},dataType:"json",type:"POST",success(e){e.hasOwnProperty("cartflows_data")&&(c.find(".wcf-display-quantity").html(e.cartflows_data.display_quantity),c.find(".wcf-display-price").html(e.cartflows_data.display_price),c.find(".wcf-display-discount-value").html(e.cartflows_data.display_discount_value),c.find(".wcf-display-discount-percent").html(e.cartflows_data.display_discount_percent),c.find(".wcf_subscription_price").html(e.cartflows_data.subscription_price),c.find(".wcf_subscription_fee").html(e.cartflows_data.sign_up_fee)),w(e),t.removeClass("wcf-loading"),o.cart_item_key=e.cart_item_key,c.attr("data-options",JSON.stringify(o)),m(document.body).trigger("updated_cart_totals")},error(){m(".woocommerce-checkout-review-order-table").unblock()}})}),m(document).on("change",".wcf-multiple-sel",function(){const e=m(".wcf-multiple-sel:checked"),t=m(this),c=t.closest(".wcf-qty-row"),o=c.find(".wcf-qty input");let i=parseInt(o.val());if((i<=0||isNaN(i))&&(o.val(1),i=1),0===e.length)return t.prop("checked",!0),void t.prop("disabled",!0);1===e.length?e.prop("disabled",!0):e.removeAttr("disabled");const a=c.data("options");var r=m("._wcf_checkout_id").val(),r=(a.checkout_id=r,a.input_quantity=i,a.checked="no",m("form.checkout").serialize());t.is(":checked")&&(a.checked="yes"),p(),m(".wcf-qty-options").addClass("wcf-loading"),m.ajax({url:cartflows.ajax_url,data:{action:"wcf_multiple_selection",option:a,post_data:r,security:cartflows.wcf_multiple_selection_nonce},dataType:"json",type:"POST",success(e){e.hasOwnProperty("cartflows_data")&&(c.find(".wcf-display-quantity").html(e.cartflows_data.display_quantity),c.find(".wcf-display-price").html(e.cartflows_data.display_price),c.find(".wcf-display-discount-value").html(e.cartflows_data.display_discount_value),c.find(".wcf-display-discount-percent").html(e.cartflows_data.display_discount_percent),c.find(".wcf_subscription_price").html(e.cartflows_data.subscription_price),c.find(".wcf_subscription_fee").html(e.cartflows_data.sign_up_fee)),w(e),m(".wcf-qty-options").removeClass("wcf-loading"),a.cart_item_key=e.cart_item_key,c.attr("data-options",JSON.stringify(a)),m(document.body).trigger("updated_cart_totals")},error(){m(".woocommerce-checkout-review-order-table").unblock()}})}),m(document).on("change",".wcf-var-sel",function(){const e=m(this),t=e.closest(".wcf-qty-row"),c=t.find(".wcf-qty input"),o=t.data("options");var i=parseInt(c.val()),a=m("._wcf_checkout_id").val();o.checkout_id=a,o.input_quantity=i,p(),m(".wcf-qty-options").addClass("wcf-loading"),m.ajax({url:cartflows.ajax_url,data:{action:"wcf_variation_selection",option:o,security:cartflows.wcf_variation_selection_nonce},dataType:"json",type:"POST",success(e){e.hasOwnProperty("cartflows_data")&&(t.find(".wcf-display-quantity").html(e.cartflows_data.display_quantity),t.find(".wcf-display-price").html(e.cartflows_data.display_price),t.find(".wcf-display-discount-value").html(e.cartflows_data.display_discount_value),t.find(".wcf-display-discount-percent").html(e.cartflows_data.display_discount_percent),t.find(".wcf_subscription_price").html(e.cartflows_data.subscription_price),t.find(".wcf_subscription_fee").html(e.cartflows_data.sign_up_fee)),w(e),m(".wcf-qty-options").removeClass("wcf-loading"),m(document.body).trigger("updated_cart_totals")},error(){m(".woocommerce-checkout-review-order-table").unblock()}})}),m(document).on("change",".wcf-qty-selection",function(){const e=m(this),t=e.closest(".wcf-qty-row"),c=t.find(".wcf-item-selector");if(0<c.length){const s=c.find("input");if(0<s.length&&!s.is(":checked"))return}const o=t.data("options"),i=m("._wcf_checkout_id").val();let a=parseInt(e.val());(a<=0||isNaN(a))&&(e.val(1),a=1),o.input_quantity=a,o.checkout_id=i;var r=m("form.checkout").serialize();"undefined"!=typeof data&&(o.cart_item_key=data.cart_item_key),p(),m(".wcf-qty-options").addClass("wcf-loading"),m.ajax({url:cartflows.ajax_url,data:{action:"wcf_quantity_update",option:o,post_data:r,security:cartflows.wcf_quantity_update_nonce},dataType:"json",type:"POST",success(e){e.hasOwnProperty("cartflows_data")&&(t.find(".wcf-display-quantity").html(e.cartflows_data.display_quantity),t.find(".wcf-display-price").html(e.cartflows_data.display_price),t.find(".wcf-display-discount-value").html(e.cartflows_data.display_discount_value),t.find(".wcf-display-discount-percent").html(e.cartflows_data.display_discount_percent),t.find(".wcf_subscription_price").html(e.cartflows_data.subscription_price),t.find(".wcf_subscription_fee").html(e.cartflows_data.sign_up_fee)),w(e),m(".wcf-qty-options").removeClass("wcf-loading"),m(document.body).trigger("updated_cart_totals")},error(){m(".woocommerce-checkout-review-order-table").unblock()}})}),m("form.woocommerce-checkout").on("checkout_place_order",function(e){var t=m(".wcf-select-variation-attribute.wcf-invalid-variation");if(0<t.length)return e.preventDefault(),_(t),!1}),m(".wcf-select-variation-attribute").on("click",function(e){e.preventDefault();const t=m(this).closest(".wcf-qty-row");t.find(".wcf-item-choose-options a").trigger("click")});{const e=m(".wcf-item-choose-options a"),u=m(".wcf-quick-view-wrapper"),o=(u.appendTo(document.body),u.find(".wcf-quick-view-bg")),a=u.find("#wcf-quick-view-modal"),r=a.find("#wcf-quick-view-content"),c=a.find("#wcf-quick-view-close"),i=a.find(".wcf-content-main-wrapper"),s=(e.off("click").on("click",function(e){e.preventDefault();const t=m(this),c=t.closest(".wcf-item");c.find(".wcf-item-selector input").is(":checked")||c.find(".wcf-item-selector input").trigger("click");e=t.data("product");t.addClass("wcf-variation-popup-open"),a.hasClass("loading")||a.addClass("loading"),o.hasClass("wcf-quick-view-bg-ready")||o.addClass("wcf-quick-view-bg-ready"),m(document).trigger("wcf_quick_view_loading"),s(t,e)}),function(e,t){a.css("opacity",0),m.ajax({url:cartflows.ajax_url,data:{action:"wcf_woo_quick_view",product_id:t},dataType:"html",type:"POST",success(e){r.html(e),n()}})}),n=function(){const e=r.find(".variations_form");if(e.trigger("check_variations"),e.trigger("reset_image"),!a.hasClass("open")){a.removeClass("loading").addClass("open");var t=l();const o=m("html");o.css("margin-right",t),o.addClass("wcf-quick-view-is-open")}0<e.length&&"function"==typeof e.wc_variation_form&&(e.wc_variation_form(),e.find("select").trigger("change"));const c=a.find(".wcf-qv-image-slider");1<c.find("li").length?c.flexslider({animation:"slide",start(){setTimeout(function(){d(!0)},300)}}):setTimeout(function(){d(!0)},300),m(document).on("woocommerce_gallery_reset_slide_position",function(){c.flexslider(0)}),m(document).trigger("wcf_quick_view_loader_stop")},t=function(){i.on("click",function(e){this===e.target&&t()}),m(document).on("keyup",function(e){27===e.keyCode&&t()}),c.on("click",function(e){e.preventDefault(),t()});const t=function(){o.removeClass("wcf-quick-view-bg-ready"),a.removeClass("open").removeClass("loading"),m("html").removeClass("wcf-quick-view-is-open"),m("html").css("margin-right",""),e.removeClass("wcf-variation-popup-open"),setTimeout(function(){r.html("")},600)}},d=function(e){const t=r,c=t.find(".product .wcf-qv-image-slider").first().height(),o=t.find(".product .summary.entry-summary"),i=o.css("content");void 0!==i&&544===i.replace(/[^0-9]/g,"")&&0!==c&&null!==c?o.css("height",c):o.css("height",""),!0===e&&a.css("opacity",1)},l=function(){const e=m('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');m("body").append(e);var t=m("div",e).innerWidth(),c=(e.css("overflow-y","scroll"),m("div",e).innerWidth());return m(e).remove(),t-c},f=(t(),window.addEventListener("resize",function(){d()}),function(){u.off("click","#wcf-quick-view-content .single_add_to_cart_button").off("wcf_added_to_cart").on("click","#wcf-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("wcf_added_to_cart",this.updateButton)});f.prototype.onAddToCart=function(e){e.preventDefault();const t=m(this).closest("form");if(!t[0].checkValidity())return t[0].reportValidity(),!1;const o=m(this),c=t.find('input[name="product_id"]').val()||"",i=t.find('input[name="variation_id"]').val()||"",a=m(".wcf-variation-popup-open"),r=a.closest(".wcf-qty-row"),s=r.find(".wcf-qty-selection"),n=s.val()||1,d=r.data("options"),l=m("._wcf_checkout_id").val(),f=r.find(".wcf-item-wrap");d.input_quantity=n,d.checkout_id=l,o.is(".single_add_to_cart_button")&&(o.removeClass("added"),o.addClass("loading"),""!==i&&jQuery.ajax({url:cartflows.ajax_url,type:"POST",data:{action:"wcf_add_cart_single_product",form_data:t.serialize(),product_id:c,variation_id:i,quantity:n,option:d,security:cartflows.wcf_quick_view_add_cart_nonce},dataType:"json",success(e){if(e.hasOwnProperty("cartflows_data")&&"yes"===e.cartflows_data.added_to_cart){var e=e.cartflows_data,t=(a.closest(".wcf-item").find(".wcf-display-attributes").html(e.display_attr),a.closest(".wcf-item").find(".wcf-item-image").html(e.variation_image),a.attr("data-variation",e.variation_id),d.variation_id=e.variation_id,d.original_price=e.original_price,d.discounted_price=e.discounted_price,d.subscription_price=e.subscription_price,d.sign_up_fee=e.signup_fee,r.attr("data-options",JSON.stringify(d)),r.find(".wcf-item-selector"));if(0<t.length){const c=r.data("options");c.variation_id=e.variation_id,r.attr("data-options",JSON.stringify(c))}r.find(".wcf-display-quantity").html(e.display_quantity),r.find(".wcf-display-price").html(e.display_price),r.find(".wcf-display-discount-value").html(e.display_discount_value),r.find(".wcf-display-discount-percent").html(e.display_discount_percent),f.find(".wcf_subscription_price").html(e.display_subscription_price),f.find(".wcf_subscription_period").html(e.display_subscription_details),f.find(".wcf_subscription_fee").html(e.display_signup_fee),f.find(".wcf_subscription_free_trial").html(e.trial_period_string)}m(document.body).trigger("wc_fragment_refresh"),u.trigger("wcf_added_to_cart",[o])}}))},f.prototype.updateButton=function(){m("body").trigger("update_checkout"),c.trigger("click")},new f}}function o(){c(),m(".wcf-embed-checkout-form-two-step .woocommerce").addClass("step-one"),m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps a").on("click",function(e){e.preventDefault(),c()}),m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns a").on("click",function(e){{var t;e.preventDefault(),a()&&(m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div.wcf-current").removeClass("wcf-current"),"#customer_details"===(t=m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns a").attr("href"))?(_(m(".wcf-embed-checkout-form-nav")),m(".wcf-embed-checkout-form-two-step .woocommerce").removeClass("step-two"),m(".wcf-embed-checkout-form-two-step .woocommerce").addClass("step-one"),m(".wcf-embed-checkout-form-two-step").find(".step-one").addClass("wcf-current")):"#wcf-order-wrap"===t&&(_(m(".wcf-embed-checkout-form-nav")),m(".wcf-embed-checkout-form-two-step .woocommerce").removeClass("step-one"),m(".wcf-embed-checkout-form-two-step .woocommerce").addClass("step-two"),m(".wcf-embed-checkout-form-two-step").find(".step-two").addClass("wcf-current")))}})}function c(){m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps a").on("click",function(e){if(e.preventDefault(),a()){const t=m(this),c=t.closest(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div");m(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div.wcf-current").removeClass("wcf-current"),c.addClass("wcf-current");e=t.closest(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div a").attr("href");"#customer_details"===e?(m(".wcf-embed-checkout-form-two-step .woocommerce").removeClass("step-two"),m(".wcf-embed-checkout-form-two-step .woocommerce").addClass("step-one")):"#wcf-order-wrap"===e&&(m(".wcf-embed-checkout-form-two-step .woocommerce").removeClass("step-one"),m(".wcf-embed-checkout-form-two-step .woocommerce").addClass("step-two"))}})}const i={vars:{originalTitle:document.title,interval:null},On(e,t){const c=this;c.vars.interval=setInterval(function(){document.title=c.vars.originalTitle===document.title?e:c.vars.originalTitle},t||1e3)},Off(){clearInterval(this.vars.interval),document.title=this.vars.originalTitle}},_=function(e){e.length&&(event.preventDefault(),m("html, body").stop().animate({scrollTop:e.offset().top-50},100))},a=function(){var e=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-billing-fields, .wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-account-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),t=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-billing-fields, .wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-account-fields").find('input[type="checkbox"]'),c=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-billing-fields").find(".select2"),o=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-shipping-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),i=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-shipping-fields .woocommerce-shipping-fields__field-wrapper").find('input[type="checkbox"]'),a=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-shipping-fields").find(".select2"),r=m(".wcf-embed-checkout-form-two-step form.woocommerce-checkout").find('h3#ship-to-different-address input[type="checkbox"]:checked').val();let s=!0,n="";return Array.from(e).forEach(function(e){const t=e.type,c=e.name,o=e.closest(".form-row"),i=m.trim(e.value);let a=o.classList.contains("validate-required");var r;"account_password"!==c&&"account_username"!==c||(r=document.getElementById("createaccount"),a=!r||!!m(r).is(":checked")),a&&""===i?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):("email"===t&&!1===/^([a-zA-Z0-9_\+\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,14})$/.test(i)&&(e.classList.add("field-required"),s=!1,""===n&&(n=e)),e.classList.remove("field-required"))}),Array.from(t).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required");let o=!1;m(e).is(":checked")&&(o=!0),c&&!1===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}),Array.from(c).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=m.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,c&&""===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}),"1"===r&&(Array.from(o).forEach(function(e){const t=e.type,c=e.closest(".form-row"),o=c.classList.contains("validate-required"),i=m.trim(e.value);o&&""===i?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):("email"===t&&!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i)&&(e.classList.add("field-required"),s=!1,""===n&&(n=e)),e.classList.remove("field-required"))}),Array.from(a).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=m.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,c&&""===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}),Array.from(i).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required");let o=!1;m(e).is(":checked")&&(o=!0),c&&!1===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")})),""!==n&&n.focus(),s};m(function(){if(m(document).on("cartflows_remove_product",function(e,t){jQuery('.wcf-multiple-sel[value="'+t+'"]').prop("checked",!1),jQuery('.wcf-single-sel[value="'+t+'"]').prop("checked",!1)}),"yes"===cartflows_animate_tab_fields.enabled&&(m(window).blur(function(){i.On(cartflows_animate_tab_fields.title)}),m(window).on("focus",function(){i.Off()})),"yes"===cartflows.allow_autocomplete_zipcode){let i;m(document.body).on("textInput input change keypress paste","#billing_postcode, #shipping_postcode",function(){const e=m(this),t=e.attr("id").split("_")[0],c=m("#"+t+"_country").val();if(""!==c){const o=e.val().trim();""!==o&&(clearTimeout(i),i=setTimeout(function(){-1===["GB","CA"].indexOf(c)&&l(t,c,o)},800))}});const l=function(t,e,c){m.ajax({url:"https://api.zippopotam.us/"+e+"/"+c,cache:!0,dataType:"json",type:"GET",success(e){m.each(e.places,function(){return m("#"+t+"_city").val(this["place name"]).trigger("change"),m('[name="'+t+'_state"]:visible').val(this["state abbreviation"]).trigger("change"),!1})},error(){}})}}t();{const e=m(".wcf-multiple-sel:checked");1===e.length&&(e.prop("checked",!0),e.prop("disabled",!0))}{let l=!1;m(document).on("change",".wcf-bump-order-cb",function(){if(!0===l)return!1;l=!0;const t=m(this),c=t.data("ob_data").product_id;var e=m("[name=_wcf_checkout_id]").val();const o=t.attr("data-ob_data"),i=t.data("ob_data").ob_id,a=t.closest(".wcf-bump-order-field-wrap").find(".wcf-bump-order-cb-button"),r=t.closest(".wcf-bump-order-wrap");let s="";const n={security:cartflows.wcf_bump_order_process_nonce,_wcf_checkout_id:e,_wcf_product_id:c,_bump_offer_data:o||"",action:"wcf_bump_order_process"};let d=m("[name=_wcf_bump_products]").val();return d=""===d?{}:JSON.parse(d),s=t.is(":checked")?(n._wcf_bump_product_action="add_bump_product",!0):!(n._wcf_bump_product_action="remove_bump_product"),r.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),m.ajax({url:cartflows.ajax_url,data:n,dataType:"json",type:"POST",success(e){w(e),0<a.length&&(s?(a.toggleClass("wcf-bump-add-to-cart wcf-bump-remove-from-cart"),a.text(t.data("remove"))):(a.toggleClass("wcf-bump-remove-from-cart wcf-bump-add-to-cart"),a.text(t.data("add")))),t.is(":checked")?d[i]={id:c,price:e.cartflows_data.total_product_price}:delete d[i],m("[name=_wcf_bump_products]").val(JSON.stringify(d)),m(document.body).trigger("updated_cart_totals")},error(){m(".woocommerce-checkout-review-order-table").unblock()}}),l=!1})}m(document).on("click",".wcf-bump-order-cb-button",function(){const e=m(this),t=e.closest(".wcf-bump-order-action"),c=t.find('input[type="checkbox"]');e.hasClass("wcf-bump-add-to-cart")?(c.attr("checked",!0),e.text(e.data("adding"))):(c.attr("checked",!1),e.text(e.data("removing"))),t.find(".wcf-bump-order-cb").trigger("change")}),0<m(".wcf-embed-checkout-form-two-step").length&&o(),m(document).on("wcf_cart_data_restored",function(e,t){"yes"===cartflows.is_product_options&&t&&m(".wcf-qty-row").each(function(){const e=m(this).data("options");e&&e.unique_id in t&&(e.cart_item_key=t[e.unique_id],m(this).attr("data-options",JSON.stringify(e)))})}),m(".wcf-qty-selection-btn").click(function(e){e.preventDefault();const t=m(this).parents(".wcf-qty").find(".wcf-qty-selection"),c=t.attr("min");var o=parseInt(t.val(),10);m(e.target).hasClass("wcf-qty-increment")?t.val(o+1):t.val(o<=c?c:o-1),m(".wcf-qty-selection").trigger("change")});{let o="billing",i="billing";function c(){const e=m(".wcf-multistep-nav-next-btn"),t=m(".wcf-multistep-nav-back-btn");"shipping"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-shipping"),"payment"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-payment"),m(".wcf-embed-checkout-form").addClass("wcf-billing"),cartflows.is_hide_shipping_tab?e.attr("data-target","payment"):e.attr("data-target","shipping"),t.attr("data-target",""),m(".wcf-checkout-breadcrumb.information-step a").addClass("wcf-current-step"),e.text(cartflows.multistep_buttons_strings.billing)}function a(){const e=m(".wcf-multistep-nav-next-btn"),t=m(".wcf-multistep-nav-back-btn");"billing"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-billing"),"payment"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-payment"),m(".wcf-embed-checkout-form").addClass("wcf-shipping"),e.attr("data-target","payment"),t.attr("data-target","billing"),m(".wcf-checkout-breadcrumb.shipping-step a").addClass("wcf-current-step"),s(),e.text(cartflows.multistep_buttons_strings.shipping)}function r(){const e=m(".wcf-multistep-nav-back-btn");"shipping"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-shipping"),"billing"===o&&m(".wcf-embed-checkout-form").removeClass("wcf-billing"),cartflows.is_hide_shipping_tab?e.attr("data-target","billing"):e.attr("data-target","shipping"),m(".wcf-embed-checkout-form").addClass("wcf-payment"),m(".wcf-checkout-breadcrumb.payment-step a").addClass("wcf-current-step"),s()}function s(){m(".wcf-review-detail-content.contact-details").text(m(".wcf-embed-checkout-form form.woocommerce-checkout").find('input[type="email"]').val())}function n(e="wcf-embed-checkout-form",t=1e3){m("html, body").animate({scrollTop:m("#"+e).offset().top},t)}function d(){m(".wcf-current-step").length&&m(".wcf-current-step").removeClass("wcf-current-step")}m(document).on("click",".wcf-multistep-nav-next-btn",function(e){e.preventDefault();const t=m(".wcf-multistep-nav-next-btn"),c=t.attr("data-target");i!==c&&f()&&(d(),o=i,"shipping"===(i=c)?a():"payment"===c&&r(),n())}),m(document).on("click",".wcf-multistep-nav-back-btn",function(e){e.preventDefault();const t=m(".wcf-multistep-nav-back-btn");previous_step_element_target=t.attr("data-target"),i!==previous_step_element_target&&f()&&(d(),o=i,""===(i=previous_step_element_target)?t.css("visibility","hidden"):"shipping"===previous_step_element_target?a():"billing"===previous_step_element_target&&c(),n())}),m(document).on("click",".wcf-checkout-breadcrumb a",function(e){e.preventDefault();e=m(e.target).attr("data-tab");i!==e&&f()&&(o=i,i=e,d(),"billing"===e?c():"shipping"===e?a():"payment"===e&&r(),n())}),m(document).on("click",".wcf-step-link",function(e){e.preventDefault();e=m(e.target).attr("data-target");i!==e&&f()&&(o=i,i=e,d(),"billing"===e?c():"shipping"===e&&a())});const f=function(){let s=!0,n="";var e,t,c;return"billing"===i&&(e=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-billing-fields, .wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-account-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),t=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-billing-fields, .wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-account-fields").find('input[type="checkbox"]'),c=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-billing-fields").find(".select2"),Array.from(e).forEach(function(e){const t=e.type,c=e.name,o=e.closest(".form-row"),i=m.trim(e.value);let a=o.classList.contains("validate-required");var r;"account_password"!==c&&"account_username"!==c||(r=document.getElementById("createaccount"),a=!r||!!m(r).is(":checked")),a&&""===i?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):("email"===t&&!1===/^([a-zA-Z0-9_\+\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,14})$/.test(i)&&(e.classList.add("field-required"),s=!1,""===n&&(n=e)),e.classList.remove("field-required"))}),Array.from(t).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required");let o=!1;m(e).is(":checked")&&(o=!0),c&&!1===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}),Array.from(c).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=m.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,c&&""===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")})),"shipping"===i&&(e=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-shipping-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),t=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-shipping-fields .woocommerce-shipping-fields__field-wrapper").find('input[type="checkbox"]'),c=m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout .woocommerce-shipping-fields").find(".select2"),"1"===m(".wcf-embed-checkout-form-modern-checkout.wcf-modern-skin-multistep form.woocommerce-checkout").find('h3#ship-to-different-address input[type="checkbox"]:checked').val()&&(Array.from(e).forEach(function(e){const t=e.type,c=e.closest(".form-row"),o=c.classList.contains("validate-required"),i=m.trim(e.value);o&&""===i?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):("email"===t&&!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i)&&(e.classList.add("field-required"),s=!1,""===n&&(n=e)),e.classList.remove("field-required"))}),Array.from(c).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=m.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,c&&""===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}),Array.from(t).forEach(function(e){const t=e.closest(".form-row"),c=t.classList.contains("validate-required");let o=!1;m(e).is(":checked")&&(o=!0),c&&!1===o?(e.classList.add("field-required"),s=!1,""===n&&(n=e)):e.classList.remove("field-required")}))),""!==n&&n.focus(),s};return}})}(jQuery);