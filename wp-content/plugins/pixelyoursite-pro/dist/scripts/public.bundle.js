(()=>{function _slicedToArray(t,o){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,o){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,r,c,d,l=[],_=!0,u=!1;try{if(c=(a=a.call(t)).next,0===o){if(Object(a)!==a)return;_=!1}else for(;!(_=(i=c.call(a)).done)&&(l.push(i.value),l.length!==o);_=!0);}catch(t){u=!0,r=t}finally{try{if(!_&&null!=a.return&&(d=a.return(),Object(d)!==d))return}finally{if(u)throw r}}return l}}(t,o)||_unsupportedIterableToArray(t,o)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,o){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||o&&t&&"number"==typeof t.length){a&&(t=a);var i=0,r=function F(){};return{s:r,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,d=!0,l=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return d=t.done,t},e:function e(t){l=!0,c=t},f:function f(){try{d||null==a.return||a.return()}finally{if(l)throw c}}}}function _unsupportedIterableToArray(t,o){if(t){if("string"==typeof t)return _arrayLikeToArray(t,o);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,o):void 0}}function _arrayLikeToArray(t,o){(null==o||o>t.length)&&(o=t.length);for(var a=0,i=new Array(o);a<o;a++)i[a]=t[a];return i}function pys_generate_token(t){for(var o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),a=[],i=0;i<t;i++){var r=(Math.random()*(o.length-1)).toFixed(0);a[i]=o[r]}return a.join("")}function getBundlePriceOnSingleProduct(t){var o=0;return jQuery(".bundle_form .bundled_product").each((function(a){var i=jQuery(this).find(".cart").data("bundled_item_id"),r=t.prices[i],c=jQuery(this).find(".bundled_qty").val();jQuery(this).hasClass("bundled_item_optional")&&!jQuery(this).find(".bundled_product_optional_checkbox input").prop("checked")||(o+=r*c)})),o}function getPixelBySlag(t){switch(t){case"facebook":return window.pys.Facebook;case"ga":return window.pys.Analytics;case"google_ads":return window.pys.GAds;case"bing":return window.pys.Bing;case"pinterest":return window.pys.Pinterest;case"tiktok":return window.pys.TikTok}}function getUrlParameter(t){var o,a,i=window.location.search.substring(1).split("&");for(a=0;a<i.length;a++)if((o=i[a].split("="))[0]===t)return void 0===o[1]||decodeURIComponent(o[1]);return!1}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function value(t,o){if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),i=a.length>>>0;if(0===i)return!1;var r,c,d=0|o,l=Math.max(d>=0?d:i-Math.abs(d),0);for(;l<i;){if((r=a[l])===(c=t)||"number"==typeof r&&"number"==typeof c&&isNaN(r)&&isNaN(c))return!0;l++}return!1}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function value(t,o){return o=o||0,this.indexOf(t,o)===o}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),function(t,o){o.debug&&console.log("PYS:",o);var a=!1,i={tag:function tag(){return"pinterest"},isEnabled:function isEnabled(){},disable:function disable(){},loadPixel:function loadPixel(){},fireEvent:function fireEvent(t,o){return!1},onAdSenseEvent:function onAdSenseEvent(t){},onClickEvent:function onClickEvent(t){},onWatchVideo:function onWatchVideo(t){},onCommentEvent:function onCommentEvent(t){},onFormEvent:function onFormEvent(t){},onDownloadEvent:function onDownloadEvent(t){},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(t,o,a,i,r){},onWooRemoveFromCartEvent:function onWooRemoveFromCartEvent(t){},onWooAffiliateEvent:function onWooAffiliateEvent(t){},onWooPayPalEvent:function onWooPayPalEvent(t){},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,o,a){},onEddRemoveFromCartEvent:function onEddRemoveFromCartEvent(t){},onPageScroll:function onPageScroll(t){},onTime:function onTime(t){}},r={tag:function tag(){return"bing"},isEnabled:function isEnabled(){},disable:function disable(){},loadPixel:function loadPixel(){},fireEvent:function fireEvent(t,o){return!1},onAdSenseEvent:function onAdSenseEvent(t){},onClickEvent:function onClickEvent(t){},onWatchVideo:function onWatchVideo(t){},onCommentEvent:function onCommentEvent(t){},onFormEvent:function onFormEvent(t){},onDownloadEvent:function onDownloadEvent(t){},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(t,o,a,i,r){},onWooRemoveFromCartEvent:function onWooRemoveFromCartEvent(t){},onWooAffiliateEvent:function onWooAffiliateEvent(t){},onWooPayPalEvent:function onWooPayPalEvent(t){},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,o,a){},onEddRemoveFromCartEvent:function onEddRemoveFromCartEvent(t){},onPageScroll:function onPageScroll(t){},onTime:function onTime(t){}},c=function(o){var p=i,m=r,v=!1,g=checkSession();if(g){var y=6e4*o.last_visit_duration,h=new Date;h.setTime(h.getTime()+y),Cookies.set("pys_session_limit",!0,{expires:h}),Cookies.set("pys_start_session",!0)}function _loadPixels(){o.gdpr.all_disabled_by_api||(o.gdpr.tiktok_disabled_by_api||d.loadPixel(),o.gdpr.facebook_disabled_by_api||l.loadPixel(),o.gdpr.analytics_disabled_by_api||_.loadPixel(),o.gdpr.google_ads_disabled_by_api||u.loadPixel(),o.gdpr.pinterest_disabled_by_api||p.loadPixel(),o.gdpr.bing_disabled_by_api||m.loadPixel()),o.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data&&(void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode&&_.loadPixel(),void 0!==CS_Data.cs_google_ads_consent_mode&&1==CS_Data.cs_google_ads_consent_mode&&u.loadPixel())}function isJSApiAttrEnabled(t){return t.indexOf("enablejsapi")>-1}function isOriginAttrEnabled(t){return t.indexOf("origin")>-1}function getVideoCompletionMarks(t){for(var o={},a=[0,10,50,90,100],i=0;i<a.length;i++){var r=a[i],c=t*r/100;100===r&&(c-=1),o[r+"%"]=Math.floor(c)}return o}function tagIsYouTubeVideo(t){var o=t.src||"";return o.indexOf("youtube.com/embed/")>-1||o.indexOf("youtube.com/v/")>-1}function tagIsYouTubeAsyncVideo(t){if(t.src&&-1!==t.src.indexOf("data:image"))return!1;for(var o=Object.keys(t.dataset),a=0;a<o.length;a++)if(o[a].toLowerCase().indexOf("src")>-1){var i=t.dataset[o[a]];return i.indexOf("youtube.com/embed/")>-1||i.indexOf("youtube.com/v/")>-1}return!1}function normalizeYouTubeIframe(t){var o=window.location,a=document.createElement("a");a.href=t.src,a.hostname="www.youtube.com",a.protocol=o.protocol;var i="/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname;if(isJSApiAttrEnabled(a.search)||(a.search=(a.search.length>0?a.search+"&":"")+"enablejsapi=1"),!isOriginAttrEnabled(a.search)&&-1===o.hostname.indexOf("localhost")){var r=o.port?":"+o.port:"",c=o.protocol+"%2F%2F"+o.hostname+r;a.search=a.search+"&origin="+c}if("application/x-shockwave-flash"===t.type){var d=document.createElement("iframe");d.height=t.height,d.width=t.width,i=i.replace("/v/","/embed/"),t.parentNode.parentNode.replaceChild(d,t.parentNode),t=d}return a.pathname=i,t.src!==a.href+a.hash&&(t.src=a.href+a.hash),t}function addYouTubeEvents(a){var i=YT.get(a.id);i||(i=new YT.Player(a,{})),void 0===a.pauseFlag&&(a.pauseFlag=!1,i.addEventListener("onStateChange",(function(i){!function onYouTubePlayerStateChange(a,i){var r=a.data,d=a.target,l=d.getVideoUrl(),_=l.match(/[?&]v=([^&#]*)/)[1],u=d.getPlayerState(),p=getVideoCompletionMarks(d.getDuration());i.playTracker=i.playTracker||{},u!==YT.PlayerState.PLAYING||i.timer?(clearInterval(i.timer),i.timer=!1):(clearInterval(i.timer),i.timer=setInterval((function(){!function checkYouTubeCompletion(a,i,r){var d=a.getCurrentTime();for(var l in a[r]=a[r]||{},i)if(i[l]<=d&&!a[r][l]){a[r][l]=!0,"0%"===l&&(l="play");var _={video_type:"youtube",video_id:r,video_title:a.getVideoData().title};if(o.automatic.enable_video&&o.automatic.enable_youtube&&o.dynamicEvents.hasOwnProperty("automatic_event_video"))for(var u=Object.keys(o.dynamicEvents.automatic_event_video),p=0;p<u.length;p++){var m=c.clone(o.dynamicEvents.automatic_event_video[u[p]]);if(m.params.progress=l,c.copyProperties(_,m.params),"tiktok"===u[p])d>=i[m.automatic_event_video_trigger]&&!0!==m.fired&&(getPixelBySlag(u[p]).onWatchVideo(m),o.dynamicEvents.automatic_event_video[u[p]].fired=!0);else c.copyProperties(c.getRequestParams(),m.params),getPixelBySlag(u[p]).onWatchVideo(m)}"play"==l&&t.each(o.triggerEventTypes,(function(o,a){t.each(a,(function(t,a){if("video_play"===o)c.fireTriggerEvent(t)}))}))}}(d,p,i.videoId)}),1e3));r===YT.PlayerState.PLAYING&&(i.playTracker[_]=!0,i.videoId=_,i.pauseFlag=!1);if(!i.playTracker[i.videoId])return!1;if(r===YT.PlayerState.PAUSED){if(i.pauseFlag)return!1;i.pauseFlag=!0}}(i,a)})))}function tagIsVimeoVideo(t){return(t.src||"").indexOf("player.vimeo.com/video/")>-1}function tagIsAsincVimeoVideo(t){if(t.src)return!1;for(var o=Object.keys(t.dataset),a=0;a<o.length;a++){if(o[a].toLowerCase().indexOf("src")>-1)return t.dataset[o[a]].indexOf("player.vimeo.com/video/")>-1}return!1}function attachVimeoPlayerToTag(a){var i=new Vimeo.Player(a);i.getDuration().then(function(t,o){t.pysMarks=getVideoCompletionMarks(o)}.bind(null,i)),i.getVideoTitle().then(function(t,o){t.pysVideoTitle=o}.bind(null,i)),i.getVideoId().then(function(t,o){t.pysVideoId=o}.bind(null,i)),i.pysCompletedMarks={},i.on("play",(function(){if(!this.pysTimer){clearInterval(this.pysTimer);var a=this;this.pysTimer=setInterval((function(){!function checkVimeoCompletion(a){a.getCurrentTime().then((function(i){for(var r in a.pysMarks)if(a.pysMarks[r]<=i&&!a.pysCompletedMarks[r]){a.pysCompletedMarks[r]=!0,"0%"===r&&(r="play");var d={video_type:"vimeo",video_id:a.pysVideoId,video_title:a.pysVideoTitle};if(o.automatic.enable_video&&o.automatic.enable_vimeo&&o.dynamicEvents.hasOwnProperty("automatic_event_video"))for(var l=Object.keys(o.dynamicEvents.automatic_event_video),_=0;_<l.length;_++){var u=c.clone(o.dynamicEvents.automatic_event_video[l[_]]);if(u.params.progress=r,c.copyProperties(d,u.params),"tiktok"===l[_]){var p=u.automatic_event_video_trigger;i>=a.pysMarks[p]&&!0!==u.fired&&(getPixelBySlag(l[_]).onWatchVideo(u),o.dynamicEvents.automatic_event_video[l[_]].fired=!0)}else c.copyProperties(c.getRequestParams(),u.params),getPixelBySlag(l[_]).onWatchVideo(u)}"play"==r&&t.each(o.triggerEventTypes,(function(o,a){t.each(a,(function(t,a){if("video_play"===o)c.fireTriggerEvent(t)}))}))}}))}(a)}),1e3)}})),i.on("pause",(function(){clearInterval(this.pysTimer),this.pysTimer=!1})),i.on("ended",(function(){clearInterval(this.pysTimer),this.pysTimer=!1}))}var b=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],E=["fbadid","gadid","padid","bingid"],k=[];function checkSession(){return(void 0===Cookies.get("pys_start_session")||void 0===Cookies.get("pys_session_limit"))&&(a=!0,!0)}function getTrafficSource(){try{var t,a=document.referrer.toString(),i=0===a.length,r=!i&&0===a.indexOf(o.siteUrl);return"direct"!==(t=!1===(!i&&!r)?"direct":a)?function getDomain(t){return-1!==(t=t.replace(/(https?:\/\/)?(www.)?/i,"")).indexOf("/")?t.split("/")[0]:t}(t):t}catch(t){return console.error(t),"direct"}}function getQueryVars(){try{var t={},o=[];return window.location.search.substr(1).split("&").forEach((function(a){(o=a.split("=")).length>1&&(t[o[0]]=o[1])})),t}catch(t){return console.error(t),{}}}function getUTMId(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var a="pys_",i=[];return o&&(a="last_pys_"),t.each(E,(function(t,o){Cookies.get(a+o)&&(i[o]=Cookies.get(a+o))})),i}catch(t){return console.error(t),[]}}function getUTMs(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var a="pys_";o&&(a="last_pys_");var i=[];return t.each(b,(function(t,o){if(Cookies.get(a+o)){var r=Cookies.get(a+o);i[o]=_filterEmails(r)}})),i}catch(t){return console.error(t),[]}}function getDateTime(){var t=new Array,o=new Date;return t.push(["00-01","01-02","02-03","03-04","04-05","05-06","06-07","07-08","08-09","09-10","10-11","11-12","12-13","13-14","14-15","15-16","16-17","17-18","18-19","19-20","20-21","21-22","22-23","23-24"][o.getHours()]),t.push(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()]),t.push(["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]),t}function _filterEmails(t){return c.validateEmail(t)?void 0:t}return{PRODUCT_SIMPLE:0,PRODUCT_VARIABLE:1,PRODUCT_BUNDLE:2,PRODUCT_GROUPED:3,utmTerms:b,utmId:E,isNewSession:checkSession(),hideMatchingPixel:function hideMatchingPixel(o,i){if(!a)return!1;if(Cookies.get("hide_tag_"+o))return!0;var r=!1,c=(window.location.href,new URLSearchParams(window.location.search));return t.each(getPixelBySlag(i).getHidePixel(),(function(t,a){if(a.pixel===o){var i,d=_createForOfIteratorHelper(a.hide_tag_contain);try{for(d.s();!(i=d.n()).done;){var l=i.value;if(l){var _=60*a.hide_tag_time*60*1e3,u=(new Date).getTime()+_,p=l.split("="),m=p[0],v=p[1];if(void 0!==v){if(c.get(m)===v){Cookies.set("hide_tag_"+o,!0,{expires:new Date(u)}),r=!0;break}}else if(null!==c.get(m)){Cookies.set("hide_tag_"+o,!0,{expires:new Date(u)}),r=!0;break}}}}catch(t){d.e(t)}finally{d.f()}}})),r},validateEmail:function validateEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},fireEventForAllPixel:function fireEventForAllPixel(t,o){o.hasOwnProperty(l.tag())&&l[t](o[l.tag()]),o.hasOwnProperty(_.tag())&&_[t](o[_.tag()]),o.hasOwnProperty(u.tag())&&u[t](o[u.tag()]),o.hasOwnProperty(p.tag())&&p[t](o[p.tag()]),o.hasOwnProperty(m.tag())&&m[t](o[m.tag()]),o.hasOwnProperty(d.tag())&&d[t](o[d.tag()])},getQueryValue:function getQueryValue(t){return getQueryVars()[t]},filterEmails:function filterEmails(t){return _filterEmails(t)},setupPinterestObject:function setupPinterestObject(){return p=window.pys.Pinterest||p},setupBingObject:function setupBingObject(){return m=window.pys.Bing||m},copyProperties:function copyProperties(t,o){for(var a in t)"function"!=typeof t[a]&&(o[a]=t[a]);return o},clone:function clone(t){var o;if(null==t||"object"!=_typeof(t))return t;if(t instanceof Date)return(o=new Date).setTime(t.getTime()),o;if(t instanceof Array){o=[];for(var a=0,i=t.length;a<i;a++)"function"!=typeof t[a]&&(o[a]=c.clone(t[a]));return o}if(t instanceof Object){for(var r in o={},t)if(t.hasOwnProperty(r)){if("function"==typeof t[r])continue;o[r]=c.clone(t[r])}return o}return t},getTagsAsArray:function getTagsAsArray(t){return[].slice.call(document.getElementsByTagName(t))},initYouTubeAPI:function initYouTubeAPI(){if(void 0===window.YT){var t=document.createElement("script");t.src="//www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}window.onYouTubeIframeAPIReady=function(){for(var t=c.getTagsAsArray("iframe").concat(c.getTagsAsArray("embed")),o=0;o<t.length;o++){var a=t[o];if(tagIsYouTubeVideo(a))addYouTubeEvents(normalizeYouTubeIframe(a));else tagIsYouTubeAsyncVideo(a)&&a.addEventListener("load",(function(t){addYouTubeEvents(normalizeYouTubeIframe(t.currentTarget))}))}var i=document.querySelectorAll(".elementor-widget-video .elementor-wrapper"),r={attributes:!1,childList:!0,subtree:!0},d=function callback(t,o){var a,i,r=_createForOfIteratorHelper(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;if("childList"===c.type)for(var d=0;d<c.addedNodes.length;d++)"IFRAME"===(i=c.addedNodes[d]).tagName&&tagIsYouTubeVideo(i)&&isJSApiAttrEnabled(i.src)&&isOriginAttrEnabled(i.src)&&addYouTubeEvents(i)}}catch(t){r.e(t)}finally{r.f()}};for(o=0;o<i.length;o++){new MutationObserver(d).observe(i[o],r)}}},initVimeoAPI:function initVimeoAPI(){t(document).ready((function(){for(var t=c.getTagsAsArray("iframe").concat(c.getTagsAsArray("embed")),o=0;o<t.length;o++){var a=t[o];tagIsVimeoVideo(a)?attachVimeoPlayerToTag(a):tagIsAsincVimeoVideo(a)&&a.addEventListener("load",(function(t){attachVimeoPlayerToTag(t.currentTarget)}))}}))},manageCookies:function manageCookies(){o.gdpr.ajax_enabled&&!o.gdpr.consent_magic_integration_enabled&&t.get({url:o.ajaxUrl,dataType:"json",data:{action:"pys_get_gdpr_filters_values"},success:function success(t){t.success&&(o.gdpr.all_disabled_by_api=t.data.all_disabled_by_api,o.gdpr.facebook_disabled_by_api=t.data.facebook_disabled_by_api,o.gdpr.tiktok_disabled_by_api=t.data.tiktok_disabled_by_api,o.gdpr.analytics_disabled_by_api=t.data.analytics_disabled_by_api,o.gdpr.google_ads_disabled_by_api=t.data.google_ads_disabled_by_api,o.gdpr.pinterest_disabled_by_api=t.data.pinterest_disabled_by_api,o.gdpr.bing_disabled_by_api=t.data.bing_disabled_by_api,o.cookie.externalID_disabled_by_api=t.data.externalID_disabled_by_api,o.cookie.disabled_all_cookie=t.data.disabled_all_cookie,o.cookie.disabled_advanced_form_data_cookie=t.data.disabled_advanced_form_data_cookie,o.cookie.disabled_landing_page_cookie=t.data.disabled_landing_page_cookie,o.cookie.disabled_first_visit_cookie=t.data.disabled_first_visit_cookie,o.cookie.disabled_trafficsource_cookie=t.data.disabled_trafficsource_cookie,o.cookie.disabled_utmTerms_cookie=t.data.disabled_utmTerms_cookie,o.cookie.disabled_utmId_cookie=t.data.disabled_utmId_cookie)}});var a=parseInt(o.cookie_duration),i=getQueryVars(),r=window.location.href.split("?")[0];try{void 0!==Cookies.get("pys_first_visit")||o.cookie.disabled_all_cookie||(o.cookie.disabled_first_visit_cookie?Cookies.remove("pys_first_visit"):Cookies.set("pys_first_visit",!0,{expires:a}),o.cookie.disabled_trafficsource_cookie?Cookies.remove("pysTrafficSource"):Cookies.set("pysTrafficSource",getTrafficSource(),{expires:a}),o.cookie.disabled_landing_page_cookie?Cookies.remove("pys_landing_page"):Cookies.set("pys_landing_page",r,{expires:a}),o.cookie.disabled_utmTerms_cookie?t.each(b,(function(t,o){Cookies.remove("pys_"+o)})):t.each(b,(function(t,o){i.hasOwnProperty(o)?Cookies.set("pys_"+o,i[o],{expires:a}):Cookies.remove("pys_"+o)})),o.cookie.disabled_utmId_cookie?t.each(E,(function(t,o){Cookies.remove("pys_"+o)})):t.each(E,(function(t,o){i.hasOwnProperty(o)?Cookies.set("pys_"+o,i[o],{expires:a}):Cookies.remove("pys_"+o)}))),g&&!o.cookie.disabled_all_cookie&&(o.cookie.disabled_trafficsource_cookie?Cookies.remove("last_pysTrafficSource"):Cookies.set("last_pysTrafficSource",getTrafficSource(),{expires:a}),o.cookie.disabled_landing_page_cookie?Cookies.remove("last_pys_landing_page"):Cookies.set("last_pys_landing_page",r,{expires:a}),o.cookie.disabled_utmTerms_cookie?t.each(b,(function(t,o){Cookies.remove("last_pys_"+o)})):t.each(b,(function(t,o){i.hasOwnProperty(o)?Cookies.set("last_pys_"+o,i[o],{expires:a}):Cookies.remove("last_pys_"+o)})),o.cookie.disabled_utmId_cookie?t.each(E,(function(t,o){Cookies.remove("last_pys_"+o)})):t.each(E,(function(t,o){i.hasOwnProperty(o)?Cookies.set("last_pys_"+o,i[o],{expires:a}):Cookies.remove("last_pys_"+o)}))),o.cookie.disabled_all_cookie&&(Cookies.remove("pys_first_visit"),Cookies.remove("pysTrafficSource"),Cookies.remove("pys_landing_page"),Cookies.remove("last_pys_landing_page"),Cookies.remove("last_pysTrafficSource"),Cookies.remove("pys_start_session"),Cookies.remove("pys_session_limit"),t.each(c.utmTerms,(function(t,o){Cookies.remove("pys_"+o)})),t.each(c.utmId,(function(t,o){Cookies.remove("pys_"+o)})),t.each(c.utmTerms,(function(t,o){Cookies.remove("last_pys_"+o)})),t.each(c.utmId,(function(t,o){Cookies.remove("last_pys_"+o)})))}catch(t){console.error(t)}},initializeRequestParams:function initializeRequestParams(){if(o.trackTrafficSource&&(k.traffic_source=function getTrafficSourceValue(){var t="pysTrafficSource";return"last_visit"===o.visit_data_model&&(t="last_pysTrafficSource"),"undefined"===Cookies.get(t)?"":Cookies.get(t)}()),o.trackUTMs){var a=getUTMs("last_visit"===o.visit_data_model);t.each(b,(function(t,o){o in a&&(k[o]=a[o])}))}var i=getDateTime();o.enable_event_time_param&&(k.event_time=i[0]),o.enable_event_day_param&&(k.event_day=i[1]),o.enable_event_month_param&&(k.event_month=i[2]),o.enable_lading_page_param&&(k.landing_page=function getLandingPageValue(){var t="pys_landing_page";return"last_visit"===o.visit_data_model&&(t="last_pys_landing_page"),"undefined"===Cookies.get(t)?"":Cookies.get(t)}())},getRequestParams:function getRequestParams(){return k},getLinkExtension:function getLinkExtension(t){return(t=(t=(t=t.substring(0,-1===t.indexOf("#")?t.length:t.indexOf("#"))).substring(0,-1===t.indexOf("?")?t.length:t.indexOf("?"))).substring(t.lastIndexOf("/")+1,t.length)).length>0&&-1!==t.indexOf(".")?t=t.substring(t.lastIndexOf(".")+1):""},getLinkFilename:function getLinkFilename(t){return(t=(t=(t=t.substring(0,-1===t.indexOf("#")?t.length:t.indexOf("#"))).substring(0,-1===t.indexOf("?")?t.length:t.indexOf("?"))).substring(t.lastIndexOf("/")+1,t.length)).length>0&&-1!==t.indexOf(".")?t:""},setupMouseOverClickEvents:function setupMouseOverClickEvents(t,o){document.addEventListener("mouseover",(function(a){var i=Array.from(document.querySelectorAll(o)),r=a.target,d=r.closest(o);if(i.includes(r)||d){if(a.target.classList.contains("pys-mouse-over-"+t))return!0;a.target.classList.add("pys-mouse-over-"+t),c.fireTriggerEvent(t)}}))},setupCSSClickEvents:function setupCSSClickEvents(t,o){document.addEventListener("click",(function(a){var i=Array.from(document.querySelectorAll(o)),r=a.target,d=r.closest(o);(i.includes(r)||d)&&c.fireTriggerEvent(t)}),!0)},setupURLClickEvents:function setupURLClickEvents(){o.triggerEventTypes.hasOwnProperty("url_click")&&document.addEventListener("click",(function(t){if(t.target.matches("a")){var a=t.target.getAttribute("href");a&&Object.entries(o.triggerEventTypes.url_click).forEach((function(t){var o=_slicedToArray(t,2),i=o[0];o[1].forEach((function(t){c.compareUrl(a,t.value,t.rule)&&c.fireTriggerEvent(i)}))}))}}),!0)},removeUrlDomain:function removeUrlDomain(t){return t.indexOf("/#")>-1&&(t=t.substring(0,t.indexOf("/#"))),t.replace("http://","").replace("https://","").replace("www.","").trim().replace(/^\/+/g,"")},compareUrl:function compareUrl(t,o,a){return"*"==o||""==o||(t=c.removeUrlDomain(t),o=c.removeUrlDomain(o),"match"==a?o==t:t.indexOf(o)>-1)},setupScrollPosEvents:function setupScrollPosEvents(o,a){var i={},r=t(document).height()-t(window).height();t.each(a,(function(t,a){a=r*a/100,a=Math.round(a),i[a]=o})),t(document).on("scroll",(function(){var o=t(window).scrollTop();t.each(i,(function(t,a){return o<=t||(null===a||(i[t]=null,void c.fireTriggerEvent(a)))}))}))},setupCommentEvents:function setupCommentEvents(o,a){t("form.comment-form").on("submit",(function(){c.fireTriggerEvent(o)}))},isEventInTimeWindow:function isEventInTimeWindow(t,o,a){if(o.hasOwnProperty("hasTimeWindow")&&o.hasTimeWindow){var i=a+"_"+t,r=(new Date).getTime();if(void 0!==Cookies.get(i)){if(!(r-Cookies.get(i)>60*o.timeWindow*60*1e3))return!1;Cookies.set(i,r,{expires:o.timeWindow/24})}else Cookies.set(i,r,{expires:o.timeWindow/24})}return!0},fireTriggerEvent:function fireTriggerEvent(t){if(o.triggerEvents.hasOwnProperty(t)){var a={},i=o.triggerEvents[t];i.hasOwnProperty("facebook")&&(a=i.facebook,c.isEventInTimeWindow(a.name,a,"dyn_facebook_"+t)&&l.fireEvent(a.name,a)),i.hasOwnProperty("ga")&&(a=i.ga,c.isEventInTimeWindow(a.name,a,"dyn_ga_"+t)&&_.fireEvent(a.name,a)),i.hasOwnProperty("google_ads")&&(a=i.google_ads,c.isEventInTimeWindow(a.name,a,"dyn_google_ads_"+t)&&u.fireEvent(a.name,a)),i.hasOwnProperty("pinterest")&&(a=i.pinterest,c.isEventInTimeWindow(a.name,a,"dyn_pinterest_"+t)&&p.fireEvent(a.name,a)),i.hasOwnProperty("bing")&&(a=i.bing,c.isEventInTimeWindow(a.name,a,"dyn_bing_"+t)&&m.fireEvent(a.name,a)),i.hasOwnProperty("tiktok")&&(a=i.tiktok,c.isEventInTimeWindow(a.name,a,"dyn_bing_"+t)&&d.fireEvent(a.name,a))}},isFirstPurchaseFire:function isFirstPurchaseFire(t,o,a){return Cookies.get("pys_"+t+"_order_id_"+a)!=o&&(Cookies.set("pys_"+t+"_order_id_"+a,o,{expires:1}),!0)},fireStaticEvents:function fireStaticEvents(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.staticEvents.hasOwnProperty(a)&&t.each(o.staticEvents[a],(function(r,d){(!o.woo.hasOwnProperty("woo_purchase_on_transaction")||!o.woo.woo_purchase_on_transaction||"woo_purchase"!==r&&"woo_purchase_category"!==r||c.isFirstPurchaseFire(r,d[0].woo_order,a))&&(!o.edd.hasOwnProperty("edd_purchase_on_transaction")||!o.edd.edd_purchase_on_transaction||"edd_purchase"!==r&&"edd_purchase_category"!==r||c.isFirstPurchaseFire(r,d[0].edd_order,a))&&t.each(d,(function(t,o){if(o.fired=o.fired||!1,!o.fired&&c.isEventInTimeWindow(o.name,o,"static_"+a+"_")){"tiktok"===a?(setTimeout((function(){getPixelBySlag(a).fireEvent(o.name,o)}),500*i),i++):getPixelBySlag(a).fireEvent(o.name,o),o.fired=!1}}))}))},loadGoogleTag:function loadGoogleTag(t){v||(!function(t,o,a){var i=o.createElement("script"),r=o.getElementsByTagName("script")[0];i.async=1,i.src=a,r.parentNode.insertBefore(i,r)}(window,document,"//www.googletagmanager.com/gtag/js?id="+t),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function gtag(){dataLayer.push(arguments)},gtag("js",new Date),v=!0)},loadPixels:function loadPixels(){o.gdpr.ajax_enabled&&!o.gdpr.consent_magic_integration_enabled?t.get({url:o.ajaxUrl,dataType:"json",data:{action:"pys_get_gdpr_filters_values"},success:function success(t){t.success&&(o.gdpr.all_disabled_by_api=t.data.all_disabled_by_api,o.gdpr.facebook_disabled_by_api=t.data.facebook_disabled_by_api,o.gdpr.tiktok_disabled_by_api=t.data.tiktok_disabled_by_api,o.gdpr.analytics_disabled_by_api=t.data.analytics_disabled_by_api,o.gdpr.google_ads_disabled_by_api=t.data.google_ads_disabled_by_api,o.gdpr.pinterest_disabled_by_api=t.data.pinterest_disabled_by_api,o.gdpr.bing_disabled_by_api=t.data.bing_disabled_by_api,o.cookie.externalID_disabled_by_api=t.data.externalID_disabled_by_api,o.cookie.disabled_all_cookie=t.data.disabled_all_cookie,o.cookie.disabled_advanced_form_data_cookie=t.data.disabled_advanced_form_data_cookie,o.cookie.disabled_landing_page_cookie=t.data.disabled_landing_page_cookie,o.cookie.disabled_first_visit_cookie=t.data.disabled_first_visit_cookie,o.cookie.disabled_trafficsource_cookie=t.data.disabled_trafficsource_cookie,o.cookie.disabled_utmTerms_cookie=t.data.disabled_utmTerms_cookie,o.cookie.disabled_utmId_cookie=t.data.disabled_utmId_cookie),_loadPixels()}}):_loadPixels()},consentGiven:function consentGiven(t){if(o.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot){var a=o.gdpr["cookiebot_"+t+"_consent_category"];if(o.gdpr[t+"_prior_consent_enabled"]){if(!1===Cookiebot.consented||Cookiebot.consent[a])return!0}else if(Cookiebot.consent[a])return!0;return!1}if(o.gdpr.cookie_notice_integration_enabled&&"undefined"!=typeof cnArgs){var i=Cookies.get(cnArgs.cookieName);if(o.gdpr[t+"_prior_consent_enabled"]){if(void 0===i||"true"===i)return!0}else if("true"===i)return!0;return!1}if(o.gdpr.cookie_law_info_integration_enabled){var r=Cookies.get("viewed_cookie_policy");if(o.gdpr[t+"_prior_consent_enabled"]){if(void 0===r||"yes"===r)return!0}else if("yes"===r)return!0;return!1}if(o.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data){var c=CS_Data.test_prefix;if(void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode&&"analytics"==t)return!0;if(void 0!==CS_Data.cs_google_ads_consent_mode&&1==CS_Data.cs_google_ads_consent_mode&&"google_ads"==t)return!0;if(1==CS_Data.cs_cache_enabled){for(var d=document.cookie.split(";"),l=1;l<=d.length;l++)if(-1!==d[l-1].indexOf("cs_enabled_cookie_term")){var _=d[l-1].replace("cs_enabled_cookie_term"+c+"_","");_=Number(_.replace(/\D+/g,""));var u=Cookies.get("cs_enabled_cookie_term"+c+"_"+_);if(_===CS_Data.cs_script_cat.facebook&&"facebook"==t)return"yes"==u;if(_===CS_Data.cs_script_cat.bing&&"bing"==t)return"yes"==u;if(_===CS_Data.cs_script_cat.analytics&&"analytics"==t)return"yes"==u;if(_===CS_Data.cs_script_cat.gads&&"google_ads"==t)return"yes"==u;if(_===CS_Data.cs_script_cat.pinterest&&"pinterest"==t)return"yes"==u;if(_===CS_Data.cs_script_cat.tiktok&&"tiktok"==t)return"yes"==u}}else{var p=Cookies.get("cs_viewed_cookie_policy"+c);if(void 0===p||"yes"===p)return!0}return!1}if(o.gdpr.real_cookie_banner_integration_enabled){var m=window.consentApi;if(m)switch(t){case"analytics":return m.consentSync("http","_ga","*").cookieOptIn;case"facebook":return m.consentSync("http","_fbp","*").cookieOptIn;case"pinterest":return m.consentSync("http","_pinterest_sess",".pinterest.com").cookieOptIn;case"bing":return m.consentSync("http","_uetsid","*").cookieOptIn;case"google_ads":return m.consentSync("http","1P_JAR",".google.com").cookieOptIn;case"tiktok":return m.consentSync("http","tt_webid_v2",".tiktok.com").cookieOptIn;default:return!0}}return!0},setupGdprCallbacks:function setupGdprCallbacks(){if(o.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot&&window.addEventListener("CookiebotOnConsentReady",(function(){Cookiebot.consent.marketing&&(l.loadPixel(),m.loadPixel(),p.loadPixel(),u.loadPixel(),d.loadPixel()),Cookiebot.consent.statistics&&_.loadPixel(),Cookiebot.consent.marketing||(l.disable(),p.disable(),m.disable(),u.disable(),d.disable()),Cookiebot.consent.statistics||_.disable()})),o.gdpr.cookie_notice_integration_enabled&&(t(document).onFirst("click",".cn-set-cookie",(function(){"accept"===t(this).data("cookie-set")?(l.loadPixel(),_.loadPixel(),u.loadPixel(),p.loadPixel(),m.loadPixel(),d.loadPixel()):(l.disable(),_.disable(),u.disable(),p.disable(),m.disable(),d.disable())})),t(document).onFirst("click",".cn-revoke-cookie",(function(){l.disable(),_.disable(),u.disable(),p.disable(),m.disable(),d.disable()}))),o.gdpr.cookie_law_info_integration_enabled&&(t(document).onFirst("click","#cookie_action_close_header",(function(){l.loadPixel(),_.loadPixel(),u.loadPixel(),p.loadPixel(),m.loadPixel(),d.loadPixel()})),t(document).onFirst("click","#cookie_action_close_header_reject",(function(){l.disable(),_.disable(),u.disable(),p.disable(),m.disable(),d.disable()}))),o.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data){var a=CS_Data.test_prefix,i=!1;if(1==CS_Data.cs_refresh_after_consent&&(i=CS_Data.cs_refresh_after_consent),!i){for(var r=document.cookie.split(";"),c=1;c<=r.length;c++)if(-1!==r[c-1].indexOf("cs_enabled_cookie_term")){var v=r[c-1].replace("cs_enabled_cookie_term"+a+"_","");v=Number(v.replace(/\D+/g,"")),"yes"==Cookies.get("cs_enabled_cookie_term"+a+"_"+v)?(v===CS_Data.cs_script_cat.facebook&&l.loadPixel(),v===CS_Data.cs_script_cat.bing&&m.loadPixel(),(v===CS_Data.cs_script_cat.analytics||void 0!==CS_Data.cs_google_analytics_consent_mode&&1==CS_Data.cs_google_analytics_consent_mode)&&_.loadPixel(),(v===CS_Data.cs_script_cat.gads||void 0!==CS_Data.cs_google_ads_consent_mode&&1==CS_Data.cs_google_ads_consent_mode)&&u.loadPixel(),v===CS_Data.cs_script_cat.pinterest&&p.loadPixel(),v===CS_Data.cs_script_cat.tiktok&&d.loadPixel()):(v===CS_Data.cs_script_cat.facebook&&l.disable(),v===CS_Data.cs_script_cat.bing&&m.disable(),v!==CS_Data.cs_script_cat.analytics||void 0!==CS_Data.cs_google_analytics_consent_mode&&0!=CS_Data.cs_google_analytics_consent_mode||_.disable(),v!==CS_Data.cs_script_cat.gads||void 0!==CS_Data.cs_google_ads_consent_mode&&0!=CS_Data.cs_google_ads_consent_mode||u.disable(),v===CS_Data.cs_script_cat.pinterest&&p.disable(),v===CS_Data.cs_script_cat.tiktok&&d.disable()),"yes"==Cookies.get("cs_enabled_advanced_matching")&&l.loadPixel()}t(document).on("click",".cs_action_btn",(function(o){o.preventDefault();var a=t(this).attr("data-cs_action");"allow_all"===a?(l.loadPixel(),m.loadPixel(),_.loadPixel(),u.loadPixel(),p.loadPixel(),d.loadPixel()):"disable_all"===a&&(l.disable(),m.disable(),0!=CS_Data.cs_google_analytics_consent_mode&&void 0!==CS_Data.cs_google_analytics_consent_mode||_.disable(),0!=CS_Data.cs_google_ads_consent_mode&&void 0!==CS_Data.cs_google_ads_consent_mode||u.disable(),p.disable(),d.disable())}))}}if(o.gdpr.real_cookie_banner_integration_enabled){var g=window.consentApi;g&&(g.consent("http","_ga","*").then(_.loadPixel.bind(_),_.disable.bind(_)),g.consent("http","_fbp","*").then(l.loadPixel.bind(l),l.disable.bind(l)),g.consent("http","_pinterest_sess",".pinterest.com").then(p.loadPixel.bind(p),p.disable.bind(p)),g.consent("http","_uetsid","*").then(m.loadPixel.bind(m),m.disable.bind(m)),g.consent("http","1P_JAR",".google.com").then(u.loadPixel.bind(u),u.disable.bind(u)),g.consent("http","tt_webid_v2",".tiktok.com").then(d.loadPixel.bind(d),d.disable.bind(d)))}},isCheckoutPage:function isCheckoutPage(){return t("body").hasClass("woocommerce-checkout")||document.querySelector(".woocommerce-checkout")||t("body").hasClass("edd-checkout")},addCheckoutFields:function addCheckoutFields(){var o="",a=getUTMs();t.each(b,(function(t,i){t>0&&(o+="|"),o+=i+":"+a[i]}));var i="",r=getUTMId();t.each(E,(function(t,o){t>0&&(i+="|"),i+=o+":"+r[o]}));var c="",d=getUTMId(!0);t.each(E,(function(t,o){t>0&&(c+="|"),c+=o+":"+d[o]}));var l="",_=getUTMs(!0);t.each(b,(function(t,o){t>0&&(l+="|"),l+=o+":"+_[o]}));var u=getDateTime(),p=Cookies.get("pys_landing_page"),m=Cookies.get("last_pys_landing_page"),v=Cookies.get("pysTrafficSource"),g=Cookies.get("last_pysTrafficSource"),y=null;y=t("body").hasClass("woocommerce-checkout")?t("form.woocommerce-checkout"):t("#edd_purchase_form");var h={pys_utm:o,pys_utm_id:i,pys_browser_time:u.join("|"),pys_landing:p,pys_source:v,pys_order_type:t(".wcf-optin-form").length>0?"wcf-optin":"normal",last_pys_landing:m,last_pys_source:g,last_pys_utm:l,last_pys_utm_id:c};Object.keys(h).forEach((function(t,o){y.append("<input type='hidden' name='"+t+"' value='"+h[t]+"' /> ")}))},saveAdvancedFormData:function saveAdvancedFormData(t,a,i,r){var d=c.getAdvancedFormData();null!=t&&(d.email=t),null!=a&&(d.phone=a),null!=i&&(d.first_name=i),null!=r&&(d.last_name=r),o.cookie.disabled_advanced_form_data_cookie?Cookies.remove("pys_advanced_form_data"):Cookies.set("pys_advanced_form_data",JSON.stringify(d),{expires:300}),u.updateEnhancedConversionData()},getAdvancedFormData:function getAdvancedFormData(){var t=Cookies.get("pys_advanced_form_data");return void 0===t?{first_name:"",last_name:"",email:"",phone:""}:JSON.parse(t)}}}(o),d=function(o){var a=!1;function _fireEvent2(t,a){if("function"!=typeof window.pys_event_data_filter||!window.pys_disable_event_filter(t,"tiktok")){var i=a.params,r=a.pixelIds.filter((function(t){return!c.hideMatchingPixel(t,"tiktok")})),l={};c.copyProperties(i,l),l.eventID=a.eventID,r.length>0&&d.fireEventAPI(t,a,l),r.forEach((function(a){o.debug&&console.log("[TikTok] "+t,l,"pixel_id",a),ttq.instance(a).track(t,l)}))}}return{tag:function tag(){return"tiktok"},isEnabled:function isEnabled(){return o.hasOwnProperty("tiktok")},getHidePixel:function getHidePixel(){return this.isEnabled()&&o.tiktok.hasOwnProperty("hide_pixels")?o.tiktok.hide_pixels:[]},disable:function disable(){a=!1},loadPixel:function loadPixel(){if(!a&&this.isEnabled()&&c.consentGiven("tiktok")){for(var t=0;t<o.tiktok.pixelIds.length;t++){var i=o.tiktok.pixelIds[t];if(!c.hideMatchingPixel(i,"tiktok")){!function(t,o,a){t.TiktokAnalyticsObject=a;var i=t[a]=t[a]||[];i.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],i.setAndDefer=function(t,o){t[o]=function(){t.push([o].concat(Array.prototype.slice.call(arguments,0)))}};for(var r=0;r<i.methods.length;r++)i.setAndDefer(i,i.methods[r]);i.instance=function(t){for(var o=i._i[t]||[],a=0;a<i.methods.length;a++)i.setAndDefer(o,i.methods[a]);return o},i.load=function(t,o){var r="https://analytics.tiktok.com/i18n/pixel/events.js";i._i=i._i||{},i._i[t]=[],i._i[t]._u=r,i._t=i._t||{},i._t[t]=+new Date,i._o=i._o||{},i._o[t]=o||{};var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=r+"?sdkid="+t+"&lib="+a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}(window,document,"ttq");break}}if(o.tiktok.pixelIds.filter((function(t){return!c.hideMatchingPixel(t,"tiktok")})).forEach((function(t){ttq.load(t),ttq.page();var a={};o.tiktok.hasOwnProperty("advanced_matching")&&Object.keys(o.tiktok.advanced_matching).length>0&&((a=o.tiktok.advanced_matching).hasOwnProperty("external_id")?a.external_id!=Cookies.get("pbid")&&(a.external_id=Cookies.get("pbid")?Cookies.get("pbid"):a.external_id):(Cookies.get("pbid")||o.hasOwnProperty("pbid")&&o.pbid)&&(a.external_id=Cookies.get("pbid")?Cookies.get("pbid"):o.pbid),ttq.instance(t).identify(a))})),a=!0,o.staticEvents.hasOwnProperty("tiktok")){setTimeout((function(t){c.fireStaticEvents("tiktok",t)}),1500,1)}}},fireEvent:function fireEvent(t,o){return!(!a||!this.isEnabled())&&(o.delay=o.delay||0,0===o.delay?_fireEvent2(t,o):setTimeout((function(t,o){_fireEvent2(t,o)}),1e3*o.delay,t,o),!0)},fireEventAPI:function fireEventAPI(t,a,i){var r=a.pixelIds.filter((function(t){return!c.hideMatchingPixel(t,"tiktok")})),l=new Array;if(o.woo.hasOwnProperty("addToCartCatchMethod")&&"add_cart_js"===o.woo.addToCartCatchMethod||l.push("woo_add_to_cart_on_button_click"),o.tiktok.serverApiEnabled&&!l.includes(a.e_id)){var _=o.gdpr.all_disabled_by_api||o.gdpr.tiktok_disabled_by_api||o.gdpr.cookiebot_integration_enabled||o.gdpr.cookie_notice_integration_enabled||o.gdpr.consent_magic_integration_enabled||o.gdpr.cookie_law_info_integration_enabled;if(0!=a.eventID.length||!o.ajaxForServerEvent&&"static"===a.type||(a.eventID=pys_generate_token(36)),o.ajaxForServerEvent||_||a.delay>0||"static"!==a.type){var u={action:"pys_tiktok_api_event",pixel:d.tag(),event:t,ids:r,data:i,url:window.location.href,eventID:a.eventID,ajax_event:o.ajax_event};a.hasOwnProperty("woo_order")&&(u.woo_order=a.woo_order),a.hasOwnProperty("edd_order")&&(u.edd_order=a.edd_order),"automatic_event_internal_link"===a.e_id||"automatic_event_outbound_link"===a.e_id||"PageView"==t?setTimeout((function(){jQuery.ajax({type:"POST",url:o.ajaxUrl,data:u,headers:{"Cache-Control":"no-cache"},success:function success(){}})}),500):jQuery.ajax({type:"POST",url:o.ajaxUrl,data:u,headers:{"Cache-Control":"no-cache"},success:function success(){}})}}},onClickEvent:function onClickEvent(t){this.fireEvent(t.name,t)},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(a,i,r,d,l){if(window.pysWooProductData=window.pysWooProductData||[],o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&window.pysWooProductData.hasOwnProperty(a)&&window.pysWooProductData[a].hasOwnProperty(this.tag())){var _=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(c.copyProperties(window.pysWooProductData[a][this.tag()].params,_.params),o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption)if(r===c.PRODUCT_BUNDLE){var u=t(".bundle_form .bundle_data").data("bundle_form_data"),p=getBundlePriceOnSingleProduct(u);_.params.value=(parseFloat(u.base_price)+p)*i}else _.params.value=_.params.value*i;_.params.quantity=i,this.fireEvent(_.name,_)}},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){if(o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty(this.tag())){var a=window.pysWooProductData[t][this.tag()],i=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);c.copyProperties(a.params,i.params),i.pixelIds=a.pixelIds,this.fireEvent(i.name,i)}},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,a,i){if(o.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var r,d=c.clone(o.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(t))r=a?t+"_"+a:t,window.pysEddProductData[t].hasOwnProperty(r)&&window.pysEddProductData[t][r].hasOwnProperty(this.tag())&&(c.copyProperties(window.pysEddProductData[t][r][this.tag()].params,d.params),this.fireEvent(d.name,d))}},onPageScroll:function onPageScroll(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)},onWatchVideo:function onWatchVideo(t){a&&this.isEnabled()&&!t.fired&&this.fireEvent(t.name,t)},onCommentEvent:function onCommentEvent(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)},onAdSenseEvent:function onAdSenseEvent(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)},onTime:function onTime(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)}}}(o),l=function(o){var a=["PageView","ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","Subscribe","CustomizeProduct","FindLocation","StartTrial","SubmitApplication","Schedule","Contact","Donate"],i=new Array,r=o.woo.hasOwnProperty("addToCartCatchMethod")&&"add_cart_js"===o.woo.addToCartCatchMethod;r||i.push("woo_add_to_cart_on_button_click");var d=!1,_=new Array;function _fireEvent3(t,d){if("function"!=typeof window.pys_event_data_filter||!window.pys_disable_event_filter(t,"facebook")){var _=d.params,u=d.pixelIds.filter((function(t){return!c.hideMatchingPixel(t,"facebook")})),p=a.includes(t)?"trackSingle":"trackSingleCustom",m={};if(c.copyProperties(_,m),c.copyProperties(c.getRequestParams(),m),o.facebook.serverApiEnabled)if("woo_remove_from_cart"===d.e_id)l.updateEventId(d.name),d.eventID=l.getEventId(d.name);else if(r&&"woo_add_to_cart_on_button_click"===d.e_id)l.updateEventId(d.name),d.eventID=l.getEventId(d.name);else if(!i.includes(d.e_id)){var v=o.gdpr.all_disabled_by_api||o.gdpr.facebook_disabled_by_api||o.gdpr.cookiebot_integration_enabled||o.gdpr.cookie_notice_integration_enabled||o.gdpr.consent_magic_integration_enabled||o.gdpr.cookie_law_info_integration_enabled;if((o.ajaxForServerEvent||"static"!==d.type)&&(d.eventID=pys_generate_token(36)),o.ajaxForServerEvent||v||d.delay>0||"static"!==d.type){var g={action:"pys_api_event",pixel:"facebook",event:t,ids:u,data:m,url:window.location.href,eventID:d.eventID,ajax_event:o.ajax_event};if(d.hasOwnProperty("woo_order")&&(g.woo_order=d.woo_order),d.hasOwnProperty("edd_order")&&(g.edd_order=d.edd_order),"automatic_event_internal_link"===d.e_id||"automatic_event_outbound_link"===d.e_id)setTimeout((function(){jQuery.ajax({type:"POST",url:o.ajaxUrl,data:g,headers:{"Cache-Control":"no-cache"},success:function success(){}})}),500);else if("PageView"==t){var y=parseInt(o.cookie_duration),h=Date.now(),b=Math.floor(1e9+9e9*Math.random());timeoutDelay=0,Cookies.get("_fbp")||(timeoutDelay=100),getUrlParameter("fbclid")&&!Cookies.get("_fbc")&&(timeoutDelay=100),setTimeout((function(){Cookies.get("_fbp")||Cookies.set("_fbp","fb.1."+h+"."+b,{expires:y}),getUrlParameter("fbclid")&&!Cookies.get("_fbc")&&Cookies.set("_fbc","fb.1."+h+"."+getUrlParameter("fbclid"),{expires:y}),jQuery.ajax({type:"POST",url:o.ajaxUrl,data:g,headers:{"Cache-Control":"no-cache"},success:function success(){}})}),timeoutDelay)}else jQuery.ajax({type:"POST",url:o.ajaxUrl,data:g,headers:{"Cache-Control":"no-cache"},success:function success(){}})}if("automatic_event_signup"!==d.e_id&&"CompleteRegistration"==t&&o.facebook.wooCRSendFromServer)return}o.debug&&console.log("[Facebook] "+t,m,"pixel_ids",u,"eventID",d.eventID),u.forEach((function(a){var i={};o.facebook.serverApiEnabled&&d.hasOwnProperty("eventID")&&(i.eventID=a+d.eventID),l.maybeInitPixel(a),fbq(p,a,t,m,i)}))}}return{tag:function tag(){return"facebook"},isEnabled:function isEnabled(){return o.hasOwnProperty("facebook")},getHidePixel:function getHidePixel(){return this.isEnabled()&&o.facebook.hasOwnProperty("hide_pixels")?o.facebook.hide_pixels:[]},initEventIdCookies:function initEventIdCookies(t){var o={};o[t]=pys_generate_token(36),Cookies.set("pys_fb_event_id",JSON.stringify(o))},updateEventId:function updateEventId(t){var o=Cookies.get("pys_fb_event_id");if(void 0===o)this.initEventIdCookies(t);else{var a=JSON.parse(o);a[t]=pys_generate_token(36),Cookies.set("pys_fb_event_id",JSON.stringify(a))}},getEventId:function getEventId(t){var o=Cookies.get("pys_fb_event_id");return void 0===o&&(this.initEventIdCookies(t),o=Cookies.get("pys_fb_event_id")),JSON.parse(o)[t]},disable:function disable(){d=!1},loadPixel:function loadPixel(){var t,a,i,r,_,u;!d&&this.isEnabled()&&c.consentGiven("facebook")&&(t=window,a=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.agent="dvpixelyoursite",r.queue=[],(_=a.createElement(i)).async=!0,_.src="https://connect.facebook.net/en_US/fbevents.js",(u=a.getElementsByTagName(i)[0]).parentNode.insertBefore(_,u)),o.facebook.pixelIds.filter((function(t){return!c.hideMatchingPixel(t,"facebook")})).forEach((function(t){l.maybeInitPixel(t)})),d=!0,c.fireStaticEvents("facebook"))},advancedMatching:function advancedMatching(){if(o.facebook.advancedMatchingEnabled){var t=c.getAdvancedFormData(),advancedMatching={};if(Object.keys(o.facebook.advancedMatching).length>0&&(advancedMatching=o.facebook.advancedMatching),!advancedMatching.hasOwnProperty("em")&&t.hasOwnProperty("email")&&t.email.length>0&&(advancedMatching.em=t.email),!advancedMatching.hasOwnProperty("ph")&&t.hasOwnProperty("phone")&&t.phone.length>0&&(advancedMatching.ph=t.phone),!advancedMatching.hasOwnProperty("fn")&&t.hasOwnProperty("first_name")&&t.first_name.length>0&&(advancedMatching.fn=t.first_name),!advancedMatching.hasOwnProperty("ln")&&t.hasOwnProperty("last_name")&&t.last_name.length>0&&(advancedMatching.ln=t.last_name),advancedMatching.hasOwnProperty("external_id")?advancedMatching.external_id!=Cookies.get("pbid")&&(advancedMatching.external_id=Cookies.get("pbid")?Cookies.get("pbid"):advancedMatching.external_id):(Cookies.get("pbid")||o.hasOwnProperty("pbid")&&o.pbid)&&(advancedMatching.external_id=Cookies.get("pbid")?Cookies.get("pbid"):o.pbid),Object.keys(advancedMatching).length>0)return advancedMatching}return!1},maybeInitPixel:function maybeInitPixel(t){if(!_.includes(t)){(o.facebook.removeMetadata||c.hideMatchingPixel(t,this.tag()))&&fbq("set","autoConfig",!1,t);var a=l.advancedMatching();if(o.gdpr.consent_magic_integration_enabled&&"undefined"!=typeof CS_Data)if(a){var i=Cookies.get("cs_enabled_advanced_matching"+test_prefix);jQuery("#cs_enabled_advanced_matching"+test_prefix).length>0?"yes"==i?fbq("init",t,a):fbq("init",t):fbq("init",t,a)}else fbq("init",t);else a?fbq("init",t,a):fbq("init",t);_.push(t)}},fireEvent:function fireEvent(t,o){return!(!d||!this.isEnabled())&&(o.delay=o.delay||0,o.params=o.params||{},0===o.delay?_fireEvent3(t,o):setTimeout((function(t,o){_fireEvent3(t,o)}),1e3*o.delay,t,o),!0)},onAdSenseEvent:function onAdSenseEvent(t){this.fireEvent(t.name,t)},onClickEvent:function onClickEvent(t){this.fireEvent(t.name,t)},onWatchVideo:function onWatchVideo(t){this.fireEvent(t.name,t)},onCommentEvent:function onCommentEvent(t){this.fireEvent(t.name,t)},onFormEvent:function onFormEvent(t){this.fireEvent(t.name,t)},onDownloadEvent:function onDownloadEvent(t){this.fireEvent(t.name,t)},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){if(o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("facebook")){var a=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);c.copyProperties(window.pysWooProductData[t].facebook.params,a.params),a.pixelIds=window.pysWooProductData[t].facebook.pixelIds,this.fireEvent(a.name,a)}},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(a,i,r,d,l){if(window.pysWooProductData=window.pysWooProductData||[],o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&(r!==c.PRODUCT_VARIABLE||o.facebook.wooVariableAsSimple||(a=parseInt(l.find('input[name="variation_id"]').val())),window.pysWooProductData.hasOwnProperty(a)&&window.pysWooProductData[a].hasOwnProperty("facebook"))){var _=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click.facebook);c.copyProperties(window.pysWooProductData[a].facebook.params,_.params);var u=0;if(r===c.PRODUCT_GROUPED&&(l.find(".woocommerce-grouped-product-list .qty").each((function(o){var i=t(this).attr("name").replaceAll("quantity[","").replaceAll("]",""),r=parseInt(t(this).val());isNaN(r)&&(r=0);var c=window.pysWooProductData[a].facebook.grouped[i];0==r&&_.params.content_ids.forEach((function(t,o,a){t==c.content_id&&a.splice(o,1)})),_.params.hasOwnProperty("contents")&&_.params.contents.forEach((function(t,o,a){t.id==c.content_id&&(r>0?t.quantity=r:a.splice(o,1))})),u+=c.price*r})),0==u))return;if(o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption)if(r===c.PRODUCT_GROUPED)_.params.value=u;else if(r===c.PRODUCT_BUNDLE){var p=t(".bundle_form .bundle_data").data("bundle_form_data"),m=getBundlePriceOnSingleProduct(p);_.params.value=(parseFloat(p.base_price)+m)*i}else _.params.value=_.params.value*i;_.params.hasOwnProperty("contents")&&r!==c.PRODUCT_GROUPED&&(_.params.contents[0].quantity=i);var v=d?o.woo.affiliateEventName:_.name;this.fireEvent(v,_)}},onWooRemoveFromCartEvent:function onWooRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onWooAffiliateEvent:function onWooAffiliateEvent(t){if(o.dynamicEvents.woo_affiliate.hasOwnProperty(this.tag())){var a=c.clone(o.dynamicEvents.woo_affiliate[this.tag()]);window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("facebook")&&(c.copyProperties(window.pysWooProductData[t][this.tag()].params,a.params),this.fireEvent(o.woo.affiliateEventName,a))}},onWooPayPalEvent:function onWooPayPalEvent(t){this.fireEvent(t.name,t)},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,a,i){if(o.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var r,d=c.clone(o.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(t))if(r=a?t+"_"+a:t,window.pysEddProductData[t].hasOwnProperty(r)&&window.pysEddProductData[t][r].hasOwnProperty("facebook")){c.copyProperties(window.pysEddProductData[t][r].facebook.params,d.params),o.edd.addToCartOnButtonValueEnabled&&"global"!==o.edd.addToCartOnButtonValueOption&&(d.params.value=d.params.value*i);var l=d.params.contents;l[0].quantity=i,d.params.contents=JSON.stringify(l),this.fireEvent(d.name,d)}}},onEddRemoveFromCartEvent:function onEddRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onPageScroll:function onPageScroll(t){this.fireEvent(t.name,t)},onTime:function onTime(t){this.fireEvent(t.name,t)}}}(o),_=function(o){var a=!1;function _fireEvent4(t,a){if("function"!=typeof window.pys_event_data_filter||!window.pys_disable_event_filter(t,"ga")){var i=a.params,r=(a.params,a.trackingIds.filter((function(t){return!c.hideMatchingPixel(t,"ga")})));c.copyProperties(c.getRequestParams(),i);r.forEach((function(a){var r=c.copyProperties(i,{}),d=function mapParamsTov4(t,a,i){if(delete i.page_title,delete i.event_url,delete i.landing_page,isv4(t))delete i.traffic_source,delete i.event_category,delete i.event_label,delete i.ecomm_prodid,delete i.ecomm_pagetype,delete i.ecomm_totalvalue,delete i.non_interaction,"search"===a&&(i.search=i.search_term,delete i.search_term,delete i.non_interaction,delete i.dynx_itemid,delete i.dynx_pagetype,delete i.dynx_totalvalue);else{switch(a){case"OutboundClick":case"InternalClick":var r={event_category:"Key Actions",event_action:a,non_interaction:i.non_interaction};return i.hasOwnProperty("target_url")&&(r.event_label=i.target_url),o.trackTrafficSource&&(r.traffic_source=i.traffic_source),r;case"AdSense":case"Comment":case"login":case"sign_up":case"EmailClick":case"TelClick":return{event_category:"Key Actions",event_action:a,non_interaction:i.non_interaction};case"Form":var c={event_category:"Key Actions",event_action:a,non_interaction:i.non_interaction},d=void 0!==i.form_class?"class: "+i.form_class:"";return""!=d&&(c.event_label=d),c;case"Download":return{event_category:"Key Actions",event_action:a,event_label:i.download_name,non_interaction:i.non_interaction};case"TimeOnPage":case"PageScroll":return{event_category:"Key Actions",event_action:a,event_label:document.title,non_interaction:i.non_interaction};case"search":return{event_category:"Key Actions",event_action:a,event_label:i.search_term,non_interaction:i.non_interaction}}delete i.post_type,delete i.post_id,delete i.plugin,delete i.user_role,delete i.cartlows,delete i.cartflows_flow,delete i.cartflows_step}return i}(a,t,r);!function _fireEvent(t,a,i){i.send_to=t,o.debug&&console.log("[Google Analytics #"+t+"] "+a,i),gtag("event",a,i)}(a,t,d)}))}}function normalizeEventName(t){var o={ViewContent:"view_item",AddToCart:"add_to_cart",AddToWishList:"add_to_wishlist",InitiateCheckout:"begin_checkout",Purchase:"purchase",Lead:"generate_lead",CompleteRegistration:"sign_up",AddPaymentInfo:"set_checkout_option"};return o.hasOwnProperty(t)?o[t]:t}function isv4(t){return 0===t.indexOf("G")}return{tag:function tag(){return"ga"},isEnabled:function isEnabled(){return o.hasOwnProperty("ga")},getHidePixel:function getHidePixel(){return this.isEnabled()&&o.ga.hasOwnProperty("hide_pixels")?o.ga.hide_pixels:[]},disable:function disable(){a=!1},loadPixel:function loadPixel(){if(!a&&this.isEnabled()&&c.consentGiven("analytics")){for(var i=0;i<o.ga.trackingIds.length;i++){var r=o.ga.trackingIds[i];if(!c.hideMatchingPixel(r,"ga")){c.loadGoogleTag(r);break}}var d={dimension1:"event_hour",dimension2:"event_day",dimension3:"event_month"};"ecomm"===o.ga.retargetingLogic?(d.dimension4="ecomm_prodid",d.dimension5="ecomm_pagetype",d.dimension6="ecomm_totalvalue"):(d.dimension4="dynx_itemid",d.dimension5="dynx_pagetype",d.dimension6="dynx_totalvalue");var l={link_attribution:o.ga.enhanceLinkAttr,anonymize_ip:o.ga.anonimizeIP,custom_map:d};o.user_id&&0!=o.user_id&&(l.user_id=o.user_id),o.ga.crossDomainEnabled&&(l.linker={accept_incoming:o.ga.crossDomainAcceptIncoming,domains:o.ga.crossDomainDomains}),o.ga.trackingIds.filter((function(t){return!c.hideMatchingPixel(t,"ga")})).forEach((function(t,a){var i=o.ga.isDebugEnabled,r="index_"+a;for(var c in l.debug_mode=!1,i)if(i.hasOwnProperty(c)&&i[c]===r){l.debug_mode=!0;break}if(l.debug_mode||delete l.debug_mode,isv4(t)&&(o.ga.disableAdvertisingFeatures&&(l.allow_google_signals=!1),o.ga.disableAdvertisingPersonalization&&(l.allow_ad_personalization_signals=!1)),o.gdpr.cookiebot_integration_enabled&&"undefined"!=typeof Cookiebot){var d=o.gdpr.cookiebot_analytics_consent_category;o.gdpr.analytics_prior_consent_enabled?!0===Cookiebot.consented&&Cookiebot.consent[d]&&gtag("config",t,l):Cookiebot.consent[d]&&gtag("config",t,l)}else gtag("config",t,l)})),a=!0,c.fireStaticEvents("ga"),t(document).trigger("analytics_initialized")}},fireEvent:function fireEvent(t,o){return!(!a||!this.isEnabled())&&(o.delay=o.delay||0,o.params=o.params||{},0===o.delay?_fireEvent4(t,o):setTimeout((function(t,o){_fireEvent4(t,o)}),1e3*o.delay,t,o),!0)},onAdSenseEvent:function onAdSenseEvent(t){this.fireEvent(t.name,t)},onClickEvent:function onClickEvent(t){this.fireEvent(t.name,t)},onWatchVideo:function onWatchVideo(t){t.hasOwnProperty("youtube_disabled")&&t.youtube_disabled&&"youtube"===t.params.video_type||this.fireEvent(t.name,t)},onCommentEvent:function onCommentEvent(t){this.fireEvent(t.name,t)},onFormEvent:function onFormEvent(t){this.fireEvent(t.name,t)},onDownloadEvent:function onDownloadEvent(t){this.fireEvent(t.name,t)},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("ga")){var i=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);c.copyProperties(window.pysWooProductData[t].ga.params,i.params),i.trackingIds=window.pysWooProductData[t].ga.trackingIds,a&&(a.pys_list_name_productlist_id&&(i.params.items[0].item_list_id=a.pys_list_name_productlist_id),a.pys_list_name_productlist_name&&(i.params.items[0].item_list_name=a.pys_list_name_productlist_name)),this.fireEvent(i.name,i)}},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(a,i,r,d,l){if(window.pysWooProductData=window.pysWooProductData||[],o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var _=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(r!==c.PRODUCT_VARIABLE||o.ga.wooVariableAsSimple||(a=parseInt(l.find('input[name="variation_id"]').val())),window.pysWooProductData.hasOwnProperty(a)&&window.pysWooProductData[a].hasOwnProperty("ga")){if(c.copyProperties(window.pysWooProductData[a].ga.params,_.params),r===c.PRODUCT_GROUPED){var u=0;if(l.find(".woocommerce-grouped-product-list .qty").each((function(o){var i=t(this).attr("name").replaceAll("quantity[","").replaceAll("]",""),r=parseInt(t(this).val());isNaN(r)&&(r=0);var c=window.pysWooProductData[a].ga.grouped[i];_.params.items.forEach((function(t,o,a){t.id==c.content_id&&(r>0?(t.quantity=r,t.price=c.price):a.splice(o,1))})),u+=c.price*r})),o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption&&_.params.hasOwnProperty("ecomm_totalvalue")&&(_.params.ecomm_totalvalue=u),0==u)return}else _.params.items[0].quantity=i;o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption&&r!==c.PRODUCT_GROUPED&&_.params.hasOwnProperty("ecomm_totalvalue")&&(_.params.ecomm_totalvalue=_.params.items[0].price*i);var p=d?o.woo.affiliateEventName:_.name;p=normalizeEventName(p),this.fireEvent(p,_)}}},onWooCheckoutProgressStep:function onWooCheckoutProgressStep(t){this.fireEvent(t.name,t)},onWooSelectContent:function onWooSelectContent(t){var o={};void 0!==t.params.items[0].item_list_name&&(o.list_name=t.params.items[0].item_list_name),void 0!==t.params.items[0].item_list_id&&(o.list_id=t.params.items[0].item_list_id),Cookies.set("select_prod_list",o,{expires:1}),this.fireEvent(t.name,t)},onWooRemoveFromCartEvent:function onWooRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onWooAffiliateEvent:function onWooAffiliateEvent(t){if(o.dynamicEvents.woo_affiliate.hasOwnProperty(this.tag())){var a=o.dynamicEvents.woo_affiliate[this.tag()];window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("ga")&&(a=c.clone(a),c.copyProperties(window.pysWooProductData[t][this.tag()],a.params),this.fireEvent(normalizeEventName(o.woo.affiliateEventName),a))}},onWooPayPalEvent:function onWooPayPalEvent(t){this.fireEvent(t.name,t)},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,a,i){if(o.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var r,d=c.clone(o.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);if(window.pysEddProductData.hasOwnProperty(t))r=a?t+"_"+a:t,window.pysEddProductData[t].hasOwnProperty(r)&&window.pysEddProductData[t][r].hasOwnProperty("ga")&&(c.copyProperties(window.pysEddProductData[t][r].ga.params,d.params),d.params.items[0].quantity=i,this.fireEvent(d.name,d))}},onEddRemoveFromCartEvent:function onEddRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onPageScroll:function onPageScroll(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)},onTime:function onTime(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)}}}(o),u=function(o){var a=!1,i=!1;function _fireEvent5(t,a){if("function"!=typeof window.pys_event_data_filter||!window.pys_disable_event_filter(event_name,"google_ads")){var i=c.copyProperties(a.params,{}),r=a.ids.filter((function(t){return!c.hideMatchingPixel(t,"google_ads")})),d=a.hasOwnProperty("conversion_ids")?a.conversion_ids.filter((function(t){return!c.hideMatchingPixel(t,"google_ads")})):[],l=a.hasOwnProperty("conversion_labels")?a.conversion_labels.filter((function(t){return conversion_id=t.split("/")[0],!c.hideMatchingPixel(conversion_id,"google_ads")})):[];c.copyProperties(c.getRequestParams(),i);var _=function _fireEvent(t,a){params=c.copyProperties(i,{send_to:t}),"conversion"===a&&(delete params.items,delete params.ecomm_pagetype,delete params.ecomm_prodid,delete params.ecomm_totalvalue),o.debug&&console.log("[Google Ads #"+t+"] "+a,params),gtag("event",a,params)};l.length>0?l.forEach((function(o){_(o,t)})):(d.forEach((function(o){_(o,t)})),r.length&&r.forEach((function(t){_(t,"conversion")})))}}function normalizeEventName(t){var o={ViewContent:"view_item",AddToCart:"add_to_cart",AddToWishList:"add_to_wishlist",InitiateCheckout:"begin_checkout",Purchase:"purchase",Lead:"generate_lead",CompleteRegistration:"sign_up",AddPaymentInfo:"set_checkout_option"};return o.hasOwnProperty(t)?o[t]:t}return{tag:function tag(){return"google_ads"},isEnabled:function isEnabled(){return o.hasOwnProperty("google_ads")},getHidePixel:function getHidePixel(){return this.isEnabled()&&o.google_ads.hasOwnProperty("hide_pixels")?o.google_ads.hide_pixels:[]},disable:function disable(){a=!1},updateEnhancedConversionData:function updateEnhancedConversionData(){if(i){var t=c.getAdvancedFormData();0==Object.keys(o.google_ads.user_data).length&&t.email.length>0&&gtag("set","user_data",{email:t.email})}},loadPixel:function loadPixel(){if(!a&&this.isEnabled()&&c.consentGiven("google_ads")){for(var t=0;t<o.google_ads.conversion_ids.length;t++){var r=o.google_ads.conversion_ids[t];if(!c.hideMatchingPixel(r,"google_ads")){c.loadGoogleTag(r);break}}o.google_ads.conversion_ids.filter((function(t){return!c.hideMatchingPixel(t,"google_ads")})).forEach((function(t,a){if(gtag("config",t),o.google_ads.enhanced_conversion.includes("index_"+a)&&(i=!0,gtag("config",t,{allow_enhanced_conversions:!0})),i){var r=c.getAdvancedFormData();Object.keys(o.google_ads.user_data).length>0?gtag("set","user_data",o.google_ads.user_data):r.email.length>0&&gtag("set","user_data",{email:r.email})}})),a=!0,c.fireStaticEvents("google_ads")}},fireEvent:function fireEvent(t,o){return!(!a||!this.isEnabled())&&(o.delay=o.delay||0,o.params=o.params||{},o.ids=o.ids||[],o.conversion_labels=o.conversion_labels||[],0===o.delay?_fireEvent5(t,o):setTimeout((function(t,o){_fireEvent5(t,o)}),1e3*o.delay,t,o),!0)},onAdSenseEvent:function onAdSenseEvent(t){this.fireEvent(t.name,t)},onClickEvent:function onClickEvent(t,o){},onWatchVideo:function onWatchVideo(t){this.fireEvent(t.name,t)},onCommentEvent:function onCommentEvent(t){this.fireEvent(t.name,t)},onFormEvent:function onFormEvent(t){this.fireEvent(t.name,t)},onDownloadEvent:function onDownloadEvent(t){this.fireEvent(t.name,t)},onWooAddToCartOnButtonEvent:function onWooAddToCartOnButtonEvent(t){if(o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())&&window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("google_ads")){var a=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);c.copyProperties(window.pysWooProductData[t].google_ads.params.params,a.params),a.ids=window.pysWooProductData[t].google_ads.ids,a.conversion_labels=window.pysWooProductData[t].google_ads.conversion_labels,this.fireEvent(a.name,a)}},onWooAddToCartOnSingleEvent:function onWooAddToCartOnSingleEvent(a,i,r,d,l){if(window.pysWooProductData=window.pysWooProductData||[],o.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var _=c.clone(o.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);if(r!==c.PRODUCT_VARIABLE||o.google_ads.wooVariableAsSimple||(a=parseInt(l.find('input[name="variation_id"]').val())),window.pysWooProductData.hasOwnProperty(a)&&window.pysWooProductData[a].hasOwnProperty("google_ads")){c.copyProperties(window.pysWooProductData[a].google_ads.params,_.params),_.ids=window.pysWooProductData[a].google_ads.ids,_.conversion_labels=window.pysWooProductData[a].google_ads.conversion_labels;var u=0;if(r===c.PRODUCT_GROUPED){if(l.find(".woocommerce-grouped-product-list .qty").each((function(i){var r=t(this).attr("name").replaceAll("quantity[","").replaceAll("]",""),c=parseInt(t(this).val());isNaN(c)&&(c=0);var d=window.pysWooProductData[a].google_ads.grouped[r];o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption&&_.params.items.forEach((function(t,o,a){t.id==d.content_id&&(c>0?(t.quantity=c,t.price=d.price):a.splice(o,1))})),u+=d.price*c})),0==u)return;_.params.value=u}else _.params.items[0].quantity=i;o.woo.addToCartOnButtonValueEnabled&&"global"!==o.woo.addToCartOnButtonValueOption&&r!==c.PRODUCT_GROUPED&&(_.params.value=_.params.value*i);var p=d?o.woo.affiliateEventName:_.name;p=normalizeEventName(p),this.fireEvent(p,_)}}},onWooRemoveFromCartEvent:function onWooRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onWooAffiliateEvent:function onWooAffiliateEvent(t){if(o.dynamicEvents.woo_affiliate.hasOwnProperty(this.tag())){var a=o.dynamicEvents.woo_affiliate[this.tag()];window.pysWooProductData.hasOwnProperty(t)&&window.pysWooProductData[t].hasOwnProperty("google_ads")&&(a=c.clone(a),c.copyProperties(window.pysWooProductData[t][this.tag()],a.params),this.fireEvent(normalizeEventName(o.woo.affiliateEventName),a))}},onWooPayPalEvent:function onWooPayPalEvent(t){this.fireEvent(t.name,t)},onEddAddToCartOnButtonEvent:function onEddAddToCartOnButtonEvent(t,a,i){if(o.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())){var r,d=o.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()];if(window.pysEddProductData.hasOwnProperty(t))r=a?t+"_"+a:t,window.pysEddProductData[t].hasOwnProperty(r)&&window.pysEddProductData[t][r].hasOwnProperty("google_ads")&&(d=c.clone(d),c.copyProperties(window.pysEddProductData[t][r].google_ads.params,d.params),d.ids=window.pysEddProductData[t][r].google_ads.ids,this.fireEvent(d.name,d))}},onEddRemoveFromCartEvent:function onEddRemoveFromCartEvent(t){this.fireEvent(t.name,t)},onPageScroll:function onPageScroll(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)},onTime:function onTime(t){a&&this.isEnabled()&&this.fireEvent(t.name,t)}}}(o);(window.pys=window.pys||{},window.pys.Facebook=l,window.pys.Analytics=_,window.pys.GAds=u,window.pys.Utils=c,window.pys.TikTok=d,t(document).ready((function(){if(Cookies.get("form_track")&&Cookies.remove("form_track"),t("#pys_late_event").length>0){var a=JSON.parse(t("#pys_late_event").attr("dir"));for(var i in a){var r={};r[a[i].e_id]=[a[i]],o.staticEvents.hasOwnProperty(i)?Object.assign(o.staticEvents[i],r):o.staticEvents[i]=r}}var m=c.setupPinterestObject(),v=c.setupBingObject();if(o.hasOwnProperty("cookie")&&((o.cookie.externalID_disabled_by_api||o.cookie.disabled_all_cookie)&&Cookies.remove("pbid"),(o.cookie.disabled_advanced_form_data_cookie||o.cookie.disabled_all_cookie)&&Cookies.remove("pys_advanced_form_data"),(o.cookie.disabled_landing_page_cookie||o.cookie.disabled_all_cookie)&&(Cookies.remove("pys_landing_page"),Cookies.remove("last_pys_landing_page")),(o.cookie.disabled_trafficsource_cookie||o.cookie.disabled_all_cookie)&&(Cookies.remove("pysTrafficSource"),Cookies.remove("last_pysTrafficSource")),(o.cookie.disabled_first_visit_cookie||o.cookie.disabled_all_cookie)&&Cookies.remove("pys_first_visit"),(o.cookie.disabled_utmTerms_cookie||o.cookie.disabled_all_cookie)&&(t.each(c.utmTerms,(function(t,o){Cookies.remove("pys_"+o)})),t.each(c.utmTerms,(function(t,o){Cookies.remove("last_pys_"+o)}))),(o.cookie.disabled_utmId_cookie||o.cookie.disabled_all_cookie)&&(t.each(c.utmId,(function(t,o){Cookies.remove("pys_"+o)})),t.each(c.utmId,(function(t,o){Cookies.remove("last_pys_"+o)})))),c.manageCookies(),c.initializeRequestParams(),c.setupGdprCallbacks(),o.enable_auto_save_advance_matching&&(t(document).on("blur","input[type='email']",(function(){var o=t(this).val().trim().toLowerCase();c.validateEmail(o)&&c.saveAdvancedFormData(o,null,null,null)})),t(document).on("blur","input[type='tel']",(function(){var o=t(this).val().trim().replace(/\D/g,"");o.length>5&&c.saveAdvancedFormData(null,o,null,null)})),t(document).on("blur","input[type='text']",(function(){var a;if(t(this).attr("name")&&""!=t(this).attr("name")&&(a=t(this).attr("name").trim()),a&&o.advance_matching_fn_names.includes(a)){var i=t(this).val().trim();i.length>0&&c.saveAdvancedFormData(null,null,i,null)}if(a&&o.advance_matching_ln_names.includes(a)){var r=t(this).val().trim();r.length>0&&c.saveAdvancedFormData(null,null,null,r)}if(a&&o.advance_matching_tel_names.includes(a)){var d=t(this).val().trim();d.length>0&&c.saveAdvancedFormData(null,d,null,null)}}))),(o.dynamicEvents.hasOwnProperty("automatic_event_internal_link")||o.dynamicEvents.hasOwnProperty("automatic_event_outbound_link")||o.dynamicEvents.hasOwnProperty("automatic_event_tel_link")||o.dynamicEvents.hasOwnProperty("automatic_event_email_link")||o.dynamicEvents.hasOwnProperty("automatic_event_download"))&&t(document).onFirst("click",'a, button, input[type="button"], input[type="submit"]',(function(a){var i=t(this);if(o.dynamicEvents.hasOwnProperty("automatic_event_download")){var r=!1;if(i.is("a")){if("string"!=typeof(v=i.attr("href")))return;v=v.trim();var d=c.getLinkExtension(v);if(d.length>0&&o.dynamicEvents.hasOwnProperty("automatic_event_download"))for(var l=Object.keys(o.dynamicEvents.automatic_event_download),_=0;_<l.length;_++){(g=c.clone(o.dynamicEvents.automatic_event_download[l[_]])).extensions.includes(d)&&("tiktok"==l[_]?getPixelBySlag(l[_]).fireEvent(g.name,g):(o.enable_remove_download_url_param&&(v=v.split("?")[0]),g.params.download_url=v,g.params.download_type=d,g.params.download_name=c.getLinkFilename(v),getPixelBySlag(l[_]).onDownloadEvent(g)),r=!0)}}if(r)return}if(a.hasOwnProperty("originalEvent")&&!i.hasClass("add_to_cart_button")&&!i.hasClass("single_add_to_cart_button")&&!(o.dynamicEvents.hasOwnProperty("wcf_add_to_cart_on_next_step_click")&&i.hasClass("wcf-next-step-link")||o.dynamicEvents.hasOwnProperty("wcf_add_to_cart_on_bump_click")&&i.hasClass("wcf-bump-order-cb")||i.hasClass("remove_from_cart_button")||i.hasClass("remove")&&(i.parents(".cart_item").length||i.parents(".mini_cart_item").length)||"update_cart"==i.attr("name")||"apply_coupon"==i.attr("name")||i.hasClass("pys_block"))){var u="",p="",m="Internal Click";if(i.is("a")){var v;if("string"!=typeof(v=i.attr("href")))return;if(v=v.trim(),u=i.text(),p=o.enable_remove_target_url_param?v.split("?")[0]:v,v.startsWith("mailto:")){if(o.dynamicEvents.hasOwnProperty("automatic_event_email_link"))for(l=Object.keys(o.dynamicEvents.automatic_event_email_link),_=0;_<l.length;_++){var g=c.clone(o.dynamicEvents.automatic_event_email_link[l[_]]);"tiktok"!==l[_]&&c.copyProperties(c.getRequestParams(),g.params),getPixelBySlag(l[_]).fireEvent(g.name,g)}return}if(v.startsWith("tel:")){if(o.dynamicEvents.hasOwnProperty("automatic_event_tel_link"))for(l=Object.keys(o.dynamicEvents.automatic_event_tel_link),_=0;_<l.length;_++){g=c.clone(o.dynamicEvents.automatic_event_tel_link[l[_]]);"tiktok"!==l[_]&&c.copyProperties(c.getRequestParams(),g.params),getPixelBySlag(l[_]).fireEvent(g.name,g)}return}if(v.startsWith("http")){var y=null!=i.context?i.context.host:i[0].host;document.location.host!=y&&(m="External Click")}}else if(i.is("button")){if(i.hasClass("forminator-button-submit"))return;u=i.text()}else if(i.is('input[type="button"]'))u=i.val();else{if(!i.is('input[type="submit"]'))return;if(i.parents("form.comment-form"))return;if(i.parents("form"))return;u=i.val()}if(u=c.filterEmails(u),"Internal Click"===m&&o.dynamicEvents.hasOwnProperty("automatic_event_internal_link"))for(l=Object.keys(o.dynamicEvents.automatic_event_internal_link),_=0;_<l.length;_++){g=c.clone(o.dynamicEvents.automatic_event_internal_link[l[_]]);"tiktok"!==l[_]&&(g.params.text=u,p&&(g.params.target_url=p),c.copyProperties(c.getRequestParams(),g.params)),getPixelBySlag(l[_]).fireEvent(g.name,g)}if("External Click"===m&&o.dynamicEvents.hasOwnProperty("automatic_event_outbound_link"))for(l=Object.keys(o.dynamicEvents.automatic_event_outbound_link),_=0;_<l.length;_++){g=c.clone(o.dynamicEvents.automatic_event_outbound_link[l[_]]);"tiktok"!==l[_]&&(g.params.text=u,p&&(g.params.target_url=p),c.copyProperties(c.getRequestParams(),g.params)),getPixelBySlag(l[_]).fireEvent(g.name,g)}}})),o.dynamicEvents.hasOwnProperty("automatic_event_adsense")){var g=!1;t(document).on("mouseover","ins iframe",(function(){g=!0})).on("mouseout","iframe",(function(){g=!1})),t(window).on("blur",(function(){if(g){if(console.log("automatic_event_adsense"),o.dynamicEvents.hasOwnProperty("automatic_event_adsense"))for(var a=Object.keys(o.dynamicEvents.automatic_event_adsense),i=0;i<a.length;i++){var r=c.clone(o.dynamicEvents.automatic_event_adsense[a[i]]);"tiktok"!==a[i]&&c.copyProperties(c.getRequestParams(),r.params),getPixelBySlag(a[i]).onAdSenseEvent(r)}t.each(o.triggerEventTypes,(function(o,a){t.each(a,(function(t,a){if("ad_sense_click"===o)c.fireTriggerEvent(t)}))}))}})).trigger("focus")}var y=0;if(t.each(o.triggerEventTypes,(function(t,o){"ad_sense_click"==t&&y++})),y>0){g=!1;t(document).on("mouseover","ins > ins > iframe",(function(){g=!0})).on("mouseout","iframe",(function(){g=!1})),t(window).on("blur",(function(){g&&t.each(o.triggerEventTypes,(function(o,a){t.each(a,(function(t,a){if("ad_sense_click"===o)c.fireTriggerEvent(t)}))}))})).trigger("focus")}if(o.dynamicEvents.hasOwnProperty("automatic_event_scroll")){t(document).on("scroll",(function singlePageScroll(){var a=t(document).height()-t(window).height(),i=!1;if(o.dynamicEvents.hasOwnProperty("automatic_event_scroll"))for(var r=Object.keys(o.dynamicEvents.automatic_event_scroll),d=0;d<r.length;d++){var l=c.clone(o.dynamicEvents.automatic_event_scroll[r[d]]);Math.round(a*l.scroll_percent/100)<t(window).scrollTop()&&("tiktok"!==r[d]&&c.copyProperties(c.getRequestParams(),l.params),getPixelBySlag(r[d]).onPageScroll(l),i=!0)}i&&t(document).off("scroll",singlePageScroll)}))}if(o.dynamicEvents.hasOwnProperty("automatic_event_time_on_page")){var h=Object.keys(o.dynamicEvents.automatic_event_time_on_page),b=o.dynamicEvents.automatic_event_time_on_page[h[0]].time_on_page;setTimeout((function(){for(var t=0;t<h.length;t++){var a=c.clone(o.dynamicEvents.automatic_event_time_on_page[h[t]]);"tiktok"!==h[t]&&c.copyProperties(c.getRequestParams(),a.params),getPixelBySlag(h[t]).onTime(a)}}),1e3*b)}t.each(o.triggerEventTypes,(function(o,a){t.each(a,(function(t,a){switch(o){case"url_click":break;case"css_click":c.setupCSSClickEvents(t,a);break;case"css_mouseover":c.setupMouseOverClickEvents(t,a);break;case"scroll_pos":c.setupScrollPosEvents(t,a);break;case"comment":c.setupCommentEvents(t,a)}}))})),o.woo.enabled&&(o.dynamicEvents.hasOwnProperty("wcf_add_to_cart_on_next_step_click")&&t("body").on("click",".wcf-next-step-link",(function(){for(var t=Object.keys(o.dynamicEvents.wcf_add_to_cart_on_next_step_click),a=0;a<t.length;a++){var i=c.clone(o.dynamicEvents.wcf_add_to_cart_on_next_step_click[t[a]]);getPixelBySlag(t[a]).fireEvent(i.name,i)}})),(o.dynamicEvents.hasOwnProperty("wcf_add_to_cart_on_bump_click")||o.dynamicEvents.hasOwnProperty("wcf_bump"))&&t("body").on("change",".wcf-bump-order-cb",(function(){if(this.checked){if(o.dynamicEvents.hasOwnProperty("wcf_add_to_cart_on_bump_click"))for(var t=Object.keys(o.dynamicEvents.wcf_add_to_cart_on_bump_click),a=0;a<t.length;a++){var i=c.clone(o.dynamicEvents.wcf_add_to_cart_on_bump_click[t[a]]);getPixelBySlag(t[a]).fireEvent(i.name,i)}if(o.dynamicEvents.hasOwnProperty("wcf_bump"))for(t=Object.keys(o.dynamicEvents.wcf_bump),a=0;a<t.length;a++){i=c.clone(o.dynamicEvents.wcf_bump[t[a]]);getPixelBySlag(t[a]).fireEvent(i.name,i)}}else if(o.dynamicEvents.hasOwnProperty("wcf_remove_from_cart_on_bump_click"))for(t=Object.keys(o.dynamicEvents.wcf_remove_from_cart_on_bump_click),a=0;a<t.length;a++){i=c.clone(o.dynamicEvents.wcf_remove_from_cart_on_bump_click[t[a]]);getPixelBySlag(t[a]).fireEvent(i.name,i)}})),o.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click")&&o.woo.hasOwnProperty("addToCartCatchMethod")&&"add_cart_js"===o.woo.addToCartCatchMethod?(t(".add_to_cart_button:not(.product_type_variable,.product_type_bundle,.single_add_to_cart_button)").on("click",(function(o){var a=t(this).siblings(".pys_list_name_productdata").data(),i=t(this).data("product_id");Cookies.set("productlist",a,{expires:1}),void 0!==(i=t(this).data("product_id"))&&(l.onWooAddToCartOnButtonEvent(i,t(this)),_.onWooAddToCartOnButtonEvent(i,a),u.onWooAddToCartOnButtonEvent(i),m.onWooAddToCartOnButtonEvent(i),v.onWooAddToCartOnButtonEvent(i),d.onWooAddToCartOnButtonEvent(i))})),t("body").onFirst("click","button.single_add_to_cart_button,.single_add_to_cart_button",(function(a){var i=t(this),r=i.siblings(".pys_list_name_productdata").data(),p=t(this).data("product_id");if(Cookies.set("productlist",r,{expires:1}),!i.hasClass("disabled")){var g,y=i.closest("form"),h=c.PRODUCT_SIMPLE,b=!1;if(0===y.length?b=!0:y.hasClass("variations_form")?h=c.PRODUCT_VARIABLE:y.hasClass("bundle_form")?h=c.PRODUCT_BUNDLE:y.hasClass("grouped_form")&&(h=c.PRODUCT_GROUPED),h===c.PRODUCT_GROUPED)g=1,p=parseInt(y.find('*[name="add-to-cart"]').val());else if(h===c.PRODUCT_VARIABLE){p=parseInt(y.find('*[name="add-to-cart"]').val()),(E=y.find('input[name="quantity"]')).length<=0&&(E=y.find('select[name="quantity"]')),g=parseInt(E.val())}else if(b)p=o.woo.singleProductId,g=1;else{var E;p=parseInt(y.find('*[name="add-to-cart"]').val()),(E=y.find('input[name="quantity"]')).length<=0&&(E=y.find('select[name="quantity"]')),g=parseInt(E.val())}l.onWooAddToCartOnSingleEvent(p,g,h,b,y),_.onWooAddToCartOnSingleEvent(p,g,h,b,y),u.onWooAddToCartOnSingleEvent(p,g,h,b,y),m.onWooAddToCartOnSingleEvent(p,g,h,b,y),v.onWooAddToCartOnSingleEvent(p,g,h,b,y),d.onWooAddToCartOnSingleEvent(p,g,h,b,y)}}))):(t(".add_to_cart_button:not(.product_type_variable,.product_type_bundle,.single_add_to_cart_button)").on("click",(function(o){var a=t(this).siblings(".pys_list_name_productdata").data();t(this).data("product_id");Cookies.set("productlist",a,{expires:1})})),t("body").onFirst("click","button.single_add_to_cart_button,.single_add_to_cart_button",(function(o){var a=t(this).siblings(".pys_list_name_productdata").data();Cookies.set("productlist",a,{expires:1})}))),o.dynamicEvents.hasOwnProperty("woo_affiliate")&&t(".product_type_external").on("click",(function(o){var a=t(this).data("product_id");void 0!==a&&(l.onWooAffiliateEvent(a),_.onWooAffiliateEvent(a),u.onWooAffiliateEvent(a),m.onWooAffiliateEvent(a),v.onWooAffiliateEvent(a))})),o.dynamicEvents.hasOwnProperty("woo_remove_from_cart")&&t("body").on("click",o.woo.removeFromCartSelector,(function(a){var i=t(a.currentTarget).attr("href"),r=new RegExp("[\\?&]remove_item=([^&#]*)").exec(i);if(null!==r){var d=r[1];if(o.dynamicEvents.woo_remove_from_cart.hasOwnProperty(d)){var l=o.dynamicEvents.woo_remove_from_cart[d];c.fireEventForAllPixel("onWooRemoveFromCartEvent",l)}}})),o.dynamicEvents.hasOwnProperty("woo_paypal")&&t(document).onFirst("submit click","#place_order",(function(a){if("paypal"===t('form[name="checkout"] input[name="payment_method"]:checked').val()){var i=o.dynamicEvents.woo_paypal;c.fireEventForAllPixel("onWooPayPalEvent",i)}})),o.dynamicEvents.hasOwnProperty("woo_initiate_checkout_progress_f")&&t(document).on("change",".woocommerce-validated #billing_first_name",(function(){_.onWooCheckoutProgressStep(o.dynamicEvents.woo_initiate_checkout_progress_f[_.tag()])})),o.dynamicEvents.hasOwnProperty("woo_initiate_checkout_progress_l")&&t(document).on("change",".woocommerce-validated #billing_last_name",(function(){_.onWooCheckoutProgressStep(o.dynamicEvents.woo_initiate_checkout_progress_l[_.tag()])})),o.dynamicEvents.hasOwnProperty("woo_initiate_checkout_progress_e")&&t(document).on("change",".woocommerce-validated #billing_email",(function(){_.onWooCheckoutProgressStep(o.dynamicEvents.woo_initiate_checkout_progress_e[_.tag()])})),o.dynamicEvents.hasOwnProperty("woo_initiate_checkout_progress_o")&&t(document).onFirst("submit click","#place_order",(function(){_.onWooCheckoutProgressStep(o.dynamicEvents.woo_initiate_checkout_progress_o[_.tag()])})),(o.dynamicEvents.hasOwnProperty("woo_select_content_search")||o.dynamicEvents.hasOwnProperty("woo_select_content_shop")||o.dynamicEvents.hasOwnProperty("woo_select_content_tag")||o.dynamicEvents.hasOwnProperty("woo_select_content_single")||o.dynamicEvents.hasOwnProperty("woo_select_content_category"))&&t(".product.type-product a.woocommerce-loop-product__link").onFirst("click",(function(a){var i=t(this).parent().find("a.add_to_cart_button").attr("data-product_id");o.dynamicEvents.hasOwnProperty("woo_select_content_search")&&o.dynamicEvents.woo_select_content_search.hasOwnProperty(i)?_.onWooSelectContent(o.dynamicEvents.woo_select_content_search[i][_.tag()]):o.dynamicEvents.hasOwnProperty("woo_select_content_shop")&&o.dynamicEvents.woo_select_content_shop.hasOwnProperty(i)?_.onWooSelectContent(o.dynamicEvents.woo_select_content_shop[i][_.tag()]):o.dynamicEvents.hasOwnProperty("woo_select_content_tag")&&o.dynamicEvents.woo_select_content_tag.hasOwnProperty(i)?_.onWooSelectContent(o.dynamicEvents.woo_select_content_tag[i][_.tag()]):o.dynamicEvents.hasOwnProperty("woo_select_content_single")&&o.dynamicEvents.woo_select_content_single.hasOwnProperty(i)?_.onWooSelectContent(o.dynamicEvents.woo_select_content_single[i][_.tag()]):o.dynamicEvents.hasOwnProperty("woo_select_content_category")&&o.dynamicEvents.woo_select_content_category.hasOwnProperty(i)&&_.onWooSelectContent(o.dynamicEvents.woo_select_content_category[i][_.tag()])}))),o.edd.enabled&&(o.dynamicEvents.hasOwnProperty("edd_add_to_cart_on_button_click")&&t("form.edd_download_purchase_form .edd-add-to-cart").on("click",(function(o){var a,i,r=t(this),c=r.closest("form"),p=r.data("variablePrice"),g=r.data("priceMode"),y=[],h=[];"yes"===p&&"multi"===g?(i=c.find('input[name="download_id"]').val(),t.each(c.find('input[name="edd_options[price_id][]"]:checked'),(function(o,a){y.push(i+"_"+t(a).val())})),t.each(y,(function(t,o){var i=o.split("_",2);void 0!==(a=c.find('input[name="edd_download_quantity_'+i[1]+'"]').val())?h.push(a):h.push(1)}))):"yes"===p&&"single"===g?(i=c.find('input[name="download_id"]').val(),y.push(i+"_"+c.find('input[name="edd_options[price_id][]"]:checked').val()),void 0!==(a=c.find('input[name="edd_download_quantity"]').val())?h.push(a):h.push(1)):(y.push(r.data("downloadId")),void 0!==(a=c.find('input[name="edd_download_quantity"]').val())?h.push(a):h.push(1)),t.each(y,(function(t,o){var a,i=parseInt(h[t]),r=o.toString().split("_",2);2===r.length&&(o=r[0],a=r[1]),l.onEddAddToCartOnButtonEvent(o,a,i),_.onEddAddToCartOnButtonEvent(o,a,i),u.onEddAddToCartOnButtonEvent(o,a,i),m.onEddAddToCartOnButtonEvent(o,a,i),v.onEddAddToCartOnButtonEvent(o,a,i),d.onEddAddToCartOnButtonEvent(o,a,i)}))})),o.dynamicEvents.hasOwnProperty("edd_remove_from_cart")&&t("form#edd_checkout_cart_form .edd_cart_remove_item_btn").on("click",(function(a){var i=t(this).attr("href"),r=i.substring(i.indexOf("=")+1).charAt(0);if(o.dynamicEvents.edd_remove_from_cart.hasOwnProperty(r)){var d=o.dynamicEvents.edd_remove_from_cart[r];c.fireEventForAllPixel("onEddRemoveFromCartEvent",d)}}))),c.setupURLClickEvents(),o.dynamicEvents.hasOwnProperty("automatic_event_comment")&&t("form.comment-form").on("submit",(function(){if(o.dynamicEvents.hasOwnProperty("automatic_event_comment"))for(var t=Object.keys(o.dynamicEvents.automatic_event_comment),a=0;a<t.length;a++){var i=c.clone(o.dynamicEvents.automatic_event_comment[t[a]]);"tiktok"!==t[a]&&c.copyProperties(c.getRequestParams(),i.params),getPixelBySlag(t[a]).onCommentEvent(i)}})),o.dynamicEvents.hasOwnProperty("automatic_event_form")&&t(document).onFirst("submit","form",(function(a){var i=t(this);if(!i.hasClass("comment-form")&&!i.hasClass("search-form")&&"adminbarsearch"!==i.attr("id")&&!(i.hasClass("woocommerce-product-search")||i.hasClass("cart")||i.hasClass("woocommerce-cart-form")||i.hasClass("woocommerce-shipping-calculator")||i.hasClass("checkout")||i.hasClass("checkout_coupon")||i.hasClass("edd_form")||i.hasClass("edd_download_purchase_form")||i.hasClass("wpcf7-form"))){if(i.attr("id")&&i.attr("id").includes("gform")){var r=i.attr("target");if(r&&-1!==r.indexOf("gform_ajax_frame"))return}if(!i.hasClass("forminator-custom-form")&&!i.hasClass("forminator_ajax")&&!(i.hasClass("wpforms-form")||i.hasClass("wpforms-ajax-form")||i.parent().hasClass("nf-form-layout")||i.hasClass("frm-fluent-form")||o.enable_success_send_form)){var d={form_id:i.attr("id"),form_class:i.attr("class")?i.attr("class"):i.attr("id"),text:i.find('[type="submit"]').is("input")?i.find('[type="submit"]').val():i.find('[type="submit"]').text()};if(o.dynamicEvents.hasOwnProperty("automatic_event_form"))for(var l=Object.keys(o.dynamicEvents.automatic_event_form),_=0;_<l.length;_++){var u=c.clone(o.dynamicEvents.automatic_event_form[l[_]]);"tiktok"===l[_]?getPixelBySlag(l[_]).fireEvent(u.name,u):(c.copyProperties(d,u.params),c.copyProperties(c.getRequestParams(),u.params),getPixelBySlag(l[_]).onFormEvent(u))}}}})),jQuery(document).on("elementor/popup/show",(function(t){for(var o=0;o<jQuery(".wpcf7-form").length;o++)wpcf7.init(jQuery(".wpcf7-form")[o])})),document.addEventListener("wpcf7mailsent",(function(a){var i=a.detail.contactFormId,r=null,d=!1;o.triggerEventTypes.hasOwnProperty("CF7")&&(key_event=Object.keys(o.triggerEventTypes.CF7)[0],o.triggerEventTypes.CF7[key_event].hasOwnProperty("disabled_form_action")&&(d=o.triggerEventTypes.CF7[key_event].disabled_form_action),t.each(o.triggerEventTypes.CF7,(function(o,a){t.each(a.forms,(function(t,a){a==i&&(r=o)}))}))),null!=r?(c.fireTriggerEvent(r),d||p(t(a.target),i)):p(t(a.target),i)}),!1),jQuery(document).on("gform_confirmation_loaded",(function(a,i){var r=i,d=null,l=!1;o.triggerEventTypes.hasOwnProperty("gravity")&&(key_event=Object.keys(o.triggerEventTypes.gravity)[0],o.triggerEventTypes.gravity[key_event].hasOwnProperty("disabled_form_action")&&(l=o.triggerEventTypes.gravity[key_event].disabled_form_action),t.each(o.triggerEventTypes.gravity,(function(o,a){t.each(a.forms,(function(t,a){a==r&&(d=o)}))}))),null!=d?(c.fireTriggerEvent(d),l||p(t(a.target),r)):p(t(a.target),r),jQuery(document).off("gform_confirmation_loaded")})),t(document).on("forminator:form:submit:success",(function(a){var i=t(a.target).find('input[name="form_id"]').val(),r=null,d=!1;o.triggerEventTypes.hasOwnProperty("forminator")&&(key_event=Object.keys(o.triggerEventTypes.forminator)[0],o.triggerEventTypes.forminator[key_event].hasOwnProperty("disabled_form_action")&&(d=o.triggerEventTypes.forminator[key_event].disabled_form_action),t.each(o.triggerEventTypes.forminator,(function(o,a){t.each(a.forms,(function(t,a){a==i&&(r=o)}))}))),null!=r?(c.fireTriggerEvent(r),d||p(t(a.target),i)):p(t(a.target),i)})),t("form.wpforms-form").on("wpformsAjaxSubmitSuccess",(function(a){var i=t(a.target).attr("data-formid"),r=null,d=!1;o.triggerEventTypes.hasOwnProperty("wpforms")&&(key_event=Object.keys(o.triggerEventTypes.wpforms)[0],o.triggerEventTypes.wpforms[key_event].hasOwnProperty("disabled_form_action")&&(d=o.triggerEventTypes.wpforms[key_event].disabled_form_action),t.each(o.triggerEventTypes.wpforms,(function(o,a){t.each(a.forms,(function(t,a){a==i&&(r=o)}))}))),null!=r?(c.fireTriggerEvent(r),d||p(t(a.target),i)):p(t(a.target),i)})),t(document).on("frmFormComplete",(function(a,i,r){var d=t(i).find('input[name="form_id"]').val(),l=null,_=!1;o.triggerEventTypes.hasOwnProperty("formidable")&&(key_event=Object.keys(o.triggerEventTypes.formidable)[0],o.triggerEventTypes.formidable[key_event].hasOwnProperty("disabled_form_action")&&(_=o.triggerEventTypes.formidable[key_event].disabled_form_action),t.each(o.triggerEventTypes.formidable,(function(o,a){t.each(a.forms,(function(t,a){a==d&&(l=o)}))}))),null!=l?(c.fireTriggerEvent(l),_||p(t(a.target),d)):p(t(a.target),d)})),t(document).onFirst("nfFormSubmitResponse",(function(a,i){var r=i.response.data.form_id,d=null,l=!1;o.triggerEventTypes.hasOwnProperty("ninjaform")&&(key_event=Object.keys(o.triggerEventTypes.ninjaform)[0],o.triggerEventTypes.ninjaform[key_event].hasOwnProperty("disabled_form_action")&&(l=o.triggerEventTypes.ninjaform[key_event].disabled_form_action),t.each(o.triggerEventTypes.ninjaform,(function(o,a){t.each(a.forms,(function(t,a){a==r&&(d=o)}))}))),null!=d?(c.fireTriggerEvent(d),l||p(t(a.target),r)):p(t(a.target),r)})),t("form.frm-fluent-form").each((function(){t(this).on("fluentform_submission_success",(function(a){var i=t(this).attr("data-form_id"),r=null,d=!1;o.triggerEventTypes.hasOwnProperty("fluentform")&&(key_event=Object.keys(o.triggerEventTypes.fluentform)[0],o.triggerEventTypes.fluentform[key_event].hasOwnProperty("disabled_form_action")&&(d=o.triggerEventTypes.fluentform[key_event].disabled_form_action),t.each(o.triggerEventTypes.fluentform,(function(o,a){t.each(a.forms,(function(t,a){a==i&&(r=o)}))}))),null!=r?(c.fireTriggerEvent(r),d||p(t(a.target),i)):p(t(a.target),i)}))})),c.loadPixels(),c.isCheckoutPage()&&c.addCheckoutFields()})),o.automatic.enable_video)&&(window.consentApi&&o.gdpr.real_cookie_banner_integration_enabled?(o.automatic.enable_youtube&&o.enable_event_video&&o.enable_automatic_events&&window.consentApi.consent("http","CONSENT",".youtube.com").then(c.initYouTubeAPI),o.automatic.enable_vimeo&&o.enable_event_video&&o.enable_automatic_events&&window.consentApi.consent("http","player",".vimeo.com").then(c.initVimeoAPI)):(o.automatic.enable_youtube&&o.enable_event_video&&o.enable_automatic_events&&c.initYouTubeAPI(),o.automatic.enable_vimeo&&o.enable_event_video&&o.enable_automatic_events&&c.initVimeoAPI()));var p=function sendFormAction(t,a){var i={form_id:a,text:t.find('[type="submit"]').is("input")?t.find('[type="submit"]').val():""!=t.find(".forminator-button-submit").text()?t.find(".forminator-button-submit").text():t.find('[type="submit"]').text()};if(o.dynamicEvents.hasOwnProperty("automatic_event_form"))for(var r=Object.keys(o.dynamicEvents.automatic_event_form),d=0;d<r.length;d++){var l=o.dynamicEvents.automatic_event_form[r[d]];"tiktok"===r[d]?getPixelBySlag(r[d]).fireEvent(l.name,l):(c.copyProperties(i,l.params),c.copyProperties(c.getRequestParams(),l.params),getPixelBySlag(r[d]).onFormEvent(l))}}}(jQuery,pysOptions),pysOptions.ajaxForServerEvent&&!Cookies.get("pbid")&&jQuery.ajax({url:pysOptions.ajaxUrl,dataType:"json",data:{action:"pys_get_pbid"},success:function success(t){if(t.data&&0!=t.data.pbid&&pysOptions.send_external_id){var o=parseInt(pysOptions.external_id_expire||180);Cookies.set("pbid",t.data.pbid,{expires:o,path:"/"}),pysOptions.hasOwnProperty("facebook")&&(pysOptions.facebook.advancedMatching.external_id=t.data.pbid),pysOptions.hasOwnProperty("tiktok")&&(pysOptions.tiktok.advanced_matching.external_id=t.data.pbid)}}})})();