!function(t){function e(e){for(var n,s,r=e[0],l=e[1],d=e[2],c=0,p=[];c<r.length;c++)s=r[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);p.length;)p.shift()();return a.push.apply(a,d||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={0:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=l;a.push([186,1]),i()}([,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))}}},,,,,,,,,,,function(t,e){t.exports=jQuery},,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(28),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(291))&&n.__esModule?n:{default:n};e.default={components:{AddNew:o.default},props:{},data:function(){return{pageHeading:""}},mounted:function(){},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(30),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(292)),o=l(i(304)),a=l(i(308)),s=l(i(309)),r=l(i(310));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowSteps:n.default,Sidebar:o.default,IntegrationsModal:a.default,AddConditionModal:s.default,AddConditionAfterModal:r.default},props:{},data:function(){return{title:""}},mounted:function(){},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(32),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(293)),o=a(i(302));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepTrigger:n.default,FlowStepAction:o.default},props:{},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{updateFlowStepData:function(t,e,i){var n="";("trigger"===t||"action"===t)&&(n="triggers"),n&&this.$root.flowData.flow_config[n]&&(this.$root.flowData.flow_config[n][e].trigger=i.trigger?i.trigger:"",this.$root.flowData.flow_config[n][e].fields=i.fields?i.fields:{})}},computed:{triggers:function(){return this.$root.flowData.flow_config.triggers},actions:function(){return this.$root.flowData.flow_config.actions}}}},function(t,e,i){"use strict";i.r(e);var n=i(34),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(172)),o=s(i(176)),a=s(i(177));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepHeader:o.default,FlowStepConditions:a.default},mixins:[n.default],props:{},data:function(){return{dStepData:{name:"",integration:"",short_description:"",description:[],trigger:"",subSteps:[],testType:"",log:"",conditionals:{relation:"all",flowAction:"skip",conditions:[]},variableData:{},fields:{}}}},mounted:function(){this.$nextTick((function(){}))},methods:{},computed:{integrationSettings:function(){return this.$root.getIntegrationTriggerSettings(this.dStepData.integration,this.dStepData.trigger)}},watch:{}}},function(t,e,i){"use strict";i.r(e);var n=i(36),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{icon:{type:Object},type:{type:String,default:"trigger"},typeText:{type:String}},data:function(){return{parentStep:"",dName:"",showNameField:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.parentStep=t.$parent}))},methods:{onEdit:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.stopPropagation(),e?this.parentStep.collapsed||(this.parentStep.collapsed=!0):this.parentStep.collapsed=!this.parentStep.collapsed},onFocus:function(){this.dName=this.$root.jsonDetach(this.parentStep.dStepData.name)},onBlur:function(){this.showNameField=!1,this.dName!==this.parentStep.dStepData.name&&this.$emit("update-name"),this.dName=""},onEditName:function(){var t=this;this.showNameField=!0,setTimeout((function(){t.$refs["name-input"].focus()}),200)},onEnter:function(t){if(13==t.keyCode)return t.preventDefault(),this.$refs["name-input"].blur(),!1}},computed:{position:function(){return this.parentStep.stepIndex+("action"===this.type?2:1)}}}},function(t,e,i){"use strict";i.r(e);var n=i(38),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{stepId:"",stepIndex:"",stepType:""},data:function(){return{isLoading:!0,parentStep:"",conditions:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.parentStep=t.$parent,t.isLoading=!1,t.$parent.dStepData.conditionals&&t.$parent.dStepData.conditionals.conditions&&(t.conditions=t.$parent.dStepData.conditionals.conditions),t.$events.$on("step-condition:updated",(function(e,i,n){if(t.stepId===e){var o=t.$refs["condition-"+i+"-"+e][0];o&&void 0!==o&&(t.isLoading=!0,o.classList.add("wpwh-is-loading"),setTimeout((function(){t.isLoading=!1,o.classList.remove("wpwh-is-loading")}),1e3))}}))}))},methods:{generateConditionWithVars:function(t){var e=t.value,i=t.mappings,n={},o=e;for(var a in i)if(Object.hasOwnProperty.call(i,a)){var s=i[a],r=this.generateConditionMappingHTML(s);n[a]=this.generateConditionMappingHTML(s),o=o.replaceAll("{{"+a+"}}",'<div class="wpwh-flows-condition__mapping">'+r+"</div>")}return o},generateConditionMappingHTML:function(t){var e=this.generateMappingOutputObject(t);return"<span>\n          <strong>"+(e.index?e.index+": ":"")+e.location+"</strong>\n          <span><em>"+e.value+"</em></span>\n        </span>"},generateMappingOutputObject:function(t){var e={index:"",location:"",value:""};return t.mapping&&t.mapping.length>0&&(e.location=t.mapping.join(" > ")),t.action?e.index=this.$root.getActionsKeys().indexOf(t.action)+2:t.trigger&&(e.index=1),t.value&&(e.value=t.value),e}}}},function(t,e,i){"use strict";i.r(e);var n=i(40),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(172)),o=r(i(176)),a=r(i(177)),s=r(i(303));function r(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FlowStepHeader:o.default,FlowStepConditions:a.default,FlowStepConditionsAfter:s.default},mixins:[n.default],props:{},data:function(){return{dStepData:{name:"",integration:"",short_description:"",description:[],action:"",subSteps:[],testType:"",log:"",conditionals:{relation:"all",flowAction:"skip",conditions:[]},conditionals_after:{relation:"all",flowAction:"cancel",conditions:[]},variableData:{},fields:{}},chooseOptions:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dStepData.name||(t.dStepData.name=t.integrationData.name)}))},methods:{},computed:{stepParameter:function(){return this.$root.getIntegrationActionParameter(this.dStepData.integration,this.dStepData.action)},integrationSettings:function(){return this.$root.getIntegrationActionSettings(this.dStepData.integration,this.dStepData.action)}},watch:{}}},function(t,e,i){"use strict";i.r(e);var n=i(42),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{stepId:"",stepIndex:"",stepType:""},data:function(){return{isLoading:!0,parentStep:"",conditions:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.parentStep=t.$parent,t.isLoading=!1,t.$parent.dStepData.conditionals_after&&t.$parent.dStepData.conditionals_after.conditions&&(t.conditions=t.$parent.dStepData.conditionals_after.conditions),t.$events.$on("step-condition-after:updated",(function(e,i,n){if(t.stepId===e){var o=t.$refs["condition-after-"+i+"-"+e][0];o&&void 0!==o&&(t.isLoading=!0,o.classList.add("wpwh-is-loading"),setTimeout((function(){t.isLoading=!1,o.classList.remove("wpwh-is-loading")}),1e3))}}))}))},methods:{generateConditionAfterWithVars:function(t){var e=t.value,i=t.mappings,n={},o=e;for(var a in i)if(Object.hasOwnProperty.call(i,a)){var s=i[a],r=this.generateConditionAfterMappingHTML(s);n[a]=this.generateConditionAfterMappingHTML(s),o=o.replaceAll("{{"+a+"}}",'<div class="wpwh-flows-condition__mapping">'+r+"</div>")}return o},generateConditionAfterMappingHTML:function(t){var e=this.generateMappingOutputObject(t);return"<span>\n          <strong>"+(e.index?e.index+": ":"")+e.location+"</strong>\n          <span><em>"+e.value+"</em></span>\n        </span>"},generateMappingOutputObject:function(t){var e={index:"",location:"",value:""};return t.mapping&&t.mapping.length>0&&(e.location=t.mapping.join(" > ")),t.action?e.index=this.$root.getActionsKeys().indexOf(t.action)+2:t.trigger&&(e.index=1),t.value&&(e.value=t.value),e}}}},function(t,e,i){"use strict";i.r(e);var n=i(44),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(305)),o=a(i(306));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{PublishBox:n.default,SelectedSteps:o.default},props:{},data:function(){return{}},mounted:function(){},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(46),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{},data:function(){return{date:"",loading:!1,successMsg:"",errorMsg:""}},mounted:function(){var t=this;t.$nextTick((function(){t.date=t.$root.flow.flow_date,t.$events.$on("save-flow:success",(function(e){t.showSuccessMsg(e)})),t.$events.$on("save-flow:error",(function(e){t.showErrorMsg(e)})),t.$events.$on("delete-flow:success",(function(e){t.showSuccessMsg(e),setTimeout((function(){window.location.href="/wp-admin/options-general.php?page=wp-webhooks-pro&wpwhprovrs=flows"}),1e3)})),t.$events.$on("delete-flow:error",(function(e){t.showErrorMsg(e)})),t.$events.$on("loading-flow:started",(function(){return t.loading=!0})),t.$events.$on("loading-flow:done",(function(e){t.loading=!1}))}))},methods:{showSuccessMsg:function(t){var e=this;this.successMsg=t,setTimeout((function(){e.successMsg=""}),3e3)},showErrorMsg:function(t){var e=this;this.errorMsg=t,setTimeout((function(){e.errorMsg=""}),3e3)},onDelete:function(){var t=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&t.$root.deleteFlow()}))}}}},function(t,e,i){"use strict";i.r(e);var n=i(48),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(307))&&n.__esModule?n:{default:n};e.default={components:{SelectedStep:o.default},props:{},data:function(){return{title:""}},mounted:function(){},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(50),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{item:{required:!0,type:Object},stepData:{type:Object},stepId:{required:!0,type:String},stepIndex:{required:!0,type:Number},stepType:{type:String,default:function(){return"trigger"}},stepNumber:[Number,String]},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{},computed:{integration:function(){return this.$root.filterIntegration(this.item.integration)},id:function(){return("action"===this.stepType?"#flowStepAction-":"#flowStepTrigger-")+this.stepId}}}},function(t,e,i){"use strict";i.r(e);var n=i(52),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(114))&&n.__esModule?n:{default:n};e.default={components:{Integrations:o.default},props:{title:{type:[String],default:function(){return this.$root.texts.triggers_modal_title}},description:{type:[String],default:function(){return this.$root.texts.triggers_modal_description}}},data:function(){return{}},mounted:function(){},methods:{beforeClose:function(t){this.$root.integrationsModalFlowType="",this.$root.integrationsModalFlowStepIndex="",this.$root.integrationsModalFlowInsertAfterIndex="",this.$root.integrationsModalSelected=""}}}},function(t,e,i){"use strict";i.r(e);var n=i(54),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{title:{type:[String],default:function(){return this.$root.texts.triggers_modal_title}}},data:function(){return{mappingInfo:{fields:{name:{first:""}}}}},mounted:function(){},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(56),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(n=i(114))&&n.__esModule?n:{default:n};e.default={components:{Integrations:a.default},props:{title:{type:[String],default:function(){return"Add condition"}}},data:function(){return{initialized:!1,dCondition:{condition_input:{name:"condition_input",value:"",mappings:{}},condition_operator:{name:"condition_operator",value:"is"},condition_value:{name:"condition_value",value:"",mappings:{}}}}},mounted:function(){this.$nextTick((function(){}))},methods:{beforeClose:function(t){},beforeOpen:function(t){this.initialized=!1;var e=this,i=e.$root.flowConditionsModal,n=i.action,o=i.conditionId,a=i.stepId,s=i.stepIndex,r=i.stepType;if("edit"==n&&""!==o&&""!==a&&""!==s){if("action"===r||"trigger"===r){var l="trigger"===r?"triggers":"actions",d=e.$root.flowData.flow_config[l][a].conditionals.conditions[o];d?(d.condition_input&&(e.dCondition.condition_input.value=d.condition_input.value),d.condition_operator&&(e.dCondition.condition_operator.value=d.condition_operator.value),d.condition_value&&(e.dCondition.condition_value.value=d.condition_value.value)):e.reset()}else e.reset();e.initialized=!0}else e.reset(),e.initialized=!0},reset:function(){this.dCondition.condition_input.value="",this.dCondition.condition_input.mappings={},this.dCondition.condition_value.value="",this.dCondition.condition_value.mappings={},this.dCondition.condition_operator.value=this.$root.flowConditionLabels.default},updateOperator:function(t){"object"===(void 0===t?"undefined":o(t))&&"string"!=typeof t?this.dCondition.condition_operator.value=t[0]:this.dCondition.condition_operator.value=t},updateConditionInput:function(t,e){this.dCondition.condition_input.value=t,this.dCondition.condition_input.mappings=e},addInputMapping:function(t,e,i,n,o,a){this.addMapping("condition_input",t,e,i,n,o,a)},deleteInputMapping:function(t){this.deleteMapping("condition_input",t)},deleteInputMappings:function(){},updateConditionValue:function(t,e){this.dCondition.condition_value.value=t,this.dCondition.condition_value.mappings=e},addValueMapping:function(t,e,i,n,o,a){this.addMapping("condition_value",t,e,i,n,o,a)},deleteValueMapping:function(t){this.deleteMapping("condition_value",t)},deleteValueMappings:function(){},addMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],s=this.dCondition[t].mappings;Array.isArray(s)&&(s=Object.assign({},s)),s||(s={}),s[e]={value:i,mapping:n},s[e][a]=o,Vue.set(this.dCondition[t],"mappings",s)},deleteMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],i=this.dCondition[t].mappings;i&&i[e]&&this.$delete(i,e)}}}},function(t,e,i){"use strict";i.r(e);var n=i(58),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(n=i(114))&&n.__esModule?n:{default:n};e.default={components:{Integrations:a.default},props:{title:{type:[String],default:function(){return"Add condition"}}},data:function(){return{initialized:!1,dCondition:{condition_input:{name:"condition_input",value:"",mappings:{}},condition_operator:{name:"condition_operator",value:"is"},condition_value:{name:"condition_value",value:"",mappings:{}}}}},mounted:function(){this.$nextTick((function(){}))},methods:{beforeClose:function(t){},beforeOpen:function(t){this.initialized=!1;var e=this,i=e.$root.flowConditionsAfterModal,n=i.action,o=i.conditionId,a=i.stepId,s=i.stepIndex,r=i.stepType;if("edit"==n&&""!==o&&""!==a&&""!==s){if("action"===r||"trigger"===r){var l="trigger"===r?"triggers":"actions",d=e.$root.flowData.flow_config[l][a].conditionals_after.conditions[o];d?(d.condition_input&&(e.dCondition.condition_input.value=d.condition_input.value),d.condition_operator&&(e.dCondition.condition_operator.value=d.condition_operator.value),d.condition_value&&(e.dCondition.condition_value.value=d.condition_value.value)):e.reset()}else e.reset();e.initialized=!0}else e.reset(),e.initialized=!0},reset:function(){this.dCondition.condition_input.value="",this.dCondition.condition_input.mappings={},this.dCondition.condition_value.value="",this.dCondition.condition_value.mappings={},this.dCondition.condition_operator.value=this.$root.flowConditionLabels.default},updateOperator:function(t){"object"===(void 0===t?"undefined":o(t))&&"string"!=typeof t?this.dCondition.condition_operator.value=t[0]:this.dCondition.condition_operator.value=t},updateConditionInput:function(t,e){this.dCondition.condition_input.value=t,this.dCondition.condition_input.mappings=e},addInputMapping:function(t,e,i,n,o,a){this.addMapping("condition_input",t,e,i,n,o,a)},deleteInputMapping:function(t){this.deleteMapping("condition_input",t)},deleteInputMappings:function(){},updateConditionValue:function(t,e){this.dCondition.condition_value.value=t,this.dCondition.condition_value.mappings=e},addValueMapping:function(t,e,i,n,o,a){this.addMapping("condition_value",t,e,i,n,o,a)},deleteValueMapping:function(t){this.deleteMapping("condition_value",t)},deleteValueMappings:function(){},addMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],s=this.dCondition[t].mappings;Array.isArray(s)&&(s=Object.assign({},s)),s||(s={}),s[e]={value:i,mapping:n},s[e][a]=o,Vue.set(this.dCondition[t],"mappings",s)},deleteMapping:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"condition_input",e=arguments[1],i=this.dCondition[t].mappings;i&&i[e]&&this.$delete(i,e)}}}},function(t,e,i){"use strict";i.r(e);var n=i(60),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{icon:{required:!0,type:String},fill:{type:String},stroke:{type:String}},data:function(){return{}},mounted:function(){},methods:{getFill:function(t){return this.fill?this.fill:t},getStroke:function(t){return this.stroke?this.stroke:t}},computed:{}}},function(t,e,i){"use strict";i.r(e);var n=i(62),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{text:{type:[String],required:!1,default:function(){return"Loading…"}},inline:{type:Boolean,default:!1},hideSpinner:{type:[Boolean],required:!1},hideText:{type:[Boolean],required:!1}},data:function(){return{}},mounted:function(){},methods:{},computed:{}}},function(t,e,i){"use strict";i.r(e);var n=i(64),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{heading:{type:String,default:"Choose trigger"},showCompleted:{type:Boolean,default:!1}},data:function(){return{}},methods:{}}},function(t,e,i){"use strict";i.r(e);var n=i(66),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{id:{required:!0,type:String},label:String,short_description:{type:[String],default:""},description:{type:[String],default:""},required:{type:Boolean,default:function(){return!1}}},data:function(){return{showFormLabelDescription:!1,value:""}},mounted:function(){},methods:{removeLink:function(t){this.dValue.splice(t,1)}}}},function(t,e,i){"use strict";i.r(e);var n=i(68),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{id:{required:!0,type:String},short_description:{type:[String],default:""},description:{type:[String],default:""}},data:function(){return{showFormLabelDescription:!1,value:""}},mounted:function(){},methods:{removeLink:function(t){this.dValue.splice(t,1)}}}},function(t,e,i){"use strict";i.r(e);var n=i(70),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{fieldData:{required:!0,type:Object},value:{required:!1},readonly:{required:!1,type:[String]},id:{required:!0,type:[String]},nname:{required:!0,type:[String]},field_display_type:{required:!1,type:[String]},integration:{required:!0,type:[String]},webhookGroup:{},stepType:{required:!0,type:[String]}},data:function(){return{forceVariableText:!1,originalFieldType:"text",fieldType:"text",dFieldData:{}}},mounted:function(){var t=this;this.$nextTick((function(){t.dFieldData=t.$root.jsonDetach(t.fieldData),t.dFieldData.required&&t.$emit("required-field",t.dFieldData.required),t.originalFieldType=t.dFieldData.type,t.field_display_type?(t.fieldType=t.field_display_type,"text"===t.field_display_type&&(t.forceVariableText=!0)):t.fieldType=t.dFieldData.type}))},methods:{updateValue:function(t){this.$emit("input",t)},updateSelectValue:function(t){this.$emit("change",t)},switchVariableText:function(t,e,i){t||(this.fieldType=this.originalFieldType),this.forceVariableText=t,this.$emit("field-display-state",e,i)}},computed:{isSelect:function(){return"select"===this.fieldType&&!this.forceVariableText},isSelectAjax:function(){return"select"===this.fieldType&&this.dFieldData.query&&!this.forceVariableText},isWysiwyg:function(){return"wysiwyg"===this.fieldType&&!this.forceVariableText},isVariable:function(){return"text"===this.fieldType&&this.dFieldData.variable||this.forceVariableText},isLinks:function(){return"links"===this.fieldType&&!this.forceVariableText},isRepeater:function(){return"repeater"===this.fieldType&&!this.forceVariableText},isList:function(){return"list"===this.fieldType&&!this.forceVariableText},isToggle:function(){return"checkbox"===this.fieldType&&!this.forceVariableText},isRadio:function(){return"radio"===this.fieldType&&!this.forceVariableText},isTextarea:function(){return"textarea"===this.fieldType},isInput:function(){var t=this.fieldType;return"text"===t||"url"===t||"email"===t||"phone"===t||"number"===t},hasType:function(){return this.fieldType},displayTypeToggle:function(){return this.field_display_type&&"text"!==this.originalFieldType&&"action"===this.stepType||"textarea"!==this.fieldType&&"text"!==this.fieldType&&"repeater"!==this.fieldType&&"list"!==this.fieldType&&"action"===this.stepType}}}},function(t,e,i){"use strict";i.r(e);var n=i(72),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,components:{},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1},cols:{type:Number,default:function(){return 30}},rows:{type:Number,default:function(){return 7}}},data:function(){return{editor:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initWysiwyg()}))},methods:{initWysiwyg:function(){var t=this;t.$root.wpEditor&&t.$root.wpEditor.initialize(t.id,{tinymce:{init_instance_callback:function(e){t.editor=e,t.value&&e.insertContent(t.value),e.on("Change",(function(e){t.updateValue(e)}))}},mediaButtons:!0,quicktags:!0})},updateValue:function(t){this.$emit("input",this.editor.getContent())}},computed:{}}},function(t,e,i){"use strict";i.r(e);var n=i(74),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(319),a=l(i(113));i(320),i(323);var s=l(i(324)),r=l(i(8));function l(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:r.default,components:{codemirror:o.codemirror,VariableFieldDropdown:s.default},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1},index:{type:[Number,String],default:""}},data:function(){return{initialized:!1,dropdownLoading:!1,showDropdown:!1,dropdownItems:[],mappings:{},parentStep:"",parentStepField:"",parentFormField:"",isNestedInRepeater:!1,cmOptions:{lineNumbers:0,tabSize:4,value:this.value,mode:"default",dragDrop:!1,noNewlines:!0,viewportMargin:1/0,lineWrapping:!0,autoRefresh:!0,scrollbarStyle:null}}},mounted:function(){var t=this,e=this;this.$nextTick((function(){window.cmInstance=e.codemirror,e.parentStep=e.$parent.$parent,e.parentFormField=e.$parent,e.parentStep.stepId||(e.parentStep=e.$parent.$parent.$parent,e.parentFormField=e.$parent.$parent,e.isNestedInRepeater=!0),e.parentStep&&e.parentStep.dStepData&&(e.parentStepField=e.parentStep.dStepData.fields[e.parentFormField.fieldData.id],t.$events.$on("update-variable-dropdown",(function(e){t.initialized=!1})))}))},methods:{insertVariableIntoEditor:function(t,e){e&&e.title,e&&e.example;var i=e?e.value:"",n="{{"+("common"===t?this.$root.base64encode("{common}{"+i+"}"):this.$root.base64encode("{"+t+"}"+i))+"}}";this.insertTextAtCursor(n),this.codemirror.focus()},renderVariables:function(){for(var t=this,e=this.codemirror.getSearchCursor(/\{\{(.*?)\}\}/),i=[],n=function(){var n={from:e.from(),to:e.to()},o=t.codemirror.getRange(n.from,n.to).replace("{{","").replace("}}","");if(!t.$root.isbase64encoded(o))return"continue";var a=t.$root.base64decode(o),s=a.match(/\{(.*?)\}/gi);if(null==s)return"continue";i.push(o);var r,l=s?s.map((function(t){return t.replace(/[\{\}]/g,"")})):"",d=l?l.shift().replace("{","").replace("}",""):"",u={},c="",p="action",f=void 0,h=!1,v=t.$root.getActionsKeys();"common"!==d&&("trigger"===t.parentStep.stepType||"action"===t.parentStep.stepType&&"trigger"!==p&&v.indexOf(d)>=v.indexOf(t.parentStep.stepId))&&(h=!0),"common"===d?(u=t.$root.commonTags,c="Common"):t.$root.flowData.flow_config.actions[d]?(u=t.$root.flowData.flow_config.actions[d].variableData,c=v.indexOf(d)+2):t.$root.flowData.flow_config.triggers[d]&&(u=t.$root.flowData.flow_config.triggers[d].variableData,c=1,p="trigger"),r="common"===d?t.$root.commonTags[l[0]]?t.$root.commonTags[l[0]].example:"":t.locateValue(l,u),h?f=t.createHtmlNode("Invalid variable",""):(t.addMappingToParentStep(o,a,l,r,d,p),"common"===d&&(l=l.map((function(t){return t.replace("common:","")}))),f=l&&l.length?t.createHtmlNode(c+": "+l.join(" > "),r):t.createHtmlNode(o,r));var w=t.codemirror.markText(n.from,n.to,{replacedWith:f});f.addEventListener("click",(function(){if(!f.classList.contains("flows-var--cm-focused")){f.classList.add("flows-var--cm-focused");var e=function(){f.classList.remove("flows-var--cm-focused"),document.removeEventListener("mouseup",i),document.removeEventListener("copy",n),document.removeEventListener("keydown",a),document.removeEventListener("keydown",s)},i=function(t){f===t.target||f.contains(t.target)||e()};document.addEventListener("mouseup",i);var n=function(i){e(),t.$root.copyToClipboard("{{"+o+"}}")};document.addEventListener("copy",n);var a=function(i){var n=i.keyCode||i.charCode;if(8==n||46==n){var a=w.find();w.clear(),t.codemirror.replaceRange("",a.from,a.to),t.removeMappingFromParentStep(o),e()}};document.addEventListener("keydown",a);var s=function(i){var n=i.keyCode||i.charCode;if(37==n||39==n){e();var o=w.find(),a=void 0;37==n&&(a=o.from),39==n&&(a=o.to),t.codemirror.focus(),t.codemirror.setCursor(a)}};document.addEventListener("keydown",s)}}))};e.findNext();)n();if(this.isNestedInRepeater)this.$emit("delete-mappings",this.index,i);else for(var o in this.parentStepField.mappings)i.includes(o)||this.$delete(this.parentStepField.mappings,o)},locateValue:function(t,e){for(var i="",o=0;o<t.length;o++){var a=t[o];if("object"===(void 0===e?"undefined":n(e))&&void 0!==n(e[a])){if("string"==typeof(e=e[a])){i=e;break}if("boolean"==typeof e){i=e?"true":"false";break}if("number"==typeof e){i=e+"";break}}}return i},locateValueCommon:function(t,e){for(var i="",o=0;o<t.length;o++){var a=t[o];if("object"===(void 0===e?"undefined":n(e))&&e[a]&&"string"==typeof(e=e[a])){i=e;break}}return i},addMappingToParentStep:function(t,e,i,n,o,a){if(this.parentStepField&&o&&!this.isNestedInRepeater){var s=this.parentStepField.mappings;Array.isArray(s)&&(s=Object.assign({},s)),s||(s={}),s[t]={value:n,mapping:i},s[t][a]=o,Vue.set(this.parentStep.dStepData.fields[this.parentFormField.fieldData.id],"mappings",s)}this.$emit("add-mapping",t,n,i,o,a,this.index)},removeMappingFromParentStep:function(t){if(!this.isNestedInRepeater){var e=this.parentStep.dStepData.fields[this.parentFormField.fieldData.id];e&&e.mappings&&e.mappings[t]&&this.$delete(e.mappings,t)}this.$emit("delete-mapping",t,this.index)},insertTextAtCursor:function(t){var e=this.codemirror.getDoc(),i=e.getCursor();e.replaceRange(t,i)},createHtmlNode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=document.createElement("span"),n=document.createElement("strong"),o=document.createElement("span");return n.appendChild(document.createTextNode(t)),o.appendChild(document.createTextNode(this.$root.truncate(e,20))),o.setAttribute("title",e),i.classList.add("flows-var"),i.appendChild(n),i.appendChild(o),i},onCmReady:function(t){var e=this;setTimeout((function(){e.renderVariables()}),500)},onCmFocus:function(t){this.initialized||this.initializeDropdown(),this.showDropdown=!0},onCmBlur:function(t){},onCmCodeChange:(0,a.default)((function(t){this.code=t,this.$emit("input",t,this.mappings),this.renderVariables()}),200),initializeDropdown:function(){var t=this;this.initialized=!0,this.dropdownLoading=!0,this.dropdownItems=[],this.$root.commonTags&&this.prepareCommonDropdownItems(this.$root.commonTags),this.prepareDropdownItems(this.$root.flowData.flow_config.triggers),"action"!==this.parentStep.stepType&&void 0!==this.parentStep.stepType||this.prepareDropdownItems(this.$root.flowData.flow_config.actions,1),setTimeout((function(){t.dropdownLoading=!1}),500)},hideDropdown:function(){this.showDropdown=!1},prepareCommonDropdownItems:function(t){var e=[];for(var i in t)Object.hasOwnProperty.call(t,i)&&e.push({title:t[i].label||i,value:i,example:t[i].example});this.pushItemToDropdown("common",{},"Common tags",e)},prepareDropdownItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this,n=e;for(var o in t)if(Object.hasOwnProperty.call(t,o)){var a=t[o];if(i.parentStep.stepId===o)break;n++;var s=i.$root.validateResponseObject(a.variableData),r=[],l=i.$root.getIntegrationData(a.integration),d=l?l.icon:{},u=a.name?a.name:l?l.name:"",c=n+". "+u;for(var p in s)Object.hasOwnProperty.call(s,p)&&r.push({title:p,value:p,example:s[p]});i.pushItemToDropdown(o,d,c,r)}},pushItemToDropdown:function(t,e,i,n){var o={id:t,title:i,subItems:n};e&&e.src&&(o.icon='<img class="wpwh-trigger-search__item-image" src="'+e.src+'">'),this.dropdownItems.push(o)}},computed:{codemirror:function(){return this.$refs.editor.codemirror},filterValue:function(){return Array.isArray(this.value)?JSON.stringify(this.value):this.value}}}},function(t,e,i){"use strict";i.r(e);var n=i(76),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(113)),o=a(i(325));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{VariableFieldDropdownItem:o.default},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{s:""}},mounted:function(){this.$nextTick((function(){}))},methods:{onSelect:function(t,e){this.$emit("variable-selected",t,e)},onSearch:(0,n.default)((function(t){var e=t.target.value;this.s=e}),200)}}},function(t,e,i){"use strict";i.r(e);var n=i(78),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(326))&&n.__esModule?n:{default:n};e.default={components:{VariableFieldDropdownSubItem:o.default},props:{icon:{type:String},title:{required:!0,type:String},subItems:{type:Array}},data:function(){return{opened:!1}},mounted:function(){this.$nextTick((function(){}))},methods:{selectSubItem:function(t){this.$emit("variable-selected",t)},onClick:function(){this.opened=!this.opened}},computed:{}}},function(t,e,i){"use strict";i.r(e);var n=i(80),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{type:{type:String},example:{type:[String,Number,Boolean]},value:{required:!0,type:String},title:{type:String},subItem:{type:Object}},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{selectSubItem:function(t){this.$emit("variable-selected",t)}},computed:{showDropdownItem:function(){var t=this.$parent.$parent.s;return!t||this.title.includes(t.replace(/[\s\t]/,"_"))||this.title.includes(t.replace(/[\s\t]/,"-"))||this.title.includes(t)},modifiedExample:function(){return this.example&&this.example.length>80?this.example.slice(0,80)+"…":this.example}}}},function(t,e,i){"use strict";i.r(e);var n=i(82),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!1,type:[String,Number]},integration:{required:!1,type:[String]},webhookGroup:{},stepType:{required:!1,type:[String]},label:{},placeholder:{required:!1,type:[String],default:"Please select a value"},required:{required:!1,type:[Boolean]},value:{required:!1},defaultValue:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1},choices:{type:[Array,Object],default:function(){return[]}},multiple:{type:[Boolean],default:!1},settings:{type:Object,default:function(){}},query:{default:!1}},data:function(){return{dPlaceholder:"",dValue:"",dChoices:[],settingsLoaded:!1,dSettings:{theme:"wpwh-default",allowClear:!0}}},mounted:function(){var e=this;if(this.dPlaceholder=this.placeholder,this.dValue=this.value,!this.value&&this.defaultValue&&(this.dValue=this.defaultValue,this.onChange(this.defaultValue)),this.$root.isObject(this.choices)){for(var o in this.choices)if(Object.hasOwnProperty.call(this.choices,o)){var a=this.choices[o],s={};if("string"==typeof a)s.id=o,s.text=a;else if("object"===(void 0===a?"undefined":n(a))){if(!a.value){this.dPlaceholder=a.label;continue}s.id=a.value,s.text=a.label}this.dChoices.push(s)}}else Array.isArray(this.choices)&&this.choices.forEach((function(t){var i={};i.id=t.value,i.text=t.label,e.dChoices.push(i)}));if(this.$set(this.dSettings,"multiple",this.multiple),this.settings)for(var r in this.settings)if(Object.hasOwnProperty.call(this.settings,r)){var l=this.settings[r];this.$set(this.dSettings,r,l)}if(this.query){var d={action:"ironikus_flows_handler",ironikusflows_nonce:ironikusflows.ajax_nonce,handler:"get_field_query",language:ironikusflows.language,query:this.query,webhook_type:this.stepType,webhook_group:this.webhookGroup,webhook_integration:this.integration,webhook_field:this.nname};this.dValue?t.ajax({url:ironikusflows.ajax_url,method:"POST",dataType:"json",delay:250,data:i({},d,{selected:this.dValue})}).then((function(t){e.dChoices=t.data.data.choices})).always((function(){e.loadSettings()})):this.loadSettings(),this.$set(this.dSettings,"ajax",{url:ironikusflows.ajax_url,method:"POST",dataType:"json",delay:250,data:function(t){return i({field_search:t.term,page:t.page||1},d)},processResults:function(t,e){var i=t.data.data;return{results:i.choices,pagination:{more:i.page*i.per_page-i.per_page+i.item_count<i.total}}},cache:!0})}else this.loadSettings()},methods:{onChange:function(t){this.dValue=t,this.$emit("input",t)},loadSettings:function(){var t=this;setTimeout((function(){t.settingsLoaded=!0}),300)}}}}).call(this,i(19))},function(t,e,i){"use strict";i.r(e);var n=i(84),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};i(329),e.default={name:"Select2",data:function(){return{select2:null}},model:{event:"change",prop:"value"},props:{id:{type:String,default:""},name:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},settings:{type:Object,default:function(){}},value:null},watch:{options:function(t){this.setOption(t)},value:function(t){this.setValue(t)}},methods:{setOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.select2.empty(),this.select2.select2(n({placeholder:this.placeholder},this.settings,{data:t})),this.setValue(this.value)},setValue:function(t){t instanceof Array?this.select2.val([].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t))):this.select2.val([t]),this.select2.trigger("change")}},mounted:function(){var e=this;this.select2=t(this.$el).find("select").select2(n({placeholder:this.placeholder},this.settings,{data:this.options})).on("select2:select select2:unselect",(function(t){e.$emit("change",e.select2.val()),e.$emit("select",t.params.data)})).on("select2:closing",(function(t){e.$emit("closing",t)})).on("select2:close",(function(t){e.$emit("close",t)})).on("select2:opening",(function(t){e.$emit("opening",t)})).on("select2:open",(function(t){e.$emit("open",t)})).on("select2:clearing",(function(t){e.$emit("clearing",t)})).on("select2:clear",(function(t){e.$emit("clear",t)})),this.setValue(this.value)},beforeDestroy:function(){this.select2.select2("destroy")}}}).call(this,i(19))},function(t,e,i){"use strict";i.r(e);var n=i(86),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},readonly:{required:!1,type:[String]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1}},data:function(){return{dValue:"",showLoader:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.dValue=t.value,"wpwhpro_trigger_single_receivable_url"===t.nname&&(t.showLoader=!0,setTimeout((function(){t.$root.fetchReceivableTriggerUrl()}),500),t.$events.$on("receivable-trigger-url-loaded",(function(){setTimeout((function(){t.showLoader=!1}),500),t.dValue=t.$root.flowData.receivable_trigger_url})))}))},methods:{updateValue:function(t){"readonly"!==this.readonly&&this.$emit("input",t.target.value)}}}},function(t,e,i){"use strict";i.r(e);var n=i(88),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},readonly:{required:!1,type:[String]},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1}},methods:{updateValue:function(t){this.$emit("input",t.target.value)}}}},function(t,e,i){"use strict";i.r(e);var n=i(90),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,components:{},props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1},links:{required:!0,type:Array,default:function(){return[]}}},data:function(){return{dLinks:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dLinks=t.$root.jsonDetach(t.links)}))},methods:{addLink:function(){this.dLinks.push({url:"",uppercase:!1})},removeLink:function(t){this.dLinks.splice(t,1)}}}},function(t,e,i){"use strict";i.r(e);var n=i(92),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1}},data:function(){return{showFormLabelDescription:!1,dValue:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dValue=t.$root.jsonDetach(t.value)}))},methods:{addLink:function(){this.dValue.push({key:"",value:"",mappings:{}})},removeLink:function(t){this.dValue.splice(t,1)},updateValue:function(){this.$emit("input",this.dValue)},updateVariableValue:function(t,e){this.dValue[e].value=t,this.updateValue()},addMapping:function(t,e,i,n,o,a){var s=this.dValue[a].mappings;Array.isArray(s)&&(s=Object.assign({},s)),s||(s={}),s[t]={value:e,mapping:i},s[t][o]=n,Vue.set(this.dValue[a],"mappings",s)},deleteMapping:function(t,e){this.dValue[e]&&this.dValue[e].mappings&&this.dValue[e].mappings[t]&&this.$delete(this.dValue[e].mappings,t)},deleteMappings:function(t,e){if(this.dValue[t])for(var i in this.dValue[t].mappings)e.includes(i)||this.$delete(this.dValue[t].mappings,i)}}}},function(t,e,i){"use strict";i.r(e);var n=i(94),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1}},data:function(){return{showFormLabelDescription:!1,dValue:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.dValue=t.$root.jsonDetach(t.value)}))},methods:{addLink:function(){this.dValue.push({value:"",mappings:{}})},removeLink:function(t){this.dValue.splice(t,1)},updateValue:function(){this.$emit("input",this.dValue)},updateVariableValue:function(t,e){this.dValue[e].value=t,this.updateValue()},addMapping:function(t,e,i,n,o,a){var s=this.dValue[a].mappings;Array.isArray(s)&&(s=Object.assign({},s)),s||(s={}),s[t]={value:e,mapping:i},s[t][o]=n,Vue.set(this.dValue[a],"mappings",s)},deleteMapping:function(t,e){this.dValue[e]&&this.dValue[e].mappings&&this.dValue[e].mappings[t]&&this.$delete(this.dValue[e].mappings,t)},deleteMappings:function(t,e){if(this.dValue[t])for(var i in this.dValue[t].mappings)e.includes(i)||this.$delete(this.dValue[t].mappings,i)}}}},function(t,e,i){"use strict";i.r(e);var n=i(96),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,inheritAttrs:!1,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},nname:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1}},data:function(){return{}},mounted:function(){this.$nextTick((function(){}))},methods:{updateValue:function(t){this.$emit("input",t.target.checked?"1":"0")}}}},function(t,e,i){"use strict";i.r(e);var n=i(98),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=i(8))&&n.__esModule?n:{default:n};e.default={mixins:o.default,props:{type:{type:[String]},id:{required:!0,type:[String,Number]},name:{required:!0,type:[String,Number]},label:{required:!0},placeholder:{required:!1,type:[String]},required:{required:!1,type:[Boolean]},value:{required:!1},default_value:{required:!1},description:{type:[String],required:!1},short_description:{type:[String],required:!1},choices:{type:[Array,Object],default:function(){return{}}}},methods:{updateValue:function(t){this.$emit("input",t.target.value)},isChecked:function(t,e,i){return this.value===e}}}},,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(147),o=i(53);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},,,function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-wrapper"},[i("div",{staticClass:"wpwh-container"},[t.pageHeading?i("div",{staticClass:"wpwh-title-area mb-4"},[i("h2",[t._v(t._s(t.pageHeading))])]):t._e(),t._v(" "),null!==t.$root.flow&&t.$root.flowLoaded?i("add-new"):t.$root.flowNotExists?i("div",[i("p",[t._v("This flow doesn't exists. Please go back to "),i("a",{staticClass:"text-secondary",attrs:{href:"/wp-admin/options-general.php?page=wp-webhooks-pro&wpwhprovrs=flows"}},[t._v("all flows")]),t._v(".")])]):i("loader",{staticClass:"py-5"})],1)])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"dots"===t.icon?i("svg",{attrs:{width:"5",height:"24",viewBox:"0 0 5 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"2.32256",r:"2.32256",fill:t.getFill("#393939")}}),t._v(" "),i("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"11.9998",r:"2.32256",fill:t.getFill("#393939")}}),t._v(" "),i("circle",{attrs:{opacity:"0.3",cx:"2.49981",cy:"21.6775",r:"2.32256",fill:t.getFill("#393939")}})]):"delete"===t.icon||"trash"===t.icon?i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:t.getFill("none")}},[i("defs"),t._v(" "),i("path",{attrs:{stroke:t.getStroke("#FF0000"),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.41667",d:"M2.125 4.25h12.75M5.6665 4.25002V2.83335c0-.37572.14926-.73605.41494-1.00173.26567-.26568.62601-.41493 1.00173-.41493H9.9165c.3757 0 .7361.14925 1.0017.41493.2657.26568.415.62601.415 1.00173v1.41667m2.125 0v9.91668c0 .3757-.1493.736-.415 1.0017-.2656.2657-.626.415-1.0017.415H4.95817c-.37572 0-.73606-.1493-1.00173-.415-.26568-.2657-.41494-.626-.41494-1.0017V4.25002h9.9167zM7.0835 7.79169v4.25001M9.9165 7.79169v4.25001"}})]):"chevron-down"===t.icon?i("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M7.41 8.59009L12 13.1701L16.59 8.59009L18 10.0001L12 16.0001L6 10.0001L7.41 8.59009Z",fill:t.getFill("#666666")}})]):"chevron-down-large"===t.icon?i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",fill:"none"}},[i("defs"),t._v(" "),i("path",{attrs:{stroke:t.getStroke("#0E0A1D"),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1l7 7 7-7"}})]):"done"===t.icon||"complete"===t.icon?i("svg",{attrs:{width:"20",height:"20","aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:t.getFill("#666666"),d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})]):"reload"===t.icon||"refresh"===t.icon?i("svg",{attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.533 489.533",fill:t.getFill()}},[i("path",{attrs:{d:"M268.175 488.161c98.2-11 176.9-89.5 188.1-187.7 14.7-128.4-85.1-237.7-210.2-239.1v-57.6c0-3.2-4-4.9-6.7-2.9l-118.6 87.1c-2 1.5-2 4.4 0 5.9l118.6 87.1c2.7 2 6.7.2 6.7-2.9v-57.5c87.9 1.4 158.3 76.2 152.3 165.6-5.1 76.9-67.8 139.3-144.7 144.2-81.5 5.2-150.8-53-163.2-130-2.3-14.3-14.8-24.7-29.2-24.7-17.9 0-31.9 15.9-29.1 33.6 17.4 109.7 118.7 192 236 178.9z"}})]):t._e()},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-loader",class:{"wpwh-flows-loader--inline":t.inline}},[i("div",{staticClass:"wpwh-flows-loader__spinner",attrs:{"aria-label":"Loading"}}),t._v(" "),t.hideSpinner?t._e():i("div",{staticClass:"wpwh-flows-loader__spacer"}),t._v(" "),t.hideText?t._e():i("span",{staticClass:"wpwh-flows-loader__text"},[t._v(t._s(t.text))])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"wpwh-flows-accordion__header",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[i("svg-icon",{attrs:{icon:"chevron-down"}}),t._v(" "),i("span",[t._v(t._s(t.heading))]),t._v(" "),t.showCompleted?i("svg-icon",{staticClass:"mr-0 ml-auto",attrs:{icon:"done",fill:"rgb(19, 208, 171)"}}):t._e()],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.label?i("label",{staticClass:"wpwh-form-label",attrs:{for:t.id}},[i("div",{staticClass:"wpwh-form-label-header d-flex align-items-center justify-content-between"},[i("div",{staticClass:"wpwh-form-label-left"},[i("strong",[t._v(t._s(t.label))]),t._v(" "),t.required?i("span",{staticClass:"text-secondary"},[t._v(" (Required)")]):t._e()])])]):t._e()},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-step-field-description pt-2"},[i("div",{staticClass:"d-flex justify-content-between"},[i("div",[t.short_description?i("small",[t._v(t._s(t.short_description))]):t._e()]),t._v(" "),t.description?i("div",{staticClass:"field-description-actions w-25 text-right text-success"},[t.showFormLabelDescription?i("div",[i("small",{on:{click:function(e){t.showFormLabelDescription=!1}}},[t._v("Hide details")])]):i("div",[i("small",{on:{click:function(e){t.showFormLabelDescription=!0}}},[t._v("Show details")])])]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormLabelDescription,expression:"showFormLabelDescription"}]},[i("div",{staticClass:"wpwh-flows-step__fields-form-field__description mt-2",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),i("hr")])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field-wrapper"},[t.displayTypeToggle?i("div",{staticClass:"wpwh-form-field-wrapper-type-toggle"},[t.forceVariableText?i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switchVariableText(!1,t.dFieldData.id,t.field_display_type)}}},[i("small",[t._v("Toggle visual")])])]):i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.switchVariableText(!0,t.dFieldData.id,"text")}}},[i("small",[t._v("Toggle text")])])])]):t._e(),t._v(" "),t.isSelect?i("select-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,"default-value":t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,integration:t.integration,"webhook-group":t.webhookGroup,"step-type":t.stepType,choices:t.dFieldData.choices,multiple:t.dFieldData.multiple,query:t.dFieldData.query},on:{input:t.updateValue}}):t.isVariable?i("variable-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,integration:t.integration},on:{input:t.updateValue}}):t.isWysiwyg?i("wysiwyg-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes},on:{input:t.updateValue}}):t.isLinks?i("links-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,heading:t.dFieldData.label,links:[{url:"https://glueoperation.tastewp.com/wp-admin/options-general.php",uppercase:!0},{url:"https://glueoperation.tastewp.com/wp-admin/options-general.php",uppercase:!1}]}}):t.isRepeater?i("repeater-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,value:t.value||[]},on:{input:t.updateValue}}):t.isList?i("list-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,value:t.value||[]},on:{input:t.updateValue}}):t.isToggle?i("toggle-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,checked:t.dFieldData.checked},on:{input:t.updateValue}}):t.isRadio?i("radio-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,checked:t.dFieldData.checked,choices:t.dFieldData.choices},on:{input:t.updateValue}}):t.isTextarea?i("textarea-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,readonly:t.dFieldData.readonly},on:{input:t.updateValue}}):t.hasType?i("input-field",{attrs:{type:t.fieldType,id:t.id,nname:t.nname,label:t.dFieldData.label,placeholder:t.dFieldData.placeholder,required:t.dFieldData.required,value:t.value,default_value:t.dFieldData.default_value,short_description:t.dFieldData.short_description?t.dFieldData.short_description:"",description:t.dFieldData.description?t.dFieldData.description:"",attributes:t.dFieldData.attributes,readonly:t.dFieldData.readonly},on:{input:t.updateValue}}):t._e()],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),i("textarea",{staticClass:"wpwh-form-input wpwh-w-100 wpwh-flows-step__wysiwyg",attrs:{id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,cols:t.cols,rows:t.rows},domProps:{value:t.value},on:{change:t.updateValue}}),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideDropdown,expression:"hideDropdown"}],staticClass:"wpwh-form-field flows-variable",class:{"flows-variable--dropdown-showing":t.showDropdown}},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),i("div",{staticClass:"flows-variable__input"},[i("codemirror",{ref:"editor",attrs:{value:t.filterValue,options:t.cmOptions,placeholder:t.placeholder},on:{ready:t.onCmReady,focus:t.onCmFocus,blur:t.onCmBlur,input:t.onCmCodeChange}}),t._v(" "),i("variable-field-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],attrs:{items:t.dropdownItems},on:{"variable-selected":t.insertVariableIntoEditor}})],1),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[t.label?i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}):t._e(),t._v(" "),t.settingsLoaded?i("select2",{attrs:{id:t.id,placeholder:t.dPlaceholder,options:t.dChoices,settings:t.dSettings,required:t.required},on:{change:function(e){return t.onChange(e)}},model:{value:t.dValue,callback:function(e){t.dValue=e},expression:"dValue"}}):i("loader",{style:{minHeight:"41.5px"},attrs:{inline:!0}}),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("select",{staticClass:"form-control",attrs:{id:this.id,name:this.name,disabled:this.disabled,required:this.required}})])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),t.showLoader?i("loader",{attrs:{text:"loading trigger URL"}}):t._e(),t._v(" "),i("input",t._b({directives:[{name:"show",rawName:"v-show",value:!t.showLoader,expression:"! showLoader"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:t.type,id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,readonly:t.readonly},domProps:{value:t.readonly?t.dValue:t.value},on:{input:t.updateValue}},"input",t.$attrs,!1)),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),i("textarea",t._b({staticClass:"wpwh-form-input wpwh-w-100",attrs:{id:t.id,name:t.nname,placeholder:t.placeholder,required:t.required,readonly:t.readonly},domProps:{value:t.value},on:{input:t.updateValue}},"textarea",t.$attrs,!1)),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field wpwh-flows-field wpwh-flows-links mt-4"},[i("h4",{staticClass:"mb-2"},[t._v(t._s(t.label))]),t._v(" "),i("table",{staticClass:"wpwh-table wpwh-table--sm bg-white"},[i("thead",[i("tr",[i("th"),t._v(" "),i("th",{staticClass:"w-100 pl-0"},[t._v(t._s(t.$root.texts.link))]),t._v(" "),i("th",[t._v(t._s(t.$root.texts.uppercase_title.replace(" "," ")))])])]),t._v(" "),i("tbody",t._l(t.dLinks,(function(e,n){return i("tr",{key:t.id+n,staticClass:"wpwh-flows-link"},[i("td",{staticClass:"px-0 align-middle text-center"},[i("button",{staticClass:"wpwh-btn wpwh-btn--link p-0 wpwh-flows-link__delete",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeLink(n)}}},[i("svg-icon",{attrs:{icon:"delete"}})],1)]),t._v(" "),i("td",{staticClass:"align-middle wpwh-text-left pl-0"},[e.url?i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"link.url"}],staticClass:"wpwh-form-input wpwh-w-100 wpwh-flows-link__link",attrs:{type:"text",id:t.id+"Link"+n},domProps:{value:e.url},on:{input:function(i){i.target.composing||t.$set(e,"url",i.target.value)}}}):t._e()]),t._v(" "),i("td",{staticClass:"align-middle wpwh-text-left"},[i("div",{staticClass:"d-flex align-items-center justify-content-between"},[i("toggle-field",{attrs:{id:t.id+"Link"+n+"Checkbox",checked:e.uppercase}})],1)])])})),0)]),t._v(" "),i("div",{staticClass:"text-right mt-3"},[i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm wpwh-flows-links__add",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addLink()}}},[i("span",[t._v("Add link")])])])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field wpwh-flows-field wpwh-flows-repeater mt-4"},[i("div",{staticClass:"wpwh-form-field-header d-flex align-items-center justify-content-between mb-2"},[i("div",{staticClass:"wpwh-form-label-left"},[i("strong",[t._v(t._s(t.label))]),t._v(" "),t.required?i("span",{staticClass:"wpwh-text-danger"},[t._v(" *")]):t._e(),t._v(" "),t.short_description?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.short_description,expression:"short_description"}],staticClass:"ml-2"},[i("fa-icon",{attrs:{icon:"info-circle"}})],1):t._e()]),t._v(" "),t.description?i("div",[t.showFormLabelDescription?i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFormLabelDescription=!1}}},[t._v("Hide details")])]):i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFormLabelDescription=!0}}},[t._v("Show details")])])]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormLabelDescription,expression:"showFormLabelDescription"}],staticClass:"wpwh-flows-step__fields-form-field__description mt-2",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),i("table",{staticClass:"wpwh-table wpwh-table--sm bg-white"},[i("thead",[i("tr",[i("th"),t._v(" "),i("th",{staticClass:"pl-0 w-25"},[t._v(t._s(t.$root.texts.key))]),t._v(" "),i("th",{staticClass:"w-75"},[t._v(t._s(t.$root.texts.value))])])]),t._v(" "),i("tbody",t._l(t.dValue,(function(e,n){return i("tr",{key:t.id+n,staticClass:"wpwh-flows-repeater-item"},[i("td",{staticClass:"px-0 align-middle text-center"},[i("button",{staticClass:"wpwh-btn wpwh-btn--link p-0 wpwh-flows-repeater-item__delete",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeLink(n)}}},[i("svg-icon",{attrs:{icon:"delete"}})],1)]),t._v(" "),i("td",{staticClass:"align-middle wpwh-text-left pl-0 w-25"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"link.key"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:"text",id:t.id+"-"+n+"-key",name:t.nname+"-"+n+"-value"},domProps:{value:e.key},on:{change:t.updateValue,input:function(i){i.target.composing||t.$set(e,"key",i.target.value)}}})]),t._v(" "),i("td",{staticClass:"align-middle wpwh-text-left"},[i("variable-field",{staticClass:"mb-0",attrs:{id:t.id+"-"+n+"-value",nname:t.nname+"-"+n+"-value",label:"",value:e.value,index:n},on:{input:function(e){return t.updateVariableValue(e,n)},"add-mapping":t.addMapping,"delete-mapping":t.deleteMapping,"delete-mappings":t.deleteMappings}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-right mt-3"},[i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm wpwh-flows-repeater__add",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addLink()}}},[i("span",[t._v(t._s(t.$root.texts.add_item))])])])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field wpwh-flows-field wpwh-flows-list mt-4"},[i("div",{staticClass:"wpwh-form-field-header d-flex align-items-center justify-content-between mb-2"},[i("div",{staticClass:"wpwh-form-label-left"},[i("strong",[t._v(t._s(t.label))]),t._v(" "),t.required?i("span",{staticClass:"wpwh-text-danger"},[t._v(" *")]):t._e(),t._v(" "),t.short_description?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.short_description,expression:"short_description"}],staticClass:"ml-2"},[i("fa-icon",{attrs:{icon:"info-circle"}})],1):t._e()]),t._v(" "),t.description?i("div",[t.showFormLabelDescription?i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFormLabelDescription=!1}}},[t._v("Hide details")])]):i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFormLabelDescription=!0}}},[t._v("Show details")])])]):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFormLabelDescription,expression:"showFormLabelDescription"}],staticClass:"wpwh-flows-step__fields-form-field__description mt-2",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),i("table",{staticClass:"wpwh-table wpwh-table--sm bg-white"},[i("thead",[i("tr",[i("th",{staticClass:"w-10"}),t._v(" "),i("th",[t._v(t._s(t.$root.texts.value))])])]),t._v(" "),i("tbody",t._l(t.dValue,(function(e,n){return i("tr",{key:t.id+n,staticClass:"wpwh-flows-list-item"},[i("td",{staticClass:"px-0 align-middle text-center"},[i("button",{staticClass:"wpwh-btn wpwh-btn--link p-0 wpwh-flows-list-item__delete",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.removeLink(n)}}},[i("svg-icon",{attrs:{icon:"delete"}})],1)]),t._v(" "),i("td",{staticClass:"align-middle wpwh-text-left"},[i("variable-field",{staticClass:"mb-0",attrs:{id:t.id+"-"+n+"-value",nname:t.nname+"-"+n+"-value",label:"",value:e.value,index:n},on:{input:function(e){return t.updateVariableValue(e,n)},"add-mapping":t.addMapping,"delete-mapping":t.deleteMapping,"delete-mappings":t.deleteMappings}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-right mt-3"},[i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm wpwh-flows-list__add",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addLink()}}},[i("span",[t._v(t._s(t.$root.texts.add_item))])])])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),i("div",{staticClass:"wpwh-toggle wpwh-toggle--on-off"},[i("input",t._b({staticClass:"wpwh-toggle__input wpwh-flows-link__toggle",attrs:{type:t.type,id:t.id,name:t.nname,required:t.required},domProps:{value:t.value,checked:!0===t.value||"true"===t.value||1==t.value},on:{change:t.updateValue}},"input",t.$attrs,!1)),t._v(" "),i("label",{staticClass:"wpwh-toggle__btn mb-0",attrs:{for:t.id}})]),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-form-field"},[i("form-label",{attrs:{id:t.id,label:t.label,required:t.required,description:t.description,short_description:t.short_description}}),t._v(" "),i("ul",t._l(t.choices,(function(e,n,o){return i("li",{key:t.id+"_"+o},[i("input",{attrs:{id:t.id+"_"+o,name:t.nname,type:"radio",required:t.required},domProps:{checked:t.isChecked(e,n,o),value:n},on:{change:t.updateValue}}),t._v(" "),i("label",{attrs:{for:t.id+"_"+o}},[t._v(t._s(e.label))]),t._v(" "),e.description?i("small",[t._v(t._s(e.description))]):t._e()])})),0),t._v(" "),i("form-description",{attrs:{id:t.id,short_description:t.short_description,description:t.description}})],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault()}}},[i("div",{staticClass:"wpwh-flows"},[i("div",{staticClass:"wpwh-flows__content-sidebar"},[i("div",{staticClass:"wpwh-flows__content"},[i("div",{staticClass:"wpwh-form-field"},[i("label",{staticClass:"wpwh-form-label",attrs:{for:"wpwhAddNew-name"}},[t._v("Enter Title Here")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.$root.flowData.flow_title,expression:"$root.flowData.flow_title"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{type:"text",name:"title",id:"wpwhAddNew-name"},domProps:{value:t.$root.flowData.flow_title},on:{input:function(e){e.target.composing||t.$set(t.$root.flowData,"flow_title",e.target.value)}}})]),t._v(" "),i("flow-steps")],1),t._v(" "),i("sidebar")],1),t._v(" "),i("add-condition-modal"),t._v(" "),i("add-condition-after-modal")],1)]),t._v(" "),i("integrations-modal")],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flows-variable__dropdown-wrapper"},[i("div",{staticClass:"flows-variable__dropdown"},[i("div",{staticClass:"flows-variable__search"},[i("input",{staticClass:"form-variable__search-input",attrs:{placeholder:"Search a name"},on:{input:t.onSearch}})]),t._v(" "),t.$parent.dropdownLoading?i("loader",{staticClass:"py-3"}):i("div",{staticClass:"flows-variable__items"},t._l(t.items,(function(e,n){return i("variable-field-dropdown-item",{key:e.icon+"_"+n,ref:"item-"+n,refInFor:!0,attrs:{icon:e.icon,title:e.title,"sub-items":e.subItems},on:{"variable-selected":function(i){return t.onSelect(e.id,i)}}})})),1)],1)])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$root.flowDataLoaded?i("div",{staticClass:"wpwh-flows-steps"},[t._l(t.triggers,(function(e,n,o){return i("flow-step-trigger",{key:"trigger_"+n+"_"+o,attrs:{id:"flowStepTrigger-"+n,step:e,"step-type":"trigger","step-id":n,"step-index":o},on:{flowStepDataUpdated:function(e){return t.updateFlowStepData(e)}}})})),t._v(" "),Object.keys(t.triggers).length?t._e():i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--lg wpwh-btn--block wpwh-flows-select-trigger mt-5",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("trigger")}}},[i("span",[t._v("Select a trigger")])]),t._v(" "),Object.keys(t.triggers).length?t._e():i("div",{staticClass:"d-flex justify-content-center"},[i("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1),t._v(" "),t._l(t.actions,(function(e,n,o){return i("flow-step-action",{key:"action_"+n+"_"+o,attrs:{id:"flowStepAction-"+n,step:e,"step-type":"action","step-id":n,"step-index":o},on:{flowStepDataUpdated:function(e){return t.updateFlowStepData(e)}}})})),t._v(" "),Object.keys(t.actions).length?t._e():i("div",{staticClass:"d-flex align-items-center justify-content-center flex-column"},[i("svg-icon",{staticClass:"mt-1 mb-3",attrs:{icon:"dots"}}),t._v(" "),i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--lg wpwh-btn--block wpwh-flows-select-trigger",attrs:{disabled:!Object.keys(t.triggers).length,type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action")}}},[i("span",[t._v("Add an action")])])],1)],2):i("div",{staticClass:"wpwh-flows-steps py-5"},[i("loader")],1)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("aside",{staticClass:"wpwh-flows__sidebar"},[e("div",{staticClass:"wpwh-flows-widget"},[e("publish-box")],1),this._v(" "),e("div",{staticClass:"wpwh-flows-widget"},[e("h4",{staticClass:"wpwh-flows-widget__title"},[this._v("Selected Steps:")]),this._v(" "),e("selected-steps")],1)])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{name:"integrations-modal",adaptive:!0,height:"auto"},on:{"before-close":t.beforeClose}},[i("div",{staticClass:"vm--modal-header"},[i("div",{staticClass:"vm--modal-text"},[t.title?i("h3",{staticClass:"vm--modal-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.description?i("p",{staticClass:"vm--modal-description"},[t._v(t._s(t.description))]):t._e()]),t._v(" "),i("button",{staticClass:"vm--modal-close close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.$root.closeIntegrationsModal()}}},[i("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M8.125 6.5L12.3047 10.7188C12.4219 10.8359 12.5 10.9922 12.5 11.1484C12.5 11.3438 12.4219 11.5 12.3047 11.5781L11.3281 12.5547C11.2109 12.7109 11.0547 12.75 10.8984 12.75C10.7031 12.75 10.5469 12.7109 10.4688 12.5547L6.25 8.375L2.03125 12.5547C1.91406 12.7109 1.75781 12.75 1.60156 12.75C1.40625 12.75 1.25 12.7109 1.17188 12.5547L0.195312 11.5781C0.0390625 11.5 0 11.3438 0 11.1484C0 10.9922 0.0390625 10.8359 0.195312 10.7188L4.375 6.5L0.195312 2.28125C0.0390625 2.20312 0 2.04688 0 1.85156C0 1.69531 0.0390625 1.53906 0.195312 1.42188L1.17188 0.445312C1.25 0.328125 1.40625 0.25 1.60156 0.25C1.75781 0.25 1.91406 0.328125 2.03125 0.445312L6.25 4.625L10.4688 0.445312C10.5469 0.328125 10.7031 0.25 10.8984 0.25C11.0547 0.25 11.2109 0.328125 11.3281 0.445312L12.3047 1.42188C12.4219 1.53906 12.5 1.69531 12.5 1.85156C12.5 2.04688 12.4219 2.20312 12.3047 2.28125L8.125 6.5Z",fill:"#393939"}})])])]),t._v(" "),i("div",{staticClass:"vm--modal-body"},[i("integrations")],1)])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{staticClass:"vm--modal--overflow-visible flows-condition-modal",attrs:{name:"add-condition-modal",adaptive:!0,height:"auto",width:880},on:{"before-close":t.beforeClose,"before-open":t.beforeOpen}},[i("div",{staticClass:"vm--modal-header"},[t.title?i("h3",{staticClass:"vm--modal-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("button",{staticClass:"vm--modal-close close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal()}}},[i("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M8.125 6.5L12.3047 10.7188C12.4219 10.8359 12.5 10.9922 12.5 11.1484C12.5 11.3438 12.4219 11.5 12.3047 11.5781L11.3281 12.5547C11.2109 12.7109 11.0547 12.75 10.8984 12.75C10.7031 12.75 10.5469 12.7109 10.4688 12.5547L6.25 8.375L2.03125 12.5547C1.91406 12.7109 1.75781 12.75 1.60156 12.75C1.40625 12.75 1.25 12.7109 1.17188 12.5547L0.195312 11.5781C0.0390625 11.5 0 11.3438 0 11.1484C0 10.9922 0.0390625 10.8359 0.195312 10.7188L4.375 6.5L0.195312 2.28125C0.0390625 2.20312 0 2.04688 0 1.85156C0 1.69531 0.0390625 1.53906 0.195312 1.42188L1.17188 0.445312C1.25 0.328125 1.40625 0.25 1.60156 0.25C1.75781 0.25 1.91406 0.328125 2.03125 0.445312L6.25 4.625L10.4688 0.445312C10.5469 0.328125 10.7031 0.25 10.8984 0.25C11.0547 0.25 11.2109 0.328125 11.3281 0.445312L12.3047 1.42188C12.4219 1.53906 12.5 1.69531 12.5 1.85156C12.5 2.04688 12.4219 2.20312 12.3047 2.28125L8.125 6.5Z",fill:"#393939"}})])])]),t._v(" "),i("div",{staticClass:"vm--modal-body"},[t.initialized?i("div",{staticClass:"wpwh-flows-condition-form"},[i("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-input",nname:"condition-input",label:"",placeholder:"select input",value:t.dCondition.condition_input.value},on:{input:t.updateConditionInput,"add-mapping":t.addInputMapping,"delete-mapping":t.deleteInputMapping,"delete-mappings":t.deleteInputMappings}}),t._v(" "),null!==t.$root.flowConditionLabels.conditions?i("select-field",{attrs:{id:"acm-condition-condition",name:"condition-condition",placeholder:"select operator",required:!0,value:t.dCondition.condition_operator.value,choices:t.$root.flowConditionLabels.conditions,settings:{allowClear:!1}},on:{input:t.updateOperator}}):t._e(),t._v(" "),i("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-value",nname:"condition-value",label:"",placeholder:"set value",value:t.dCondition.condition_value.value},on:{input:t.updateConditionValue,"add-mapping":t.addValueMapping,"delete-mapping":t.deleteValueMapping,"delete-mappings":t.deleteValueMappings}})],1):t._e()]),t._v(" "),i("div",{staticClass:"vm--modal-footer"},[i("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm mr-2",attrs:{type:"button","aria-label":"Cancel"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal()}}},[t._v("Cancel")]),t._v(" "),i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",attrs:{type:"button","aria-label":"Save"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalModal("save",t.dCondition)}}},[t._v("Save")])])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{staticClass:"vm--modal--overflow-visible flows-condition-modal",attrs:{name:"add-condition-after-modal",adaptive:!0,height:"auto",width:880},on:{"before-close":t.beforeClose,"before-open":t.beforeOpen}},[i("div",{staticClass:"vm--modal-header"},[t.title?i("h3",{staticClass:"vm--modal-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("button",{staticClass:"vm--modal-close close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalAfterModal()}}},[i("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M8.125 6.5L12.3047 10.7188C12.4219 10.8359 12.5 10.9922 12.5 11.1484C12.5 11.3438 12.4219 11.5 12.3047 11.5781L11.3281 12.5547C11.2109 12.7109 11.0547 12.75 10.8984 12.75C10.7031 12.75 10.5469 12.7109 10.4688 12.5547L6.25 8.375L2.03125 12.5547C1.91406 12.7109 1.75781 12.75 1.60156 12.75C1.40625 12.75 1.25 12.7109 1.17188 12.5547L0.195312 11.5781C0.0390625 11.5 0 11.3438 0 11.1484C0 10.9922 0.0390625 10.8359 0.195312 10.7188L4.375 6.5L0.195312 2.28125C0.0390625 2.20312 0 2.04688 0 1.85156C0 1.69531 0.0390625 1.53906 0.195312 1.42188L1.17188 0.445312C1.25 0.328125 1.40625 0.25 1.60156 0.25C1.75781 0.25 1.91406 0.328125 2.03125 0.445312L6.25 4.625L10.4688 0.445312C10.5469 0.328125 10.7031 0.25 10.8984 0.25C11.0547 0.25 11.2109 0.328125 11.3281 0.445312L12.3047 1.42188C12.4219 1.53906 12.5 1.69531 12.5 1.85156C12.5 2.04688 12.4219 2.20312 12.3047 2.28125L8.125 6.5Z",fill:"#393939"}})])])]),t._v(" "),i("div",{staticClass:"vm--modal-body"},[t.initialized?i("div",{staticClass:"wpwh-flows-condition-form"},[i("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-input",nname:"condition-input",label:"",placeholder:"select input",value:t.dCondition.condition_input.value},on:{input:t.updateConditionInput,"add-mapping":t.addInputMapping,"delete-mapping":t.deleteInputMapping,"delete-mappings":t.deleteInputMappings}}),t._v(" "),null!==t.$root.flowConditionLabels.conditions?i("select-field",{attrs:{id:"acm-condition-condition",name:"condition-condition",placeholder:"select operator",required:!0,value:t.dCondition.condition_operator.value,choices:t.$root.flowConditionLabels.conditions,settings:{allowClear:!1}},on:{input:t.updateOperator}}):t._e(),t._v(" "),i("variable-field",{staticClass:"mb-0",attrs:{id:"acm-condition-value",nname:"condition-value",label:"",placeholder:"set value",value:t.dCondition.condition_value.value},on:{input:t.updateConditionValue,"add-mapping":t.addValueMapping,"delete-mapping":t.deleteValueMapping,"delete-mappings":t.deleteValueMappings}})],1):t._e()]),t._v(" "),i("div",{staticClass:"vm--modal-footer"},[i("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm mr-2",attrs:{type:"button","aria-label":"Cancel"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalAfterModal()}}},[t._v("Cancel")]),t._v(" "),i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",attrs:{type:"button","aria-label":"Save"},on:{click:function(e){return e.preventDefault(),t.$root.closeAddConditionalAfterModal("save",t.dCondition)}}},[t._v("Save")])])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flows-variable__item",class:{"flows-variable__item--opened":t.opened}},[i("a",{staticClass:"flows-variable__item-info",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onClick.apply(null,arguments)}}},[t.icon?i("div",{staticClass:"flows-variable__item-info-icon",domProps:{innerHTML:t._s(t.icon)}}):t._e(),t._v(" "),t.title?i("div",{staticClass:"flows-variable__item-info-text"},[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"flows-variable__item-info-toggle"},[i("svg-icon",{attrs:{icon:"chevron-down-large"}})],1)]),t._v(" "),t.subItems.length?i("div",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],staticClass:"flows-variable__sub-items"},t._l(t.subItems,(function(e,n){return i("variable-field-dropdown-sub-item",{key:e.title+n,attrs:{"sub-item":e,type:e.type,title:e.title,value:e.value,example:e.example},on:{"variable-selected":function(i){return t.selectSubItem(e)}}})})),1):t._e()])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.integrationData?i("div",{staticClass:"wpwh-flows-step wpwh-flows-step--trigger",class:{"wpwh-is-loading":t.inProgress,"is-collapsed":t.collapsed,"not-collapsed":!t.collapsed}},[(t.stepLoaded,i("div",{staticClass:"wpwh-flows-step__inner"},[i("flow-step-header",{attrs:{icon:t.integrationData.icon,type:t.stepType,typeText:this.$root.texts.trigger},on:{"update-name":t.updateFlowName,openIntegrationModal:function(e){return t.$root.openIntegrationsModal("trigger",t.stepId,t.integrationData.slug,t.stepIndex)}}}),t._v(" "),t.isCollapsed?i("div",{staticClass:"wpwh-flows-step__body"},[t.dStepData.subSteps?i("div",{staticClass:"wpwh-flows-accordions wpwh-flows-step__sub-steps"},[i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"choose"===t.currentSubStep}},[i("accordion-trigger",{attrs:{"show-completed":t.dStepData.subSteps.choose&&"done"===t.dStepData.subSteps.choose.status},on:{click:function(e){return t.toggleSubStep("choose")}}}),t._v(" "),"choose"===t.currentSubStep||"choose"===t.currentSubStep&&t.isChooseStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"wpwh-form-field"},[i("label",{staticClass:"wpwh-form-label",attrs:{for:t.stepId+"-choose"}},[i("strong",[t._v("Select a trigger")])]),t._v(" "),i("select2",{attrs:{options:t.chooseOptions,placeholder:"Select a trigger",settings:{allowClear:!0,theme:"wpwh-default"}},on:{change:function(e){return t.onChooseChange(e)}},model:{value:t.dStepData.trigger,callback:function(e){t.$set(t.dStepData,"trigger",e)},expression:"dStepData.trigger"}})],1),t._v(" "),t._m(0),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:!t.dStepData.trigger||t.subStepContinueLoading},on:{click:function(e){return e.preventDefault(),t.onContinue("choose")}}},[i("span",[t._v("Continue")])])]):t._e()],1),t._v(" "),t.isChooseStepDone?i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"setup"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Trigger settings","show-completed":t.dStepData.subSteps.setup&&"done"===t.dStepData.subSteps.setup.status},on:{click:function(e){return t.toggleSubStep("setup")}}}),t._v(" "),"setup"===t.currentSubStep||"setup"===t.currentSubStep&&t.isSetupStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"wpwh-flows-step__fields-group wpwh-flows-step__description mb-4"},[t.showFieldDescription?i("span",{staticClass:"mb-4"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFieldDescription=!1}}},[t._v("Hide Setup & Tools")])]):i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFieldDescription=!0}}},[t._v("Show Setup & Tools")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFieldDescription,expression:"showFieldDescription"}],staticClass:"wpwh-flows-step__fields-group__description mt-4"},[t.dStepData.description.steps.length?i("div",[i("strong",[t._v("Setup")]),t._v(" "),i("ol",t._l(t.dStepData.description.steps,(function(e,n,o){return i("li",{key:"wpwhTriggerDescription"+t.stepId+"_steps_"+o+"_"+n,domProps:{innerHTML:t._s(e)}})})),0)]):t._e(),t._v(" "),t.dStepData.description.tipps.length?i("div",[i("strong",[t._v("Tipps")]),t._v(" "),i("ol",t._l(t.dStepData.description.tipps,(function(e,n,o){return i("li",{key:"wpwhTriggerDescription"+t.stepId+"_steps_"+o+"_"+n,domProps:{innerHTML:t._s(e)}})})),0)]):t._e(),t._v(" "),i("div",[i("strong",[t._v("Useful links")]),t._v(" "),i("ol",[i("li",[i("a",{attrs:{title:"Visit the "+t.dStepData.trigger+" trigger manual",target:"_blank",href:"https://wp-webhooks.com/integrations/"+t.integrationData.slug+"/triggers/"+t.dStepData.trigger+"/"}},[t._v("The "+t._s(t.dStepData.trigger)+" trigger web page")])]),t._v(" "),i("li",[i("a",{attrs:{title:"Visit the official documentation",target:"_blank",href:"https://wp-webhooks.com/docs/"}},[t._v("Official documentation")])])])])])]),t._v(" "),i("div",{staticClass:"wpwh-flows-step__fields-group"},t._l(t.integrationSettings,(function(e,n,o){return i("form-field",{key:"wpwhTrigger"+t.stepId+"_"+n+o,class:"wpwh-form-field--"+e.type,attrs:{id:"wpwhproFlowTrigger"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),value:t.dStepData.fields[n].value,nname:n,integration:t.integrationData.slug,"webhook-group":t.dStepData.trigger,"step-type":"trigger"},on:{"required-field":function(e){return t.isRequiredField(n)}},model:{value:t.dStepData.fields[n].value,callback:function(e){t.$set(t.dStepData.fields[n],"value",e)},expression:"dStepData.fields[settingId].value"}})})),1),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||t.hasEmptyRequiredFields},on:{click:function(e){return e.preventDefault(),t.onContinue("setup")}}},[i("span",[t._v("Continue & save fields")])])]):t._e()],1):t._e(),t._v(" "),t.isSetupStepDone?i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--test",class:{"wpwh-flows-accordion--active":"test"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Test trigger","show-completed":t.dStepData.subSteps.test&&"done"===t.dStepData.subSteps.test.status},on:{click:function(e){return t.toggleSubStep("test")}}}),t._v(" "),"test"===t.currentSubStep||"test"===t.currentSubStep&&t.isTestStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[t._m(1),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.testType,expression:"dStepData.testType"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{name:"title",id:t.stepId+"-testType"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"testType",e.target.multiple?i:i[0])},t.onTestTypeChange]}},[i("option",{attrs:{value:""},domProps:{selected:!t.dStepData.testType}},[t._v("-- Select data type --")]),t._v(" "),i("option",{attrs:{value:"static"}},[t._v("Load static data")]),t._v(" "),i("option",{attrs:{value:"log"}},[t._v("Get log data")])]),t._v(" "),"log"===t.dStepData.testType?i("div",{staticClass:"d-flex align-items-center mt-4"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.log,expression:"dStepData.log"}],staticClass:"wpwh-form-input mr-3 flex-grow-1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"log",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[t._v("-- Select a log --")]),t._v(" "),t._l(t.logs,(function(e,n){return i("option",{key:t.stepId+"_log_"+e.id+"_"+n,domProps:{value:e.id,selected:e.id===t.dStepData.log}},[t._v(t._s(e.title))])}))],2),t._v(" "),i("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Refresh logs",expression:"'Refresh logs'"}],staticClass:"wpwh-btn wpwh-btn-as-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reloadLogs()}}},[i("svg-icon",{attrs:{icon:"reload",width:"20",height:"20"}})],1)]):t._e(),t._v(" "),t.showingReturnsCode?i("pre",{domProps:{innerHTML:t._s(t.integrationData.triggers[t.dStepData.trigger].returns_code)}}):t._e(),t._v(" "),t.logsLoading?i("loader",{staticClass:"my-4"}):t.showingLogData?i("pre",{domProps:{innerHTML:t._s(t.getLogData.content)}}):t._e(),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||!t.dStepData.testType||"log"===t.dStepData.testType&&!t.dStepData.log},on:{click:function(e){return e.preventDefault(),t.onContinue("test")}}},[i("span",[t._v("Finish trigger")])])],1):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--conditional",class:{"wpwh-flows-accordion--active":"conditional"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Conditionals","show-completed":t.step.conditionals&&t.step.conditionals.conditions&&t.step.conditionals.conditions.length>0},on:{click:function(e){return t.toggleSubStep("conditional")}}}),t._v(" "),"conditional"===t.currentSubStep||"conditional"===t.currentSubStep&&t.isConditionalStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center justify-content-between"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center"},[i("strong",[t._v("Run if")]),t._v(" "),i("select-field",{staticClass:"d-inline-block wpwh-form-field--sm mx-3 mb-0",attrs:{id:"flow-"+t.stepId+"-condition-if",name:"flow-"+t.stepId+"-condition-if",choices:{all:"ALL",any:"ANY"},value:t.dStepData.conditionals.relation,required:!0,settings:{minimumResultsForSearch:1/0,allowClear:!1}},on:{input:t.updateConditionalsRelation}}),t._v(" "),i("span",[t._v("of the following conditions are met.")])],1)]),t._v(" "),t.dStepData.conditionals&&t.dStepData.conditionals.conditions?i("flow-step-conditions",{attrs:{stepId:t.stepId,stepIndex:t.stepIndex,stepType:t.stepType}}):t._e(),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--outline-secondary wpwh-btn--sm mt-3 py-1 px-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalModal(t.stepType,"new",t.stepId)}}},[t._v("+ Add")]),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onContinue("conditional")}}},[i("span",[t._v("Set conditionals")])])],1):t._e()],1)]):t._e()]):t._e()],1)),t._v(" "),t.showAddNextBtn?i("div",{staticClass:"wpwh-flows-step__footer d-flex align-items-center justify-content-center flex-column"},[i("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}}),t._v(" "),i("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm wpwh-flows-select-action ml-auto mr-auto",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action","","",-1)}}},[i("span",[t._v("Add action")])]),t._v(" "),i("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1):t._e()]):t._e()},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4 wpwh-text-small"},[this._v("\n              Looking for more triggers? "),e("a",{staticClass:"text-secondary",attrs:{title:"Request more triggers",href:"https://wp-webhooks.com/request-integrations/",target:"_blank"}},[this._v("Request them here.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4"},[this._v("\n              The options explained:\n              "),e("ul",[e("li",[e("strong",[this._v("Load static data")]),e("br"),this._v("\n                  Load a predefined payload that was created statically by us. This does not contain any data specific to your website.\n                ")]),this._v(" "),e("li",[e("strong",[this._v("Get log data (Recommended)")]),e("br"),this._v("\n                  Load real data from your website that was captured by this trigger. This gives you access to data uniquely for your website.\n                ")])])])}]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.integrationData?i("div",{staticClass:"wpwh-flows-step wpwh-flows-step--action",class:{"wpwh-is-loading":t.inProgress,"is-collapsed":t.collapsed,"not-collapsed":!t.collapsed}},[(t.stepLoaded,i("div",{staticClass:"wpwh-flows-step__inner"},[i("flow-step-header",{attrs:{icon:t.integrationData.icon,type:t.stepType,typeText:this.$root.texts.action},on:{"update-name":t.updateFlowName,openIntegrationModal:function(e){return t.$root.openIntegrationsModal("action",t.stepId,t.integrationData.slug,t.stepIndex)}}}),t._v(" "),t.isCollapsed?i("div",{staticClass:"wpwh-flows-step__body"},[t.dStepData.subSteps?i("div",{staticClass:"wpwh-flows-accordions wpwh-flows-step__sub-steps"},[i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"choose"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Choose action","show-completed":t.dStepData.subSteps.choose&&"done"===t.dStepData.subSteps.choose.status},on:{click:function(e){return t.toggleSubStep("choose")}}}),t._v(" "),"choose"===t.currentSubStep||"choose"===t.currentSubStep&&t.isChooseStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"wpwh-form-field"},[i("label",{staticClass:"wpwh-form-label",attrs:{for:t.stepId+"-choose"}},[i("strong",[t._v("Select an action")])]),t._v(" "),i("select2",{attrs:{options:t.chooseOptions,placeholder:"Select an action",settings:{allowClear:!0,theme:"wpwh-default"}},on:{change:function(e){return t.onChooseChange(e)}},model:{value:t.dStepData.action,callback:function(e){t.$set(t.dStepData,"action",e)},expression:"dStepData.action"}})],1),t._v(" "),t._m(0),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:!t.dStepData.action||t.subStepContinueLoading},on:{click:function(e){return e.preventDefault(),t.onContinue("choose")}}},[i("span",[t._v("Continue")])])]):t._e()],1),t._v(" "),t.isChooseStepDone?i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--choose",class:{"wpwh-flows-accordion--active":"setup"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Action settings","show-completed":t.dStepData.subSteps.setup&&"done"===t.dStepData.subSteps.setup.status},on:{click:function(e){return t.toggleSubStep("setup")}}}),t._v(" "),"setup"===t.currentSubStep||"setup"===t.currentSubStep&&t.isSetupStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"wpwh-flows-step__fields-group wpwh-flows-step__description mb-4"},[t.showFieldDescription?i("span",{staticClass:"mb-4"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFieldDescription=!1}}},[t._v("Hide Setup & Tools")])]):i("span",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showFieldDescription=!0}}},[t._v("Show Setup & Tools")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFieldDescription,expression:"showFieldDescription"}],staticClass:"wpwh-flows-step__fields-group__description mt-4"},[t.dStepData.description.steps.length?i("div",[i("strong",[t._v("Setup")]),t._v(" "),i("ol",t._l(t.dStepData.description.steps,(function(e,n,o){return i("li",{key:"wpwhActionSetupDescription"+t.stepId+"_steps_"+n+"_"+o,domProps:{innerHTML:t._s(e)}})})),0)]):t._e(),t._v(" "),t.dStepData.description.tipps.length?i("div",[i("strong",[t._v("Tipps")]),t._v(" "),i("ol",t._l(t.dStepData.description.tipps,(function(e,n,o){return i("li",{key:"wpwhActionToolsDescription"+t.stepId+"_steps_"+n+"_"+o,domProps:{innerHTML:t._s(e)}})})),0)]):t._e(),t._v(" "),i("div",[i("strong",[t._v("Useful links")]),t._v(" "),i("ol",[i("li",[i("a",{attrs:{title:"Visit the "+t.dStepData.action+" action manual",target:"_blank",href:"https://wp-webhooks.com/integrations/"+t.integrationData.slug+"/actions/"+t.dStepData.action+"/"}},[t._v("The "+t._s(t.dStepData.action)+" action web page")])]),t._v(" "),i("li",[i("a",{attrs:{title:"Visit the official documentation",target:"_blank",href:"https://wp-webhooks.com/docs/"}},[t._v("Official documentation")])])])])])]),t._v(" "),i("div",{staticClass:"wpwh-flows-step__fields-group"},[t._l(t.stepParameter,(function(e,n,o){return i("form-field",{key:"wpwhAction"+t.stepId+"_"+n+o,attrs:{id:"wpwhproFlowAction"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),field_display_type:t.dStepData.fields[n].display_type?t.dStepData.fields[n].display_type:"",value:t.dStepData.fields[n].value,nname:n,integration:t.integrationData.slug,"webhook-group":t.dStepData.action,"step-type":"action"},on:{"required-field":function(e){return t.isRequiredField(n)},"field-display-state":t.updateFieldDisplayState},model:{value:t.dStepData.fields[n].value,callback:function(e){t.$set(t.dStepData.fields[n],"value",e)},expression:"dStepData.fields[settingId].value"}})})),t._v(" "),t.showAdvancedFields?i("p",{staticClass:"mb-4"},[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showAdvancedFields=!1}}},[t._v("Hide advanced settings?")])]):i("p",[i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showAdvancedFields=!0}}},[t._v("Show advanced settings?")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdvancedFields,expression:"showAdvancedFields"}]},t._l(t.integrationSettings,(function(e,n,o){return i("form-field",{key:"wpwhAction"+t.stepId+"_"+n+o,attrs:{id:"wpwhproFlowAction"+t.stepId+"_"+e.id,"field-data":t.$root.prepareFieldData(e),value:t.dStepData.fields[n].value,nname:n,integration:t.integrationData.slug,"step-type":"action"},on:{"required-field":function(e){return t.isRequiredField(n)}},model:{value:t.dStepData.fields[n].value,callback:function(e){t.$set(t.dStepData.fields[n],"value",e)},expression:"dStepData.fields[settingId].value"}})})),1)],2),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||t.hasEmptyRequiredFields},on:{click:function(e){return e.preventDefault(),t.onContinue("setup")}}},[i("span",[t._v("Continue & save fields")])])]):t._e()],1):t._e(),t._v(" "),t.isSetupStepDone?i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--test",class:{"wpwh-flows-accordion--active":"test"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Test action","show-completed":t.dStepData.subSteps.test&&"done"===t.dStepData.subSteps.test.status},on:{click:function(e){return t.toggleSubStep("test")}}}),t._v(" "),"test"===t.currentSubStep||"test"===t.currentSubStep&&t.isTestStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[t._m(1),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.testType,expression:"dStepData.testType"}],staticClass:"wpwh-form-input wpwh-w-100",attrs:{name:"title",id:t.stepId+"-testType"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"testType",e.target.multiple?i:i[0])},t.onTestTypeChange]}},[i("option",{attrs:{value:""},domProps:{selected:!t.dStepData.testType}},[t._v("-- Select data type --")]),t._v(" "),i("option",{attrs:{value:"static"}},[t._v("Load static data")]),t._v(" "),i("option",{attrs:{value:"log"}},[t._v("Get log data")]),t._v(" "),i("option",{attrs:{value:"fire"}},[t._v("Fire webhook action")])]),t._v(" "),"log"===t.dStepData.testType?i("div",{staticClass:"d-flex align-items-center mt-4"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.dStepData.log,expression:"dStepData.log"}],staticClass:"wpwh-form-input mr-3 flex-grow-1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.dStepData,"log",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[t._v("-- Select a log --")]),t._v(" "),t._l(t.logs,(function(e,n){return i("option",{key:t.stepId+"_log_"+e.id+"_"+n,domProps:{value:e.id,selected:e.id===t.dStepData.log}},[t._v(t._s(e.title))])}))],2),t._v(" "),i("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Refresh logs",expression:"'Refresh logs'"}],staticClass:"wpwh-btn wpwh-btn-as-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reloadLogs()}}},[i("svg-icon",{attrs:{icon:"reload",width:"20",height:"20"}})],1)]):t._e(),t._v(" "),t.showingReturnsCode?i("pre",{domProps:{innerHTML:t._s(t.integrationData.actions[t.dStepData.action].returns_code)}}):t._e(),t._v(" "),t.logsLoading?i("loader",{staticClass:"my-4"}):t.showingLogData?i("pre",{domProps:{innerHTML:t._s(t.getLogData.content)}}):t._e(),t._v(" "),"fire"===t.dStepData.testType?i("div",{staticClass:"d-flex mt-4 flex-column align-items-start"},[i("a",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",class:{"is-loading":t.webhookActionLoading},attrs:{href:"#",disabled:t.webhookActionLoading},on:{click:function(e){return e.preventDefault(),t.fireWebhookAction()}}},[i("span",[t._v("Fire Action")])]),t._v(" "),t.webhookAction&&!t.webhookActionLoading?i("pre",{staticClass:"w-100",domProps:{innerHTML:t._s(t.webhookAction)}}):t._e()]):t._e(),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#",disabled:t.subStepContinueLoading||!t.dStepData.testType||"log"===t.dStepData.testType&&!t.dStepData.log||"fire"===t.dStepData.testType&&!t.webhookAction},on:{click:function(e){return e.preventDefault(),t.onContinue("test")}}},[i("span",[t._v("Finish action")])])],1):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"wpwh-flows-accordion wpwh-flows-step__sub-step wpwh-flows-step__sub-step--conditional",class:{"wpwh-flows-accordion--active":"conditional"===t.currentSubStep}},[i("accordion-trigger",{attrs:{heading:"Conditionals","show-completed":t.step.conditionals&&t.step.conditionals.conditions&&t.step.conditionals.conditions.length>0},on:{click:function(e){return t.toggleSubStep("conditional")}}}),t._v(" "),"conditional"===t.currentSubStep||"conditional"===t.currentSubStep&&t.isConditionalStepActive?i("div",{staticClass:"wpwh-flows-accordion__content wpwh-flows-step__sub-step-inner"},[i("div",{staticClass:"conditions-before-wrapper mb-4"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center justify-content-between"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center"},[i("strong",[t._v("Execute this step if")]),t._v(" "),i("select-field",{staticClass:"d-inline-block wpwh-form-field--sm mx-3 mb-0",attrs:{id:"flow-"+t.stepId+"-condition-if",name:"flow-"+t.stepId+"-condition-if",choices:{all:"ALL",any:"ANY"},value:t.dStepData.conditionals.relation,required:!0,settings:{minimumResultsForSearch:1/0,allowClear:!1}},on:{input:t.updateConditionalsRelation}}),t._v(" "),i("span",[t._v("of the following conditions are met...")])],1),t._v(" "),i("div",{staticClass:"wpwh-text-small d-flex align-items-center"},[i("span",[t._v("...otherwise")]),t._v(" "),i("select-field",{staticClass:"d-inline-block wpwh-form-field--sm ml-3 mb-0",attrs:{id:"flow-"+t.stepId+"-condition-action",name:"flow-"+t.stepId+"-condition-action",choices:t.$root.flowConditionLabels.flowActions,value:t.dStepData.conditionals.flowAction,required:!0,settings:{minimumResultsForSearch:1/0,allowClear:!1}},on:{input:t.updateConditionalsAction}})],1)]),t._v(" "),t.dStepData.conditionals&&t.dStepData.conditionals.conditions?i("flow-step-conditions",{attrs:{stepId:t.stepId,stepIndex:t.stepIndex,stepType:t.stepType}}):t._e(),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--outline-secondary wpwh-btn--sm mt-3 py-1 px-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalModal(t.stepType,"new",t.stepId)}}},[t._v("+ Add")])],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"conditions-after-wrapper mt-4"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center justify-content-between"},[i("div",{staticClass:"wpwh-text-small d-flex align-items-center"},[i("strong",[t._v("Continue flow execution only if")]),t._v(" "),i("select-field",{staticClass:"d-inline-block wpwh-form-field--sm mx-3 mb-0",attrs:{id:"flow-"+t.stepId+"-condition-after-if",name:"flow-"+t.stepId+"-condition-after-if",choices:{all:"ALL",any:"ANY"},value:t.dStepData.conditionals_after.relation,required:!0,settings:{minimumResultsForSearch:1/0,allowClear:!1}},on:{input:t.updateConditionalsAfterRelation}}),t._v(" "),i("span",[t._v("\n                    of the following conditions are met.\n                    "),i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"These conditions fire after the action step was executed. Therefore, you can use the response of it.",expression:"'These conditions fire after the action step was executed. Therefore, you can use the response of it.'"}],staticClass:"ml-2"},[i("fa-icon",{attrs:{icon:"info-circle"}})],1)])],1)]),t._v(" "),t.dStepData.conditionals_after&&t.dStepData.conditionals_after.conditions?i("flow-step-conditions-after",{attrs:{stepId:t.stepId,stepIndex:t.stepIndex,stepType:t.stepType}}):t._e(),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--outline-secondary wpwh-btn--sm mt-3 py-1 px-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalAfterModal(t.stepType,"new",t.stepId)}}},[t._v("+ Add")])],1),t._v(" "),i("a",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--block mt-4",class:{"is-loading":t.subStepContinueLoading},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onContinue("conditional")}}},[i("span",[t._v("Set conditionals")])])]):t._e()],1)]):t._e()]):t._e()],1)),t._v(" "),t.showAddNextBtn?i("div",{staticClass:"wpwh-flows-step__footer d-flex align-items-center justify-content-center flex-column"},[i("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}}),t._v(" "),i("button",{staticClass:"wpwh-btn wpwh-btn--primary wpwh-btn--sm wpwh-flows-select-action ml-auto mr-auto",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$root.openIntegrationsModal("action","","",t.stepIndex)}}},[i("span",[t._v("Add action")])]),t._v(" "),i("svg-icon",{staticClass:"my-3",attrs:{icon:"dots"}})],1):t._e()]):t._e()},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4 wpwh-text-small"},[this._v("\n              Looking for more actions? "),e("a",{staticClass:"text-secondary",attrs:{title:"Request more actions",href:"https://wp-webhooks.com/request-integrations/",target:"_blank"}},[this._v("Request them here.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-4"},[t._v("\n              The options explained:\n              "),i("ul",[i("li",[i("strong",[t._v("Load static data")]),i("br"),t._v("\n                  Load a predefined payload that was created statically by us. This does not contain any data specific to your website.\n                ")]),t._v(" "),i("li",[i("strong",[t._v("Get log data")]),i("br"),t._v("\n                  Load real data from your website that was captured by this action. This gives you access to data uniquely for your website.\n                ")]),t._v(" "),i("li",[i("strong",[t._v("Fire webhook action (Recommended)")]),i("br"),t._v("\n                  Execute this action in real-time and get the latest data along with the response for the next actions.\n                ")])])])}]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-publish-box",class:{"is-loading":t.loading}},[i("p",{staticClass:"d-flex align-items-center"},[i("span",{staticClass:"wpwh-publish-box__icon"},[i("svg",{attrs:{width:"7",height:"13",viewBox:"0 0 7 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{opacity:"0.6",d:"M2.625 7.92969C2.88281 7.97656 3.14062 8 3.375 8C3.60938 8 3.84375 7.97656 4.125 7.92969V11.6094L3.60938 12.3828C3.53906 12.4766 3.46875 12.5 3.375 12.5C3.28125 12.5 3.1875 12.4766 3.14062 12.3828L2.625 11.6094V7.92969ZM3.375 0.5C3.98438 0.5 4.54688 0.664062 5.0625 0.96875C5.57812 1.27344 5.97656 1.67188 6.28125 2.1875C6.58594 2.70312 6.75 3.26562 6.75 3.875C6.75 4.48438 6.58594 5.04688 6.28125 5.5625C5.97656 6.07812 5.57812 6.5 5.0625 6.80469C4.54688 7.10938 3.98438 7.25 3.375 7.25C2.76562 7.25 2.20312 7.10938 1.6875 6.80469C1.17188 6.5 0.75 6.07812 0.445312 5.5625C0.140625 5.04688 0 4.48438 0 3.875C0 3.26562 0.140625 2.70312 0.445312 2.1875C0.75 1.67188 1.17188 1.27344 1.6875 0.96875C2.20312 0.664062 2.76562 0.5 3.375 0.5ZM3.375 2.28125C3.44531 2.28125 3.51562 2.25781 3.5625 2.21094C3.60938 2.16406 3.65625 2.09375 3.65625 2C3.65625 1.92969 3.60938 1.85938 3.5625 1.8125C3.51562 1.76562 3.44531 1.71875 3.375 1.71875C2.76562 1.71875 2.27344 1.92969 1.85156 2.35156C1.42969 2.77344 1.21875 3.28906 1.21875 3.875C1.21875 3.96875 1.24219 4.03906 1.28906 4.08594C1.33594 4.13281 1.40625 4.15625 1.5 4.15625C1.57031 4.15625 1.64062 4.13281 1.6875 4.08594C1.73438 4.03906 1.78125 3.96875 1.78125 3.875C1.78125 3.45312 1.92188 3.07812 2.25 2.75C2.55469 2.44531 2.92969 2.28125 3.375 2.28125Z",fill:"#393939"}})])]),t._v(" "),i("label",{staticClass:"wpwh-publish-box__title",attrs:{for:"wpwhFlowStatus"}},[t._v("Status:")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.$root.flowData.flow_status,expression:"$root.flowData.flow_status"}],staticClass:"wpwh-form-input wpwh-form-input--sm w-auto",attrs:{name:"status",id:"wpwhFlowStatus"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$root.flowData,"flow_status",e.target.multiple?i:i[0])}}},t._l(t.$root.flowStatuses,(function(e,n){return i("option",{key:"flow-status"+n,domProps:{value:n,selected:t.$root.flowData.flow_status===n?"selected":""}},[t._v(t._s(e))])})),0)]),t._v(" "),i("p",{staticClass:"d-flex align-items-center"},[i("span",{staticClass:"wpwh-publish-box__icon"},[i("svg",{attrs:{width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{opacity:"0.6",d:"M0.28125 5C0.1875 5 0.117188 5.04688 0.0703125 5.09375C0.0234375 5.14062 0 5.21094 0 5.28125V11.375C0 11.7031 0.09375 11.9609 0.328125 12.1719C0.539062 12.4062 0.796875 12.5 1.125 12.5H9.375C9.67969 12.5 9.9375 12.4062 10.1719 12.1719C10.3828 11.9609 10.5 11.7031 10.5 11.375V5.28125C10.5 5.21094 10.4531 5.14062 10.4062 5.09375C10.3594 5.04688 10.2891 5 10.2188 5H0.28125ZM10.5 3.96875C10.5 4.0625 10.4531 4.13281 10.4062 4.17969C10.3594 4.22656 10.2891 4.25 10.2188 4.25H0.28125C0.1875 4.25 0.117188 4.22656 0.0703125 4.17969C0.0234375 4.13281 0 4.0625 0 3.96875V3.125C0 2.82031 0.09375 2.5625 0.328125 2.32812C0.539062 2.11719 0.796875 2 1.125 2H2.25V0.78125C2.25 0.710938 2.27344 0.640625 2.32031 0.59375C2.36719 0.546875 2.4375 0.5 2.53125 0.5H3.46875C3.53906 0.5 3.60938 0.546875 3.65625 0.59375C3.70312 0.640625 3.75 0.710938 3.75 0.78125V2H6.75V0.78125C6.75 0.710938 6.77344 0.640625 6.82031 0.59375C6.86719 0.546875 6.9375 0.5 7.03125 0.5H7.96875C8.03906 0.5 8.10938 0.546875 8.15625 0.59375C8.20312 0.640625 8.25 0.710938 8.25 0.78125V2H9.375C9.67969 2 9.9375 2.11719 10.1719 2.32812C10.3828 2.5625 10.5 2.82031 10.5 3.125V3.96875Z",fill:"#393939"}})])]),t._v(" "),i("span",{staticClass:"wpwh-publish-box__title"},[t._v("Created on:")]),t._v(" "),i("strong",[t._v(t._s(t.date))])]),t._v(" "),i("div",{staticClass:"d-flex align-items-center justify-content-between"},[i("button",{staticClass:"wpwh-btn wpwh-btn--secondary wpwh-btn--sm",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.$root.updateFlow()}}},[i("span",[t._v("Save")])]),t._v(" "),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this flow",expression:"'Delete this flow'"}],staticClass:"wpwh-btn wpwh-btn--link wpwh-btn--sm px-2",on:{click:function(e){return e.preventDefault(),t.onDelete()}}},[i("svg-icon",{attrs:{icon:"delete"}})],1)])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-selected-steps"},[t.$root.getObjectLength(t.$root.flowData.flow_config.triggers)||t.$root.getObjectLength(t.$root.flowData.flow_config.actions)?i("div",{staticClass:"wpwh-selected-steps__inner"},[t._l(t.$root.flowData.flow_config.triggers,(function(t,e,n){return i("selected-step",{key:"selected-step-trigger-"+e,staticClass:"wpwh-selected-step",attrs:{stepData:t,stepId:e,stepIndex:n,stepNumber:n+1,item:t,stepType:"trigger"}})})),t._v(" "),t._l(t.$root.flowData.flow_config.actions,(function(t,e,n){return i("selected-step",{key:"selected-step-action-"+e,staticClass:"wpwh-selected-step",attrs:{stepData:t,stepId:e,stepIndex:n,stepNumber:n+2,item:t,stepType:"action"}})}))],2):i("p",{staticClass:"m-0"},[t._v("No selected steps")])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-integrations"},t._l(t.$root.integrationsWithTriggers,(function(e){return i("a",{key:e.slug,staticClass:"wpwh-flows-integration",class:{"wpwh-flows-integration--active":t.$root.integrationsModalSelected===e.slug},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.$root.onIntegrationClick(e)}}},[i("div",{staticClass:"wpwh-flows-integration__inner"},[i("div",{staticClass:"wpwh-flows-integration__icon"},[i("img",{attrs:{src:e.icon.src,alt:e.icon.alt}})]),t._v(" "),i("p",{staticClass:"wpwh-flows-integration__text",domProps:{textContent:t._s(e.name)}})])])})),0)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownItem,expression:"showDropdownItem"}],staticClass:"flows-variable__sub-item",attrs:{href:"#","data-search":t.example,"data-type":t.type},on:{click:function(e){return e.preventDefault(),t.selectSubItem(t.subItem)}}},[i("strong",[t._v(t._s(t.title||t.value))]),t._v(" "),i("span",{staticClass:"ml-3"},[t._v(t._s(t.modifiedExample))])])},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.parentStep?i("div",{staticClass:"wpwh-flows-step__header",on:{click:function(e){return e.preventDefault(),t.onEdit(e,!0)}}},[t.icon?i("div",{staticClass:"wpwh-flows-step__header-icon"},[i("img",{attrs:{src:t.icon.src,alt:t.icon.alt}})]):t._e(),t._v(" "),i("div",{staticClass:"wpwh-flows-step__header-text"},[i("small",{staticClass:"wpwh-flows-step__header-text"},[i("span",[t._v(t._s(t.position)+". "+t._s(t.typeText))]),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("openIntegrationModal")}}},[t._v("Change integration")])]),t._v(" "),i("h3",{directives:[{name:"show",rawName:"v-show",value:!t.showNameField,expression:"! showNameField"}],staticClass:"wpwh-flows-step__title",on:{click:t.onEditName}},[t.parentStep.dStepData.name?i("span",[t._v(t._s(t.parentStep.dStepData.name))]):i("span",[t._v(t._s(t.parentStep.integrationData.name))])]),t._v(" "),i("h3",{directives:[{name:"show",rawName:"v-show",value:t.showNameField,expression:"showNameField"}],staticClass:"wpwh-flows-step__title mt-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.parentStep.dStepData.name,expression:"parentStep.dStepData.name"}],ref:"name-input",domProps:{value:t.parentStep.dStepData.name},on:{focus:t.onFocus,keydown:t.onEnter,blur:t.onBlur,input:function(e){e.target.composing||t.$set(t.parentStep.dStepData,"name",e.target.value)}}})]),t._v(" "),"trigger"===t.type&&t.parentStep.dStepData.trigger?i("small",{staticClass:"wpwh-flows-step__header-trigger"},[t._v("Trigger: "+t._s(t.parentStep.dStepData.trigger))]):t._e(),t._v(" "),"action"===t.type&&t.parentStep.dStepData.action?i("small",{staticClass:"wpwh-flows-step__header-trigger"},[t._v("Action: "+t._s(t.parentStep.dStepData.action))]):t._e()]),t._v(" "),i("div",{staticClass:"wpwh-flows-step__header-actions ml-auto mr-0"},["action"===t.type?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete this action?",expression:"'Delete this action?'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.parentStep.deleteAction()}}},[i("fa-icon",{attrs:{icon:"trash"}})],1):t._e(),t._v(" "),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Set custom name for this step.",expression:"'Set custom name for this step.'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onEditName.apply(null,arguments)}}},[i("fa-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.parentStep.collapsed?"hide step settings":"show step settings",expression:"parentStep.collapsed ? 'hide step settings' : 'show step settings'"}],staticClass:"wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.onEdit.apply(null,arguments)}}},[t.parentStep.collapsed?i("fa-icon",{attrs:{icon:"chevron-up"}}):i("fa-icon",{attrs:{icon:"chevron-down"}})],1)])]):t._e()},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-conditions"},t._l(t.$parent.dStepData.conditionals.conditions,(function(e,n){return i("div",{key:t.stepId+"_condition_"+n,ref:"condition-"+n+"-"+t.stepId,refInFor:!0,staticClass:"wpwh-flows-condition"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"! isLoading"}],staticClass:"wpwh-flows-condition__inner"},[i("div",{staticClass:"wpwh-flows-condition__content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_input&&e.condition_input.value,expression:"condition.condition_input && condition.condition_input.value"}],staticClass:"wpwh-flows-condition__input",domProps:{innerHTML:t._s(t.generateConditionWithVars(e.condition_input))}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_operator&&e.condition_operator.value,expression:"condition.condition_operator && condition.condition_operator.value"}],staticClass:"wpwh-flows-condition__operator"},[t._v("\n          "+t._s(e.condition_operator.value)+"\n        ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_value&&e.condition_value.value,expression:"condition.condition_value && condition.condition_value.value"}],staticClass:"wpwh-flows-condition__value",domProps:{innerHTML:t._s(t.generateConditionWithVars(e.condition_value))}})]),t._v(" "),i("div",{staticClass:"wpwh-flows-condition__actions"},[i("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalModal(t.stepType,"edit",t.stepId,t.stepIndex,n)}}},[i("fa-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),i("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$delete(t.conditions,n)}}},[i("fa-icon",{attrs:{icon:"trash"}})],1)])])])})),0)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wpwh-flows-conditions"},t._l(t.$parent.dStepData.conditionals_after.conditions,(function(e,n){return i("div",{key:t.stepId+"_condition_"+n,ref:"condition-"+n+"-"+t.stepId,refInFor:!0,staticClass:"wpwh-flows-condition"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"! isLoading"}],staticClass:"wpwh-flows-condition__inner"},[i("div",{staticClass:"wpwh-flows-condition__content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_input&&e.condition_input.value,expression:"condition.condition_input && condition.condition_input.value"}],staticClass:"wpwh-flows-condition__input",domProps:{innerHTML:t._s(t.generateConditionAfterWithVars(e.condition_input))}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_operator&&e.condition_operator.value,expression:"condition.condition_operator && condition.condition_operator.value"}],staticClass:"wpwh-flows-condition__operator"},[t._v("\n          "+t._s(e.condition_operator.value)+"\n        ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.condition_value&&e.condition_value.value,expression:"condition.condition_value && condition.condition_value.value"}],staticClass:"wpwh-flows-condition__value",domProps:{innerHTML:t._s(t.generateConditionAfterWithVars(e.condition_value))}})]),t._v(" "),i("div",{staticClass:"wpwh-flows-condition__actions"},[i("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$root.openAddConditionalAfterModal(t.stepType,"edit",t.stepId,t.stepIndex,n)}}},[i("fa-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),i("button",{staticClass:"wpwh-flows-condition__edit wpwh-btn wpwh-btn--link px-2 py-1 wpwh-btn--icon",on:{click:function(e){return e.preventDefault(),t.$delete(t.conditions,n)}}},[i("fa-icon",{attrs:{icon:"trash"}})],1)])])])})),0)},o=[]},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:t.id},expression:"{ el: id }"}],staticClass:"wpwh-selected-step",attrs:{href:t.id}},[t.integration.icon?i("span",{staticClass:"wpwh-selected-step__icon"},[i("img",{attrs:{src:t.integration.icon.src,alt:t.integration.icon.alt}})]):t._e(),t._v(" "),i("span",{staticClass:"wpwh-selected-step__text"},[t._v(t._s(t.stepNumber)+". "+t._s(t.stepData.name||t.integration.name))])])},o=[]},,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}(n=i(113))&&n.__esModule,e.default={props:{stepType:{required:!0,type:String},stepId:{required:!0,type:[String,Number]},stepIndex:{required:!0,type:Number},step:{required:!0,type:Object},validationStep:{type:Boolean,default:!1}},data:function(){return{collapsed:!0,configTypeName:"triggers",inProgress:!1,stepLoaded:!1,settingsLoading:!1,currentSubStep:"",subStepOpened:!1,subStepContinueLoading:!1,showFieldDescription:!1,showAdvancedFields:!1,requiredFields:[],logs:[],logsLoading:!1,webhookAction:"",webhookActionLoading:!1}},mounted:function(){var t=this,e=this;this.$nextTick((function(){t.configTypeName="trigger"===t.stepType?"triggers":"actions",t.initOrResetOptions(),t.$events.$on("integration:updated",(function(i,n,o){o===t.stepId&&(e.dStepData.integration=n,e.resetFlowData())})),t.$events.$on("step-condition:added",(function(i,n){var o=t.$root.jsonDetach(n);e.dStepData.conditionals.conditions||Vue.set(e.dStepData.conditionals,"conditions",[]),i===t.stepId&&e.dStepData.conditionals.conditions.push(o)})),t.$events.$on("step-condition-after:added",(function(i,n){var o=t.$root.jsonDetach(n);e.dStepData.conditionals_after.conditions||Vue.set(e.dStepData.conditionals_after,"conditions",[]),i===t.stepId&&e.dStepData.conditionals_after.conditions.push(o)})),t.$events.$on("step-condition:updated",(function(i,n,o){var a=t.$root.jsonDetach(o);e.dStepData.conditionals.conditions||Vue.set(e.dStepData.conditionals,"conditions",[]),i===t.stepId&&(e.dStepData.conditionals.conditions[n]=a)})),t.$events.$on("step-condition-after:updated",(function(i,n,o){var a=t.$root.jsonDetach(o);e.dStepData.conditionals_after.conditions||Vue.set(e.dStepData.conditionals_after,"conditions",[]),i===t.stepId&&(e.dStepData.conditionals_after.conditions[n]=a)}));var i=e.$root.flowData.flow_config[t.configTypeName];e.dStepData.integration=i[e.stepId].integration||"",e.dStepData.subSteps=i[e.stepId].subSteps||{},e.dStepData.testType=i[e.stepId].testType||"",e.dStepData.log=i[e.stepId].log||"",e.dStepData.name=i[e.stepId].name||"",e.dStepData.description=[],e.dStepData.short_description="",e.dStepData.conditionals=i[e.stepId].conditionals||{relation:"all",flowAction:"skip",conditions:[]},e.dStepData.conditionals_after=i[e.stepId].conditionals_after||{relation:"all",flowAction:"cancel",conditions:[]},e.dStepData.conditionals.flowAction||(e.dStepData.conditionals.flowAction="skip"),e.dStepData.conditionals_after.flowAction||(e.dStepData.conditionals_after.flowAction="cancel"),"trigger"===e.stepType?(e.dStepData.trigger=e.$root.flowData.flow_config.triggers[e.stepId].trigger||"",e.dStepData.trigger&&(e.dStepData.short_description=t.integrationData.triggers[e.dStepData.trigger].short_description||"",e.dStepData.description=t.integrationData.triggers[e.dStepData.trigger].description||[])):(e.dStepData.action=e.$root.flowData.flow_config.actions[e.stepId].action||"",e.dStepData.action&&(e.dStepData.short_description=t.integrationData.actions[e.dStepData.action].short_description||"",e.dStepData.description=t.integrationData.actions[e.dStepData.action].description||[])),i[e.stepId].fields&&(e.dStepData.fields=e.$root.jsonDetach(i[e.stepId].fields)),"log"===e.dStepData.testType&&e.fetchLogs(),"fire"===e.dStepData.testType&&(e.webhookAction=e.step.variableData),e.dStepData.trigger&&e.populateSettings(e.dStepData.trigger),e.dStepData.action&&e.populateSettings(e.dStepData.action),t.defineSubSteps(),t.isAllStepsDone&&(t.collapsed=!1)}))},methods:{resetFlowData:function(){this.dStepData.action="",this.dStepData.trigger="",this.dStepData.fields={},this.dStepData.subSteps={},this.dStepData.testType="",this.dStepData.log="",this.initOrResetOptions(),this.defineSubSteps(),this.saveStepSettings()},initOrResetOptions:function(){if(this.chooseOptions=[],this.integrationData[this.configTypeName])for(var t in this.integrationData[this.configTypeName])if(Object.hasOwnProperty.call(this.integrationData[this.configTypeName],t)){var e=this.integrationData[this.configTypeName][t];this.chooseOptions.push({id:t,text:e.name})}},fetchLogs:function(){var t=this;t.logsLoading=!0,t.logs=[],t.$root.request.post("get_logs",{flow_id:t.$root.flowId,step_id:t.stepId,integration:t.dStepData.integration,trigger:t.dStepData.trigger,wpwh_action:t.dStepData.action}).then((function(e){setTimeout((function(){t.logsLoading=!1}),1e3),!0===e.success&&(t.logs=e.data.result)})).catch((function(e){setTimeout((function(){t.logsLoading=!1}),1e3)}))},fireWebhookAction:function(){var t=this;t.webhookActionLoading=!0,t.webhookAction="",t.$root.request.post("fire_action",{flow_id:t.$root.flowId,step_data:t.dStepData,step_id:t.stepId,integration:t.dStepData.integration,wpwh_action:t.dStepData.action,trigger:t.dStepData.trigger}).then((function(e){setTimeout((function(){t.webhookActionLoading=!1}),1e3),!0===e.success&&(t.webhookAction=e.data.result)})).catch((function(e){setTimeout((function(){t.webhookActionLoading=!1}),1e3)}))},reloadLogs:function(){this.dStepData.log="",this.fetchLogs()},onTestTypeChange:function(t){this.webhookAction="","log"===t.target.value?this.reloadLogs():this.dStepData.log=""},defineSubSteps:function(){var t=this;for(var e in t.dStepData.subSteps.choose||Vue.set(t.dStepData.subSteps,"choose",{status:"active"}),t.validationStep&&!t.dStepData.subSteps.validation&&Vue.set(t.dStepData.subSteps,"validation",{status:"pending"}),t.dStepData.subSteps.setup||Vue.set(t.dStepData.subSteps,"setup",{status:"pending"}),t.dStepData.subSteps.test||Vue.set(t.dStepData.subSteps,"test",{status:"pending"}),t.dStepData.subSteps)Object.hasOwnProperty.call(t.dStepData.subSteps,e)&&"active"===t.dStepData.subSteps[e].status&&(t.currentSubStep=e)},onChooseChange:function(t){this.populateSettings(t)},populateSettings:function(t){var e=this;if(e.enableSettingsLoader(),t){if("trigger"===e.stepType?(e.dStepData.trigger=t,e.$root.flowData.flow_trigger=t,e.dStepData.trigger&&(e.dStepData.short_description=this.integrationData.triggers[e.dStepData.trigger].short_description||"",e.dStepData.description=this.integrationData.triggers[e.dStepData.trigger].description||[])):(e.dStepData.action=t,e.dStepData.action&&(e.dStepData.short_description=this.integrationData.actions[e.dStepData.action].short_description||"",e.dStepData.description=this.integrationData.actions[e.dStepData.action].description||[])),"action"===e.stepType)for(var i in e.stepParameter)if(Object.hasOwnProperty.call(e.stepParameter,i)){var n=e.stepParameter[i];e.dStepData.fields[i]?e.dStepData.fields[i].field_type=n.type:Vue.set(e.dStepData.fields,i,{field_type:n.type,name:i,value:"",type:"argument",display_type:"",mappings:{}}),"select"===n.type&&(e.dStepData.fields[i].multiple=n.multiple)}for(var o in e.integrationSettings)if(Object.hasOwnProperty.call(e.integrationSettings,o)){var s,r=e.integrationSettings[o];e.dStepData.fields[o]?e.dStepData.fields[o].field_type=r.type:Vue.set(e.dStepData.fields,o,(a(s={type:r.type,name:o,value:""},"type","setting"),a(s,"display_type",""),a(s,"mappings",{}),s)),"select"===r.type&&(e.dStepData.fields[o].multiple=r.multiple)}}else"trigger "===e.stepType?(e.dStepData.trigger=t,e.dStepData.trigger&&(e.dStepData.short_description=this.integrationData.triggers[e.dStepData.trigger].short_description||"",e.dStepData.description=this.integrationData.triggers[e.dStepData.trigger].description||[])):(e.dStepData.action=t,e.dStepData.action&&(e.dStepData.short_description=this.integrationData.actions[e.dStepData.action].short_description||"",e.dStepData.description=this.integrationData.actions[e.dStepData.action].description||[])),e.dStepData.fields={},"choose"===e.currentSubStep&&(e.dStepData.subSteps.choose.status="pending")},enableSettingsLoader:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;this.settingsLoading||(this.settingsLoading=!0,setTimeout((function(){t.settingsLoading=!1}),e))},onContinue:function(t){var e=this;this.subStepContinueLoading=!0,setTimeout((function(){e.subStepContinueLoading=!1,"conditional"===t?e.currentSubStep="":(e.showNextStep(),e.dStepData.subSteps[t]&&(e.dStepData.subSteps[t].status="done"),setTimeout((function(){e.$scrollTo("#"+e.$attrs.id)}),200))}),1e3),"choose"===t?this.requiredFields=[]:"test"===t?this.$events.$emit("update-variable-dropdown",this.stepId):("setup"===t||"conditional"===t)&&(this.webhookAction=""),this.saveStepSettings(),this.$root.updateFlow(!1)},saveStepSettings:function(){this.stepType;var t=this.stepId,e=this.dStepData,i=this.configTypeName;i&&this.$root.flowData.flow_config[i]&&this.$root.flowData.flow_config[i][t]&&(this.$root.flowData.flow_config[i][t].integration=e.integration||"",this.$root.flowData.flow_config[i][t].subSteps=e.subSteps||{},this.$root.flowData.flow_config[i][t].testType=e.testType||"",this.$root.flowData.flow_config[i][t].log=e.log||"",this.$root.flowData.flow_config[i][t].fields=e.fields||{},this.$root.flowData.flow_config[i][t].variableData=this.variableData||{},this.$root.flowData.flow_config[i][t].name=e.name||"",this.$root.flowData.flow_config[i][t].conditionals=e.conditionals||{relation:"all",flowAction:"skip",conditions:[]},this.$root.flowData.flow_config[i][t].conditionals_after=e.conditionals_after||{relation:"all",flowAction:"cancel",conditions:[]},this.$root.flowData.flow_config[i][t].conditionals.flowAction||(this.$root.flowData.flow_config[i][t].conditionals.flowAction="skip"),this.$root.flowData.flow_config[i][t].conditionals_after.flowAction||(this.$root.flowData.flow_config[i][t].conditionals_after.flowAction="cancel"),"trigger"===this.stepType?this.$root.flowData.flow_config[i][t].trigger=e.trigger||"":this.$root.flowData.flow_config[i][t].action=e.action||"")},deleteAction:function(){var t=this;this.inProgress=!0,this.$root.flowData.flow_config.actions[this.stepId]&&this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&t.$delete(t.$root.flowData.flow_config.actions,t.stepId),t.inProgress=!1}))},showNextStep:function(){var t="",e=Object.keys(this.dStepData.subSteps);if(this.currentSubStep){var i=e.indexOf(this.currentSubStep)+1;t=e[i],this.dStepData.subSteps[t]&&(this.dStepData.subSteps[t].status="active")}else t=e[0];this.currentSubStep=t},toggleSubStep:function(t){this.currentSubStep!==t?this.currentSubStep=t:this.currentSubStep=""},isRequiredField:function(t){this.dStepData.fields[t]&&(this.requiredFields.includes(t)||this.requiredFields.push(t))},updateFlowName:function(){this.saveStepSettings(),this.$root.updateFlow(!1),this.$events.$emit("update-variable-dropdown",this.stepId)},updateConditionalsRelation:function(t){var e=this.$root.jsonDetach(t);this.dStepData.conditionals.relation=e?"object"===(void 0===e?"undefined":o(e))?e[0]:e:""},updateConditionalsAfterRelation:function(t){var e=this.$root.jsonDetach(t);this.dStepData.conditionals_after.relation=e?"object"===(void 0===e?"undefined":o(e))?e[0]:e:""},updateConditionalsAction:function(t){var e=this.$root.jsonDetach(t);this.dStepData.conditionals.flowAction=e?"object"===(void 0===e?"undefined":o(e))?e[0]:e:""},updateConditionalsAfterAction:function(t){var e=this.$root.jsonDetach(t);this.dStepData.conditionals_after.flowAction=e?"object"===(void 0===e?"undefined":o(e))?e[0]:e:""},updateFieldDisplayState:function(t,e){this.dStepData.fields[t].display_type=e}},computed:{integrationData:function(){return this.$root.filterIntegration(this.step.integration)},showAddNextBtn:function(){return Object.keys(this.triggers).length&&Object.keys(this.actions).length},triggers:function(){return this.$root.flowData.flow_config.triggers},actions:function(){return this.$root.flowData.flow_config.actions},isChooseStepPending:function(){return this.dStepData.subSteps.choose&&"pending"===this.dStepData.subSteps.choose.status},isValidationStepPending:function(){return this.dStepData.subSteps.validation&&"pending"===this.dStepData.subSteps.validation.status},isSetupStepPending:function(){return this.dStepData.subSteps.setup&&"pending"===this.dStepData.subSteps.setup.status},isTestStepPending:function(){return this.dStepData.subSteps.test&&"pending"===this.dStepData.subSteps.test.status},isCondtionalStepPending:function(){return this.dStepData.subSteps.conditional&&"pending"===this.dStepData.subSteps.conditional.status},isChooseStepActive:function(){return this.dStepData.subSteps.choose&&"active"===this.dStepData.subSteps.choose.status},isValidationStepActive:function(){return this.dStepData.subSteps.validation&&"active"===this.dStepData.subSteps.validation.status},isSetupStepActive:function(){return this.dStepData.subSteps.setup&&"active"===this.dStepData.subSteps.setup.status},isTestStepActive:function(){return this.dStepData.subSteps.test&&"active"===this.dStepData.subSteps.test.status},isConditionalStepActive:function(){return this.dStepData.subSteps.conditional&&"active"===this.dStepData.subSteps.conditional.status},isChooseStepDone:function(){return this.dStepData.subSteps.choose&&"done"===this.dStepData.subSteps.choose.status},isValidationStepDone:function(){return this.dStepData.subSteps.validation&&"done"===this.dStepData.subSteps.validation.status},isSetupStepDone:function(){return this.dStepData.subSteps.setup&&"done"===this.dStepData.subSteps.setup.status},isTestStepDone:function(){return this.dStepData.subSteps.test&&"done"===this.dStepData.subSteps.test.status},isConditionalStepDone:function(){return this.dStepData.subSteps.conditional&&"done"===this.dStepData.subSteps.conditional.status},isAllStepsDone:function(){return this.dStepData.subSteps.validation?this.isChooseStepDone&&this.isValidationStepDone&&this.isSetupStepDone&&this.isTestStepDone:this.isChooseStepDone&&this.isSetupStepDone&&this.isTestStepDone},getLogData:function(){var t=this,e=this.logs.filter((function(e){return e.id===t.dStepData.log}));return e.length?e[0]:{}},showingLogData:function(){var t=this;return"log"===this.dStepData.testType&&this.dStepData.log&&this.logs.filter((function(e){return e.id===t.dStepData.log})).length},hasEmptyRequiredFields:function(){var t=this,e=!1;return this.requiredFields.forEach((function(i){t.dStepData.fields[i]&&!t.dStepData.fields[i].value&&(e=!0)})),e},showingReturnsCode:function(){return"trigger"===this.stepType?"static"===this.dStepData.testType&&this.integrationData.triggers[this.dStepData.trigger]:"static"===this.dStepData.testType&&this.integrationData.actions[this.dStepData.action]},showingWebhookAction:function(){return"fire"===this.dStepData.testType},variableData:function(){return this.showingReturnsCode?"trigger"===this.stepType?this.integrationData.triggers[this.dStepData.trigger].returns_code:this.integrationData.actions[this.dStepData.action].returns_code:this.showingLogData?this.$root.jsonParse(this.getLogData.content):this.showingWebhookAction?this.webhookAction:{}},isCollapsed:function(){return this.collapsed},stepHasConditions:function(){return!!this.dStepData.conditionals.conditions&&this.dStepData.conditionals.conditions.length>0},stepHasConditionsAfter:function(){return!!this.dStepData.conditionals_after.conditions&&this.dStepData.conditionals_after.conditions.length>0}}}},,,,function(t,e,i){"use strict";i.r(e);var n=i(149),o=i(35);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(150),o=i(37);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},,,,,,,,,function(t,e,i){"use strict";var n=j(i(187)),o=j(i(189)),a=i(194),s=j(i(195)),r=j(i(196)),l=j(i(197)),d=j(i(198)),u=j(i(199)),c=j(i(200)),p=j(i(286)),f=j(i(287)),h=i(7),v=i(288),w=i(289),g=j(i(290)),m=j(i(311)),_=j(i(312)),b=j(i(313)),S=j(i(314)),y=j(i(315)),C=j(i(316)),D=j(i(317)),x=j(i(318)),$=j(i(327)),k=j(i(328)),T=j(i(330)),M=j(i(331)),O=j(i(332)),F=j(i(333)),I=j(i(334)),L=j(i(335)),A=j(i(336)),q=j(i(337));function j(t){return t&&t.__esModule?t:{default:t}}window.Vue=n.default,n.default.prototype.$http=o.default,window.axios=o.default,window.insertParamToUrl=a.insertParamToUrl,window.parseQueryString=a.parseQueryString,window.getParamFromUrl=a.getParamFromUrl,n.default.use(l.default),n.default.use(c.default,{defaultOffset:10,defaultTemplate:'<div class="v-tooltip" role="tooltip"><div class="v-tooltip-arrow"></div><div class="v-tooltip-inner"></div></div>',defaultArrowSelector:".v-tooltip-arrow, .v-tooltip__arrow",defaultInnerSelector:".v-tooltip-inner, .v-tooltip__inner",defaultContainer:".wpwh-flows"}),n.default.use(p.default,{confirmButtonClass:"wpwh-btn wpwh-btn--primary",cancelButtonClass:"wpwh-btn wpwh-btn--secondary"}),h.library.add(v.faPencilAlt,v.faTrash,v.faTrashAlt,v.faChevronUp,v.faChevronDown,v.faInfoCircle),n.default.component("fa-icon",w.FontAwesomeIcon),n.default.config.productionTip=!1,n.default.component("v-select",f.default),n.default.use(s.default),n.default.use(u.default,{offset:-(document.getElementById("wpadminbar").clientHeight+10)}),n.default.component("form-field",C.default),n.default.component("form-label",S.default),n.default.component("form-description",y.default),n.default.component("wysiwyg-field",D.default),n.default.component("variable-field",x.default),n.default.component("input-field",T.default),n.default.component("textarea-field",M.default),n.default.component("select-field",$.default),n.default.component("select2",k.default),n.default.component("links-field",O.default),n.default.component("repeater-field",F.default),n.default.component("list-field",I.default),n.default.component("toggle-field",L.default),n.default.component("radio-field",A.default),n.default.component("nl2br",r.default),n.default.component("svg-icon",m.default),n.default.component("loader",_.default),n.default.component("accordion-trigger",b.default),n.default.directive("click-outside",d.default);var V=new n.default({el:"#wpwh-flows",mixins:[q.default],components:{App:g.default},mounted:function(){}});window.wpwhFlowsVM=V},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=((n=i(341))&&n.__esModule?n:{default:n}).default.create({baseURL:""});e.default=o},,,,,function(t,e,i){"use strict";t.exports={insertParamToUrl:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=document.location.search.substr(1).split("&");if(t){t=encodeURI(t),e=e?encodeURI(e):"";for(var a,s=o.length;s--;)if((a=o[s].split("="))[0]==t){a[1]=e,o[s]=a.join("=");break}s<0&&(o[o.length]=[t,e].join("="))}var r=window.location.origin+(i||window.location.pathname),l=r+"?"+o.join("&")+window.location.hash;return n&&window.history.replaceState(null,null,l),l},parseQueryString:function(t){for(var e=t.split("&"),i={},n=0;n<e.length;n++){var o=e[n].split("="),a=decodeURIComponent(o[0]),s=decodeURIComponent(o[1]);if(void 0===i[a])i[a]=decodeURIComponent(s);else if("string"==typeof i[a]){var r=[i[a],decodeURIComponent(s)];i[a]=r}else i[a].push(decodeURIComponent(s))}return i},getParamFromUrl:function(t,e){var i,n,o=(e||decodeURIComponent(window.location.search.substring(1))).split("&");for(n=0;n<o.length;n++)if((i=o[n].split("="))[0]===t)return void 0===i[1]||i[1]}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(117),o=i(27);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(135),o=i(29);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(137),o=i(31);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(143),o=i(33);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(144),o=i(39);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(151),o=i(41);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(138),o=i(43);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(145),o=i(45);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(146),o=i(47);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(152),o=i(49);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(139),o=i(51);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(140),o=i(55);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(141),o=i(57);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(118),o=i(59);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(119),o=i(61);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(120),o=i(63);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(121),o=i(65);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(122),o=i(67);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(123),o=i(69);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(124),o=i(71);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(125),o=i(73);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},,,,,,function(t,e,i){"use strict";i.r(e);var n=i(136),o=i(75);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(142),o=i(77);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(148),o=i(79);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(126),o=i(81);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(127),o=i(83);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},,function(t,e,i){"use strict";i.r(e);var n=i(128),o=i(85);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(129),o=i(87);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(130),o=i(89);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(131),o=i(91);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(132),o=i(93);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(133),o=i(95);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";i.r(e);var n=i(134),o=i(97);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i(1),r=Object(s.a)(o.default,n.a,n.b,!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(i(338)),s=(r(i(339)),i(340));function r(t){return t&&t.__esModule?t:{default:t}}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}window.Request=a.default,e.default={components:{},data:function(){return{wpEditor:null,flowDataLoaded:!1,integrationsLoaded:!1,flowNotExists:!1,flowId:"",flow:null,showWhileTesting:!0,formError:!1,formSuccess:!1,formLoading:!1,reloadVariable:!1,flowStatuses:[],flowConditionLabels:{default:null,flowActionDefault:null,flowAction:null,conditions:null},flowData:{id:"",flow_title:"",flow_status:"",flow_date:"",flow_trigger:"",receivable_trigger_url:"",flow_config:{triggers:{},actions:{}}},texts:{trigger:"Trigger",action:"Action",triggers_modal_title:"Choose Integration",triggers_modal_description:'Looking for more integrations? Simply go to the "Integrations" tab.',uppercase_title:"Uppercase title",link:"Link",name:"Name",key:"Key",value:"Value",add_item:"Add item"},integrations:[],integrationsMappings:{},integrationsMappingParent:"",integrationsMappingPrefix:"",integrationsMappingCount:0,integrationsModalFlowType:"",integrationsModalFlowStepId:"",integrationsModalFlowStepIndex:"",integrationsModalFlowInsertAfterIndex:"",integrationsModalSelected:"",flowConditionsModal:{action:"",stepType:"",stepIndex:"",stepId:"",conditionId:""},flowConditionsAfterModal:{action:"",stepType:"",stepIndex:"",stepId:"",conditionId:""},request:new a.default({url:ironikusflows.ajax_url,action:"ironikus_flows_handler",ironikusflows_nonce:ironikusflows.ajax_nonce,language:ironikusflows.language}),commonTags:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.flowId=getParamFromUrl("flow_id"),t.fetchFlow(),t.fetchFlowConditionLabels(),t.fetchFlowStatuses(),t.fetchCommonTags(),t.$events.$on("fetch-flow:success",(function(){t.initFlow(),setTimeout((function(){t.flowDataLoaded=!0}),1e3)})),t.$events.$on("fetch-flow:error",(function(){return t.flowNotExists=!0})),t.fetchIntegrations(),t.$events.$on("fetch-integrations:success",(function(){setTimeout((function(){t.integrationsLoaded=!0}),1e3)})),t.wpEditor=wp.editor}))},methods:(n={fetchFlow:function(){var t=this;t.$events.$emit("fetch-flow:started"),this.request.post("get_flow",{flow_id:t.flowId}).then((function(e){!0===e.success?(t.flow=e.data.result,t.$events.$emit("fetch-flow:success")):t.$events.$emit("fetch-flow:error")})).catch((function(e){t.$events.$emit("fetch-flow:error",e)}))},fetchFlowConditionLabels:function(){var t=this;this.request.post("get_flow_condition_labels").then((function(e){!0===e.success&&(Vue.set(t.flowConditionLabels,"default",e.data.result.conditionals.default),Vue.set(t.flowConditionLabels,"flowActionDefault",e.data.result.conditional_actions.default),Vue.set(t.flowConditionLabels,"flowActions",e.data.result.conditional_actions.actions),Vue.set(t.flowConditionLabels,"conditions",e.data.result.conditionals.conditions))}))},fetchFlowStatuses:function(){var t=this;t.$events.$emit("fetch-flow-statuses:started"),this.request.post("get_flow_status_labels").then((function(e){!0===e.success?(t.flowStatuses=e.data.result,t.$events.$emit("fetch-flow-statuses:success")):t.$events.$emit("fetch-flow-statuses:error")})).catch((function(e){t.$events.$emit("fetch-flow-statuses:error",e)}))},fetchCommonTags:function(){var t=this;t.$events.$emit("fetch-common-tags:started"),this.request.post("get_flow_common_tags").then((function(e){!0===e.success?(t.commonTags=e.data.result,t.$events.$emit("fetch-common-tags:success")):t.$events.$emit("fetch-common-tags:error")})).catch((function(e){t.$events.$emit("fetch-common-tags:error",e)}))},fetchReceivableTriggerUrl:function(){var t=this;this.request.post("get_receivable_trigger_url",{flow_id:this.flowId,trigger:this.flowData.flow_trigger}).then((function(e){!0===e.success&&(t.flowData.receivable_trigger_url=e.data.settings_value,t.$events.$emit("receivable-trigger-url-loaded",e.data.settings_value))}))},initFlow:function(){var t=this;t.flowData.id=t.flow.id,t.flowData.flow_title=t.flow.flow_title,t.flowData.flow_status=t.flow.flow_status,t.flowData.flow_trigger=t.flow.flow_trigger,t.flowData.flow_date=t.flow.flow_date,t.flow.flow_config&&t.flow.flow_config.triggers&&(t.flowData.flow_config.triggers=t.flow.flow_config.triggers),t.flow.flow_config&&t.flow.flow_config.actions&&(t.flowData.flow_config.actions=t.flow.flow_config.actions),t.$events.$emit("flow-loaded")},updateFlow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;e.$events.$emit("loading-flow:started"),e.$events.$emit("save-flow:started"),this.request.post("update_flow",{flow_id:e.flowId,flow_title:e.flowData.flow_title,flow_status:e.flowData.flow_status,flow_trigger:e.flowData.flow_trigger,flow_config:{triggers:e.flowData.flow_config.triggers,actions:e.flowData.flow_config.actions}}).then((function(i){e.$events.$emit("loading-flow:done",i.data?i.data.msg:""),!0===i.success?(e.$events.$emit("save-flow:success",i.data.msg),t&&e.$swal.fire({title:"Success!",html:i.data.msg,icon:"success",timer:1e3})):(e.$events.$emit("save-flow:error",i.data.msg),e.$swal.fire("Error!",i.data.msg,"error"))})).catch((function(t){var i=t.data?t.data.msg:"";e.$events.$emit("loading-flow:done",i),e.$events.$emit("save-flow:error",i),e.$swal.fire("Error!",i,"error")}))},deleteFlow:function(){var t=this;t.$events.$emit("loading-flow:started"),t.$events.$emit("delete-flow:started"),this.request.post("delete_flow",{flow_id:t.flowId}).then((function(e){t.$events.$emit("loading-flow:done",e.data?e.data.msg:""),!0===e.success?(t.$events.$emit("delete-flow:success",e.data.msg),t.$swal.fire("Deleted!","This flow has been deleted.","success")):(t.$events.$emit("delete-flow:error",e.data.msg),t.$swal.fire("Error!","We could not delete this flow.","error"))})).catch((function(e){t.$events.$emit("loading-flow:done",e.data?e.data.msg:""),t.$events.$emit("delete-flow:error",e.data.msg),t.$swal.fire("Error!","We could not delete this flow.","error")}))},fetchIntegrations:function(){var t=this;t.$events.$emit("fetch-integrations:started"),this.request.post("get_integrations",{}).then((function(e){!0===e.success?(t.integrations=e.data.result,t.integrationLoaded=!0,t.$events.$emit("fetch-integrations:success")):t.$events.$emit("fetch-integrations:error")})).catch((function(e){t.$events.$emit("fetch-integrations:error")}))},updateIntegrationsMapping:function(t){var e=this,i=this;t.forEach((function(t){for(var n in i.integrationsMappings[t.slug]={actions:{},triggers:{}},t.triggers)if(Object.hasOwnProperty.call(t.triggers,n)){var o=t.triggers[n],a=e.mappingConnector(n);i.integrationsMappingCount=0,i.integrationsMappingParent=a,i.integrationsMappingPrefix="",i.giveMeAMoment({prefix:a,data:o.returns_code},"trigger",n,t.slug)}}))},giveMeAMoment:function(t,e,i,n){var a=this,r=t.prefix;for(var l in a.integrationsMappingCount=a.integrationsMappingCount+1,t.data)if(Object.hasOwnProperty.call(t.data,l)){var d=t.data[l],u=r+a.mappingConnector(l);"string"==typeof d||"number"==typeof d||null===d||void 0===(void 0===d?"undefined":o(d))?"trigger"===e&&(s.Base64.encode(u),a.integrationsMappings[n].triggers[i]||(a.integrationsMappings[n].triggers[i]=[])):d&&"object"===(void 0===d?"undefined":o(d))&&(a.giveMeAMoment({prefix:u,data:d},e,i,n),a.integrationsMappingCount=a.integrationsMappingCount-1)}},giveMeAMoment2:function(t,e){var i=this,n={prefix:t.prefix,data:{}};for(var a in i.integrationsMappingCount=i.integrationsMappingCount+1,i.integrationsMappingPrefix=t.prefix,t.data)if(Object.hasOwnProperty.call(t.data,a)){var s=t.data[a],r=i.integrationsMappingPrefix+i.mappingConnector(a);if(i.integrationsMappingParent=i.integrationsMappingPrefix,i.integrationsMappingPrefix=r,"string"==typeof s||"number"==typeof s||null===s||void 0===(void 0===s?"undefined":o(s)));else if(s&&"object"===(void 0===s?"undefined":o(s))){i.integrationsMappingPrefix=r;var l=i.giveMeAMoment({prefix:n.prefix,data:s},e);i.integrationsMappingCount=i.integrationsMappingCount-1,i.integrationsMappingPrefix=i.integrationsMappingParent,n.prefix=l.prefix,n.data=l.data}}return n},getNestedMapping:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this,a={origPrefix:i,data:{}};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var l=t[r],d=void 0===l?"undefined":o(l);if(i=n.mappingConnector(r,i),"string"===d||"number"===d||null==l){var u=n.mappingConnector(r,i);a.data[s.Base64.encode(u)]={mapping:[],name:e}}else if(l&&"object"===d){var c=n.getNestedMapping(l,e,i);i=c.origPrefix,a.data=c.data}}return a},getNestedMapping2:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this,a={};for(var r in t)if(Object.hasOwnProperty.call(t,r)){var l=t[r],d=void 0===l?"undefined":o(l);if("string"===d||"number"===d||null==l){var u=n.mappingConnector(r,i);a[s.Base64.encode(u)]={mapping:[],name:e}}else l&&"object"===d&&(i=n.mappingConnector(r,i),a[r]=n.getNestedMapping(l,e,i))}return a},mappingConnector:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e+"{"+t+"}"},mappingConnectorToArray:function(t){for(var e,i=[],n=/{([^}]+)}/g;e=n.exec(t);)i.push(e[1]);return i},openIntegrationsModal:function(t,e,i,n){this.integrationsModalFlowType=t,this.integrationsModalFlowStepId=e||"",this.integrationsModalSelected=i||"",this.integrationsModalFlowInsertAfterIndex=this.isValidIndex(n)||-1===n?n:"",this.$modal.show("integrations-modal",{width:681})},closeIntegrationsModal:function(){this.$modal.hide("integrations-modal")},openAddConditionalModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",i=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.resetAddConditionalModal(),this.flowConditionsModal.action=e,this.flowConditionsModal.stepType=t,this.flowConditionsModal.stepIndex=n,this.flowConditionsModal.stepId=i,this.flowConditionsModal.conditionId=o,this.$modal.show("add-condition-modal",{width:881,stepId:i})},closeAddConditionalModal:function(t,e){if("save"===t){var i="trigger"===this.flowConditionsModal.stepType?"triggers":"actions",n=this.flowData.flow_config[i][this.flowConditionsModal.stepId].conditionals;this.flowConditionsModal.action,""!==this.flowConditionsModal.conditionId?n.conditions[this.flowConditionsModal.conditionId]&&this.$events.$emit("step-condition:updated",this.flowConditionsModal.stepId,this.flowConditionsModal.conditionId,e):this.$events.$emit("step-condition:added",this.flowConditionsModal.stepId,e)}this.$modal.hide("add-condition-modal"),this.resetAddConditionalModal()},resetAddConditionalModal:function(){this.flowConditionsModal.action="",this.flowConditionsModal.stepType="",this.flowConditionsModal.stepIndex="",this.flowConditionsModal.stepId="",this.flowConditionsModal.conditionId=""},openAddConditionalAfterModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",i=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.resetAddConditionalAfterModal(),this.flowConditionsAfterModal.action=e,this.flowConditionsAfterModal.stepType=t,this.flowConditionsAfterModal.stepIndex=n,this.flowConditionsAfterModal.stepId=i,this.flowConditionsAfterModal.conditionId=o,this.$modal.show("add-condition-after-modal",{width:881,stepId:i})},closeAddConditionalAfterModal:function(t,e){if("save"===t){var i="trigger"===this.flowConditionsAfterModal.stepType?"triggers":"actions",n=this.flowData.flow_config[i][this.flowConditionsAfterModal.stepId].conditionals;this.flowConditionsAfterModal.action,""!==this.flowConditionsAfterModal.conditionId?n.conditions[this.flowConditionsAfterModal.conditionId]&&this.$events.$emit("step-condition-after:updated",this.flowConditionsAfterModal.stepId,this.flowConditionsAfterModal.conditionId,e):this.$events.$emit("step-condition-after:added",this.flowConditionsAfterModal.stepId,e)}this.$modal.hide("add-condition-after-modal"),this.resetAddConditionalAfterModal()},resetAddConditionalAfterModal:function(){this.flowConditionsAfterModal.action="",this.flowConditionsAfterModal.stepType="",this.flowConditionsAfterModal.stepIndex="",this.flowConditionsAfterModal.stepId="",this.flowConditionsAfterModal.conditionId=""},onIntegrationClick:function(t){t&&t.slug&&("trigger"!==this.integrationsModalFlowType&&"action"!==this.integrationsModalFlowType||(""!==this.integrationsModalFlowStepId?this.changeFlowStepIntegration(this.integrationsModalFlowType,t.slug,this.integrationsModalFlowStepId):this.addFlowStep(this.integrationsModalFlowType,t.slug,this.integrationsModalFlowInsertAfterIndex))),this.closeIntegrationsModal()},addFlowStep:function(t,e,i){var n=this;if(e&&("trigger"===t||"action"===t)){var o="trigger"===t?"triggers":"actions",a={integration:e},s=(this.getObjectLength(this.flowData.flow_config[o]),this.flowStepIdGenerate());this.isValidIndex(i)||-1===i?this.flowData.flow_config[o]=this.addToObject(this.flowData.flow_config[o],s,a,i):Vue.set(this.flowData.flow_config[o],s,a);var r=this.getObjectLength(this.flowData.flow_config[o]);this.$events.$emit("integration:added",t,e,r-1),setTimeout((function(){n.$scrollTo("#flowStepAction-"+s)}),500)}},getObjectLength:function(t){return Object.keys(t).length},flowStepIdGenerate:function(){return this.randId()},addToObject:function(t,e,i,n){var o={},a=0;for(var s in t)t.hasOwnProperty(s)&&(-1===n&&e&&i&&(o[e]=i),o[s]=t[s],a===n&&e&&i&&(o[e]=i),a++);return!n&&e&&i&&(o[e]=i),o},randId:function(){return Math.random().toString(36).slice(2)},changeFlowStepIntegration:function(t,e,i){if((e||this.isValidIndex(i))&&("trigger"===t||"action"===t)){var n="trigger"===t?"triggers":"actions";this.flowData.flow_config[n][i]&&(this.flowData.flow_config[n][i].integration=e,this.$events.$emit("integration:updated",t,e,i))}},isValidIndex:function(t){return void 0!==t&&""!==t&&t>=0},jsonDetach:function(t){return JSON.parse(JSON.stringify(t))},jsonParse:function(t){return JSON.parse(t)},filterIntegration:function(t){var e=this.integrations.filter((function(e){return e.slug===t}));return e.length?this.jsonDetach(e[0]):{}},getIntegrationData:function(t){return this.$root.filterIntegration(t)},getIntegrationTriggerSettings:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getIntegrationData(t);return n&&n.triggers&&n.triggers[e]&&n.triggers[e].settings?n.triggers[e].settings.data:i},getIntegrationActionSettings:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getIntegrationData(t);return n&&n.actions&&n.actions[e]&&n.actions[e].settings?n.actions[e].settings.data:i},getIntegrationActionParameter:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getIntegrationData(t);return n&&n.actions&&n.actions[e]&&n.actions[e].parameter?n.actions[e].parameter:i}},l(n,"getIntegrationActionSettings",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getIntegrationData(t);return n&&n.actions&&n.actions[e]&&n.actions[e].settings?n.actions[e].settings.data:i})),l(n,"getIntegrationMeta",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.filterIntegration(t);return n[e]?n[e]:i})),l(n,"base64encode",(function(t){return s.Base64.encode(t)})),l(n,"base64decode",(function(t){return s.Base64.decode(t)})),l(n,"isbase64encoded",(function(t){return!!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$").test(t)})),l(n,"validateResponseObject",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,n={};for(var a in e&&("string"==typeof t||"number"==typeof t||null===t||void 0===(void 0===t?"undefined":o(t))?n["{fullstepdata}"]=t:t&&"object"===(void 0===t?"undefined":o(t))?n["{fullstepdata}"]=JSON.stringify(t):n["{fullstepdata}"]=""),t)if(t.hasOwnProperty(a))if("string"==typeof t[a]||"number"==typeof t[a]||null===t[a]||void 0===o(t[a]))n[i.mappingConnector(a)]=t[a];else if("boolean"==typeof t[a])n[i.mappingConnector(a)]=t[a]?"true":"false";else if(t[a]&&"object"===o(t[a])){var s=this.validateResponseObject(t[a],!1);for(var r in n[i.mappingConnector(a)]=JSON.stringify(t[a]),s)s.hasOwnProperty(r)&&(n[i.mappingConnector(a)+r]=s[r])}return n})),l(n,"truncate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t.length>e?t.substring(0,e)+"…":t})),l(n,"copyToClipboard",(function(t){var e=document.createElement("textarea");e.style.width="0px",e.style.height="0px",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})),l(n,"getActionsKeys",(function(){return Object.keys(this.flowData.flow_config.actions)})),l(n,"prepareFieldData",(function(t){var e=this.jsonDetach(t);return void 0===e.label&&(Vue.set(e,"label",""),e.label=""),e})),l(n,"isObject",(function(t){return"[object Object]"===Object.prototype.toString.call(t)})),l(n,"numToString",(function(t){var e=this,i=t;return"number"==typeof t&&0!==t?i=t.toString():Array.isArray(t)&&(i=[],t.forEach((function(t){i.push(e.numToString(t))}))),i})),n),computed:{flowLoaded:function(){return this.flowDataLoaded&&this.integrationsLoaded&&this.integrations},integrationsWithTriggers:function(){return"action"===this.integrationsModalFlowType?this.integrations.filter((function(t){return Object.keys(t.actions).length>0})):this.integrations.filter((function(t){return Object.keys(t.triggers).length>0}))}},watch:{}}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function e(t){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.originalData=t,t)this[i]=t[i]}return n(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(t,"GET",e)}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(t,"POST",e)}},{key:"request",value:function(e,n,o){var a=this;return new Promise((function(s,r){var l={};a.action&&(l.action=a.action),a.ironikusflows_nonce&&!o.ironikusflows_nonce&&(l.ironikusflows_nonce=a.ironikusflows_nonce),a.language&&!o.language&&(l.language=a.language),e&&(l.handler=e);var d=Object.assign({},l,o);t.ajax({url:a.url+"?"+t.param(l),type:n,data:JSON.stringify(d),contentType:"application/json; charset=UTF-8",success:function(t){"string"==typeof t||"object"!==(void 0===t?"undefined":i(t))?s(JSON.parse(t)):s(t)},error:function(t){r(t)}})}))}}]),e}();e.default=o}).call(this,i(19))}]);