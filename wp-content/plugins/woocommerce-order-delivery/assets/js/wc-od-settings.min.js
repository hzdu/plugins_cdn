jQuery(function(o){"use strict";if("undefined"==typeof wc_od_settings_l10n)return!1;({init:function(){var e=o(".timepicker"),t=o(".wc-od-calendar-field");e.length&&e.timepicker({timeFormat:"H:i",maxTime:"23:59"}),this.deliveryCheckoutOptionsToggle(),this.statusToggle(),this.shippingMethodsFieldsToggle(),this.feeFieldsToggle(),t.length&&"function"==typeof o.fn.WC_OD_Calendar&&("delivery"===wc_od_settings_l10n.eventsType?t.WC_OD_Delivery_Calendar(wc_od_settings_l10n):t.WC_OD_Calendar(wc_od_settings_l10n))},deliveryCheckoutOptionsToggle:function(){var t=this,i=o('input[name="wc_od_checkout_delivery_option"]'),n=o('.wc_od_time_frames,#wc_od_checkout_text,.wc_od_delivery_days,#wc_od_max_delivery_days,[name="wc_od_delivery_fields_option"]').closest("tr");i.length&&("text"===i.filter(":checked").val()&&(n.hide(),this.settingsSectionToggle("subscription_options",!1)),i.on("change",function(){var e="text"!==i.filter(":checked").val();n.toggle(e),t.settingsSectionToggle("subscription_options",e)}))},settingsSectionToggle:function(e,t){e=o("#"+e+"-description");e.length&&(e.toggle(t),e.prev("h2").toggle(t),e.next(".form-table").toggle(t))},statusToggle:function(){o('.wc-od-input-toggle input[type="checkbox"]').on("change",function(){var e=o(this).siblings("span");o(this).prop("checked")?e.attr("class",e.attr("class").replace("disabled","enabled")):e.attr("class",e.attr("class").replace("enabled","disabled"))})},madeSortable:function(){o("table.wc-od-field-table.sortable tbody").sortable({items:"tr:not(.unsortable)",cursor:"move",axis:"y",handle:"td.sort",scrollSensitivity:40,helper:function(e,t){return t.children().each(function(){o(this).width(o(this).width())}),t.css("left","0"),t},start:function(e,t){t.item.css("background-color","#f6f6f6")},stop:function(e,t){t.item.removeAttr("style")}})},shippingMethodsFieldsToggle:function(){o("select#shipping_methods_option").on("change",function(){var e=o(this).closest("tr");"specific"===o(this).val()?(e.next("tr").hide(),e.next().next("tr").show()):("all_except"===o(this).val()?e.next("tr").show():e.next("tr").hide(),e.next().next("tr").hide())}).trigger("change")},feeFieldsToggle:function(){o("#fee_tax_status").on("change",function(){o("#fee_tax_class").closest("tr").toggle("none"!==o(this).val())}).trigger("change"),o("#fee_amount").on("keyup",function(){var e=o(this).val().replace(/[,.]/g,"");o('[name^="fee_"]').not("#fee_amount").closest("tr").toggle(0<e),0<e&&o("#fee_tax_status").trigger("change")}).trigger("keyup")}}).init()});