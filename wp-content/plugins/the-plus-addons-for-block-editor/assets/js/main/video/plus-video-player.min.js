"use strict";function tpvideoInit(e){e.querySelectorAll("iframe").length&&(e.addEventListener("DOMContentLoaded",initFluidVids(e)),document.body.addEventListener("post-load",initFluidVids(e))),document.addEventListener("ajaxComplete",function(){lazyloadVideos(document)}),document.addEventListener("click",function(e){e.target.matches('[data-mode="lazyload"] .tpgb-video-play-btn')&&(e.preventDefault(),(e=e.target.closest(".ts-video-wrapper"))&&playVideo(e))})}function initFluidVids(e){for(var t=e.querySelectorAll("iframe:not(.pt-plus-bg-video):not(.tpgb-social-vimeo):not(.wp-block-embed-youtube iframe):not(.wp-block-embed-vimeo iframe)"),i=0;i<t.length;i++)fluidvids.init(t[i])}function playVideo(e){var t=e.querySelector("video"),i=e.querySelector(".ts-video-lazyload");if(e.dataset.grow&&(e.style.maxWidth="none"),e.querySelectorAll(".tpgb-video-title, .tpgb-video-play-btn, .tpgb-video-thumb").forEach(function(e){e.classList.add("ts-video-hidden")}),i){var n,o=document.createElement("iframe"),d=i.dataset;for(n in d)o.setAttribute(n,d[n]);i.parentNode.insertBefore(o,i.nextSibling)}t&&t.play()}function lazyloadVideos(e){for(var t=e.querySelectorAll(".ts-video-wrapper[data-inview-lazyload]"),i=0;i<t.length;i++)t[i].addEventListener("inview",function(e){e.detail.isInViewport&&playVideo(e.target)},{once:!0})}!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.fluidvids=t()}(this,function(){function o(e){return new RegExp("^(https?:)?//(?:"+n.players.join("|")+").*$","i").test(e)}function i(e){var t,i,n;!o(e.src)&&!o(e.data)||e.getAttribute("data-fluidvids")||(t=document.createElement("div"),e.parentNode.insertBefore(t,e),e.className+=(e.className?" ":"")+"fluidvids-item",e.setAttribute("data-fluidvids","loaded"),t.className+="fluidvids",t.style.paddingTop=(i=e.height,n=e.width,parseInt(i,10)/parseInt(n,10)*100+"%"),t.appendChild(e))}var n={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]};document.head||document.getElementsByTagName("head")[0];return n.render=function(){for(var e=document.querySelectorAll(n.selector.join()),t=e.length;t--;)i(e[t])},n.init=function(e){for(var t in e)n[t]=e[t];n.render(),document.createElement("div").innerHTML="<p>x</p>"},n}),document.addEventListener("DOMContentLoaded",function(){tpvideoInit(document),lazyloadVideos(document)});