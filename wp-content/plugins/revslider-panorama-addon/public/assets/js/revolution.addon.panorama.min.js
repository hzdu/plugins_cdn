/**
 * @preserve 
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2021 ThemePunch
 */
!function(){var t,i,s=window.requestAnimationFrame;function e(t){this.slider=t,this.slides=[],this.panos=t.find("rs-slide[data-panorama]").each((function(t){0===t&&this.setAttribute("data-firstanim","t:notransition;s:d;sl:d;"),this.setAttribute("data-anim","ei:d;eo:d;s:d;r:0;t:fade;sl:d;")})),t.one("revolution.slide.onloaded",this.onLoaded.bind(this)).one("rsPanoramaDestroyed",this.destroy.bind(this))}function a(s,e,a,o,h){var d=JSON.parse(s.attr("data-panorama"));d=t.extend(!0,{autoplay:{enable:!1,direction:"forward",speed:100},interaction:{controls:"throw",speed:750,lockVertical:!1},zoom:{enable:!1,smooth:!0,min:75,max:150},camera:{fov:75,far:1e3},sphere:{radius:100,wsegments:100,hsegments:40},mobilelock:!1},d),$this=this,this.api=h,this.waiting=!0,this.x=0,this.y=0,this.zoomVal=1,this.width=a,this.height=o,this.slide=s,this.slider=e,this.distX=!1,this.distY=!1;var l=s.attr("data-key");l&&(this.bgImage=jQuery.fn.revolution[e[0].id].sbgs[l].loadobj.img),this.image=d.image,this.mobilelock=d.mobilelock,this.controls=d.interaction.controls,this.lockVertical=d.interaction.lockVertical,this.drag="drag"===this.controls,this.thrw="throw"===this.controls,this.move=this.drag||this.thrw,this.mouse="mouse"===this.controls,this.click="click"===this.controls,this.autoplay=n(d.autoplay.enable),this.zoom=n(d.zoom.enable),this.smoothZoom=n(d.zoom.smooth);var c="forward"===d.autoplay.direction?1:-1;this.autoplaySpeed=.001*parseInt(d.autoplay.speed,10),this.speed=this.autoplaySpeed*c,this.throwSpeed=.001*parseInt(d.interaction.speed,10),this.zoomMax=2-.01*parseInt(d.zoom.max,10),this.zoomMin=2-.01*parseInt(d.zoom.min,10),this.fov=parseInt(d.camera.fov,10),this.onSlideChange=this.slideChange.bind(this),this.onStart=this.start.bind(this),this.onZoom=this.zooming.bind(this),this.inZoom=this.zoomIn.bind(this),this.outZoom=this.zoomOut.bind(this),this.onRender=this.render.bind(this),this.onMouse=this.mouseEvent.bind(this),this.onImgChange=this.imgChange.bind(this),this.fireAction=this.onAction.bind(this),this.renderer=new THREE[i]({alpha:!0}),this.renderer.setSize(a,o),this.camera=new THREE.PerspectiveCamera(this.fov,a/o,1,parseInt(d.camera.far,10)),this.camera.target=new THREE.Vector3(0,0,0);var m=new THREE.SphereGeometry(parseInt(d.sphere.radius,10),parseInt(d.sphere.wsegments,10),parseInt(d.sphere.hsegments,10));this.texture=new THREE.TextureLoader,this.texture.crossOrigin="",this.texture.minFilter=this.texture.magFilter=THREE.LinearFilter,m.applyMatrix4((new THREE.Matrix4).makeScale(-1,1,1)),this.material=new THREE.MeshBasicMaterial,this.scene=new THREE.Scene,this.scene.add(new THREE.Mesh(m,this.material)),t.data(s[0],"rsaddonpanorama",this),this.canvas=t(this.renderer.domElement).addClass("rsaddon-panorama").appendTo(s.find("rs-sbg-wrap")),s.on("mouseleave",this.onLeave.bind(this)).find(".rs-waction").each(r,[e])}function o(t){t.stopPropagation()}function n(t){return!0===t||"true"===t||1===t||"1"===t||"on"===t}function r(t){var i=jQuery(this),s=i.attr("data-actions");if(s&&!i.hasClass("rspanoaction"))for(var e,a=(s=s.split("||")).length;a--;)(e=s[a].split("a:")).length<2||-1!==(e=e[1].split(";")[0]).search("panorama")&&i.addClass("rspanoaction").on("mousedown click mousemove touchmove",o)}window.RsAddonPanorama=function(a,o){if(i||(i=function(){var t;try{t=document.createElement("canvas"),(t=!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl")))&&(t="WebGLRenderer")}catch(t){}t||(t=window.CanvasRenderingContext2D)&&(t="CanvasRenderer");return t}())){if(a&&o&&"undefined"!=typeof THREE&&s&&o.find("rs-slide[data-panorama]").length)return(t=a).event.special.rsPanoramaDestroyed={remove:function(t){t.handler()}},new e(o)}else o.addClass("pano-no-webgl")},e.prototype={onLoaded:function(){this.slider.one("revolution.slide.onchange",this.onReady.bind(this)),jQuery(window).on("blur.rsaddonpanorama",this.onBlur.bind(this))},onReady:function(i,s){this.resize();var e=this,o=this.slider[0].id,n=jQuery.fn.revolution[o];this.panos.each((function(i){e.slides[i]=new a(t(this),e.slider,e.width,e.height,n)})),void 0===n.scwCallback&&(n.scwCallback=[]),n.scwCallback.push((function(){e.slider.trigger("rspano.slideChange."+e.slider[0].id)})),this.slider.on("revolution.slide.afterdraw",this.resize.bind(this)).on("revolution.slide.onbeforeswap",this.beforeSwap.bind(this)).on("revolution.slide.onafterswap",this.afterSwap.bind(this)).on("layeraction",this.layerAction.bind(this));var r=s.currentSlide;!r||r instanceof t||(r=t(r)),r&&r.length||(r=this.slider.find("rs-slide").eq(0)),(r=t.data(r[0],"rsaddonpanorama"))&&r.onReset(),this.panos=null},beforeSwap:function(i,s){var e=t.data(s.currentslide[0],"rsaddonpanorama");e&&e.controls&&e.removeEvents(),(e=t.data(s.nextslide[0],"rsaddonpanorama"))&&e.onReset()},afterSwap:function(i,s){var e=s.currentSlide;!e||e instanceof t||(e=t(e)),e&&e.length||(e=this.slider.find("rs-slide").eq(0)),t(".rs-addon-pano-active").removeClass("rs-addon-pano-active"),e.addClass("rs-addon-pano-active"),this.currentSlide=t.data(e[0],"rsaddonpanorama"),!(e=s.prevSlide)||e instanceof t||(e=t(e)),e&&e.length&&(e=t.data(e[0],"rsaddonpanorama"))&&(e.paused=!0)},resize:function(){this.width=this.slider.width(),this.height=this.slider.height();for(var t=this.slides.length;t--;)this.slides[t].resize(this.width,this.height)},onBlur:function(){for(var t,i=this.slides.length;i--;)(t=this.slides[i]).clear(),t.canvas.trigger("mouseup").trigger("mouseleave").trigger("touchend")},layerAction:function(t,i,s,e){var a=e.action;if(a&&-1!==a.search("panorama")&&this.currentSlide){var o=!!e.hasOwnProperty("percentage")&&.05*e.percentage;this.currentSlide.action(a.replace("panorama_",""),o)}},destroy:function(){if(this.slides)for(;this.slides.length;)this.slides[0].destroy(),this.slides.shift();for(var t in this)this.hasOwnProperty(t)&&delete this[t]}},a.prototype={start:function(t){"object"==typeof t&&t.hasOwnProperty("uuid")&&(this.texture=t),this.imgLoaded||(this.imgLoaded=!0),this.texture.magFilter=this.texture.minFilter=THREE.LinearFilter,this.texture.needsUpdate=!0,this.currentSlide&&(this.waiting&&this.handleSlideChange(),this.newImage&&(this.x=0,this.y=0,this.zoomVal=1,this.camera.fov=this.fov,this.camera.updateProjectionMatrix(),this.newImage=!1),this.controller=!1,this.paused=!1,s(this.onRender),this.addEvents(),this.running=!0,this.slider.addClass("rsaddon-pano"))},handleSlideChange:function(){this.slideChangeHandled||(this.api.scwCount<=1?(this.api.scwTween&&"function"==typeof this.api.scwTween.kill&&(this.api.scwTween.kill(),this.api.scwTween=null),this.api.scwTimeout&&"function"==typeof this.api.scwTimeout.kill&&(this.api.scwTimeout.kill(),this.api.scwTimeout=null),this.api.scwTween=tpGS.gsap.to(this.api.pr_next_slide,{duration:1,autoAlpha:1}),this.api.loader&&this.api.loader.css({display:"none"}),this.api.scwCount--,this.waiting=!1):(this.api.scwCount--,this.api.scwDur=1,this.waiting=!1),this.slideChangeHandled=!0)},render:function(){if(!this.paused&&this.camera){if(this.y=this.mobilelock||!0===this.lockVertical?0:Math.max(-85,Math.min(85,this.y)),!1!==this.distX||!1!==this.distY)!1!==this.distX?(this.x+=.05*(this.distX-this.x),Math.abs(this.distX-this.x)<1&&(this.distX=!1,clearInterval(this.actionTimer))):!1!==this.distY&&(this.y+=.05*(this.distY-this.y),Math.abs(this.distY-this.y)<1&&(this.distY=!1,clearInterval(this.actionTimer)));else if(this.controller)if(this.move){if(this.thrw)if(this.mousedown)this.vx=this.x-this.oldX,this.vy=this.y-this.oldY,this.oldX=this.x,this.oldY=this.y;else{var t=Math.abs(this.vx),i=Math.abs(this.vy);t>.01&&(this.x+=this.vx),i>.01&&(this.y+=this.vy),this.vx*=this.throwSpeed,this.vy*=this.throwSpeed,t<=.01&&i<=.01&&(this.controller=!1)}}else{var e=(this.mouseX-this.left)/this.width,a=(this.mouseY-this.top)/this.height;e=e<=.5?-180*(1-2*e):2*(e-.5)*180,a=a<=.5?85*(1-2*a):2*(a-.5)*-85,a=Math.max(-85,Math.min(85,a)),this.x+=.05*(e-this.x),this.y+=.05*(a-this.y),(this.click||this.mouse)&&Math.abs(e-this.x)<1&&Math.abs(a-this.y)<1&&(this.controller=!1)}else this.autoplay&&(this.x+=this.speed);var o=THREE.Math.degToRad(this.x),n=THREE.Math.degToRad(90-this.y);this.camera.target.x=Math.sin(n)*Math.cos(o),this.camera.target.z=Math.sin(n)*Math.sin(o),this.camera.target.y=Math.cos(n),this.camera.lookAt(this.camera.target),this.smoothZoom&&(this.camera.fov+=.05*(this.fov*this.zoomVal-this.camera.fov),this.camera.updateProjectionMatrix()),this.renderer.render(this.scene,this.camera),s(this.onRender)}},onLeave:function(){clearInterval(this.actionTimer),clearInterval(this.zoomTimer)},clear:function(){clearInterval(this.actionTimer),clearInterval(this.zoomTimer),this.distX=!1,this.distY=!1},onAction:function(){this.action(this.actionType,this.actionPerc)},action:function(t,i){var s,e;switch(t){case"left":this.distX=this.x+-180*i;break;case"right":this.distX=this.x+180*i;break;case"up":e=this.y+85*i,this.distY=Math.max(-85,Math.min(85,e));break;case"down":e=this.y+-85*i,this.distY=Math.max(-85,Math.min(85,e));break;case"leftstart":s="left";break;case"rightstart":s="right";break;case"upstart":s="up";break;case"downstart":s="down";break;case"leftend":case"rightend":case"upend":case"downend":clearInterval(this.actionTimer);break;case"zoomin":clearInterval(this.zoomTimer),this.zooming("gestureend",.5);break;case"zoomout":clearInterval(this.zoomTimer),this.zooming("gestureend",1.5);break;case"zoominstart":clearInterval(this.zoomTimer),this.inZoom(),this.zoomTimer=setInterval(this.inZoom,100);break;case"zoomoutstart":clearInterval(this.zoomTimer),this.outZoom(),this.zoomTimer=setInterval(this.outZoom,100);break;case"zoominend":case"zoomoutend":clearInterval(this.zoomTimer)}s&&(this.clear(),this.actionPerc=i,this.actionType=s,this.fireAction(),this.actionTimer=setInterval(this.fireAction,100))},slideChange:function(){var t=this;this.slideChangeHandled=!1,this.waiting?(this.api.loader&&this.api.loader.css({display:"block"}),tpGS.gsap.delayedCall(2,(function(){t.handleSlideChange()}))):this.handleSlideChange()},zooming:function(t,i){var s;return this.prevZoom=this.zoomVal,"gestureend"!==t?(s=t.type,i=t.scale):s=t,"gestureend"!==s?t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?this.zoomVal-=.05:this.zoomVal+=.05:i<1?this.zoomVal-=.05:this.zoomVal+=.05,this.zoomVal=Math.max(this.zoomMax,Math.min(this.zoomMin,this.zoomVal)),this.zoomVal!==this.zoomMax&&this.zoomVal!==this.zoomMin||clearInterval(this.zoomTimer),this.smoothZoom||(this.camera.fov=this.fov*this.zoomVal,this.camera.updateProjectionMatrix()),!1},zoomIn:function(){this.zooming("gestureend",.5)},zoomOut:function(){this.zooming("gestureend",1.5)},imgChange:function(){this.timer=setTimeout(this.onStart,500)},update:function(t,i,s){switch(clearTimeout(this.timer),this.removeEvents(),this.paused=!0,t){case"image":this.newImage=!0,this.material.map=this.texture.load(i,this.onImgChange);break;case"controls":this.controls=i,"none"!==i?(this.drag="drag"===i,this.thrw="throw"===i,this.mouse="mouse"===i,this.click="click"===i,this.move=this.drag||this.thrw):(this.x=0,this.y=0);break;case"autoplay":this.autoplay=n(i);break;case"direction":var e="forward"===i?1:-1;this.speed=this.autoplaySpeed*e;break;case"zoom":"false"==i?(delete this.zoom,this.zoomVal=1,this.camera.fov=this.fov,this.camera.updateProjectionMatrix()):this.zoom=!0;break;case"smooth":this.smoothZoom=n(i)}"image"!==t&&(this.timer=setTimeout(this.onStart,500))},resize:function(t,i){this.width=t,this.height=i,this.renderer.setSize(t,i),this.camera.aspect=t/i,this.camera.updateProjectionMatrix()},onReset:function(){if(this.slider.on("rspano.slideChange."+this.slider[0].id+"."+this.slide.data("key"),this.onSlideChange),this.paused=!0,this.currentSlide=!0,this.x=0,this.y=0,this.distX=!1,this.distY=!1,this.zoomVal=1,this.camera.fov=this.fov,this.camera.updateProjectionMatrix(),this.imgLoaded)this.start();else{var t=this;this.bgImage?this.bgImage.complete?(t.texture=new THREE.Texture(this.bgImage),t.texture.minFilter=t.texture.magFilter=THREE.LinearFilter,t.texture.needsUpdate=!0,this.material.map=t.texture,requestAnimationFrame(this.onStart)):this.bgImage.addEventListener("load",(function(){t.texture=new THREE.Texture(this),t.onStart(),t.texture.minFilter=t.texture.magFilter=THREE.LinearFilter,t.texture.needsUpdate=!0,t.material.map=t.texture})):this.material.map=this.texture.load(this.image,this.onStart)}},enterMouse:function(t,i){this.move&&this.canvas.removeClass("rsaddon-panorama-drag").addClass("rsaddon-panorama-dragging"),this.clear(),this.controller=!0,this.mousedown=!0;var s=this.slider.offset();if(this.left=s.left,this.top=s.top,!i){var e=t.originalEvent.touches;e&&(t=e[0]),this.startX=t.pageX-this.left,this.startY=t.pageY-this.top,this.prevX=this.x,this.prevY=this.y,this.oldX=this.x,this.oldY=this.y,this.canvas.on("mousemove.rsaddonpanorama touchmove.rsaddonpanorama",this.onMouse)}},mouseEvent:function(t){if(this.onLeave(),-1!==t.type.search(/move|click/)){if(this.move){if(!this.controller||!this.mousedown)return}else this.controller||this.enterMouse(t,!0);var i=t.originalEvent.touches;i&&(t=i[0]),this.move?(this.x=this.prevX+.1*(this.startX-(t.pageX-this.left)),this.y=this.prevY+.1*(t.pageY-this.top-this.startY)):(this.mouseX=t.pageX,this.mouseY=t.pageY)}else-1!==t.type.search(/down|enter|start/)?this.enterMouse(t):(this.canvas.off("mousemove.rsaddonpanorama touchmove.rsaddonpanorama"),this.drag&&(this.controller=!1),this.mousedown=!1,this.move&&this.canvas.removeClass("rsaddon-panorama-dragging").addClass("rsaddon-panorama-drag"))},addEvents:function(){switch(this.controls){case"drag":case"throw":this.canvas.on("mousedown.rsaddonpanorama mouseup.rsaddonpanorama mouseleave.rsaddonpanorama touchstart.rsaddonpanorama touchend.rsaddonpanorama touchcancel.rsaddonpanorama",this.onMouse);break;case"click":this.slide.on("click.rsaddonpanorama",this.onMouse);break;case"mouse":this.slide.on("mousemove.rsaddonpanorama touchmove.rsaddonpanorama",this.onMouse)}this.zoom&&this.slider.on("mousewheel.rsaddonpanorama DOMMouseScroll.rsaddonpanorama gestureend.rsaddonpanorama",this.onZoom),"none"!==this.controls&&(this.move?this.canvas.addClass("rsaddon-panorama-drag"):this.click&&this.slide.addClass("rsaddon-panorama-click"))},removeEvents:function(){switch(this.clear(),this.mousedown=!1,this.controller=!1,this.currentSlide=!1,this.controls){case"drag":case"throw":this.canvas.off(".rsaddonpanorama");break;case"mouse":case"click":this.slide.off(".rsaddonpanorama")}this.slider.off(".rsaddonpanorama"),this.slide.removeClass("rsaddon-panorama-click"),this.canvas.removeClass("rsaddon-panorama-drag rsaddon-panorama-dragging"),this.slider.off("rspano.slideChange."+this.slider[0].id+"."+this.slide.data("key"),this.onSlideChange)},destroy:function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]}},window.RS_MODULES=window.RS_MODULES||{},window.RS_MODULES.panorama={loaded:!0,version:"3.0.8"},window.RS_MODULES.checkMinimal&&window.RS_MODULES.checkMinimal()}();