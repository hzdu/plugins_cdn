(()=>{var e,t,n={3436:(e,t,n)=>{jQuery,TVE.Views.Components.question=n(2639),TVE.Views.Components.answerItem=n(1261),TVE.Views.Components.Icon=n(4599)},1261:e=>{e.exports=TVE.Views.Base.component.extend({after_init:function(){TVE.add_filter("tcb_save_post_data_before",(function(e){var t=TVE.Views.Controls.Palettes.prototype.getPaletteConfig(TVE.Editor_Page.editor.find(".tqb-question-wrapper")),n="";return jQuery.isEmptyObject(t)||(Object.keys(t.config.colors).forEach((function(e,o){-1===t.config.colors[e].parent&&(n=e)})),TVE.Editor_Page.editor.find(".tqb-answer-inner-wrapper").addClass("tqb-active-answer"),TVE.Editor_Page.editor.find(".tqb-active-answer").head_css({"background-color":"var(--tcb-local-color-"+n+")!important"},TVE.main.responsive.desktop.media,"","",".tqb-active-answer:not(.tqb-rw)"),TVE.Editor_Page.editor.find(".tqb-fancy-icon").head_css({"background-color":"var(--tcb-local-color-"+n+")!important"},TVE.main.responsive.desktop.media,"","",".tqb-active-answer:not(.tqb-rw) "),TVE.Editor_Page.editor.find(".tqb-fancy-container").head_css({"background-color":"var(--tcb-local-color-"+n+")!important"},TVE.main.responsive.desktop.media,"","",".tqb-active-answer:not(.tqb-rw) "),e.inline_rules=TVE.Editor_Page.content_manager.get_stylesheet_rules(),TVE.Editor_Page.editor.find(".tqb-answer-inner-wrapper").removeClass("tqb-active-answer")),e}))}})},4599:e=>{var t=TVE.Views.Components.Icon;e.exports=t.extend({controls_init:function(){t.prototype.controls_init.apply(this,arguments),this.controls.Slider.input=function(e,t){var n={},o=this;this.getCssProps().forEach((function(e){n[e]=t.value+o.getUM()+"!important"})),this.applyElementCss(n,e,this.config.css_suffix,this.config.css_prefix),!TVE.SKIP_CSS_STATE&&this.component.controls.StyleChange&&this.component.controls.StyleChange.update()}},after_update:function(){this.controls.ToggleURL.$el.hide()}})},2639:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var r;r=jQuery,e.exports=TVE.Views.Base.component.extend({before_update:function(){this.generateInitialPalettes()},after_update:function(){var e=TVE.Editor_Page.editor.find(".tqb-fancy-icon");e.attr("data-css")||e.head_css({top:"50%!important","margin-top":"-"+e.height()/2+"px"},TVE.main.responsive.desktop.media)},generateInitialPalettes:function(){if(TVE.ActiveElement){var e=this.controls.Palettes.config.to?TVE.ActiveElement.find(this.controls.Palettes.config.to):TVE.ActiveElement,t=TVE.Views.Controls.Palettes.prototype.getPaletteConfig(e);!t||r.isEmptyObject(t)||t.palettes[t.active_palette]&&t.palettes[t.active_palette].original||(TVE.Views.Controls.Palettes.prototype.onElementInsert(),_.each(t.palettes[0].value.colors,(function(e,t){if(TVE.changeCssVariableValue("--tcb-local-color-"+t,e.val,TVE.ActiveElement),e.selector){var r=e.css_property?e.css_property:"background-color",a=n(2868),i="style_"+QNA.getQuizStyle();"object"===o(a[i])&&"function"==typeof a[i][r]&&a[i][r](e,t)}})))}},resetQuestion:function(){QNA.resetPgModel(),TVE.Editor_Page.editor.html(TVE.main.static_element("tqb_question").html()),TVE.Editor_Page.focus_element(TVE.Editor_Page.editor.find(".tqb-question-wrapper")),QNA.elementIcons()}})},4787:e=>{var t;t=jQuery,e.exports={all:{questionWrapper:".tqb-question-wrapper",questionContainer:".tqb-question-container",questionText:".tqb-question-text",questionDescription:".tqb-question-description",answersContainer:".tqb-answers-container",answerItem:".tqb-editor-answer-wrapper",answerImageItem:".tqb-image-answer",answerOpenItem:".tqb-open-answer",answerText:".tqb-answer-text",progressbarContainer:".tqb-progress-container",progressbarLabel:".tqb-progress-label",progress:".tqb-progress",nextQuestion:".tqb-button-holder",nextQuestionButton:".tqb-next-button",prevQuestionButton:".tqb-prev-button",answerIcon:".tqb-answer-icon"},draggable:[".tqb-question-text",".tqb-question-description",".tqb-question-image-container",".tqb-progress-container",".tqb-answers-container",".tve_image_caption",".tqb-label-container"],notEditable:[".tqb-answer-feedback-right",".tqb-answer-feedback-wrong",".tqb-feedback-right",".tqb-feedback-wrong",".tqb-editor-answer-wrapper",".tqb-right",".tqb-wrong",".tqb-answer-text",".tqb-progress",".tqb-button-holder",".tqb-next-button",".tqb-prev-button",".tqb-answer-icon"],noIcons:{".tqb-question-wrapper":"tve_no_icons",".tqb-editor-answer-wrapper":"tve_no_icons",".tqb-right":"tve_no_icons",".tqb-wrong":"tve_no_icons",".tqb-answer-text":"tve_no_icons",".tqb-answer-feedback":"tve_no_icons",".tqb-feedback-text":"tve_no_icons",".tqb-button-holder":"tve_no_icons",".tqb-icon":"tve_no_icons",".tqb-next-button":"tve_no_icons",".tqb-prev-button":"tve_no_icons",".tqb-answer-icon":"tve_no_icons",".tqb-image-answer-right":"tve_no_icons",".tqb-image-answer-wrong":"tve_no_icons",".tqb-question-container":"tve_no_icons",".tqb-question-text":"tve_no_icons",".tqb-question-description":"tve_no_icons",".tqb-progress-container":"tve_no_icons",".tqb-answers-container":"tve_no_icons",".tqb-progress-label":"tve_no_icons",".tqb-progress":"tve_no_icons",".thrv-columns":"tve_no_icons",".tcb-col":"tve_no_icons",".tqb-label-container":"tve_no_icons"},asString:function(e){return e+","+this.values().join(",")},keys:function(){return Object.keys(this.all)},values:function(){var e=[];return _.each(Object.keys(this.all),(function(t){e.push(this.all[t])}),this),e},prepareTemplates:function(e){var n=t(e.tve_content),o={},r=["answerText","progress"];return _.each(this.all,(function(e,a){if(!r.includes(a)){var i=a+"Template",s="",c=t(n[0].outerHTML);"function"==typeof this[i]&&(s=this[i](e,c)),s.length<=0&&(s=this.defaultTemplate(e,c)),o[a]=s}}),this),e.qna_templates={},e.qna_templates[QNA.getQuizStyle()]=o,e},questionTextTemplate:function(e,n){return t(this.defaultTemplate(e,n)).html("<span><#= item.get('text') #></span>")[0].outerHTML},nextQuestionTemplate:function(e,t){var n=t.find(e);return n.addClass("tqb-hide"),n[0].outerHTML},answerTextTemplate:function(e,t){t.find(".tqb-span-text").length||t.find(".tqb-answer-text").html('<span class="tqb-span-text"></span>'),t.find(".tqb-span-text").html("<#= item.get('text') #>")},answerItemTemplate:function(e,t){if(!t.find(e).length)return"";var n=t.find(e);return _.each(["answerText"],(function(e){var t=e+"Template";n.find(this.all[e]).html(this[t](this.all[e],n))}),this),n.removeClass("tve-state-expanded tqb-right-answer"),n.find(".tqb-feedback-inner").empty(),n.find(".tqb-answer-feedback").addClass("tqb-hide"),n[0].outerHTML},answerImageItemTemplate:function(e,t){var n=TVE.Editor_Page.editor.find(".tqb-editor-answer-wrapper").head_css("background-color","",".tve-state-expanded.tqb-editor-answer-wrapper"),o=TVE.Editor_Page.editor.find(".tqb-image-answer .tqb-fancy-container");return o.find(".tqb-image-answer .tqb-fancy-container").head_css({"background-color":n+"!important"},TVE.main.responsive.desktop.media,".tve-state-expanded"),t.find(".tqb-image-answer .tqb-fancy-container").attr("data-css",o.attr("data-css")),this.answerItemTemplate(e,t)},answerOpenItemTemplate:function(e,t){var n=t.find(e);return n.removeClass("tqb-hide"),n[0].outerHTML},progressbarContainerTemplate:function(e,n){n.find(".tqb-progress-label span").html("<#= model.getPercentToDisplay() #>% <#= model.get( 'label_text' ) #>");var o="<#= model.get( 'percentage' ) #>%",r="calc( "+o+" )",a=n.find(".tqb-progress-completed"),i=t('<div class="tqb-progress-completed" data-css="'+a.data("css")+'" style="width: '+r+'"></div>');return a.replaceWith(i),r="calc( "+(o="<#= estimatedProgress #>%")+" )",a=n.find(".tqb-next-item"),i=t('<div class="tqb-next-item" data-css="'+a.data("css")+'" style="width: '+r+'"></div>'),a.replaceWith(i),r="calc( "+(o="<#= remaining #>%")+" )",a=n.find(".tqb-remaining-completed"),i=t('<div class="tqb-remaining-completed" data-css="'+a.data("css")+'" style="width: '+r+'"></div>'),a.replaceWith(i),n.find(e)[0].outerHTML},questionDescriptionTemplate:function(e,n){return t(this.defaultTemplate(e,n)).html("<span><#= item.get('description') #></span>")[0].outerHTML},questionWrapperTemplate:function(e,t){var n=t.closest(e);return n.length<=0?"":(_.each(this.all,(function(e){n.find(e).empty()})),n.find(".thrive-colors-palette-config").remove(),n[0].outerHTML)},questionContainerTemplate:function(e,t){var n=t.find(e),o=jQuery(n[0].outerHTML);return _.each(this.all,(function(e){n.find(e).empty()})),n.find(".tqb-question-text").html("<#= item.get('text') #>"),n.find(".tqb-question-description").replaceWith("<# if (item.get('description') ) { #><div class=\"tqb-question-description\"><#= item.get('description') #></div><# } #>"),n.find(".tqb-question-description").attr("data-css",o.find(".tqb-question-description").attr("data-css")),n[0].outerHTML},answersContainerTemplate:function(e,t){return this.defaultTemplate(e,t)},answerIconTemplate:function(e,t){return TVE.Editor_Page.editor.find(e)[0].outerHTML},progressbarLabelTemplate:function(e,t){var n=t.find(e);return n.find("span").html("<#= model.getPercentToDisplay() #>% <#= model.get( 'label_text' ) #>"),n[0].outerHTML},defaultTemplate:function(e,t){var n=t.find(e);return n.empty(),n.length?n[0].outerHTML:""}}},2868:e=>{var t=function(e,t){var n=TVE.ActiveElement.find(e.selector),o=TVE.CONST.colors.local_prefix+"var",r=TVE.CONST.colors.local_prefix+"icon",a={color:"var(--tcb-local-color-"+t+") !important","--tve-applied-color":"var(--tcb-local-color-"+t+")"};n.is(".tqb-icon")&&(a[o]="var(--tcb-local-color-"+t+")",a[r]="var(--tcb-local-color-"+t+")"),n.head_css(a,TVE.main.responsive.desktop.media)},n=function(e,t){TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media)},o=function(e,t){TVE.ActiveElement.find(e.selector).head_css({"border-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media)};e.exports={style_5:{"background-image":function(e,t){var n=e.gradient_val,o=TVE.Views.Controls.Palettes.prototype.getPaletteConfig(TVE.ActiveElement),r="";_.each(e.gradient_colors,(function(e){var t="var(--tcb-local-color-"+e+")",r=o.palettes[0].value.colors[e];n=n.replace(r.val,t)})),TVE.state_manager.set_state("hover"),".tve-state-expanded.tqb-active-answer"===e.selector&&(TVE.state_manager.set_state("expanded"),r=".tve-state-expanded.tqb-active-answer",TVE.ActiveElement.find(".tqb-editor-answer-wrapper").addClass("tve-state-expanded tqb-active-answer tcb-group-editing-item")),TVE.ActiveElement.find(e.selector).head_css({"background-image":n+"!important"},TVE.main.responsive.desktop.media,r),".tve-state-expanded.tqb-active-answer"===e.selector&&TVE.ActiveElement.find(".tqb-editor-answer-wrapper").removeClass("tve-state-expanded tqb-active-answer tcb-group-editing-item"),TVE.state_manager.set_state()},"background-color":function(e,t){TVE.ActiveElement.find(".tqb-answer-inner-wrapper").head_css({"background-color":"#2b8635 !important","border-color":"#2b8635 !important"},TVE.main.responsive.desktop.media,".tve-state-expanded.tqb-right"),TVE.ActiveElement.find(".tqb-answer-inner-wrapper").head_css({"background-color":"#ab0016 !important","border-color":"#ab0016 !important"},TVE.main.responsive.desktop.media,".tve-state-expanded.tqb-wrong"),n(e,t)},color:t,"border-color":function(e,t){var n=TVE.ActiveElement.find(e.selector);n.head_css({"border-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media,":hover"),n.head_css({"border-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media,":focus")}},style_4:{"background-color":function(e,t){TVE.state_manager.set_state("hover"),TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media,":not(.tqb-disable-answer)",null," .no-touch "),TVE.Editor_Page.editor.find(".tqb-answer-inner-wrapper").head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media,":not(.tqb-disable-answer) .tqb-fancy-container",null," .no-touch "),TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media,":not(.tqb-disable-answer) .tqb-fancy-icon",null," .no-touch "),TVE.state_manager.set_state(),[".tqb-progress-completed",".tqb-next-item"].includes(e.selector)&&n(e,t)},color:t,"border-color":function(e,t){TVE.state_manager.set_state("hover"),TVE.Editor_Page.editor.find(e.selector).head_css({"border-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media),TVE.state_manager.set_state("focus"),TVE.Editor_Page.editor.find(e.selector).head_css({"border-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media),TVE.state_manager.set_state("")}},style_3:{"background-color":n,"box-shadow":function(e,t){TVE.Views.Components.Shadow.prototype.collection=new Backbone.Collection,TVE.Views.Components.Shadow.prototype.tabs={},TVE.Views.Components.Shadow.prototype.config={},TVE.Views.Components.Shadow.prototype.tabs.panels=[];var n=TVE.ActiveElement.find(e.selector).head_css("box-shadow",!1,"",!0,""),o=TVE.Views.Components.Shadow.prototype.parseCss(n);if(o.length){o.at(0).set({color:"var(--tcb-local-color-"+t+")"});var r=TVE.Views.Components.Shadow.prototype.buildShadowAttribute(o);TVE.ActiveElement.find(e.selector).head_css({"box-shadow":r+"!important"},TVE.main.responsive.desktop.media)}delete TVE.Views.Components.Shadow.prototype.collection,delete TVE.Views.Components.Shadow.prototype.config,delete TVE.Views.Components.Shadow.prototype.tabs.panels}},style_2:{"background-color":function(e,t){TVE.ActiveElement.find(e.selector).is(".tqb-answer-inner-wrapper")&&TVE.state_manager.set_state("hover"),TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media),TVE.state_manager.set_state("")},color:t},style_1:{"background-color":function(e,t){".tqb-answer-inner-wrapper:not(.tqb-open-ended-wrapper):hover"===e.selector&&(TVE.state_manager.set_state("hover"),e.selector=".tqb-answer-inner-wrapper:not(.tqb-open-ended-wrapper)"),TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media),TVE.state_manager.set_state("")},color:t,"border-color":o},style_0:{"background-color":function(e,t){".tqb-answer-inner-wrapper:not(.tqb-open-ended-wrapper)"===e.selector&&TVE.state_manager.set_state("hover"),TVE.ActiveElement.find(e.selector).head_css({"background-color":"var(--tcb-local-color-"+t+") !important"},TVE.main.responsive.desktop.media),TVE.state_manager.set_state("")},"border-color":o,color:t}}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}t=Backbone.Model.extend({show:function(){return 1===parseInt(this.get("display_progress"))},getPercentage:function(){return"percentage_completed"===this.get("percent_type")?33:67},getDefaultLabel:function(){return"percentage_completed"===this.get("percent_type")?"COMPLETED":"REMAINING"}}),function(n){r(3436);var o=r(4787);function a(e){return e+","+_.filter(o.all,(function(e){return!o.notEditable.includes(e)})).join(", ")}function i(e){var t="";return Object.keys(o.all).forEach((function(e){t+=","+o.all[e]})),e+t}QNA=window.QNA||{},QNA.getQuizStyle=function(){return this.data&&this.data.quiz&&this.data.quiz.style?this.data.quiz.style:null},QNA.elementIcons=function(){_.each(o.noIcons,(function(e,t){TVE.Editor_Page.editor.find(t).addClass(e)}))},QNA.getPgModel=function(){return e instanceof t||(e=new t(TVE.inner.window.tve_frontend_options.qna_data.pg_settings)),e},QNA.resetPgModel=function(){e=null},n(window).on("tcb_main_ready",(function(){TVE&&(TVE.add_filter("selectors_mouseover",a),TVE.add_filter("selectors_editable",a),TVE.add_filter("non_draggable",i),TVE.add_filter("tcb_save_post_data_after",_.bind(o.prepareTemplates,o)),TVE.add_filter("tcb.components.hide",(function(e,t,n){return"animation"===t&&(e=!0),TVE.ActiveElement&&TVE.ActiveElement.is(".tqb-next-icon")&&(e="icon"!==t),e})),TVE.add_filter("tcb.components.expanded_key",(function(e,t){return["tqb_question_text","tqb_question_description","tqb_progress_bar_label"].includes(t)&&(e="typography"),e})),TVE.add_filter("tcb_element_variables",(function(e){return e.is(".tqb-progress-container")&&(e=e.find(".tqb-progress")),e})),TVE.add_filter("tcb.write.shadow.suffix.tqb_answers_container",(function(e,t){return"text-shadow"===t&&(e=" .tqb-span-text"),e})),TVE.add_action("tcb-ready",(function(){var e=TVE.inner.window.tve_frontend_options.qna_data;n.extend(QNA,{data:e}),TVE.Editor_Page.focus_element(TVE.Editor_Page.editor.find(".tqb-question-wrapper")),QNA.elementIcons(),TVE.main.$el.find("#tcb-post-option-breadcrumb").addClass("tcb-hide")})),TVE.Views.Components.Group.prototype.handle_icons=function(e){TVE.ElementEditIcons.$lock.toggle(!1),TVE.ElementEditIcons.$unlock.toggle(!1),TVE.main.$('[data-view="ButtonToggle"]').hide()},TVE.Views.Controls.DropPanel.prototype.after_open=function(){TVE.ActiveElement&&TVE.ActiveElement.is(".tqb-question-wrapper, .tqb-progress-container")&&this.$(".sp-favorites-container").addClass("tcb-hidden")})}))}(jQuery)})();