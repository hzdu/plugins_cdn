(()=>{var e={6376:e=>{var t;t=jQuery,e.exports={show_hide_dynamic_content_element:function(){var e=jQuery('.tve-element[data-elem="tqb_dynamic_content"]');TVE.inner_$(".tqb-dynamic-content-container").length>0?e.addClass("tve-hide"):e.removeClass("tve-hide")},show_hide_social_share_badge_element:function(){var e=jQuery('.tve-element[data-elem="tqb_social_share_badge"]');TVE.inner_$(".tqb-social-share-badge-container").length>0?e.addClass("tve-hide"):e.removeClass("tve-hide")},is_integer_number:function(e){return Math.floor(e)==e&&t.isNumeric(e)},state_ajax:function(e,t){var a={type:"post",dataType:"json",url:tqb_page_data.ajaxurl};if(e.action=tqb_page_data.state_action,e.variation_id=e.variation_id||tqb_page_data.variation_id,e.page_id=tqb_page_data.page_id,e.security=tqb_page_data.security,e.tqb_key=!0,a.data=e,t)for(var n in t)a[n]=t[n];return jQuery.ajax(a,e)},tpl_ajax:function(e,t,a){var n={type:"post",dataType:"json",url:tqb_page_data.ajaxurl};if(void 0!==a&&a||TVE.main.overlay(),e.action=tqb_page_data.tpl_action,e.variation_id=e.variation_id||tqb_page_data.variation_id,e.page_id=tqb_page_data.page_id,e.security=tqb_page_data.security,e.tqb_key=!0,n.data=e,t)for(var i in t)n[i]=t[i];return jQuery.ajax(n,e)},insertStateResponse:function(e){TVE.inner_$(".tqb-dynamic-content-container").attr("tqb-saved","true"),tqb_page_data=jQuery.extend(tqb_page_data,e.tqb_page_data,!0),e.state_bar&&jQuery("#tqb-form-states").html(e.state_bar),this.popover(),this.hover_numeric_range_preview()},insertResponse:function(e){var t,a,n=this;function i(){tqb_page_data=jQuery.extend(tqb_page_data,e.tqb_page_data,!0),TVE.inner_$("#tqb-editor-replace").replaceWith(e.main_page_content),jQuery("#tqb-form-states").empty(),TVE.Editor_Page.initEditorActions(),n.show_hide_dynamic_content_element(),n.show_hide_social_share_badge_element()}TVE.inner_$(".tve_custom_style,.tve_user_custom_style").remove(),TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!1,TVE.Editor_Page.content_manager.refresh_global_style_node(),TVE.inner_$("head").append(e.custom_css),"sheet"in document.createElement("link")?(t="sheet",a="cssRules"):(t="styleSheet",a="rules");var s=!1,r=jQuery();TVE.inner_$.each(e.css,(function(e,t){if(!TVE.inner_$("link#"+e+"-css").length){s=!0;var a=TVE.inner_$("<link />",{rel:"stylesheet",type:"text/css",id:e+"-css",href:t}).appendTo("head");-1===t.indexOf("fonts.googleapis")&&(r=r.add(a))}})),s?function e(n,i){var s=!0;window.tqb_loaded_count=window.tqb_loaded_count||1,window.tqb_loaded_count++,n.each((function(){try{if(!this[t]||!this[t][a]||!this[t][a].length)return s=!1,!1}catch(e){return s=!1,!1}})),s||window.tqb_loaded_count>40?i():setTimeout((function(){e(n,i)}),500)}(r,i):i()},popover:function(){var e=t(".tqb-tcb-intervals-item");e.data("bs.popover")&&e.popover("destroy"),e.popover({}),e.on("click",(function(t){e.not(this).popover("hide")}))},hover_numeric_range_preview:function(){t(".tqb-tcb-intervals-item").hover((function(){var e=t(this);e.hasClass("tqb-tcb-intervals-item-active")||t('.tqb-tcb-numeric-range-preview[data-id="'+e.attr("data-id")+'"]').css("visibility","visible")}),(function(){var e=t(this);e.hasClass("tqb-tcb-intervals-item-active")||t('.tqb-tcb-numeric-range-preview[data-id="'+e.attr("data-id")+'"]').css("visibility","hidden")}))}}},2487:e=>{e.exports=TVE.Views.Base.component.extend({controls_init:function(){},placeholder_action:function(){TQB.ResultIntervals.get_instance(TVE.modal.get_element("result-intervals")).open({top:"20%",dismissible:!1})}})},2357:e=>{var t=null;e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},delete_all_dynamic_content:function(e,t){TQB.States.delete_all_states(),this.close()}},{get_instance:function(e){return t||(t=new TQB.DeleteDynamicContent({el:e})),t}})},1644:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},equalize_intervals:function(e,t){var a=this;i.state_ajax({custom:"equalize"}).done((function(e){i.insertStateResponse(e),TQB.States.click_first_state(),a.close()}))}},{get_instance:function(e){return n||(n=new TQB.EqualizeIntervals({el:e})),n}})},8609:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},before_open:function(){var e='<option value="" selected="selected">Select an interval</option>';_.each(tqb_page_data.intervals,(function(t,a){parseInt(t.id)!==parseInt(this.child_id)&&(e+='<option value="'+t.id+'">'+t.post_title+"</option>")}),this),this.$("#tqb-import-from").html(e)},import_content:function(e,t){var a=this,n=this.$("#tqb-import-from").val();if(!i.is_integer_number(this.child_id)||!i.is_integer_number(n))return TVE.page_message("Select an option",2,5e3),!1;i.state_ajax({custom:"import",import_to:this.child_id,import_from:n}).done((function(e){if(e){TVE.inner_$(".tve_custom_style,.tve_user_custom_style").remove(),TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!1,TVE.Editor_Page.content_manager.refresh_global_style_node(),TVE.inner_$("head").append(e.parent_variation_custom_css),TVE.Editor_Page.initEditorActions(),e.inline_css||(e.inline_css={});var t=TVE.Editor_Page.content_manager.process_saved_template("",jQuery(e.content),e.inline_css,"",!0);TVE.inner_$(".tqb-dynamic-content-container").html(t)}a.close()}))}},{get_instance:function(e){return n||(n=new TQB.ImportInterval({el:e})),n}})},7660:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},remove_interval:function(e,t){var a=this,n=this.child_next_id?this.child_next_id:this.child_prev_id;if(!i.is_integer_number(this.child_id))return!1;i.state_ajax({custom:"remove",child_id:this.child_id,child_prev_id:this.child_prev_id,child_next_id:this.child_next_id}).done((function(e){i.insertStateResponse(e),jQuery('.tqb-tcb-intervals-item[data-id="'+n+'"]').trigger("click"),a.close()}))}},{get_instance:function(e,t){return n||(n=new TQB.RemoveInterval({el:e})),n}})},5329:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},before_close:function(){TVE.inner_$(".tqb-dynamic-content-container").attr("tqb-saved")||TVE.inner_$("#tqb-editor-replace").find(".tqb-dynamic-content-container").remove()},redirect:function(e,t){t.getAttribute("data-href")&&(top.location.href=t.getAttribute("data-href"))},copy_states_from_prev_page:function(){var e=this;i.state_ajax({custom:"copy_similar_dynamic_content"}).done((function(t){TVE.inner_$(".tqb-dynamic-content-container").removeClass("tcb-elem-placeholder"),i.insertStateResponse(t),i.show_hide_dynamic_content_element(),TQB.States.click_first_state(),e.close()}))},save_states_number:function(e,t){var a=this,n=this.$el.find("#tqb_result_intervals").val(),s=parseInt(this.$el.find("#tqb_result_intervals").attr("max"));i.is_integer_number(n)?n>s||n<0?TVE.page_message("The input must be between 0 and "+s,2,5e3):i.state_ajax({custom:"set_result_intervals",result_interval:n}).done((function(e){TVE.inner_$(".tqb-dynamic-content-container").removeClass("tcb-elem-placeholder"),i.insertStateResponse(e),i.show_hide_dynamic_content_element(),TQB.States.click_first_state(),a.close()})):TVE.page_message("The input must be an integer number",2,5e3)},preview_states:function(e,t){var a=t.value,n="",s=this.$el.find("#tqb-intervals-preview"),r=parseInt(this.$el.find("#tqb_result_intervals").attr("max"));if(!i.is_integer_number(a))return TVE.page_message("The input must be an integer number",2,5e3),void s.html("");if(a>r||a<1)return TVE.page_message("The input must be between 1 and "+r,2,5e3),void s.html("");n+='<div class="tqb-tcb-intervals-preview-row">';for(var o=0;o<a;o++)n+='<div class="tqb-tcb-intervals-preview-column"></div>';n+="</div>",n+='<div class="tqb-tcb-number-preview"><div class="tcb-left">'+tqb_page_data.quiz_config.absolute_min_value+'</div><div class="tcb-right">'+tqb_page_data.quiz_config.absolute_max_value+"</div></div>",s.html(n)}},{get_instance:function(e){return n||(n=new TQB.ResultIntervals({el:e})),n}})},3516:(e,t,a)=>{var n=null;a(6376),e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")}},{get_instance:function(e){return n||(n=new TQB.SaveValidation({el:e})),n}})},3587:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},before_close:function(){TVE.inner_$("#tqb-editor-replace").find(".tqb-social-share-badge-container.tcb-elem-placeholder").remove()},select_template:function(e){this.$(".template-wrapper.active").removeClass("active"),e.currentTarget.classList.toggle("active")},choose_template:function(){var e=this.$(".tve-template-item .active"),t=this;e&&e.length?i.state_ajax({custom:"get_social_share_badge_template",template:e.data("key")}).done((function(e){var a=TVE.inner_$(".tqb-social-share-badge-container");a.removeClass("tcb-elem-placeholder").html(e),i.show_hide_social_share_badge_element(),TVE.inner.window.TCB_Front.icons.migrate(a),t.close(),TVE.Components.tqb_social_share_badge.controls.preview.update()})):TVE.page_message(tqb_page_data.L.alert_choose_tpl,!0)}},{get_instance:function(e){return n||(n=new TQB.SocialShareBadgeTemplates({el:e})),n}})},8523:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},reset:function(){var e=this;i.tpl_ajax({custom:"reset"}).done((function(t){i.insertResponse(t),e.close(),TVE.main.overlay("close")}))}},{get_instance:function(e){return n||(n=new TQB.VariationReset({el:e})),n}})},4439:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium")},save:function(){var e=this.$("input#tve-template-name").val(),t=this;e&&e.length>0?i.tpl_ajax({custom:"save",name:e}).done((function(e){t.close(),TVE.main.overlay("close")})):TVE.page_message(tqb_page_data.L.tpl_name_required,!0,5e3)}},{get_instance:function(e){return n||(n=new TQB.VariationSave({el:e})),n}})},7582:(e,t,a)=>{var n=null,i=a(6376);e.exports=TVE.modal.base.extend({saved_tpl_delete_confirmation:TVE.tpl("landing-pages/delete-confirmation"),initialize:function(){this.initClickHandler(),this.$warning=this.$(".warning-ct-change"),this.$footer=this.$(".tcb-modal-footer"),this.$defaultTemplatesWrapper=this.$(".tqb-default-templates"),this.$savedTemplatesWrapper=this.$(".tqb-saved-templates"),this.$defaultTemplates=this.$defaultTemplatesWrapper[0].innerHTML},before_open:function(){this.$el.addClass("modal-w-sidebar"),this.$warning.css("display","none"),this.$footer.css("display","none"),this.$(".tqb-category-filter.active").removeClass("active"),this.$(".tqb-category-filter[data-content='default']").addClass("active"),this.$(".tve-c-modal-search-input").val(""),this.templatesType="default",this.renderTemplates()},filterClick:function(e){this.$(".tqb-category-filter.active").removeClass("active"),e.currentTarget.classList.toggle("active"),this.templatesType=e.currentTarget.getAttribute("data-content"),this.renderTemplates()},onSearch:function(){_.throttle(this.renderTemplates(),420)},renderTemplates:function(){var e=this;this.$savedTemplatesWrapper.css("display","none"),this.$defaultTemplatesWrapper.css("display","none"),"default"===this.templatesType?this.renderDefaultTemplates().then((function(){e.applyMasonry()})):this.renderSavedTemplates()},renderDefaultTemplates:function(){var e=this;return new Promise((function(t){e.$defaultTemplatesWrapper.empty(),e.$templateItemsWrapper=e.$defaultTemplatesWrapper;var a=e.filterTemplates(e.$defaultTemplates);a.length?a.filter((function(t,a){e.$defaultTemplatesWrapper.append(a)})):e.$defaultTemplatesWrapper.append("No templates found"),e.$defaultTemplatesWrapper.css("display","block"),t(a)}))},renderSavedTemplates:function(){var e=this;this.$templateItemsWrapper=this.$savedTemplatesWrapper,this.$savedTemplatesWrapper.html(tqb_page_data.L.fetching_saved_templates),i.tpl_ajax({custom:"get_saved",quiz_type:tqb_page_data.quiz_type},{dataType:"html"},!0).done((function(t){TVE.main.overlay("close"),e.$savedTemplatesWrapper.empty(),(t=e.filterTemplates(t)).length?t.filter((function(t,a){e.$savedTemplatesWrapper.append(a)})):e.$savedTemplatesWrapper.append("No templates found"),e.applyMasonry()})),e.$savedTemplatesWrapper.css("display","block")},clearSearch:function(){this.$(".tve-c-modal-search-input").val(""),this.renderTemplates()},filterTemplates:function(e){var t=this.$(".tve-c-modal-search-input").val().trim().toLowerCase();return jQuery(e).filter((function(e,a){var n=jQuery(a).find(".cb-template-name")[0];if(n){var i=!0;return i&&t&&!n.innerText.toLowerCase().includes(t)&&(i=!1),i}}))},selectTemplate:function(e){var t=jQuery(e.currentTarget);this.$el.find(".cloud-template-item.active").removeClass("active"),t.addClass("active"),this.$warning.css("display","block"),this.$footer.css("display","block")},openOptionsTooltip:function(e){this.closeOptionsTooltip(),jQuery(e.target).closest(".modal-title-w-options").toggleClass("tooltip-open"),this.tooltipOpen=!0},closeOptionsTooltip:function(){this.tooltipOpen&&(this.$el.find(".tooltip-open").removeClass("tooltip-open"),this.tooltipOpen=!1)},initClickHandler:function(){var e=this;this.$el.on("mousedown",(function(t){var a=jQuery(t.target);e.tooltipOpen&&0===a.closest(".modal-title-w-options, .tcb-dropdown-dots").length&&e.closeOptionsTooltip()}))},applyMasonry:function(){this.$templateItemsWrapper.data("masonry")&&this.$templateItemsWrapper.data("masonry").destroy(),this.$templateItemsWrapper.masonry()},deleteConfirmation:function(e){var t=jQuery(e.currentTarget).closest(".cloud-template-item");t.find(".cb-template-wrapper").hide(),t.find(".symbol-delete-notice").css("display","flex"),this.closeOptionsTooltip()},hideDelete:function(e){var t=jQuery(e.currentTarget).closest(".cloud-item");t.find(".cb-template-wrapper").show(),t.find(".symbol-delete-notice").css("display","none")},deleteSavedTemplate:function(e){var t=this,a=jQuery(e.currentTarget).closest(".cloud-template-item");TVE.main.overlay(),i.tpl_ajax({custom:"delete"},{dataType:"html",tpl:a.attr("data-id")},!0).done((function(){a.remove(),t.renderTemplates(),TVE.main.overlay("close")}))},applyTemplate:function(){var e=this.$(".cloud-template-item.active"),t=this;e&&e.length?i.tpl_ajax({custom:"choose",tpl:e.data("key")}).done((function(e){i.insertResponse(e),TVE.main.overlay("close"),t.close()})):TVE.page_message(TVE.t.SelectTemplate,!0,5e3)}},{get_instance:function(e){return n||(n=new TQB.VariationTemplates({el:e})),n}})},6618:e=>{var t=new Backbone.Collection;e.exports=TVE.Views.Components.Social.extend({controls_init:function(){this.renderer=new(TVE.renderers.CONSTRUCTORS.social.extend({render_to:function(e,t){TVE.renderers.CONSTRUCTORS.social.prototype.render_to.call(this,e.find(".tve_social_items"),t)},_render_to:function(e,t){var a={};e.find(".tve_s_count").each((function(){var e=jQuery(this);a[e.closest(".tve_s_item").attr("data-s")]=e.text()})),a.total={value:0,formatted:0},TVE.inner.window.TCB_Front.total_share_counts&&TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]&&(a.total=TVE.inner.window.TCB_Front.total_share_counts[this.config.share_url]);var n=this.config.selected.filter((function(e){return e.checked})).map((function(e){return e.key?e.key:e})),i=jQuery(TVE.tpl("elements/social")({r:this,config:this.config,counts:a,selected:n})),s=this.config;i.find(".tve_s_item").each((function(){var e=this.getAttribute("data-s"),t=this;_.each(s[e],(function(e,a){e&&"href"!==a&&t.setAttribute("data-"+a,e)}))})),i.attr("data-counts",this.config.show_count?"1":""),i.attr("data-min_shares",this.config.min_shares),e.replaceWith(i)}}))("tqb_social_share_badge"),this.renderer.setup_defaults(),TVE.Views.Components.Social.prototype.controls_init.call(this)},open_edit_panel:function(e,t){var a=TVE.ActiveElement.find(".tve_s_item");return a.each((function(e,t){var a=TVE.inner_$(t),n=a.find(".tve_s_text").text();a.attr("data-label",n)})),TVE.Views.Components.Social.prototype.open_edit_panel.apply(this,arguments)},get_collection:function(){return t},change_template:function(){this.placeholder_action()},placeholder_action:function(){TQB.SocialShareBadgeTemplates.get_instance(TVE.modal.get_element("social-share-badge-template")).open({top:"20%",dismissible:!1})}})},1914:(e,t,a)=>{var n=a(6376);e.exports=TVE.Views.Base.component.extend({initialize:function(e){n.popover(),n.hover_numeric_range_preview(),TVE.add_filter("validate_saved_content",(function(){var e=TVE.inner_$(".tqb-dynamic-content-container");if(e.length){var t=e.clone();t.wrap("<div></div>"),t=t.parent(),TVE.CONST.custom_post_data.tqb_child_variation_css=JSON.stringify(t.collect_head_css())}return!0}))},equalize:function(){TQB.EqualizeIntervals.get_instance(TVE.modal.get_element("equalize-intervals")).open({top:"20%"})},reset:function(){TQB.ResultIntervals.get_instance(TVE.modal.get_element("result-intervals")).open({top:"20%"})},generate_personality_states:function(){var e=this;n.state_ajax({custom:"generate_personality_child_variations"}).done((function(t){TVE.inner_$(".tqb-dynamic-content-container").removeClass("tcb-elem-placeholder"),n.insertStateResponse(t),n.show_hide_dynamic_content_element(),e.click_first_state()}))},update_intervals:function(){var e=this,t=this.$("#tqb-range-min").val(),a=this.$("#tqb-range-max").val(),i=parseInt(this.$("#tqb-prev-min").val()),s=parseInt(this.$("#tqb-next-max").val()),r=this.$("#tqb-child-id").val(),o=this.$("#tqb-child-prev-id").val(),l=this.$("#tqb-child-next-id").val();n.is_integer_number(a)&&n.is_integer_number(t)?n.is_integer_number(i)||t==tqb_page_data.quiz_config.absolute_min_value?n.is_integer_number(s)||a==tqb_page_data.quiz_config.absolute_max_value?t<i+1?TVE.page_message(tqb_page_data.L.min_value_limit+(i+1),2,5e3):a>s-1?TVE.page_message(tqb_page_data.L.max_value_limit+(s-1),2,5e3):parseInt(a)<parseInt(t)?TVE.page_message("ERROR: Max value can not be greater than min value",2):r?n.state_ajax({custom:"update",min:t,max:a,child_id:r,child_prev_id:o,child_next_id:l,quiz_min:tqb_page_data.quiz_config.absolute_min_value,quiz_max:tqb_page_data.quiz_config.absolute_max_value}).done((function(t){n.insertStateResponse(t),e.$('.tqb-tcb-intervals-item[data-id="'+r+'"]').trigger("click")})):TVE.page_message("Something is wrong! Please contact Thrive Support!"):TVE.page_message(tqb_page_data.L.intervals_max_val_cannot_be_changed,2,5e3):TVE.page_message(tqb_page_data.L.intervals_min_val_cannot_be_changed,2,5e3):TVE.page_message("The input must be an integer number",2,5e3)},state_split:function(){var e=this.$("#tqb-child-id").val(),t=this;if(!n.is_integer_number(e))return!1;n.state_ajax({custom:"split",child_id:e}).done((function(a){n.insertStateResponse(a),t.$('.tqb-tcb-intervals-item[data-id="'+e+'"]').trigger("click")}))},import_content:function(){var e=TQB.ImportInterval.get_instance(TVE.modal.get_element("import-content"));e.child_id=this.$("#tqb-child-id").val(),e.open({top:"20%"})},remove_state:function(){var e=TQB.RemoveInterval.get_instance(TVE.modal.get_element("remove-interval"));e.child_id=this.$("#tqb-child-id").val(),e.child_prev_id=this.$("#tqb-child-prev-id").val(),e.child_next_id=this.$("#tqb-child-next-id").val(),e.open({top:"20%"})},state_click:function(e,t){if(this.disable_state_save)return!1;TVE.CONST.custom_post_data||(TVE.CONST.custom_post_data={}),TVE.CONST.custom_post_data.tqb_child_variation_id=this.$(".tqb-tcb-intervals-item-active").attr("data-id");var a=this.$(".tqb-tcb-intervals-item"),i=TVE.inner_$(".tqb-dynamic-content-container"),s=i.clone(),r=this;s.wrap("<div></div>"),s=s.parent(),TVE.CONST.custom_post_data.tqb_child_variation_css=JSON.stringify(s.collect_head_css()),a.removeClass("tqb-tcb-intervals-item-active"),t.classList.add("tqb-tcb-intervals-item-active"),i.addClass("tcb-el-loading"),this.disable_state_save=!0,TVE.main.overlay(),TVE.add_filter("tcb_save_post_data_before",this._on_state_save),TVE.Editor_Page.save("true",(function(){n.state_ajax({custom:"get_child_variation",child_variation:t.getAttribute("data-id")}).done((function(e){if(e){TVE.CONST.custom_post_data.tqb_child_variation_id=e.id,TVE.inner_$(".tve_custom_style,.tve_user_custom_style").remove(),TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.clear(),TVE.USE_GLOBALSHEET=!1,TVE.Editor_Page.content_manager.refresh_global_style_node(),TVE.inner_$("head").append(e.parent_variation_custom_css),TVE.Editor_Page.initEditorActions(),e.custom_css||(e.custom_css={});var t=TVE.Editor_Page.content_manager.process_saved_template("",jQuery(e.content),e.custom_css,"",!0);TVE.drag.insert(t,i,!0,!1),TVE.Editor_Page.editor.find(".tcb-responsive-video").each((function(){var e=TVE.$(this);e.attr("src")||e.attr("src",e.attr("data-src"))})),TVE.CSS_Rule_Cache.reorderMediaRules(),TVE.main.switch_menu_to("elements")}i.removeClass("tcb-el-loading"),r.disable_state_save=!1})).always((function(){TVE.main.overlay(!0)}))})),TVE.remove_filter("tcb_save_post_data_before",this._on_state_save)},_on_state_save:function(e){var t=TVE.FontManager.get_imported_fonts(),a=e.inline_rules;return _.each(Object.keys(t),(function(e){var n=TVE.FontManager.generate_link(t[e]);n.length&&(n.includes("@import")||(n='@import url("'+n+'")'),a.includes(n)||(a=n+";"+a))})),e.inline_rules=a,e},click_first_state:function(){var e=this.$(".tqb-tcb-intervals-item");e.length&&e.first().trigger("click")},delete_states:function(){TQB.DeleteDynamicContent.get_instance(TVE.modal.get_element("delete-dynamic-content")).open({top:"20%"})},delete_all_states:function(){n.state_ajax({custom:"delete_dynamic_content"}).done((function(e){TVE.inner_$(".tqb-dynamic-content-container").remove(),jQuery("#tqb-form-states").html(""),TVE.CONST.custom_post_data.tqb_child_variation_id=null,n.show_hide_dynamic_content_element(),TVE.Editor_Page.save("true")}))}},{})}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=window.TQB=t||{},n="%result%";function i(e,t){e.is(".tqb-btn1, .tqb-btn-start")&&_.each(t,(function(t,a){var n={};n[a]=t+"!important",e.head_css(n,null," .tcb-button-link")}))}!function(s){if(s(window).on("tcb_main_ready",(function(){function e(){t.VariationTemplates.get_instance(TVE.modal.get_element("variation-templates")).open({top:"10%",dismissible:tqb_page_data.has_content})}TVE.Views.Components.tqb_dynamic_content=a(2487),TVE.Views.Components.tqb_social_share_badge=a(6618),t.ResultIntervals=a(5329),t.EqualizeIntervals=a(1644),t.ImportInterval=a(8609),t.RemoveInterval=a(7660),t.DeleteDynamicContent=a(2357),t.VariationTemplates=a(7582),t.VariationReset=a(8523),t.VariationSave=a(4439),t.SocialShareBadgeTemplates=a(3587),t.SaveValidation=a(3516),tqb_page_data.allow_tqb_advanced&&TVE.add_filter("main_ajax_callback",(function(){var e=a(1914);t.States=new e({el:jQuery("#tqb-form-states")[0]}),t.States.click_first_state()})),TVE.add_filter("tcb_head_css_suffix",(function(e,t,a){return t.is(".tqb-btn1")&&(e=".tqb-btn1 .tcb-button-link"),e})),TVE.add_filter("tcb.inline_shortcodes.insert",(function(e){if("tqb_quiz_result"===e.key){var t=null;Object.values(e.configOptions).forEach((function(e,a){"result_type"===e.key&&(t=e.key)})),null===t&&e.configOptions.push({key:"result_type",value:"default"})}return e})),TVE.add_filter("tcb.inline_shortcodes.shortcode_group",(function(e){return e.push("Quiz Shortcodes"),e})),TVE.add_filter("dropzone_elements",(function(e){return e+", .tqb-content-inner"})),TVE.add_filter("set_new_css_id",(function(e,t){return-1===jQuery.inArray(t,["tve-u-15d98a0f942","tve-u-16d0147a7a2","tve-u-15d989f6884","tve-u-15d989d84f1","tve-u-15d97b7ed92","tve-u-15d97b6e7eb","tve-u-15d98a42994","tve-u-15d98a44924","tve-u-16d62438e23","tve-u-15d9c642540","tve-u-15d9c6036f5","tve-u-15d9c601f22","tve-u-15d9c5ff0a7","tve-u-15d9c5d0206","tve-u-15d9c5b8e9e","tve-u-15d9c5aced7","tve-u-15d9c5aced3","tve-u-15d9c5854a2","tve-u-15d9c82267d","tve-u-16d2038b625","tve-u-16d2038120d","tve-u-16d20383b95","tve-u-16d204198f1","tve-u-16d632405fa","tve-u-16d678d5a2c","tve-u-16d3eaaa219","tve-u-15d9cfb7ca3","tve-u-15d9cfa5375","tve-u-15d9cf7c493","tve-u-15d9cf56168","tve-u-15d9cf46613","tve-u-15d9cf3d12a","tve-u-15d9d12e9b1","tve-u-15d9d4d1def","tve-u-15d9d4bd1a0","tve-u-15d9d4b698f","tve-u-15d9d4b698c","tve-u-15d9d49ce6b","tve-u-15d9d485f0a","tve-u-15d9d47e72b","tve-u-15d9d88f49c","tve-u-16d15588a8e"])&&e})),TVE.add_filter("selectors_no_save",(function(e){return e+", .tqb-dynamic-content-container"})),TVE.add_filter("tcb_save_post_data_before",(function(e){if("tqb_splash"===TVE.CONST.post_type){var t={m:"420px",t:"1023px",d:"1366px"};e["form-height"]={};var a=TVE.Editor_Page.editor.find(".tve_editor_main_content"),n=TVE.main.$frame.width();for(var i in 0===a.length&&(a=TVE.Editor_Page.editor),a.css("border","1px solid transparent"),t)TVE.main.$frame.width(t[i]),e["form-height"][i]=a.outerHeight(!0);a.css("border",""),TVE.main.$frame.width(n)}return e})),TVE.add_filter("editor_loaded_callback",(function(){s(TVE.main).on("tcb.open_templates_picker",(function(t){e(),t.preventDefault()})),tqb_page_data.has_content?(TVE.inner_$(".tqb-dynamic-content-container").length>0&&jQuery('.tve-element[data-elem="tqb_dynamic_content"]').addClass("tve-hide"),TVE.inner_$(".tqb-social-share-badge-container").length>0&&jQuery('.tve-element[data-elem="tqb_social_share_badge"]').addClass("tve-hide")):e(),TVE.main.sidebar_extra.tqb_save_template=function(){t.VariationSave.get_instance(TVE.modal.get_element("variation-save")).open({top:"20%"})},TVE.main.sidebar_extra.tqb_reset_template=function(){TVE.main.sidebar_extra.hide_drawers(),t.VariationReset.get_instance(TVE.modal.get_element("variation-reset")).open({top:"20%"})}})),TVE.add_filter("element_drop",(function(e){return e.hasClass("tqb-dynamic-content-container")&&(tqb_page_data.is_personality_type?t.States.generate_personality_states():t.ResultIntervals.get_instance(TVE.modal.get_element("result-intervals")).open({top:"20%",dismissible:!1})),e.hasClass("tqb-social-share-badge-container")&&e.closest(".tqb-dynamic-content-container").length&&(e.remove(),TVE.page_message("Social share element can not be dropped inside dynamic content element!",2,5e3)),e})),TVE.add_filter("allow_remove",(function(e,a){return!a[0].hasClass("tqb-dynamic-content-container")||(t.States.delete_states(),!1)})),TVE.add_action("tcb.element.remove",(function(e){if(e.find(".tqb-dynamic-content-container").length)return t.States.delete_all_states(),!1;(e.hasClass("tqb-social-share-badge-container")||e.find(".tqb-social-share-badge-container").length)&&jQuery('.tve-element[data-elem="tqb_social_share_badge"]').removeClass("tve-hide")})),TVE.add_action("tcb.border_update.button",i),TVE.add_action("tcb_action_corners_added",i),TVE.add_filter("tcb.write.shadow.suffix.tqb_page",(function(e,t){return".tve-tqb-page-type"})),TVE.add_filter("validate_saved_content",(function(){if("splash"===tqb_page_data.variation_type||"optin"===tqb_page_data.variation_type){if(TVE.Editor_Page.editor.find(".tqb-shortcode-submit-action").length>0)return!0;if(TVE.Editor_Page.editor.find(".thrv_lead_generation form").length>0)return!0;var e=!1;return TVE.Editor_Page.editor.find(".tve_evt_manager_listen").each((function(t){for(var a=s(this).attr("data-tcb-events"),n=s.parseJSON(a.replace("__TCB_EVENT_","").replace("_TNEVE_BCT__","")),i=0,r=n.length;i<r;i++)"thrive_quiz_next_step"===n[i].a&&(e=!0)})),TVE.Editor_Page.editor.find(".tve-dynamic-link").each((function(t,a){var n=s(this).attr("data-shortcode-id");"string"==typeof n&&n.includes("next_step_in_quiz")&&(e=!0)})),!!e||(t.SaveValidation.get_instance(TVE.modal.get_element("save-validation")).open({top:"20%"}),!1)}return!0})),TVE.main.on("tve.tve_save_post",(function(e){TVE.Editor_Page.editor.find(".thrv_lead_generation form").each((function(e,t){s(t).find('input[name="tqb-variation-page_id"]').remove(),s(t).find('input[name="tqb-variation-variation_id"]').remove(),s(t).find('input[name="tqb-variation-user_unique"]').remove(),s(t).addClass("tqb-form"),tqb_page_data.page_id,tqb_page_data.variation_id;var a='<input type="hidden" name="tqb-variation-page_id" class="tqb-hidden-form-info" value="'+tqb_page_data.page_id+'" >';a+='<input type="hidden" name="tqb-variation-variation_id" class="tqb-hidden-form-info" value="'+tqb_page_data.variation_id+'" >',a+='<input type="hidden" name="tqb-variation-user_unique" class="tqb-hidden-form-info tqb-hidden-user-unique" value="" >',s(t).prepend(a)}))}))})),TVE.add_filter("tve_form_submit_options",(function(e){return"splash"!==tqb_page_data.variation_type&&"optin"!==tqb_page_data.variation_type||(e=[{key:"next_step",label:TVE.t.NextStepInQuiz,css_class:"tcb-lg-option-next_step",icon:"tqb_next_step"}]),e})),TVE.add_action("tcb.component.after_init.lead_generation",(function(e){!tqb_page_data||"tqb_optin"!==tqb_page_data.variation_type&&"tqb_splash"!==tqb_page_data.variation_type||e.controls.connectionType.$el.hide()})),TVE.add_filter("tcb.dynamic_image.show_tab",(function(e,t){return t.is(".tve-tqb-page-type")&&(e=!1),e})),TVE.add_action("tcb-ready",(function(){TVE.inner_$(".tve_evt_manager_listen").each((function(){var e=s(this);e.data("tcb-events")&&e.data("tcb-events").includes("thrive_quiz_next_step")&&(e.removeAttr("data-tcb-events").removeClass("tve_evt_manager_listen").removeClass("tve_et_click").addClass("tve-dynamic-link"),e.attr("data-shortcode-id")||e.attr("data-shortcode-id","next_step_in_quiz"),e.attr("data-dynamic-link","tqb_quiz_options"))}))})),["tqb_results","tqb_optin"].includes(TVE.CONST.post.post_type)){var r=function(e,t){if("mapping_quiz_result"!==e.currentInputData.type)return e.smartComplete.$el.find(".dropdown-content").removeClass("tqb-relative"),void(e.smartComplete.$el.find(".tqb-notification").length&&e.smartComplete.$el.find(".tqb-notification").addClass("tcb-hidden"));e.smartComplete.$el.find(".dropdown-content").addClass("tqb-relative"),e.smartComplete.$el.find(".tqb-notification").length||e.smartComplete.$el.find(".dropdown-content").append(TVE.tpl("tve-autofill-info")()),e.smartComplete.$el.find(".tqb-notification").removeClass("tcb-hidden")};TVE.add_action("tve-after-api-render",(function(t){if("object"===e(t)){var a=t.$container,i=a.find("#tve-lg-select-tags"),r=t.api.getConfig("tags")?t.api.getConfig("tags").split(","):[];if(i.length){var o={};o.config={label:TVE.t.tqb.send_quiz_result,checked:r.includes(n)};var l=new TVE.Views.Controls.Switch({model:o});l.input=function(e,t){if(t.checked)a.find(".select2-search__field").val(n).trigger("input"),a.find(".tve-lg-add-tag").click(),a.find(".select2-search__field").val("");else{var i=a.find(".select2-selection__choice").filter((function(e,t){return s(t).attr("title")===n}));i&&i.find(".select2-selection__choice__remove").click()}},l.$el.addClass("tcb-quiz-options"),i.closest(".api-field").prepend(l.render().$el)}}})),TVE.add_filter("tve.lg.hidden.fields",(function(e){return e.push({id:"mapping_quiz_result"}),e})),TVE.add_filter("tve.lg.hidden.fields.ids",(function(e){return e.push("mapping_quiz_result"),e})),TVE.add_action("tve.lg.edit.input",(function(e,t){"mapping_quiz_result"===t.$type.val()&&e.attr("value",n)})),TVE.add_action("tve.lg.changeType",r),TVE.add_action("tve.lg.fields.open",r)}}(jQuery)})()})();