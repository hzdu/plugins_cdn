{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./build/core/assets/jsx/src/admin/block.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"serverSideRender\"]"],"names":["settings","blockID","options","forms","map","form","label","post_title","value","ID","unshift","__","ComponentPlaceholder","props","setForm","useState","block","icon","marginRight","title","attributes","id","exists","length","v","setAttributes","ComponentForm","ComponentInspector","registerBlockType","description","category","keywords","supports","anchor","html","transforms","from","type","blocks","isMatch","idBase","instance","raw","transform","createBlock","form_id","edit","String","find","blockComponent","inspectorComponent","component","save","_happyFormsBlockSettings"],"mappings":"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","file":"block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./build/core/assets/jsx/src/admin/block.js\");\n","import { Placeholder, SelectControl, PanelBody, Icon, Button, Notice } from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { registerBlockType, createBlock } from '@wordpress/blocks';\nimport { useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\n\n( function( settings ) {\n\n\tvar blockID = 'thethemefoundry/happyforms';\n\tvar options = settings.forms\n\t\t.map( function( form ) {\n\t\t\treturn { label: form.post_title, value: form.ID };\n\t\t} )\n\toptions.unshift( { label: __( 'Choose', 'happyforms' ), value: '' } );\n\n\tvar ComponentPlaceholder = function( props ) {\n\t\tconst [ form, setForm ] = useState( '' );\n\t\t\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon={ <Icon icon={ settings.block.icon } style={{ marginRight: \"14.66px\" }} /> }\n\t\t\t\tlabel={ settings.block.title }\n\t\t\t\tinstructions={ [\n\t\t\t\t\t( props.attributes.id && ! props.attributes.exists ) && (\n\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t\t\t{ __( 'The form previously added has been trashed or deleted.', 'happyforms' ) }\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t),\n\t\t\t\t\tsettings.forms.length > 0 ?\n\t\t\t\t\t__( 'Pick a form to display on your site.', 'happyforms' ) :\n\t\t\t\t\t__( 'No forms found.', 'happyforms' )\n\t\t\t\t] }\n\t\t\t\tclassName=\"happyforms-block-form-selector-wrap\"\n\t\t\t\tkey=\"happyforms-component-placeholder\">\n\n\t\t\t\t{\n\t\t\t\t\tsettings.forms.length > 0 &&\n\t\t\t\t\t<div className=\"happyforms-block-placeholder__control-group\">\n\t\t\t\t\t\t<SelectControl value={ form } options={ options } onChange={ ( v ) => setForm( v ) } />\n\t\t\t\t\t\t<Button isPrimary=\"true\" onClick={ ( v ) => props.setAttributes( { id: form } ) }>{ __( 'Insert', 'happyforms' ) }</Button>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</Placeholder>\n\t\t);\n\t};\n\n\tvar ComponentForm = function( props ) {\n\t\treturn [\n\t\t\t<ServerSideRender\n\t\t\t\tblock={ blockID }\n\t\t\t\tattributes={ props.attributes }\n\t\t\t\tkey=\"happyforms-component-form\" />\n\t\t];\n\t};\n\n\tvar ComponentInspector = function( props ) {\n\t\treturn (\n\t\t\t<InspectorControls key=\"happyforms-inspector-controls\">\n\t\t\t\t<PanelBody title={ __( 'Settings', 'happyforms' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Pick a form', 'happyforms' ) }\n\t\t\t\t\t\tvalue={ props.attributes.id }\n\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\tonChange={ ( v ) => props.setAttributes( { id : v } ) } />\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\t};\n\n\tregisterBlockType( blockID, {\n\t\ttitle: settings.block.title,\n\t\tdescription: settings.block.description,\n\t\tcategory: settings.block.category,\n\t\ticon: settings.block.icon,\n\t\tkeywords: settings.block.keywords,\n\t\tsupports: {\n\t\t\tanchor: true,\n\t\t\thtml: false\n\t\t},\n\n\t\ttransforms: {\n\t\t\tfrom: [ {\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: [ 'core/legacy-widget' ],\n\n\t\t\t\tisMatch: ( { idBase, instance } ) => {\n\t\t\t\t\tif ( ! instance?.raw ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn idBase === 'happyforms_widget';\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\ttransform: ( { instance } ) => {\n\t\t\t\t\treturn createBlock( blockID, {\n\t\t\t\t\t\tid: instance.raw.form_id,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t} ],\n\t\t},\n\n\t\tedit: function( props ) {\n\t\t\tif ( ! props.attributes.id && settings.forms.length === 1 ) {\n\t\t\t\tprops.attributes.id = String( settings.forms[0].ID );\n\t\t\t}\n\n\t\t\tprops.attributes.exists = settings.forms.find( form => form.ID == props.attributes.id );\n\n\t\t\tlet blockComponent = (\n\t\t\t\tprops.attributes.id && props.attributes.exists ?\n\t\t\t\tComponentForm( props ) :\n\t\t\t\tComponentPlaceholder( props )\n\t\t\t);\n\n\t\t\tlet inspectorComponent = (\n\t\t\t\tsettings.forms.length > 1 ?\n\t\t\t\tComponentInspector( props ) :\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\tlet component = (\n\t\t\t\tinspectorComponent ?\n\t\t\t\t[ blockComponent, inspectorComponent ] :\n\t\t\t\t[ blockComponent ]\n\t\t\t);\n\n\t\t\treturn component;\n\t\t},\n\n\t\tsave: function() {\n\t\t\treturn null;\n\t\t},\n\t} );\n\n} )(\n\t_happyFormsBlockSettings,\n);\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"serverSideRender\"]; }());"],"sourceRoot":""}