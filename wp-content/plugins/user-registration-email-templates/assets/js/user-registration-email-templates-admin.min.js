jQuery(function(r){var m={init:function(){this.email_template_inline_title_edit(),r(document).on("click",".user-registration-email-preview ",function(t){t.preventDefault(),m.email_templates_preview_selecter(r(this))})},states:{isWaitingAjaxResponse:!1},email_template_inline_title_edit:function(){var n=!1;r(document.body).on("click",".ur-template-edit-title",function(t){t.preventDefault();var e=r(this),i=r(this).closest(".column-title"),a=i.find(".ur-edit-title"),t=a.find(".row-title").text();a.html('<input class="ur-title-input" value="'+t+'"/>'),i.find(".ur-title-input").trigger("focus"),i.find(".ur-template-edit-title").text(user_registration_email_templates_admin_params.user_registration_email_template_title_editing);var t=e.data("id"),s=i.find(".ur-title-input"),_={id:t,action:"user_registration_email_templates_save_title",security:user_registration_email_templates_admin_params.user_registration_email_template_inline_title_edit_nonce},l="";(n=!n)?(s.on("focusout",function(){(l=s.val())&&(_.title=l),m.edit_title_ajax(e,a,_)}),s.on("keypress",function(t){"Enter"===t.key&&(l=s.val(),_.title=l,m.edit_title_ajax(e,a,_))}),n=!n):e.on("click",function(){l=s.val(),_.title=l,m.edit_title_ajax(e,a,_),n=!n})})},edit_title_ajax:function(e,i,t){!0!==m.states.isWaitingAjaxResponse&&(i.append(user_registration_email_templates_admin_params.user_registration_email_template_title_saving),m.states.isWaitingAjaxResponse=!0,r.ajax({url:user_registration_email_templates_admin_params.ajax_url,data:t,type:"POST",success:function(t){t.success?(i.html(t.data.message),e.text(user_registration_email_templates_admin_params.user_registration_email_template_title_edit)):console.log(t),m.states.isWaitingAjaxResponse=!1}}))},email_templates_preview_selecter:function(t){var e='<i class="dashicons dashicons-visibility"></i><span class="user-registration-swal2-modal__title">'+user_registration_email_templates_admin_params.ur_select_template_title,i=user_registration_email_templates_admin_params.ur_select_email_template_message,a=t.attr("href");0===user_registration_email_templates_admin_params.user_registration_email_templates_list.length?window.open(a):Swal.fire({title:e,html:i,input:"select",inputOptions:user_registration_email_templates_admin_params.user_registration_email_templates_list,customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",showCloseButton:!0,confirmButtonText:user_registration_email_templates_admin_params.ur_template_preview}).then(function(t){t.isConfirmed&&window.open(a+"&ur_email_template="+t.value)})}};m.init()});