!function(a,s,o){"use strict";s.bind("ready",function(){a("#customize-info").find(".panel-title.site-title").text(o.panelTitle),a("#customize-info").find(".customize-panel-description:first").text(o.panelDescription)}),s.ToggleControl=s.Control.extend({ready:function(){var t=this;t.container.on("change","input:checkbox",function(){var e=!!this.checked;t.setting.set(e)})}}),s.SliderControl=s.Control.extend({ready:function(){var n=this,e=n.container,t=e.find(".user-registration-slider"),i=e.find('.user-registration-slider-input input[type="number"]'),r=Number(i.attr("min")),o=Number(i.attr("max")),e=Number(i.attr("step"));t.slider({range:"min",min:r,max:o,value:i.val(),step:e,slide:function(e,t){i.val(t.value).on("keyup")},change:function(e,t){n.setting.set(t.value)}}),n.container.on("click",".reset",function(e){e.preventDefault(),t.slider("option","value",n.params["default"])}),n.container.on("change keyup input","input.slider-input",function(e){("keyup"!==e.type&&"input"!==e.type||""!==a(this).val())&&t.slider("option","value",a(this).val())})}}),s.NumberControl=s.Control.extend({ready:function(){var t=this,n=t.container.find(".number-input");t.container.on("keyup input",".user-registration-number-input input[type='number']",function(){n.val(a(this).val()),t.saveValue(a(this).val())}),t.container.on("click",".reset",function(e){e.preventDefault(),n.val(t.params["default"]),t.saveValue(t.params["default"])})},get_value:function(){return Object.assign({},this.setting._value)},saveValue:function(e){var t=this.container.find(".number-hidden-value");jQuery(t).val(JSON.parse(e)).trigger("change"),this.setting.set(e)}}),s.Select2Control=s.Control.extend({ready:function(){var e=this.container.find(".ur-select2");e.select2({minimumResultsForSearch:10,allowClear:!!e.data("allow_clear"),placeholder:e.data("placeholder")})}}),s.DimensionControl=s.Control.extend({ready:function(){var r=this,e=r.container,o=e.find(".dimension-input");r.container.find(".responsive-tabs li:not(:first)").hide(),r.container.on("keyup input",".dimension-input",function(){var n=a(this),e=n.attr("name"),t=parseInt(n.attr("min")),i=parseInt(n.attr("max"));n.val()<t&&n.val(n.attr("min")),n.val()>i&&n.val(n.attr("max")),r.is_anchor()?o.each(function(e,t){a(t).val(n.val()),r.saveValue(a(t).attr("name"),n.val())}):r.saveValue(e,n.val())}),r.container.on("change",'.dimension-unit-item input[type="radio"]',function(){r.saveValue("unit",a(this).val())}),r.container.on("change",".dimension-anchor",function(){a(this).is(":checked")?(a(this).parent("label").removeClass("unlinked").addClass("linked"),o.first().trigger("keyup")):a(this).parent("label").removeClass("linked").addClass("unlinked")}),r.container.on("change",'.responsive-tab-item input[type="radio"]',function(){var n=r.get_value(),i=a(this).val();n[i]!==undefined?(o.each(function(e,t){a(t).val(n[i][a(t).attr("name")])}),r.container.find('.dimension-unit-item input[value="'+n[i].unit+'"]').attr("checked","checked")):o.val(""),r.saveValue("top",e.find('input[name="top"]').val())}),r.container.on("click",'.responsive-tab-item input[type="radio"]',function(){var e=a(this).val();a("#customize-controls").find('.responsive-tab-item input[type="radio"][value="'+e+'"]').prop("checked",!0).each(function(e,t){t=a(t).closest(".responsive-tab-item").closest("li");0===t.index()&&t.siblings().toggle()}),s.previewedDevice.set(e)}),r.container.on("click",".reset",function(e){e.preventDefault(),o.each(function(e,t){r.params["default"].desktop?(a(t).val(r.params["default"].desktop[a(t).attr("name")]),r.saveValue(a(t).attr("name"),r.params["default"].desktop[a(t).attr("name")])):(a(t).val(r.params["default"][a(t).attr("name")]),r.saveValue(a(t).attr("name"),r.params["default"][a(t).attr("name")]))})})},is_anchor:function(){return a(this.container).find(".dimension-anchor").is(":checked")},selected_responsive:function(){return a(this.container).find('.responsive-tab-item input[type="radio"]:checked').val()},selected_unit:function(){return a(this.container).find('.dimension-unit-item input[type="radio"]:checked').val()},get_value:function(){return Object.assign({},this.setting._value)},saveValue:function(e,t){var n=this,i=n.container.find(".dimension-hidden-value"),r=n.get_value();!0===n.params.responsive?(undefined===r[n.selected_responsive()]&&(r[n.selected_responsive()]={}),r[n.selected_responsive()][e]=t,0<n.params.unit_choices.length&&(r[n.selected_responsive()].unit=n.selected_unit())):(r[e]=t,0<Object.keys(n.params.unit_choices).length&&(r.unit=n.selected_unit())),jQuery(i).val(JSON.stringify(r)).trigger("change"),n.setting.set(r)}}),s.EditorControl=s.Control.extend({ready:function(){var n=this,e=n.container.find(".user-registration-editor").first();wp.editor.initialize(e.attr("id"),{tinymce:{wpautop:!0,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"bold italic underline strikethrough | bullist numlist | blockquote hr wp_more | link unlink | fullscreen | wp_adv",toolbar2:"formatselect alignjustify forecolor | fontsizeselect | pastetext removeformat charmap | outdent indent | undo redo | wp_help",setup:function(t){t.on("init",function(e){t.on("keyup input keydown change",function(e){n.setting.set(t.getContent()),e.target.focus()})})}},quicktags:!0,mediaButtons:!0})}}),s.ImageCheckboxControl=s.Control.extend({ready:function(){var e=this;e.container.on("change",'input[type="checkbox"]',function(){e.saveValue(a(this).val(),a(this).is(":checked"))})},saveValue:function(e,t){var n=this.container.find(".image-checkbox-hidden-value"),i=this.params.value;i[e]=t,i=Object.assign({},i),jQuery(n).val(JSON.stringify(i)).trigger("change"),this.setting.set(i)}}),s.controlConstructor=a.extend(s.controlConstructor,{"ur-color":s.ColorControl,"ur-toggle":s.ToggleControl,"ur-slider":s.SliderControl,"ur-select2":s.Select2Control,"ur-dimension":s.DimensionControl,"ur-background":s.BackgroundControl,"ur-image_checkbox":s.ImageCheckboxControl,"ur-background_image":s.BackgroundImageControl,"ur-editor":s.EditorControl,"ur-number":s.NumberControl}),a(function(){a.each(["container","email_body","footer","header"],function(e,r){a.each({border_type:{controls:["border_width","border_color"],callback:function(e){return"none"!==e}},entries_border_type:{controls:["entries_border_width","entries_border_color"],callback:function(e){return"none"!==e}},logo_footer:{controls:["footer_logo_image"],callback:function(e){return"use_different"===e}},copyright_border_type:{controls:["copyright_border_width","copyright_border_color"],callback:function(e){return"none"!==e}},style_variation:{controls:["size","color","checked_color"],callback:function(e){return"default"!==e}},background_image:{controls:["background_preset","background_position","background_size","background_repeat","background_attachment"],callback:function(e){return!!e}},logo_image:{controls:["logo_width","logo_link","logo_inline","logo_footer"],callback:function(e){return!!e}}},function(e,i){s("user_registration_email_templates["+o.template_id+"]["+r+"]["+e+"]",function(n){a.each(i.controls,function(e,t){s.control("user_registration_email_templates["+o.template_id+"]["+r+"]["+t+"]",function(t){var e=function(e){t.container.toggle(i.callback(e))};e(n.get()),n.bind(e)})})})})}),s.control("user_registration_email_templates["+o.template_id+"][container][background_repeat]",function(t){t.elements[0].unsync(s("user_registration_email_templates["+o.template_id+"][container][background_repeat]")),t.element=new s.Element(t.container.find("input")),t.element.set("no-repeat"!==t.setting()),t.element.bind(function(e){t.setting.set(e?"repeat":"no-repeat")}),t.setting.bind(function(e){t.element.set("no-repeat"!==e)})}),s.control("user_registration_email_templates["+o.template_id+"][email_body][background_repeat]",function(t){t.elements[0].unsync(s("user_registration_email_templates["+o.template_id+"][email_body][background_repeat]")),t.element=new s.Element(t.container.find("input")),t.element.set("no-repeat"!==t.setting()),t.element.bind(function(e){t.setting.set(e?"repeat":"no-repeat")}),t.setting.bind(function(e){t.element.set("no-repeat"!==e)})}),s.control("user_registration_email_templates["+o.template_id+"][footer][background_repeat]",function(t){t.elements[0].unsync(s("user_registration_email_templates["+o.template_id+"][footer][background_repeat]")),t.element=new s.Element(t.container.find("input")),t.element.set("no-repeat"!==t.setting()),t.element.bind(function(e){t.setting.set(e?"repeat":"no-repeat")}),t.setting.bind(function(e){t.element.set("no-repeat"!==e)})}),s.control("user_registration_email_templates["+o.template_id+"][header][background_repeat]",function(t){t.elements[0].unsync(s("user_registration_email_templates["+o.template_id+"][header][background_repeat]")),t.element=new s.Element(t.container.find("input")),t.element.set("no-repeat"!==t.setting()),t.element.bind(function(e){t.setting.set(e?"repeat":"no-repeat")}),t.setting.bind(function(e){t.element.set("no-repeat"!==e)})})})}(jQuery,wp.customize,user_registration_email_templates_controls_script_data),jQuery(function(i){i(".uret-send-btn").on("click",function(e){e.preventDefault();var t=i("#sub-accordion-section-uret_sender_option").find(".uret_from").val(),n=i("#sub-accordion-section-uret_sender_option").find(".uret_to").val(),e=user_registration_email_templates_controls_script_data.template_id;i.ajax({type:"post",url:user_registration_email_templates_controls_test_email_script.ajax_url,data:{action:"user_registration_email_templates_send_test_email",from:t,email:n,template_id:e},beforeSend:function(){i(".uret-send-btn").after('<span class="ur-control-spinner"></span>')},complete:function(e){i(".ur-control-spinner").remove(),i(".uret-notice").remove(),e.responseJSON.success,e='<p class ="uret-notice">'+e.responseJSON.data.message+"</p>",i(".uret-send-btn").after(e)}})})});