!function(){var e={454:function(e){"use strict";const t=(e,t,o)=>{const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const n=o<0?e.length+o:o,[r]=e.splice(t,1);e.splice(n,0,r)}};e.exports=(e,o,n)=>(e=[...e],t(e,o,n),e),e.exports.mutate=t},892:function(e,t,o){"use strict";o.r(t),o.d(t,{addBlockId:function(){return h},addGlobalDefaults:function(){return u},blockInit:function(){return w},buildGetSyncValue:function(){return S},copyScriptAssetToIframe:function(){return x},getDefaultValue:function(){return d},getDefaultValueByField:function(){return m},getEditorIframe:function(){return E},useCSSNode:function(){return C}});var n,r,l=o(586),a=o(819),i=o(818),s={"themeisle-blocks/button-group":{},"themeisle-blocks/button":{},"themeisle-blocks/font-awesome-icons":{},"themeisle-blocks/advanced-columns":{},"themeisle-blocks/advanced-column":{},"themeisle-blocks/accordion":{},"themeisle-blocks/review":{features:[]},"themeisle-blocks/form":{},"themeisle-blocks/tabs":{}},c=o(307);null!==(r=(n=window.themeisleGutenberg).blockIDs)&&void 0!==r||(n.blockIDs=[]);const u=(e,t,o,n)=>{if(void 0!==window.themeisleGutenberg?.globalDefaults&&!(0,a.isEqual)(s[o],window.themeisleGutenberg.globalDefaults[o])){const r={...window.themeisleGutenberg.globalDefaults[o]};t({...Object.keys(r).filter((t=>(0,a.isEqual)(e[t],n[t]?.default))).reduce(((e,t)=>(e[t]=r[t],e)),{})})}},d=(e,t,o)=>{const n=window.themeisleGutenberg.globalDefaults?.[e];return n?.[t]?n?.[t]:o[t]?.default},m=e=>{let{name:t,field:o,defaultAttributes:n,attributes:r}=e;return r.isSynced?.includes(o)?d(t,o,n):r[o]},p={},b={},h=e=>{var t,o;const{attributes:n,setAttributes:r,clientId:a,idPrefix:i,name:s,defaultAttributes:c}=e;b[a]="busy";const d=null!==(t=window.themeisleGutenberg?.blockIDs)&&void 0!==t?t:[];if(void 0===n||void 0===r)return e=>{p[s]?.delete(e)};null!==(o=p[s])&&void 0!==o||(p[s]=new Set);const m=Boolean(n.id&&p[s].has(n.id));if(void 0===n.id||m){const e=i||(e=>`wp-block-${e.replace("/","-")}-`)(s),t=((e,t,o)=>{const n=`${e}${t.slice(0,8)}`;if(o.has(n)){let t=`${e}${(0,l.Z)().slice(0,8)}`;for(;o.has(t);)t=`${e}${(0,l.Z)().slice(0,8)}`;return t}return n})(e,a,p[s]);if(void 0===n.id)return u(n,r,s,c),p[s].add(t),d.push(t),r({id:t}),e=>e=>{};if(m)return p[s].add(t),r({id:t}),e=>{}}else p[s].add(n.id),d.push(n.id);return e=>{b[a]="free",p[s].delete(e||n?.id)}},{getBlock:f}=(0,i.select)("core/block-editor"),{getBlockParents:g}=(0,i.select)("core/block-editor"),{updateBlockAttributes:_}=(0,i.dispatch)("core/block-editor"),{getSelectedBlockClientId:v}=(0,i.select)("core/block-editor"),y=e=>t=>{_(e,t)},k=e=>{const t=f(e);return{attributes:t?.attributes,name:t?.name}},w=(e,t)=>(void 0===b[e]&&(b[e]="free"),"busy"===b[e]||(e=>g(e)?.some((e=>{var t;const{attributes:o,name:n}=null!==(t=f(e))&&void 0!==t?t:{};return"core/query"===n||o?.ref})))(e)&&v()!==e?()=>{}:h({clientId:e,defaultAttributes:t,setAttributes:y(e),...k(e)})),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,o]=(0,c.useState)({css:[],media:[]}),[n,r]=(0,c.useState)({node:null,cssNodeName:""});return(0,c.useEffect)((()=>{var t;let o;const n=document.createElement("style");return n.type="text/css",n.setAttribute("data-generator","otter-blocks"),setTimeout((()=>{o=parent.document.querySelector('iframe[name="editor-canvas"]')?.contentWindow.document.head||document.head,o?.appendChild(n)}),500),r({node:n,cssNodeName:null!==(t=e?.selector)&&void 0!==t?t:`o-node-${(0,l.Z)()}`}),()=>{o?.removeChild(n)}}),[]),(0,c.useEffect)((()=>{if(n.node&&n.cssNodeName&&void 0!==t.media){const e=(0,a.zip)(t.css,t.media).map((e=>{const[t,o]=e;return o?`${o} { \n\t .${n.cssNodeName} ${t} }`:`.${n.cssNodeName} ${t}`})).join("\n")||"";n.node.textContent=e}}),[t.css,t.media,n.node,n.cssNodeName]),[n.cssNodeName,function(){o({css:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],media:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]})},r]},E=()=>document.querySelector('iframe[name^="editor-canvas"]'),x=(e,t)=>{var o;const n=E();if(null!==(o=t)&&void 0!==o||(t=()=>{}),Boolean(n))if(Boolean(n?.contentWindow?.document.querySelector(e)))t?.();else{const o=document.querySelector(e);if(!Boolean(o))return void console.warn(`Selector: ${e} is invalid.`);const r=n.contentWindow.document.createElement("script");r.onload=t,r.id=o.id,r.type="text/javascript",n.contentWindow.document?.head.appendChild(r),r.src=o.src}},S=(e,t,o)=>n=>t?.isSynced?.includes(n)?m({name:e,field:n,defaultAttributes:o,attributes:t}):t?.[n]},84:function(e,t,o){"use strict";o.d(t,{b8:function(){return n},DP:function(){return r}}),o(819),o(736),o(771);const n=e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value},r=e=>{if(!e)return!1;let t=e;if(e.startsWith("var(")&&(t=getComputedStyle(document.documentElement).getPropertyValue(e.slice(4,-1)).trim()),t.startsWith("#")&&(t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(e||(e="#000000"),"#"!==e[0])return e;const[o,n,r]=e.match(/\w\w/g).map((e=>parseInt(e,16)));return`rgba(${o},${n},${r},${t/100})`}(t)),!Boolean(t))return!1;const[o,n,r]=t.match(/\d+/g).map(Number);return 128>.299*o+.587*n+.114*r}},184:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&e.push(a)}}else if("object"===l){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},463:function(e,t,o){const n=o(411);e.exports=function(e){if("string"!=typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(n,t)?n[t]:void 0},e.exports.currencySymbolMap=n},411:function(e){e.exports={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"₿",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"¥",CNY:"¥",COP:"$",COU:"COU",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"S$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"лв",VEF:"Bs",VES:"Bs.S",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",XSU:"Sucre",XUA:"XUA",YER:"﷼",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((o=e,Array.isArray(o)?[]:{}),e,t):e;var o}function r(e,t,o){return e.concat(t).map((function(e){return n(e,o)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function i(e,o,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=n;var c=Array.isArray(o);return c===Array.isArray(e)?c?s.arrayMerge(e,o,s):function(e,t,o){var r={};return o.isMergeableObject(e)&&l(e).forEach((function(t){r[t]=n(e[t],o)})),l(t).forEach((function(l){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,l)||(a(e,l)&&o.isMergeableObject(t[l])?r[l]=function(e,t){if(!t.customMerge)return i;var o=t.customMerge(e);return"function"==typeof o?o:i}(l,o)(e[l],t[l],o):r[l]=n(t[l],o))})),r}(e,o,s):n(o,s)}i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,o){return i(e,o,t)}),{})};var s=i;e.exports=s},143:function(e){"use strict";e.exports=function(e,t,o,n,r,l,a,i){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,l,a,i],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},703:function(e,t,o){"use strict";var n=o(414);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,l,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return o.PropTypes=o,o}},697:function(e,t,o){e.exports=o(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},82:function(e,t,o){var n;n=function(e,t){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,o){e.exports=o(5)()},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t){e.exports=function(e,t,o){var n=e.direction,r=e.value;switch(n){case"top":return o.top+r<t.top&&o.bottom>t.bottom&&o.left<t.left&&o.right>t.right;case"left":return o.left+r<t.left&&o.bottom>t.bottom&&o.top<t.top&&o.right>t.right;case"bottom":return o.bottom-r>t.bottom&&o.left<t.left&&o.right>t.right&&o.top<t.top;case"right":return o.right-r>t.right&&o.left<t.left&&o.top<t.top&&o.bottom>t.bottom}}},function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return g}));var n=o(1),r=o.n(n),l=o(2),a=o.n(l),i=o(0),s=o.n(i),c=o(3),u=o.n(c);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=function(e){function t(e){var o,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,n=p(t).call(this,e),o=!n||"object"!==d(n)&&"function"!=typeof n?b(this):n,f(b(o),"getContainer",(function(){return o.props.containment||window})),f(b(o),"addEventListener",(function(e,t,n,r){var l;o.debounceCheck||(o.debounceCheck={});var a=function(){l=null,o.check()},i={target:e,fn:r>-1?function(){l||(l=setTimeout(a,r||0))}:function(){clearTimeout(l),l=setTimeout(a,n||0)},getLastTimeout:function(){return l}};e.addEventListener(t,i.fn),o.debounceCheck[t]=i})),f(b(o),"startWatching",(function(){o.debounceCheck||o.interval||(o.props.intervalCheck&&(o.interval=setInterval(o.check,o.props.intervalDelay)),o.props.scrollCheck&&o.addEventListener(o.getContainer(),"scroll",o.props.scrollDelay,o.props.scrollThrottle),o.props.resizeCheck&&o.addEventListener(window,"resize",o.props.resizeDelay,o.props.resizeThrottle),!o.props.delayedCall&&o.check())})),f(b(o),"stopWatching",(function(){if(o.debounceCheck)for(var e in o.debounceCheck)if(o.debounceCheck.hasOwnProperty(e)){var t=o.debounceCheck[e];clearTimeout(t.getLastTimeout()),t.target.removeEventListener(e,t.fn),o.debounceCheck[e]=null}o.debounceCheck=null,o.interval&&(o.interval=clearInterval(o.interval))})),f(b(o),"check",(function(){var e,t,n=o.node;if(!n)return o.state;if(e=function(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}(o.roundRectDown(n.getBoundingClientRect())),o.props.containment){var r=o.props.containment.getBoundingClientRect();t={top:r.top,left:r.left,bottom:r.bottom,right:r.right}}else t={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var l=o.props.offset||{};"object"===d(l)&&(t.top+=l.top||0,t.left+=l.left||0,t.bottom-=l.bottom||0,t.right-=l.right||0);var a={top:e.top>=t.top,left:e.left>=t.left,bottom:e.bottom<=t.bottom,right:e.right<=t.right},i=e.height>0&&e.width>0,s=i&&a.top&&a.left&&a.bottom&&a.right;if(i&&o.props.partialVisibility){var c=e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left;"string"==typeof o.props.partialVisibility&&(c=a[o.props.partialVisibility]),s=o.props.minTopValue?c&&e.top<=t.bottom-o.props.minTopValue:c}"string"==typeof l.direction&&"number"==typeof l.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",l.direction,l.value),s=u()(l,e,t));var m=o.state;return o.state.isVisible!==s&&(m={isVisible:s,visibilityRect:a},o.setState(m),o.props.onChange&&o.props.onChange(s)),m})),o.state={isVisible:null,visibilityRect:{}},o}var o,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){this.node=a.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(e){this.node=a.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):r.a.Children.only(this.props.children)}}])&&m(o.prototype,n),t}(r.a.Component);f(g,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:r.a.createElement("span",null)}),f(g,"propTypes",{onChange:s.a.func,active:s.a.bool,partialVisibility:s.a.oneOfType([s.a.bool,s.a.oneOf(["top","right","bottom","left"])]),delayedCall:s.a.bool,offset:s.a.oneOfType([s.a.shape({top:s.a.number,left:s.a.number,bottom:s.a.number,right:s.a.number}),s.a.shape({direction:s.a.oneOf(["top","right","bottom","left"]),value:s.a.number})]),scrollCheck:s.a.bool,scrollDelay:s.a.number,scrollThrottle:s.a.number,resizeCheck:s.a.bool,resizeDelay:s.a.number,resizeThrottle:s.a.number,intervalCheck:s.a.bool,intervalDelay:s.a.number,containment:"undefined"!=typeof window?s.a.instanceOf(window.Element):s.a.any,children:s.a.oneOfType([s.a.element,s.a.func]),minTopValue:s.a.number})},function(e,t,o){"use strict";var n=o(6);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,l,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=n(o(196),o(850))},586:function(e,t,o){"use strict";var n;o.d(t,{Z:function(){return u}});var r=new Uint8Array(16);function l(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&a.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var u=function(e,t,o){var n=(e=e||{}).random||(e.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!i(o))throw TypeError("Stringified UUID is invalid");return o}(n)}},196:function(e){"use strict";e.exports=window.React},850:function(e){"use strict";e.exports=window.ReactDOM},819:function(e){"use strict";e.exports=window.lodash},989:function(e){"use strict";e.exports=window.wp.apiFetch},175:function(e){"use strict";e.exports=window.wp.blockEditor},981:function(e){"use strict";e.exports=window.wp.blocks},609:function(e){"use strict";e.exports=window.wp.components},818:function(e){"use strict";e.exports=window.wp.data},771:function(e){"use strict";e.exports=window.wp.date},307:function(e){"use strict";e.exports=window.wp.element},736:function(e){"use strict";e.exports=window.wp.i18n},444:function(e){"use strict";e.exports=window.wp.primitives}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,o),l.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=o(307),t=o(736),n=o(981),r=o(175),l=o(609),a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/add-to-cart-button","title":"Add to Cart Button","category":"themeisle-blocks","description":"Display an Add to Cart button for your WooCommerce products. Powered by Otter.","keywords":["woocommerce","add to cart","products"],"textdomain":"otter-blocks","attributes":{"product":{"type":"number"}},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"primary","label":"Primary"},{"name":"secondary","label":"Secondary"}]}'),i=o(444),s=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"})),c=window.wp.serverSideRender,u=o.n(c);const{SelectProducts:d}=window.otterComponents;var m=o=>{let{attributes:n,setAttributes:a}=o;const i=(0,r.useBlockProps)();return(0,e.createElement)("div",i,n.product?(0,e.createElement)(l.Disabled,null,(0,e.createElement)(u(),{block:"themeisle-blocks/add-to-cart-button",attributes:{...n}})):(0,e.createElement)(l.Placeholder,{icon:s,label:(0,t.__)("Add to Cart Button","otter-blocks"),instructions:(0,t.__)("Select a WooCommerce product for the Add to Cart button.","otter-blocks")},(0,e.createElement)(d,{label:(0,t.__)("Select Product","otter-blocks"),hideLabelFromVision:!0,value:n.product||"",onChange:e=>a({product:Number(e)})})))},p=o=>{let{icon:n,label:r,blockProps:a}=o;const i=(0,t.sprintf)((0,t.__)("You need to %2$s your Otter Pro license in order to use %1$s block.","otter-blocks"),r,Boolean(window.otterPro.isExpired)?(0,t.__)("renew","otter-blocks"):(0,t.__)("activate","otter-blocks"));return(0,e.createElement)("div",a,(0,e.createElement)(l.Placeholder,{icon:n,label:r,instructions:i}))};const{cartIcon:b}=window.otterUtils.icons,{name:h}=a;Boolean(window.otterPro.hasWooCommerce)?(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(m=()=>(0,e.createElement)(p,{icon:b,label:a.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(h,{title:(0,t.__)("Add to Cart Button","otter-blocks"),...a,description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:b,keywords:["woocommerce","add to cart","products"],supports:{inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("Default","otter-blocks"),isDefault:!0},{name:"primary",label:(0,t.__)("Primary","otter-blocks")},{name:"secondary",label:(0,t.__)("Secondary","otter-blocks")}],edit:m,save:()=>null})):(0,n.registerBlockType)(h,{...a,title:(0,t.__)("Add to Cart Button","otter-blocks"),description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:b,keywords:["woocommerce","add to cart","products"],supports:{inserter:!1},edit:()=>(0,e.createElement)("div",(0,r.useBlockProps)(),(0,e.createElement)(l.Placeholder,null,(0,t.__)("You need to have WooCommerce installed to edit Add to Cart Button block.","otter-blocks"))),save:()=>null});var f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours","title":"Business Hours","category":"themeisle-blocks","description":"Display your business schedule on your website. Powered by Otter.","keywords":["business","schedule","time"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"title":{"type":"string"},"titleAlignment":{"type":"string"},"titleFontSize":{"type":"number"},"titleColor":{"type":"string"},"itemsFontSize":{"type":"number"},"backgroundColor":{"type":"string"},"gap":{"type":"number"},"borderWidth":{"type":"number"},"borderColor":{"type":"string"},"borderRadius":{"type":"number"}},"supports":{"align":["wide","full"]},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"black-white","label":"Black & White"}],"editorStyle":"otter-business-hours-editor","style":"otter-business-hours-style"}'),g=t=>{let{attributes:o,setAttributes:n}=t;const l=r.AlignmentControl||r.AlignmentToolbar;return(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(l,{value:o.titleAlignment,onChange:e=>n({titleAlignment:e})}))},_=o=>{let{attributes:n,setAttributes:a}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,t.__)("Settings","otter-blocks")},(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Gap","otter-blocks"),value:n.gap,onChange:e=>a({gap:Number(e)}),min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Title Font Size","otter-blocks"),value:n.titleFontSize,onChange:e=>a({titleFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Items Font Size","otter-blocks"),value:n.itemsFontSize,onChange:e=>a({itemsFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Border Radius","otter-blocks"),value:n.borderRadius,onChange:e=>a({borderRadius:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Border Width","otter-blocks"),value:n.borderWidth,onChange:e=>a({borderWidth:Number(e)}),step:.1,min:0,max:120})),(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.titleColor,onChange:e=>a({titleColor:e}),label:(0,t.__)("Title","otter-blocks"),isShownByDefault:!0},{value:n.backgroundColor,onChange:e=>a({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks"),isShownByDefault:!0},{value:n.borderColor,onChange:e=>a({borderColor:e}),label:(0,t.__)("Border","otter-blocks"),isShownByDefault:!0}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.titleColor,backgroundColor:n.backgroundColor})))},v=o(892),y=o(818),k=o(84);const w=function(t,o,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"has-dark-bg";(0,e.useEffect)((()=>{const e=(0,k.DP)(t);if(e&&!o?.className?.includes(r)){let e=o.className||"";e=e.split(" "),e.push(r),e=e.join(" ").trim(),n({className:e})}!e&&o?.className?.includes(r)&&n({className:o.className.replace(r,"").trim()})}),[t])},{blockInit:C}=window.otterUtils,{attributes:E}=f;var x=o=>{let{attributes:n,setAttributes:l,isSelected:a,clientId:i}=o;(0,e.useEffect)((()=>{const e=C(i,E);return()=>e(n.id)}),[n.id]);const s={container:{backgroundColor:n.backgroundColor,borderRadius:n.borderRadius+"px",border:n.borderWidth&&`${n.borderWidth}px solid ${n.borderColor||"#000000"}`},title:{textAlign:n.titleAlignment,fontSize:n.titleFontSize+"px",color:n.titleColor}},[c,u]=(0,v.useCSSNode)();(0,e.useEffect)((()=>{u([`.otter-business-hour__container .otter-business-hour__content .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tfont-size: ${n.itemsFontSize}px;\n\t\t\t\tpadding-top: ${n.gap}px;\n\t\t\t\tpadding-bottom: ${n.gap}px;\n\t\t\t}`,`.otter-business-hour__container .otter-business-hour__content .block-editor-block-list__block:last-child .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tborder-radius: 0 0 ${n.borderRadius||0}px ${n.borderRadius||0}px;\n\t\t\t}`])}),[n.itemsFontSize,n.gap,n.borderRadius]),w(n.backgroundColor,n,l);const d=(0,r.useBlockProps)({id:n.id,style:s.container,className:c});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(g,{attributes:n,setAttributes:l}),(0,e.createElement)(_,{attributes:n,setAttributes:l}),(0,e.createElement)("div",d,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{style:s.title,className:"otter-business-hour__title"},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:n.title,onChange:e=>{l({title:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(r.InnerBlocks,{allowedBlocks:["core/separator","themeisle-blocks/business-hours-item"],template:[["themeisle-blocks/business-hours-item",{label:(0,t.__)("Monday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Tuesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Wednesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Thursday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Friday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Saturday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Sunday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}]],renderAppender:a?r.InnerBlocks.ButtonBlockAppender:""})))))},S=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours-item","title":"Business Hours Item","category":"themeisle-blocks","description":"Item used by Business Hours block to display the time. Powered by Otter.","keywords":["business","schedule","time"],"parent":["themeisle-blocks/business-hours"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"label":{"type":"string"},"time":{"type":"string"},"backgroundColor":{"type":"string"},"labelColor":{"type":"string"},"timeColor":{"type":"string"}},"supports":{"align":["wide","full"]}}'),P=o=>{let{attributes:n,setAttributes:l}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.backgroundColor,onChange:e=>l({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks"),isShownByDefault:!0},{value:n.labelColor,onChange:e=>l({labelColor:e}),label:(0,t.__)("Label","otter-blocks"),isShownByDefault:!0},{value:n.timeColor,onChange:e=>l({timeColor:e}),label:(0,t.__)("Time","otter-blocks"),isShownByDefault:!0}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.labelColor,backgroundColor:n.backgroundColor})))};const{blockInit:T}=window.otterUtils,{attributes:O}=S;const{businessHoursIcon:B}=window.otterUtils.icons,{name:A}=S;(0,n.registerBlockType)(A,{...S,title:(0,t.__)("Business Hours Item","otter-blocks"),description:(0,t.__)("Item used by Business Hours block to display the time. Powered by Otter.","otter-blocks"),icon:B,parent:["themeisle-blocks/business-hours"],category:"themeisle-blocks",keywords:["business","time","schedule"],supports:{align:["wide","full"]},edit:o=>{let{attributes:n,setAttributes:l,clientId:a}=o;(0,e.useEffect)((()=>{const e=T(a,O);return()=>e(n.id)}),[n.id]),w(n.backgroundColor,n,l);const i={backgroundColor:n.backgroundColor},s=(0,r.useBlockProps)({id:n.id,style:i});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(P,{attributes:n,setAttributes:l}),(0,e.createElement)("div",s,(0,e.createElement)("div",{className:"otter-business-hour-item__label",style:{color:n.labelColor}},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Day","otter-blocks"),value:n.label,onChange:e=>{l({label:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time",style:{color:n.timeColor}},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:n.time,onChange:e=>{l({time:e})},tagName:"span"}))))},save:t=>{let{attributes:o}=t;const n=r.useBlockProps.save({id:o.id});return(0,e.createElement)("div",n,(0,e.createElement)("div",{className:"otter-business-hour-item__label"},(0,e.createElement)(r.RichText.Content,{value:o.label,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time"},(0,e.createElement)(r.RichText.Content,{value:o.time,tagName:"span"})))}});const{businessHoursIcon:D}=window.otterUtils.icons,{name:F}=f;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(x=()=>(0,e.createElement)(p,{icon:D,label:f.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(F,{...f,title:(0,t.__)("Business Hours","otter-blocks"),description:(0,t.__)("Display your business schedule on your website. Powered by Otter.","otter-blocks"),icon:D,keywords:["business","schedule","time"],supports:{align:["wide","full"],inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("Default","otter-blocks"),isDefault:!0},{name:"black-white",label:(0,t.__)("Black & White","otter-blocks")}],edit:x,save:t=>{let{attributes:o}=t;const n=r.useBlockProps.save({id:o.id});return(0,e.createElement)("div",n,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{className:"otter-business-hour__title"},(0,e.createElement)(r.RichText.Content,{value:o.title,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(r.InnerBlocks.Content,null))))}});var I=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/review-comparison","title":"Review Comparison Table","category":"themeisle-blocks","description":"A way to compare different product reviews made on the website. Powered by Otter.","keywords":["product","review","comparison"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"reviews":{"type":"array","default":[]},"buttonColor":{"type":"string"},"buttonText":{"type":"string"}},"supports":{"html":false},"editorStyle":"otter-review-comparison-editor","style":"otter-review-comparison-style"}'),L=o(184),N=o.n(L),R=o(463),M=o.n(R),W=o(989),j=o.n(W);const{reviewIcon:$}=window.otterUtils.icons;var H=o=>{let{attributes:n,setAttributes:r,data:a,onComplete:i,isLoading:s,isComplete:c,isError:u}=o;const[d,m]=(0,e.useState)(""),p=e=>{const t=[...n.reviews];if(t.includes(e)){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}else t.push(e);r({reviews:t})},b=o=>{let{label:n,value:r}=o;return(0,e.createElement)("span",{className:"o-review-comparison_tag"},(0,e.createElement)("span",{className:"o-review-comparison_tag_title"},n),(0,e.createElement)(l.Button
/* translators: %s Label */,{label:(0,t.sprintf)((0,t.__)("Remove %s","otter-blocks"),n),icon:"dismiss",onClick:()=>p(r)}))};return(0,e.createElement)(l.Placeholder,{label:(0,t.__)("Product Review Comparison","otter-blocks"),instructions:(0,t.__)("Display a selection of product reviews in a comparison table. You need to have some pre-existing reviews to use this block.","otter-blocks"),icon:$,isColumnLayout:!0,className:"o-review-comparison__placeholder"},s&&(0,e.createElement)(l.Spinner,null),u&&(0,t.__)("There seems to have been an error.","otter-blocks"),c&&!Boolean(a.length)&&(0,t.__)("No reviews found.","otter-blocks"),c&&Boolean(a.length)&&(0,e.createElement)("div",{className:"o-review-comparison__placeholder__container"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected_label"},/* translators: %s Number of selected reviews. */
(0,t.sprintf)((0,t.__)("%s reviews selected","otter-blocks"),n.reviews.length)),n.reviews.filter((e=>{const t=e.split("-");return a.find((e=>e.ID===Number(t[0])&&e.attrs.id.slice(e.attrs.id.length-8)===t[1]))})).map((e=>{const o=e.split("-");return{label:a.find((e=>e.ID===Number(o[0])&&e.attrs.id.slice(e.attrs.id.length-8)===o[1])).attrs.title||(0,t.__)("Untitled review","otter-blocks"),value:e}})).map((t=>(0,e.createElement)(b,{key:t.value,label:t.label,value:t.value})))),(0,e.createElement)(l.TextControl,{label:(0,t.__)("Search for review to display","otter-blocks"),value:d,onChange:m}),(0,e.createElement)(l.MenuGroup,null,a.filter((e=>(e.attrs.title||(0,t.__)("Untitled review","otter-blocks")).toLowerCase().includes(d.toLowerCase()))).map((o=>{const r=o.ID+"-"+o.attrs.id.slice(o.attrs.id.length-8);return(0,e.createElement)(l.CheckboxControl,{key:r,label:o.attrs.title||(0,t.__)("Untitled review","otter-blocks"),checked:n.reviews.includes(r),onChange:()=>p(r)})}))),(0,e.createElement)(l.Button,{isPrimary:!0,onClick:i},(0,t.__)("Done","otter-blocks"))))},U=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),V=o=>{let{onEdit:n}=o;return(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(l.ToolbarGroup,null,(0,e.createElement)(l.ToolbarButton,{label:(0,t.__)("Edit","otter-blocks"),icon:U,onClick:n})))},G=o=>{let{attributes:n,setAttributes:l}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.buttonColor,onChange:e=>l({buttonColor:e}),label:(0,t.__)("Button","otter-blocks"),isShownByDefault:!0},{value:n.buttonText,onChange:e=>l({buttonText:e}),label:(0,t.__)("Button text","otter-blocks"),isShownByDefault:!0}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.buttonText,backgroundColor:n.buttonColor})))};const{StarFilled:Y,StarHalf:K}=window.otterUtils.icons,{blockInit:z}=window.otterUtils,{attributes:q}=I,{defaultReviewAttributes:Z}=window.themeisleGutenberg;let X=[],J=[],Q=[],ee=[],te=[],oe=[],ne=[];var re=o=>{let{attributes:n,setAttributes:l,clientId:a}=o;(0,e.useEffect)((()=>{const e=z(a,q);return()=>e(n.id)}),[n.id]),(0,e.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{u("loading");const e=await j()({path:"otter/v1/filter_blocks?block=themeisle-blocks/review"});s(e),u("loaded"),m(!Boolean(n.reviews.length))}catch(e){u("error")}})(),()=>{e=!1}}),[]);const[i,s]=(0,e.useState)([]),[c,u]=(0,e.useState)("loading"),[d,m]=(0,e.useState)(!0),[p,b]=(0,v.useCSSNode)();(0,e.useEffect)((()=>{b([`.o-review-comparison_buttons span {\n\t\t\t\tbackground: ${n.buttonColor} !important;\n\t\t\t\tcolor: ${n.buttonText} !important;\n\t\t\t}`])}),[n.buttonColor,n.buttonText]),(0,e.useEffect)((()=>{X=[],J=[],Q=[],ee=[],te=[],oe=[],ne=[],Boolean(i.length)&&n.reviews.forEach((o=>{var n;const r=o.split("-"),l=i.find((e=>e.ID===Number(r[0])&&e.attrs.id.slice(e.attrs.id.length-8)===r[1]));if(!l)return;const a=null!==(n=M()(l.attrs.currency))&&void 0!==n?n:"$",s=l.attrs.features||Z.features.default,c=Math.round(s.reduce(((e,t)=>e+t.rating),0)/s.length)/2,u=l.attrs.links||Z.links.default,d=[];s.forEach((t=>{d.push((0,e.createElement)("div",{className:"o-review-comparison_rating_container"},(0,e.createElement)("div",{className:"o-review-comparison_rating_title"},t.title),(0,e.createElement)("div",{className:"o-review-comparison_ratings"},_(t.rating/2))))}));const m=[];u.forEach((t=>{m.push((0,e.createElement)("span",{className:"wp-block-button__link"},t.label))})),X.push((0,e.createElement)("td",null,l.attrs.image&&(0,e.createElement)("img",{src:l.attrs.image.url}))),J.push((0,e.createElement)("td",null,l.attrs.title||(0,t.__)("Untitled review","otter-blocks"))),Q.push((0,e.createElement)("td",null,l.attrs.discounted?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("del",null,a+l.attrs.price)," ",a+l.attrs.discounted):l.attrs.price?a+l.attrs.price:"-")),ee.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_ratings"},_(c)))),te.push((0,e.createElement)("td",{dangerouslySetInnerHTML:{__html:l.attrs.description}})),oe.push((0,e.createElement)("td",null,d)),ne.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_buttons wp-block-button"},m)))}))}),[n.reviews,i]);const h="loading"===c,f="loaded"===c,g="error"===c,_=t=>{const o=[];for(let n=0;5>n;n++)o.push(n<t&&t<n+1?(0,e.createElement)(K,{className:N()({low:1.5>=t&&n<t,medium:1.5<t&&3.5>=t&&n<t,high:3.5<t&&5>=t&&n<t})}):(0,e.createElement)(Y,{className:N()({low:1.5>=t&&n<t,medium:1.5<t&&3.5>=t&&n<t,high:3.5<t&&5>=t&&n<t})}));return o},y=(0,r.useBlockProps)({id:n.id});return d?(0,e.createElement)("div",y,(0,e.createElement)(H,{attributes:n,setAttributes:l,data:i,onComplete:()=>m(!1),isLoading:h,isComplete:f,isError:g})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(V,{onEdit:()=>m(!0)}),(0,e.createElement)(G,{attributes:n,setAttributes:l}),(0,e.createElement)("table",y,(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null),X)),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Name","otter-blocks")),J),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Price","otter-blocks")),Q),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Rating","otter-blocks")),ee),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Description","otter-blocks")),te),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Statistics","otter-blocks")),oe),(0,e.createElement)("tr",{className:p},(0,e.createElement)("th",null,(0,t.__)("Buy this product","otter-blocks")),ne))))};const{reviewIcon:le}=window.otterUtils.icons,{name:ae}=I;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(re=()=>(0,e.createElement)(p,{icon:le,label:I.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(ae,{...I,title:(0,t.__)("Review Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different product reviews made on the website. Powered by Otter.","otter-blocks"),icon:le,keywords:["product","review","comparison"],supports:{html:!1,inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},edit:re,save:()=>null});var ie=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/woo-comparison","title":"WooCommerce Comparison Table","category":"themeisle-blocks","description":"A way to compare different WooCommerce products made on the website. Powered by Otter.","keywords":["woocommerce","comparison","table"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"products":{"type":"array","default":[]},"listingType":{"type":"string"},"altRow":{"type":"boolean"},"fields":{"type":"string"},"rowColor":{"type":"string"},"headerColor":{"type":"string"},"textColor":{"type":"string"},"borderColor":{"type":"string"},"altRowColor":{"type":"string"}},"supports":{"html":false}}');const{name:se}=ie;let ce=!1;(0,n.registerBlockType)(se,{...ie,title:(0,t.__)("WooCommerce Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different WooCommerce products made on the website.","otter-blocks"),icon:"editor-table",keywords:["woocommerce","comparison","table"],supports:{inserter:!1},edit:o=>{let{clientId:a,attributes:i}=o;const{replaceBlocks:s}=(0,y.useDispatch)("core/block-editor");return(0,e.useEffect)((()=>{-1!==(0,n.getBlockTypes)().findIndex((e=>"sparks/woo-comparison"===e.name))&&(ce=!0)}),[]),ce&&s(a,[(0,n.createBlock)("sparks/woo-comparison",{...i})]),(0,e.createElement)("div",(0,r.useBlockProps)(),(0,e.createElement)(l.Placeholder,null,(0,t.__)("You need to install the latest version of Neve with Sparks for WooCommerce to use WooCommerce Comparison Table.","otter-blocks")))},save:()=>null})}(),function(){"use strict";var e=o(307),t=o(996),n=o.n(t),r=o(736),l=window.wp.hooks;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a.apply(this,arguments)}var i=o(609),s=o(818),c=o(771),u=window.wp.htmlEntities;const d=[{value:"monday",label:(0,r.__)("Monday","otter-blocks")},{value:"tuesday",label:(0,r.__)("Tuesday","otter-blocks")},{value:"wednesday",label:(0,r.__)("Wednesday","otter-blocks")},{value:"thursday",label:(0,r.__)("Thursday","otter-blocks")},{value:"friday",label:(0,r.__)("Friday","otter-blocks")},{value:"saturday",label:(0,r.__)("Saturday","otter-blocks")},{value:"sunday",label:(0,r.__)("Sunday","otter-blocks")}],m=t=>{let{label:o,id:n,value:l,onChange:a}=t;const s=(0,c.__experimentalGetSettings)();return(0,e.createElement)(i.BaseControl,{label:o,id:n},(0,e.createElement)(i.Dropdown,{position:"bottom left",renderToggle:t=>{let{onToggle:o,isOpen:a}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{id:n,onClick:o,isSecondary:!0,"aria-expanded":a},l?(0,c.format)(s.formats.datetime,l):(0,r.__)("Select Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:l,onChange:a})}))},p=t=>{let{label:o,items:n,values:r,onChange:l}=t;return(0,e.createElement)(i.FormTokenField,{label:o,value:r&&"object"==typeof r?r.map((e=>{const t=n.find((t=>Number(e)===Number(t.value)));return`${t.value}. ${t.label}`})):void 0,suggestions:n.map((e=>`${e.value}. ${e.label}`)),onChange:l,__experimentalExpandOnFocus:!0,__experimentalValidateInput:e=>{const t=/^([^.]+)/.exec(e);return null!==t&&(e=Number(t[0])),void 0!==n.find((t=>Number(e)===Number(t.value)))}})},b=t=>{const{products:o,isLoading:n}=(0,s.useSelect)((e=>{var t;if(!Boolean(window.otterPro.hasWooCommerce))return{products:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:o}=window?.wc?.wcBlocksData,{getCollection:n,getCollectionError:r,isResolving:l}=e(o),a=r?.("/wc/store","products",{per_page:-1});return{products:a?[]:(null!==(t=n?.("/wc/store","products",{per_page:-1}))&&void 0!==t?t:[])?.map((e=>({value:e.id,label:(0,u.decodeEntities)(e.name)}))),isLoading:l("getCollection",["/wc/store","products",{per_page:-1}])}}),[]);return n?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},h=t=>{const{categories:o,isLoading:n}=(0,s.useSelect)((e=>{var t;if(!Boolean(window.otterPro.hasWooCommerce))return{categories:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:o}=window?.wc?.wcBlocksData,{getCollection:n,getCollectionError:r,isResolving:l}=e(o);return{categories:r("/wc/store","products/categories")?[]:(null!==(t=n("/wc/store","products/categories"))&&void 0!==t?t:[])?.map((e=>({value:e.id,label:(0,u.decodeEntities)(e.name)}))),isLoading:l("getCollection",["/wc/store","products/categories"])}}),[]);return n?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},f=t=>{const{courses:o,isLoading:n}=(0,s.useSelect)((e=>{var t;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=e("otter-pro")?.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!e("otter-pro")?.isLearnDashCoursesLoaded()}:{courses:[],cursesStatus:!1}}),[]);return n?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},g=t=>{const{courses:o,isLoading:n}=(0,s.useSelect)((e=>{var t;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=e("otter-pro")?.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!e("otter-pro")?.isLearnDashCoursesLoaded()}:{courses:[],cursesStatus:!1}}),[]);return(0,e.createElement)(e.Fragment,null,!n&&(0,e.createElement)(e.Fragment,null,Boolean(o.length)?(0,e.createElement)(i.SelectControl,a({},t,{options:o})):(0,e.createElement)("p",null,(0,r.__)("No courses available.","otter-blocks")),t.children),n&&(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)))},_=t=>{const{groups:o,groupsStatus:n}=(0,s.useSelect)((e=>{var t;return Boolean(window.otterPro.hasLearnDash)?{groups:null!==(t=e("otter-pro")?.getLearnDashGroups())&&void 0!==t?t:[],groupsStatus:!e("otter-pro")?.isLearnDashGroupsLoaded()}:{groups:[],groupsStatus:"loading"}}),[]);return n?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))};var v=t=>{let{groupIndex:o,itemIndex:n,item:l,conditions:a,setAttributes:s,changeValue:c}=t;const u=(e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].products=e,s({otterConditions:r})};return(0,e.createElement)(e.Fragment,null,["postMeta","loggedInUserMeta"].includes(l.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:(0,r.__)("Meta Key","otter-blocks"),help:(0,r.__)("Key of the meta you want to compare.","otter-blocks"),placeholder:(0,r.__)("_meta_key","otter-blocks"),value:l.meta_key,onChange:e=>c(e,o,n,"meta_key")}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Compare Operator","otter-blocks"),options:[{value:"is_true",label:(0,r.__)("Is True","otter-blocks")},{value:"is_false",label:(0,r.__)("Is False","otter-blocks")},{value:"is_empty",label:(0,r.__)("Is Empty","otter-blocks")},{value:"if_equals",label:(0,r.__)("If Equals","otter-blocks")},{value:"if_contains",label:(0,r.__)("If Contains","otter-blocks")}],value:l.meta_compare,onChange:e=>c(e,o,n,"meta_compare")}),("if_equals"===l.meta_compare||"if_contains"===l.meta_compare)&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Meta Value","otter-blocks"),help:(0,r.__)("Value of the meta to compare.","otter-blocks"),value:l.meta_value,onChange:e=>c(e,o,n,"meta_value")})),"queryString"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextareaControl,{label:(0,r.__)("Query String","otter-blocks"),help:(0,r.__)("Write a key-value pair for each parameter, one per line.","otter-blocks"),placeholder:"eg. utm_source=facebook",value:l.query_string,onChange:e=>c(e.replaceAll("itemIndex","&"),o,n,"query_string")}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Match if URL contains","otter-blocks"),options:[{value:"any",label:(0,r.__)("Any of the parameters","otter-blocks")},{value:"all",label:(0,r.__)("All the parameters","otter-blocks")}],value:l.compare,onChange:e=>c(e,o,n,"match")})),"country"===l.type&&(0,e.createElement)(e.Fragment,null,!Boolean(window.otterPro.hasIPHubAPI)&&(0,e.createElement)(i.ExternalLink,{href:window.themeisleGutenberg.optionsPath},(0,r.__)("Setup API to use this feature. ","otter-blocks")),(0,e.createElement)(i.TextControl,{label:(0,r.__)("Country Code(s)","otter-blocks"),placeholder:"US, CA, GB",help:(0,r.__)("A comma separated list of country codes","otter-blocks"),value:l.value,onChange:e=>c(e,o,n,"value")}),(0,e.createElement)(i.ExternalLink,{href:"https://www.geoplugin.com/iso3166"},(0,r.__)("A list of country codes. ","otter-blocks"))),"cookie"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:(0,r.__)("Cookie","otter-blocks"),help:(0,r.__)("Key of the cookie you want to compare.","otter-blocks"),value:l.cookie_key,onChange:e=>c(e,o,n,"cookie_key")}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Compare Operator","otter-blocks"),options:[{value:"is_true",label:(0,r.__)("Is True","otter-blocks")},{value:"is_false",label:(0,r.__)("Is False","otter-blocks")},{value:"is_empty",label:(0,r.__)("Is Empty","otter-blocks")},{value:"if_equals",label:(0,r.__)("If Equals","otter-blocks")},{value:"if_contains",label:(0,r.__)("If Contains","otter-blocks")}],value:l.cookie_compare,onChange:e=>c(e,o,n,"cookie_compare")}),("if_equals"===l.cookie_compare||"if_contains"===l.cookie_compare)&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Cookie Value","otter-blocks"),help:(0,r.__)("Value of the cookie to compare.","otter-blocks"),value:l.cookie_value,onChange:e=>c(e,o,n,"cookie_value")})),"dateRange"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(m,{label:(0,r.__)("Start Date","otter-blocks"),id:`o-conditions-date-start${o}-${n}`,value:l.start_date,onChange:e=>c(e,o,n,"start_date")}),(0,e.createElement)(m,{label:(0,r.__)("End Date (Optional)","otter-blocks"),id:`o-conditions-date-end${o}-${n}`,value:l.end_date,onChange:e=>c(e,o,n,"end_date")})),"dateRecurring"===l.type&&(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Recurring Days","otter-blocks"),help:(0,r.__)("You can use this in combination with other Date Time conditions to make more complex conditions.","otter-blocks")},d.map((t=>{let{label:r,value:c}=t;return(0,e.createElement)(i.CheckboxControl,{key:r,label:r,checked:l.days&&l.days.includes(c),onChange:()=>((e,t,o)=>{const n=[...a];n[t][o].days||(n[t][o].days=[]);const r=n[t][o].days.indexOf(e);-1!==r?n[t][o].days.splice(r,1):n[t][o].days.push(e),s({otterConditions:n})})(c,o,n)})}))),"timeRecurring"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Start Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,r.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:l.start_time?l.start_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let r=l.start_time||"00:00";r=r.split(":"),r[0]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"start_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,r.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:l.start_time?l.start_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let r=l.start_time||"00:00";r=r.split(":"),r[1]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"start_time")}}),(0,e.createElement)(i.Button,{isSecondary:!0,isSmall:!0,disabled:!l.start_time,onClick:()=>{const e=[...a];delete e[o][n].start_time,s({otterConditions:e})}},(0,r.__)("Reset","otter-blocks")))),(0,e.createElement)(i.BaseControl,{label:(0,r.__)("End Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,r.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:l.end_time?l.end_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let r=l.end_time||"00:00";r=r.split(":"),r[0]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"end_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,r.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:l.end_time?l.end_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let r=l.end_time||"00:00";r=r.split(":"),r[1]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"end_time")}}),(0,e.createElement)(i.Button,{isSecondary:!0,isSmall:!0,disabled:!l.end_time,onClick:()=>{const e=[...a];delete e[o][n].end_time,s({otterConditions:e})}},(0,r.__)("Reset","otter-blocks"))))),"wooProductsInCart"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Based on","otter-blocks"),options:[{value:"products",label:(0,r.__)("Products","otter-blocks")},{value:"categories",label:(0,r.__)("Categories","otter-blocks")}],value:l.on,onChange:e=>c(e,o,n,"on")}),"products"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{label:(0,r.__)("Products","otter-blocks"),values:l.products,onChange:e=>u(e,o,n)})),"categories"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h,{label:(0,r.__)("Categories","otter-blocks"),values:l.categories,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].categories=e,s({otterConditions:r})})(e,o,n)}))),"wooTotalCartValue"===l.type&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Total Cart Value","otter-blocks"),help:(0,r.sprintf)((0,r.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:l.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,n,"value")}),"wooTotalSpent"===l.type&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Total Money Spent","otter-blocks"),help:(0,r.sprintf)((0,r.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:l.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,n,"value")}),("wooTotalCartValue"===l.type||"wooTotalSpent"===l.type)&&(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Compare Operator","otter-blocks"),options:[{value:"greater_than",label:(0,r.__)("Greater Than (>)","otter-blocks")},{value:"less_than",label:(0,r.__)("Less Than (<)","otter-blocks")}],value:l.compare,onChange:e=>c(e,o,n,"compare")}),"wooPurchaseHistory"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{label:(0,r.__)("Products","otter-blocks"),values:l.products,onChange:e=>u(e,o,n)})),"learnDashPurchaseHistory"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Based on","otter-blocks"),options:[{value:"courses",label:(0,r.__)("Courses","otter-blocks")},{value:"groups",label:(0,r.__)("Groups","otter-blocks")}],value:l.on,onChange:e=>c(e,o,n,"on")}),"courses"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(f,{label:(0,r.__)("Courses","otter-blocks"),values:l.courses,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].courses=e,s({otterConditions:r})})(e,o,n)})),"groups"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{label:(0,r.__)("Groups","otter-blocks"),values:l.groups,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].groups=e,s({otterConditions:r})})(e,o,n)}))),"learnDashCourseStatus"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(g,{label:(0,r.__)("Course","otter-blocks"),value:l.course,onChange:e=>c(Number(e),o,n,"course")},(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Status","otter-blocks"),options:[{value:"not_started",label:(0,r.__)("Not Started","otter-blocks")},{value:"in_progress",label:(0,r.__)("In Progress","otter-blocks")},{value:"completed",label:(0,r.__)("Completed","otter-blocks")}],value:l.status,onChange:e=>c(e,o,n,"status")}))))};const{Notice:y}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.blockConditions.conditions","themeisle-gutenberg/block-conditions-list",(e=>{const t={users:{label:(0,r.__)("Users","otter-blocks"),conditions:[{value:"loggedInUserMeta",label:(0,r.__)("Logged-in User Meta","otter-blocks"),help:(0,r.__)("The selected block will be visible based on meta of the logged-in user condition."),toogleVisibility:!0}]},posts:{label:(0,r.__)("Posts","otter-blocks"),conditions:[{value:"postMeta",label:(0,r.__)("Post Meta","otter-blocks"),help:(0,r.__)("The selected block will be visible based on post meta condition."),toogleVisibility:!0}]},dateAndTime:{label:(0,r.__)("Date & Time","otter-blocks"),conditions:[{value:"dateRange",label:(0,r.__)("Date Range","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the date range. Timezone is used based on your WordPress settings.")},{value:"dateRecurring",label:(0,r.__)("Date Recurring","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the selected days. Timezone is used based on your WordPress settings.")},{value:"timeRecurring",label:(0,r.__)("Time Recurring","otter-blocks"),help:(0,r.__)("The selected block will be visible during the selected time. Timezone is used based on your WordPress settings.")}]},advance:{label:(0,r.__)("Advance","otter-blocks"),conditions:[{value:"queryString",label:(0,r.__)("Query String","otter-blocks"),help:(0,r.__)("The condition will be met if the URL contains specified parameters."),toogleVisibility:!0},{value:"country",label:(0,r.__)("Country","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's country based on the IP address."),toogleVisibility:!0},{value:"cookie",label:(0,r.__)("Cookie","otter-blocks"),help:(0,r.__)("The selected block will be visible based on PHP cookies."),toogleVisibility:!0}]},woocommerce:{label:(0,r.__)("WooCommerce","otter-blocks"),conditions:[{value:"wooProductsInCart",label:(0,r.__)("Products in Cart","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the products added to WooCommerce cart."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalCartValue",label:(0,r.__)("Total Cart Value","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the total value of WooCommerce cart."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooPurchaseHistory",label:(0,r.__)("Purchase History","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's WooCommerce purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalSpent",label:(0,r.__)("Total Spent","otter-blocks"),help:(0,r.__)("The selected block will be visible based on how much the user spent during lifetime."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)}]},learndash:{label:(0,r.__)("LearnDash","otter-blocks"),conditions:[{value:"learnDashPurchaseHistory",label:(0,r.__)("Purchase History","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's LearnDash purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)},{value:"learnDashCourseStatus",label:(0,r.__)("Course Status","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's LearnDash course status."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)}]}};return Object.keys(e).forEach((t=>{e[t].conditions=e[t].conditions.filter((e=>!e?.isDisabled)),Boolean(e[t].conditions.length)||delete e[t]})),e=n()(e,t)})),(0,l.addFilter)("otter.blockConditions.defaults","themeisle-gutenberg/block-conditions-defaults",((e,t)=>("postMeta"===t&&(e.visibility=!0),"postMeta"===t&&(e.meta_compare="is_true"),"queryString"===t&&(e.match="any"),"cookie"===t&&(e.cookie_compare="is_true"),"wooProductsInCart"==t&&(e.on="products"),"wooTotalCartValue"!==t&&"wooTotalSpent"!==t||(e.compare="greater_than"),"learnDashPurchaseHistory"==t&&(e.on="courses"),"learnDashCourseStatus"==t&&(e.status="not_started"),e)))),(0,l.addFilter)("otter.blockConditions.controls","themeisle-gutenberg/block-conditions-controls",((t,o,n,r,l,a,i)=>(0,e.createElement)(v,{groupIndex:o,itemIndex:n,item:r,conditions:l,setAttributes:a,changeValue:i}))),(0,l.addFilter)("otter.blockConditions.notices","themeisle-gutenberg/block-conditions-notices",(t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(y,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Block Conditions.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(y,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Block Conditions.","otter-blocks")})));var k=o(819);const w=e=>{const t=(0,k.omitBy)(e,(e=>null==e||""===e));return(0,k.isEmpty)(t)?void 0:t},{Notice:C}=window.otterComponents,E=e=>{switch(e){case"timer":return(0,r.__)("A fixed amount of time for each browser session (Evergreen Countdown)","otter-blocks");case"interval":return(0,r.__)("The countdown will be active only between the Start Date and the End Date","otter-blocks");default:return(0,r.__)("An universal deadline for all visitors","otter-blocks")}},x=e=>{switch(e){case"redirectLink":return(0,r.__)("Redirect the user to another URL, when the countdown reaches 0","otter-blocks");case"hide":return(0,r.__)("Hide when the countdown reaches 0","otter-blocks");case"restart":return"The Countdown will restart when it reaches 0 and the page is refreshed";default:return(0,r.__)("The countdown remains visible when it reaches 0","otter-blocks")}};(0,l.addFilter)("otter.countdown.controls.settings","themeisle-gutenberg/countdown-controls",((t,o)=>{var n,l,a,s;let{attributes:u,setAttributes:d}=o;if(!Boolean(window?.otterPro?.isActive))return(0,e.createElement)(e.Fragment,null,t);const m=(0,c.__experimentalGetSettings)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Countdown Type","otter-blocks"),value:u.mode,onChange:e=>{const t={mode:e||void 0};e||(t.date=void 0),"timer"!==e&&(t.timer=void 0,"restart"===u.behaviour&&(t.behaviour=void 0)),"interval"!==e&&(t.startInterval=void 0,t.endInterval=void 0),d(t)},options:[{label:(0,r.__)("Static","otter-blocks"),value:""},{label:(0,r.__)("Evergreen","otter-blocks"),value:"timer"},{label:(0,r.__)("Interval","otter-blocks"),value:"interval"}],help:E(u.mode)}),"timer"===u.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{type:"number",label:(0,r.__)("Days","otter-blocks"),value:null!==(n=u?.timer?.days)&&void 0!==n?n:"",onChange:e=>{d({timer:w({...u.timer,days:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,r.__)("Hours","otter-blocks"),value:null!==(l=u?.timer?.hours)&&void 0!==l?l:"",onChange:e=>{d({timer:w({...u.timer,hours:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,r.__)("Minutes","otter-blocks"),value:null!==(a=u?.timer?.minutes)&&void 0!==a?a:"",onChange:e=>{d({timer:w({...u.timer,minutes:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,r.__)("Seconds","otter-blocks"),value:null!==(s=u?.timer?.seconds)&&void 0!==s?s:"",onChange:e=>{d({timer:w({...u.timer,seconds:e})})}})),"interval"===u.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Start Date","otter-blocks")},(0,e.createElement)(i.Dropdown,{position:"bottom left",headerTitle:(0,r.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{onClick:o,isSecondary:!0,"aria-expanded":n,className:"o-extend-btn"},u.startInterval?(0,c.format)(m.formats.datetime,u.startInterval):(0,r.__)("Select Start Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:u.startInterval,onChange:e=>d({startInterval:e})}),className:"o-extend"})),(0,e.createElement)(i.BaseControl,{label:(0,r.__)("End Date","otter-blocks")},(0,e.createElement)(i.Dropdown,{position:"bottom left",headerTitle:(0,r.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{onClick:o,isSecondary:!0,"aria-expanded":n,className:"o-extend-btn"},u.endInterval?(0,c.format)(m.formats.datetime,u.endInterval):(0,r.__)("Select End Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:u.endInterval,onChange:e=>d({endInterval:e})}),className:"o-extend"}))))})),(0,l.addFilter)("otter.countdown.controls.end","themeisle-gutenberg/countdown-controls",((t,o)=>{var n;let{attributes:l,setAttributes:a}=o;return Boolean(window?.otterPro?.isActive)?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("On Expire","otter-blocks"),value:l.behaviour,onChange:e=>{a("redirectLink"===e?{behaviour:e,redirectLink:void 0}:{behaviour:e})},options:[{label:(0,r.__)("No action","otter-blocks"),value:""},{label:(0,r.__)("Hide the Countdown","otter-blocks"),value:"hide"},..."timer"===l.mode?[{label:(0,r.__)("Restart the Countdown","otter-blocks"),value:"restart"}]:[],{label:(0,r.__)("Redirect to link","otter-blocks"),value:"redirectLink"}],help:x(l.behaviour)}),"redirectLink"===l.behaviour&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Redirect Link","otter-blocks"),value:null!==(n=l.redirectLink)&&void 0!==n?n:"",onChange:e=>a({redirectLink:e})}),(0,e.createElement)(i.ToggleControl,{label:(0,r.__)("Hide/Show Blocks When the Countdown Ends","otter-blocks"),help:(0,r.__)("Enable Hide/Show other blocks when the Countdown ends.","otter-blocks"),checked:void 0!==l.onEndAction,onChange:e=>{a(e?{onEndAction:"all"}:{onEndAction:void 0})}}),l?.onEndAction&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,r.__)('Paste the following code in the block that you want to show up or hide (in the same page) when the countdown end. Select the block, go to Inspector > Advanced, and paste into the field "Additional CSS class"',"otter-blocks")),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,r.__)("Show trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${l.id?.split("-").pop()} o-cntdn-bhv-show`),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,r.__)("Hide trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${l.id?.split("-").pop()} o-cntdn-bhv-hide`))):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(C,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}))}));var S=o(989),P=o.n(S);const T={acfGroups:[],acfFields:{},haveACFLoaded:!1,learndDashCourses:[],learndDashGroups:[],haveLoadedCourses:!1,haveLoadedGroups:!1},O={setCourses(e){return{type:"SET_LEARNDASH_COURSES",courses:e,haveLoadedCourses:!0}},setGroups(e){return{type:"SET_LEARNDASH_GROUPS",groups:e,haveLoadedGroups:!0}},setACFData(e,t,o){return{type:"SET_ACF_DATA",groups:e,fields:t,haveACFLoaded:o}},fetchFromAPI(e){return{type:"FETCH_FROM_API",path:e}}};(0,s.registerStore)("otter-pro",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return"SET_LEARNDASH_COURSES"===t.type?{...e,learndDashCourses:t.courses,haveLoadedCourses:t.haveLoadedCourses}:"SET_LEARNDASH_GROUPS"===t.type?{...e,learndDashGroups:t.groups,haveLoadedGroups:t.haveLoadedGroups}:"SET_ACF_DATA"===t.type?{...e,acfGroups:t.groups,acfFields:t.fields,haveACFLoaded:t.haveACFLoaded}:e},selectors:{getLearnDashCourses(e){return e.learndDashCourses},getLearnDashGroups(e){return e.learndDashGroups},getACFData(e){return{groups:e.acfGroups,fields:e.acfFields}},isACFLoaded(e){return e.haveACFLoaded},isLearnDashCoursesLoaded(e){return e.haveLoadedCourses},isLearnDashGroupsLoaded(e){return e.haveLoadedGroups}},controls:{FETCH_FROM_API(e){return P()({path:e.path})}},resolvers:{*getLearnDashCourses(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield O.fetchFromAPI("ldlms/v2/sfwd-courses")).map((e=>({value:e.id,label:e.title.rendered})));return O.setCourses(e)},*getLearnDashGroups(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield O.fetchFromAPI("ldlms/v2/groups")).map((e=>({value:e.id,label:e.title.rendered})));return O.setGroups(e)},*getACFData(){if(!window.acf)return;const e=yield O.fetchFromAPI("otter/v1/acf-fields");if(e?.success){const{groups:t}=e,o=t?.map((e=>{let{fields:t,data:o}=e;return t.map((e=>(e.urlLocation=`${window.themeisleGutenberg?.rootUrl||""}/wp-admin/post.php?post=${o.ID}&action=edit`,e)))})).flat().reduce(((e,t)=>(t.key&&t.label&&(e[t.key]=(0,k.pick)(t,["label","type","prepend","append","default_value","value","urlLocation"])),e)),{});return O.setACFData(t,o,!0)}return O.setACFData([],{},!1)}}});const B=["text","textarea","range","number","url","email","password"];var A=t=>{let{attributes:o,changeAttributes:n}=t;const{isLoaded:l,groups:a}=(0,s.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]),c={"F j, Y":moment().format("MMMM d, Y"),"Y-m-d":moment().format("Y-m-d"),"m/d/Y":moment().format("m/d/Y"),"d/m/Y":moment().format("d/m/Y")},u={"g:i a":moment().format("h:m a"),"g:i A":moment().format("h:m A"),"H:i":moment().format("HH:m")};return(0,e.createElement)(e.Fragment,null,["postDate"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.dateType||"published",options:[{label:(0,r.__)("Post Published","otter-blocks"),value:"published"},{label:(0,r.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>n({dateType:e})}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Format","otter-blocks"),value:o.dateFormat||"default",options:[{label:(0,r.__)("Default","otter-blocks"),value:"default"},...Object.keys(c).map((e=>({label:c[e],value:e}))),{label:(0,r.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>n({dateFormat:e})}),"custom"===o.dateFormat&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(i.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,r.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.dateCustom||"",onChange:e=>n({dateCustom:e})})),["postTime"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.timeType||"published",options:[{label:(0,r.__)("Post Published","otter-blocks"),value:"published"},{label:(0,r.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>n({timeType:e})}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Format","otter-blocks"),value:o.timeFormat||"default",options:[{label:(0,r.__)("Default","otter-blocks"),value:"default"},...Object.keys(u).map((e=>({label:u[e],value:e}))),{label:(0,r.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>n({timeFormat:e})}),"custom"===o.timeFormat&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(i.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,r.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.timeCustom||"",onChange:e=>n({timeCustom:e})})),"postTerms"===o.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.termType||"categories",options:[{label:(0,r.__)("Categories","otter-blocks"),value:"categories"},{label:(0,r.__)("Tags","otter-blocks"),value:"tags"}],onChange:e=>n({termType:e})}),(0,e.createElement)(i.TextControl,{label:(0,r.__)("Separator","otter-blocks"),type:"text",value:o.termSeparator||", ",onChange:e=>n({termSeparator:e})})),"acf"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Meta Key","otter-blocks")},l?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>n({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),a.map((t=>(0,e.createElement)("optgroup",{key:t?.data?.key,label:t?.data?.title},t?.fields?.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&B.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)})))))):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))),"acf"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,r.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),["postMeta","authorMeta","loggedInUserMeta"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.FormTokenField,{label:(0,r.__)("Custom Meta Key","otter-blocks"),value:o.metaKey?[o.metaKey]:[],maxLength:1,suggestions:{postMeta:[],authorMeta:["description","display_name","first_name","last_name","nickname","user_email","user_level","user_login","user_nicename","user_registered","user_status","user_url"],loggedInUserMeta:["description","first_name","ID","last_name","nickname"]}[o.type],onChange:e=>n({metaKey:e[0]}),__experimentalExpandOnFocus:!o.metaKey,__experimentalShowHowTo:!1}),(0,e.createElement)("p",null,(0,r.__)("Type your own or select a pre-defined value. Press Enter to confirm.","otter-blocks"))),["queryString"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:(0,r.__)("Parameter","otter-blocks"),placeholder:(0,r.__)("A query string parameter from your URL, ie utm_source.","otter-blocks"),type:"text",value:o.parameter,onChange:e=>n({parameter:e})}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Format","otter-blocks"),value:o.format||"default",options:[{label:(0,r.__)("Default","otter-blocks"),value:"default"},{label:(0,r.__)("Capitalize","otter-blocks"),value:"capitalize"},{label:(0,r.__)("Uppercase","otter-blocks"),value:"uppercase"},{label:(0,r.__)("Lowercase","otter-blocks"),value:"lowercase"}],onChange:e=>n({format:e})})),"country"===o.type&&!Boolean(window.otterPro.hasIPHubAPI)&&(0,e.createElement)(i.ExternalLink,{href:window.themeisleGutenberg.optionsPath},(0,r.__)("Setup API to use this feature. ","otter-blocks")))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.dynamicContent.text.options","themeisle-gutenberg/dynamic-content/text-list",(e=>{const t={posts:{label:(0,r.__)("Posts","otter-blocks"),options:[{label:(0,r.__)("Post Date","otter-blocks"),value:"postDate"},{label:(0,r.__)("Post Time","otter-blocks"),value:"postTime"},{label:(0,r.__)("Post Terms","otter-blocks"),value:"postTerms"},{label:(0,r.__)("Post Custom Field","otter-blocks"),value:"postMeta"},{label:(0,r.__)("Advanced Custom Field","otter-blocks"),value:"acf"}]},author:{label:(0,r.__)("Author","otter-blocks"),options:[{label:(0,r.__)("Author Meta","otter-blocks"),value:"authorMeta"}]},loggedInUser:{label:(0,r.__)("Logged-in User","otter-blocks"),options:[{label:(0,r.__)("Logged-in User Meta","otter-blocks"),value:"loggedInUserMeta"}]},misc:{label:(0,r.__)("Miscellaneous","otter-blocks"),options:[{label:(0,r.__)("URL Parameter","otter-blocks"),value:"queryString"},{label:(0,r.__)("Country","otter-blocks"),value:"country"}]}};return Object.keys(e).forEach((t=>{e[t].options=e[t].options.filter((e=>void 0===e.isDisabled)),Boolean(e[t].options.length)||delete e[t]})),e=n()(e,t)})),(0,l.addFilter)("otter.dynamicContent.text.hasSettingsPanel","themeisle-gutenberg/dynamic-content/text-settings-panel",(e=>{const t=["postDate","postTime","postTerms","postMeta","acf","authorMeta","loggedInUserMeta","queryString"];return Boolean(window.otterPro.hasIPHubAPI)||t.push("country"),e.push(...t),e}))),(0,l.addFilter)("otter.dynamicContent.text.controls","themeisle-gutenberg/dynamic-content/text-controls",((t,o,n)=>(0,e.createElement)(A,{attributes:o,changeAttributes:n})));const D=["url"];var F=t=>{let{attributes:o,changeAttributes:n}=t;const{isLoaded:l,groups:a}=(0,s.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]);return(0,e.createElement)(e.Fragment,null,"acfURL"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Meta Key","otter-blocks")},l?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>n({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),a.map((t=>(0,e.createElement)("optgroup",{key:t?.data?.key,label:t?.data?.title},t?.fields?.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&D.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)})))))):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))),"acfURL"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,r.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),"postMetaURL"===o.type&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Custom Meta Key","otter-blocks"),value:o.metaKey,onChange:e=>n({metaKey:e})}))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.dynamicContent.link.options","themeisle-gutenberg/dynamic-content/link-list",(e=>{const t=[{label:(0,r.__)("Post Custom Field","otter-blocks"),value:"postMetaURL"},{label:(0,r.__)("Advanced Custom Fields","otter-blocks"),value:"acfURL"}];return n()(e.filter((e=>void 0===e.isDisabled)),t)})),(0,l.addFilter)("otter.dynamicContent.link.hasSettingsPanel","themeisle-gutenberg/dynamic-content/link-settings-panel",(e=>(e.push("postMetaURL","acfURL"),e)))),(0,l.addFilter)("otter.dynamicContent.link.controls","themeisle-gutenberg/dynamic-content/link-controls",((t,o,n)=>(0,e.createElement)(F,{attributes:o,changeAttributes:n})));var I=t=>{let{label:o,value:n,onChange:l}=t;const{fields:a,isLoaded:c}=(0,s.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData(),o=e("otter-pro").isACFLoaded(),n=[];return t.forEach((e=>{e.fields.forEach((e=>{"image"!==e.type&&"url"!==e.type||n.push({label:e.label,value:e.key})}))})),{fields:n,isLoaded:o}}),[]);return c?(0,e.createElement)(i.SelectControl,{label:o,value:n,options:[{label:(0,r.__)("Select a field","otter-blocks"),value:"none"},...a],onChange:l}):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))};const{SelectProducts:L}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&(0,l.addFilter)("otter.dynamicContent.media.options","themeisle-gutenberg/dynamic-content/media-list",(e=>{const t=[{type:"postMeta",label:(0,r.__)("Post Meta","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/meta.svg"},{type:"product",label:(0,r.__)("Woo Product","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/woo.svg",isAvailable:Boolean(window.otterPro.hasWooCommerce)},{type:"acf",label:(0,r.__)("ACF Image","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/acf.svg",isAvailable:Boolean(window.otterPro.hasACF)}];return e=e.filter((e=>!e?.isPro)),n()(e,t)})),(0,l.addFilter)("otter.dynamicContent.media.controls","themeisle-gutenberg/dynamic-content/media-controls",((t,o,n)=>(0,e.createElement)(e.Fragment,null,"postMeta"===o?.type&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Meta Key","otter-blocks"),value:o.meta||"",onChange:e=>n({meta:e})}),"product"===o?.type&&(0,e.createElement)(L,{label:(0,r.__)("Select Product","otter-blocks"),value:o.id||"",onChange:e=>n({id:0===e?void 0:e})}),"acf"===o?.type&&(0,e.createElement)(I,{label:(0,r.__)("Select Field","otter-blocks"),value:o.meta||"",onChange:e=>n({meta:e})}))));const{Notice:N}=window.otterComponents,R=t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(N,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Dynamic Content.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(N,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Dynamic Content.","otter-blocks")});(0,l.addFilter)("otter.dynamicContent.text.notices","themeisle-gutenberg/dynamic-content/text-notices",R),(0,l.addFilter)("otter.dynamicContent.link.notices","themeisle-gutenberg/dynamic-content/link-notices",R);var M=o(175);const{Fill:W,Slot:j}=(0,i.createSlotFill)("OtterInspectorExtensions"),$=["themeisle-blocks/accordion","themeisle-blocks/advanced-columns","themeisle-blocks/advanced-column","themeisle-blocks/advanced-heading","themeisle-blocks/countdown","themeisle-blocks/flip","themeisle-blocks/form","themeisle-blocks/google-map","themeisle-blocks/icon-list","themeisle-blocks/popup","themeisle-blocks/posts-grid","themeisle-blocks/review","themeisle-blocks/slider"];var H=o(444),U=(0,e.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(H.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),V=t=>{let{notice:o,variant:n="default",instructions:r}=t;return(0,e.createElement)("div",{className:`o-notice is-${n}`},o,r&&(0,e.createElement)(i.Tooltip,{text:r,position:"bottom center"},U))},G=window.wp.compose,Y=o(184),K=o.n(Y);o(82);const{getEditorIframe:z}=o(892),q=new class{constructor(){this.fonts=[],this.status="none",this.controller=new AbortController,this.request=null,this.node=document.createElement("style"),this.node.type="text/css",this.node.setAttribute("data-generator","otter-blocks-fonts-loader"),this.isAttaching=!1,this.usedFonts=[],this.previewFonts=new Set}async afterLoading(){return await this.requestFonts(),this}getFont(e){return this.fonts.find((t=>t.family===e))}getVariants(e){const t=this.getFont(e);return t?t.variants.filter((e=>!1===e.includes("italic"))).map((e=>({label:(0,k.startCase)((0,k.toLower)(e)),value:e}))):[]}async loadFontToBrowser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";if(!e)return Error("Empty font name.");"none"!==this.status&&"loading"!==this.status||await this.afterLoading();const o=this.getFont(e);return o?(this.usedFonts.find((o=>o.font.family===e&&o.variant===t))||(this.usedFonts.push({font:o,variant:t}),this.updateCSSNode()),o):Error("Font does not exists.")}async requestFonts(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"done"===this.status?this.fonts:("none"===this.status&&(this.status="loading",this.request=new Promise((async(t,o)=>{"done"!==this.status||e||t(this.fonts),e&&this.controller.abort(),fetch("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyClGdkPJ1BvgLOol5JAkQY4Mv2lkLYu00k",{signal:this.controller.signal}).then((e=>e.json())).then((e=>{this.fonts=e.items,this.status="done",t(this.fonts)})).catch((e=>{this.status="error",o(e)}))}))),this.request)}updateCSSNode(){this.node.innerHTML=this.renderCSSFont()}attach(){this.isAttaching||(this.isAttaching=!0,setTimeout((()=>{var e;const t=null!==(e=z()?.contentWindow?.document)&&void 0!==e?e:document;t?.querySelector('[data-generator*="otter-blocks-fonts-loader"]')||(t?.head?.appendChild(this.node),this.previewFonts.clear()),this.isAttaching=!1}),500))}renderCSSFont(){return Array.from(this.usedFonts).map((e=>{var t;let{font:o,variant:n}=e;const r=(null!==(t=o.files?.[n])&&void 0!==t?t:o.files?.regular)?.replace("http://","https://");return`\n\t\t\t\t@font-face {\n\t\t\t\t\tfont-family: "${o.family}";\n\t\t\t\t\tsrc: url('${r}'); /* IE9 Compat Modes */\n\t\t\t\t\tsrc: url('${r}')  format('truetype'), /* Safari, Android, iOS */\n\t\t\t\t}\n\t\t\t`})).join("\n")}addPreviewFont(e,t){var o;if(this.previewFonts.has(e))return;this.previewFonts.add(e);const n=encodeURIComponent(t),r=`https://fonts.googleapis.com/css2?family=${e.replace(" ","+")}&text=${n}`,l=document.createElement("link");l.rel="stylesheet",l.href=r,(null!==(o=z()?.contentWindow?.document)&&void 0!==o?o:document)?.body?.appendChild(l)}};function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function X(e,t){if(e){if("string"==typeof e)return Z(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Z(e,t):void 0}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,l=[],_n=!0,a=!1;try{for(o=o.call(e);!(_n=(n=o.next()).done)&&(l.push(n.value),!t||l.length!==t);_n=!0);}catch(e){a=!0,r=e}finally{try{_n||null==o.return||o.return()}finally{if(a)throw r}}return l}}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ee(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach((function(t){Q(e,t,o[t])}))}return e}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,o){return t&&oe(e.prototype,t),o&&oe(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}Object.seal(q),o(454);var ue=o(196),de=o(850),me=o(143),pe=o.n(me);var be=o(697),he=o.n(be),fe=function(){function e(){te(this,e),Q(this,"refs",{})}return ne(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var o=this.getIndex(e,t);-1!==o&&this.refs[e].splice(o,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(ge)}}]),e}();function ge(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function _e(e,t){return Object.keys(e).reduce((function(o,n){return-1===t.indexOf(n)&&(o[n]=e[n]),o}),{})}var ve={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},ye=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function ke(e,t){Object.keys(t).forEach((function(o){e.style[o]=t[o]}))}function we(e,t){e.style["".concat(ye,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Ce(e,t){e.style["".concat(ye,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function Ee(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function xe(e,t,o){return Math.max(e,Math.min(o,t))}function Se(e){return"px"===e.substr(-2)?parseFloat(e):0}function Pe(e,t){var o=t.displayName||t.name;return o?"".concat(e,"(").concat(o,")"):e}function Te(e,t){var o=e.getBoundingClientRect();return{top:o.top+t.top,left:o.left+t.left}}function Oe(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Be(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var n={left:o.left+e.offsetLeft,top:o.top+e.offsetTop};return e.parentNode===t?n:Be(e.parentNode,t,n)}}function Ae(e){var t=e.lockOffset,o=e.width,n=e.height,r=t,l=t,a="px";if("string"==typeof t){var i=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);pe()(null!==i,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),l=parseFloat(t),a=i[1]}return pe()(isFinite(r)&&isFinite(l),"lockOffset value should be a finite. Given %s",t),"%"===a&&(r=r*o/100,l=l*n/100),{x:r,y:l}}function De(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),o=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return o.test(t[e])}))}(e)?e:De(e.parentNode):null}var Fe={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Ie(e){return null!=e.sortableHandle}var Le=function(){function e(t,o){te(this,e),this.container=t,this.onScrollCallback=o}return ne(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,o=e.translate,n=e.minTranslate,r=e.maxTranslate,l=e.width,a=e.height,i={x:0,y:0},s={x:1,y:1},c=this.container,u=c.scrollTop,d=c.scrollLeft,m=c.scrollHeight,p=c.scrollWidth,b=0===u,h=m-u-c.clientHeight==0,f=0===d,g=p-d-c.clientWidth==0;o.y>=r.y-a/2&&!h?(i.y=1,s.y=10*Math.abs((r.y-a/2-o.y)/a)):o.x>=r.x-l/2&&!g?(i.x=1,s.x=10*Math.abs((r.x-l/2-o.x)/l)):o.y<=n.y+a/2&&!b?(i.y=-1,s.y=10*Math.abs((o.y-a/2-n.y)/a)):o.x<=n.x+l/2&&!f&&(i.x=-1,s.x=10*Math.abs((o.x-l/2-n.x)/l)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===i.x&&0===i.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:s.x*i.x,top:s.y*i.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),Ne={axis:he().oneOf(["x","y","xy"]),contentWindow:he().any,disableAutoscroll:he().bool,distance:he().number,getContainer:he().func,getHelperDimensions:he().func,helperClass:he().string,helperContainer:he().oneOfType([he().func,"undefined"==typeof HTMLElement?he().any:he().instanceOf(HTMLElement)]),hideSortableGhost:he().bool,keyboardSortingTransitionDuration:he().number,lockAxis:he().string,lockOffset:he().oneOfType([he().number,he().string,he().arrayOf(he().oneOfType([he().number,he().string]))]),lockToContainerEdges:he().bool,onSortEnd:he().func,onSortMove:he().func,onSortOver:he().func,onSortStart:he().func,pressDelay:he().number,pressThreshold:he().number,keyCodes:he().shape({lift:he().arrayOf(he().number),drop:he().arrayOf(he().number),cancel:he().arrayOf(he().number),up:he().arrayOf(he().number),down:he().arrayOf(he().number)}),shouldCancelStart:he().func,transitionDuration:he().number,updateBeforeSortStart:he().func,useDragHandle:he().bool,useWindowAsScrollContainer:he().bool},Re={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},Me={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Re,shouldCancelStart:function(e){return-1!==[Fe.Input,Fe.Textarea,Fe.Select,Fe.Option,Fe.Button].indexOf(e.target.tagName)||!!Ee(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},We=Object.keys(Ne),je=(0,ue.createContext)({manager:{}}),$e={index:he().number.isRequired,collection:he().oneOfType([he().number,he().string]),disabled:he().bool},He=Object.keys($e),Ue=function(t){let{icon:o,size:n=24,...r}=t;return(0,e.cloneElement)(o,{width:n,height:n,...r})},Ve=(0,e.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(H.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));const Ge=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return o=t=function(t){function o(){var e,t;te(this,o);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return Q(le(le(t=ae(this,(e=ie(o)).call.apply(e,[this].concat(r))))),"wrappedInstance",(0,ue.createRef)()),t}return ce(o,t),ne(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,o=e.disabled,n=e.index,r=(0,de.findDOMNode)(this);r.sortableInfo={collection:t,disabled:o,index:n,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return pe()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=n.withRef?this.wrappedInstance:null;return(0,ue.createElement)(e,a({ref:t},_e(this.props,He)))}}]),o}(ue.Component),Q(t,"displayName",Pe("sortableElement",e)),Q(t,"contextType",je),Q(t,"propTypes",$e),Q(t,"defaultProps",{collection:0}),o}((t=>{let{value:o,selected:n,dragging:r,sorting:l,selectedItemsCount:a,onClick:s}=t;const c=r&&1<a;return(0,e.createElement)(i.Button,{className:K()("o-images-grid-component__image",{"is-selected":n,"is-sorting":n&&l}),onClick:()=>s(o),style:{backgroundImage:`url( ' ${o.url} ' )`}},c&&(0,e.createElement)("div",{className:"o-images-grid-component__image__count"},a))}));var Ye=Ge;!function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};t=function(t){function n(e){var t;te(this,n),Q(le(le(t=ae(this,ie(n).call(this,e)))),"state",{}),Q(le(le(t)),"handleStart",(function(e){var o=t.props,n=o.distance,r=o.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=Oe(e);var l=Ee(e.target,(function(e){return null!=e.sortableInfo}));if(l&&l.sortableInfo&&t.nodeIsChild(l)&&!t.state.sorting){var a=t.props.useDragHandle,i=l.sortableInfo,s=i.index,c=i.collection;if(i.disabled)return;if(a&&!Ee(e.target,Ie))return;t.manager.active={collection:c,index:s},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==Fe.Anchor||e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Q(le(le(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Q(le(le(t)),"handleMove",(function(e){var o=t.props,n=o.distance,r=o.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var l=Oe(e),a={x:t.position.x-l.x,y:t.position.y-l.y},i=Math.abs(a.x)+Math.abs(a.y);t.delta=a,n||r&&!(i>=r)?n&&i>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Q(le(le(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Q(le(le(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Q(le(le(t)),"handlePress",(function(e){try{var o=t.manager.getActive(),n=function(){if(o){var n=function(){var o,n,r,c,h,f,g,_=m.sortableInfo.index,v=(o=m,{bottom:Se((n=window.getComputedStyle(o)).marginBottom),left:Se(n.marginLeft),right:Se(n.marginRight),top:Se(n.marginTop)}),y=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Se(t.gridColumnGap),y:Se(t.gridRowGap)}:{x:0,y:0}}(t.container),k=t.scrollContainer.getBoundingClientRect(),w=a({index:_,node:m,collection:p});if(t.node=m,t.margin=v,t.gridGap=y,t.width=w.width,t.height=w.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=m.getBoundingClientRect(),t.containerBoundingRect=k,t.index=_,t.newIndex=_,t.axis={x:l.indexOf("x")>=0,y:l.indexOf("y")>=0},t.offsetEdge=Be(m,t.container),t.initialOffset=Oe(b?ee({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((c="input, textarea, select, canvas, [contenteditable]",h=(r=m).querySelectorAll(c),(g=(f=r.cloneNode(!0)).querySelectorAll(c),function(e){if(Array.isArray(e))return Z(e)}(g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||X(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=h[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===Fe.Canvas&&h[t].width>0&&h[t].height>0&&e.getContext("2d").drawImage(h[t],0,0)})),f)),ke(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-v.top,"px"),width:"".concat(t.width,"px")}),b&&t.helper.focus(),s&&(t.sortableGhost=m,ke(m,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},b){var C=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,E=C.top,x=C.left,S=C.width,P=E+C.height,T=x+S;t.axis.x&&(t.minTranslate.x=x-t.boundingClientRect.left,t.maxTranslate.x=T-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=E-t.boundingClientRect.top,t.maxTranslate.y=P-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:k.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:k.left+k.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:k.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:k.top+k.height)-t.boundingClientRect.top-t.height/2);i&&i.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,b?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(ve.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),ve.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:_}),u&&u({node:m,index:_,collection:p,isKeySorting:b,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),b&&t.keyMove(0)},r=t.props,l=r.axis,a=r.getHelperDimensions,i=r.helperClass,s=r.hideSortableGhost,c=r.updateBeforeSortStart,u=r.onSortStart,d=r.useWindowAsScrollContainer,m=o.node,p=o.collection,b=t.manager.isKeySorting,h=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var o=function(t,o){try{var n=(r=m.sortableInfo.index,Promise.resolve(c({collection:p,index:r,node:m,isKeySorting:b},e)).then((function(){})))}catch(e){return o(!0,e)}var r;return n&&n.then?n.then(o.bind(null,!1),o.bind(null,!0)):o(!1,value)}(0,(function(e,o){if(t._awaitingUpdateBeforeSortStart=!1,e)throw o;return o}));if(o&&o.then)return o.then((function(){}))}}();return h&&h.then?h.then(n):n()}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Q(le(le(t)),"handleSortMove",(function(e){var o=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),o&&o(e)})),Q(le(le(t)),"handleSortEnd",(function(e){var o=t.props,n=o.hideSortableGhost,r=o.onSortEnd,l=t.manager,a=l.active.collection,i=l.isKeySorting,s=t.manager.getOrderedRefs();t.listenerNode&&(i?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(ve.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),ve.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&ke(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=s.length;c<u;c++){var d=s[c],m=d.node;d.edgeOffset=null,d.boundingClientRect=null,we(m,null),Ce(m,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:i,nodes:s},e),t.touched=!1})),Q(le(le(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,o=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(o){var n=ee({},t.translate),r=0,l=0;return t.axis.x&&(n.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-n.x),t.axis.y&&(n.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),l=t.translate.y-n.y),t.translate=n,we(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=l)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Q(le(le(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Q(le(le(t)),"handleKeyDown",(function(e){var o=e.keyCode,n=t.props,r=n.shouldCancelStart,l=n.keyCodes,a=ee({},Re,void 0===l?{}:l);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(o)&&!r(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(o)&&!t.manager.active?t.keyLift(e):a.drop.includes(o)&&t.manager.active?t.keyDrop(e):a.cancel.includes(o)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(o)?t.keyMove(-1):a.down.includes(o)&&t.keyMove(1))})),Q(le(le(t)),"keyLift",(function(e){var o=e.target,n=Ee(o,(function(e){return null!=e.sortableInfo})).sortableInfo,r=n.index,l=n.collection;t.initialFocusedNode=o,t.manager.isKeySorting=!0,t.manager.active={index:r,collection:l},t.handlePress(e)})),Q(le(le(t)),"keyMove",(function(e){var o=t.manager.getOrderedRefs(),n=o[o.length-1].node.sortableInfo.index,r=t.newIndex+e,l=t.newIndex;if(!(r<0||r>n)){t.prevIndex=l,t.newIndex=r;var a=function(e,t,o){return e<o&&e>t?e-1:e>o&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),i=o.find((function(e){return e.node.sortableInfo.index===a})),s=i.node,c=t.containerScrollDelta,u=i.boundingClientRect||Te(s,c),d=i.translate||{x:0,y:0},m=u.top+d.y-c.top,p=u.left+d.x-c.left,b=l<r,h=b&&t.axis.x?s.offsetWidth-t.width:0,f=b&&t.axis.y?s.offsetHeight-t.height:0;t.handleSortMove({pageX:p+h,pageY:m+f,ignoreTransition:0===e})}})),Q(le(le(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Q(le(le(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Q(le(le(t)),"isValidSortingTarget",(function(e){var o=t.props.useDragHandle,n=e.target,r=Ee(n,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(o?Ie(n):n.sortableInfo)}));var o=new fe;return function(e){pe()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=o,t.wrappedInstance=(0,ue.createRef)(),t.sortableContextValue={manager:o},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return ce(n,t),ne(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,o=this.getContainer();Promise.resolve(o).then((function(o){e.container=o,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:De(e.container)||e.container,e.autoScroller=new Le(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return ve[t].forEach((function(o){return e.container.addEventListener(o,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return ve[t].forEach((function(o){return e.container.removeEventListener(o,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,o=t.lockAxis,n=t.lockOffset,r=t.lockToContainerEdges,l=t.transitionDuration,a=t.keyboardSortingTransitionDuration,i=void 0===a?l:a,s=this.manager.isKeySorting,c=e.ignoreTransition,u=Oe(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,r){var m=function(e){var t=e.height,o=e.width,n=e.lockOffset,r=Array.isArray(n)?n:[n,n];pe()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var l=J(r,2),a=l[0],i=l[1];return[Ae({height:t,lockOffset:a,width:o}),Ae({height:t,lockOffset:i,width:o})]}({height:this.height,lockOffset:n,width:this.width}),p=J(m,2),b=p[0],h=p[1],f={x:this.width/2-b.x,y:this.height/2-b.y},g={x:this.width/2-h.x,y:this.height/2-h.y};d.x=xe(this.minTranslate.x+f.x,this.maxTranslate.x-g.x,d.x),d.y=xe(this.minTranslate.y+f.y,this.maxTranslate.y-g.y,d.y)}"x"===o?d.y=0:"y"===o&&(d.x=0),s&&i&&!c&&Ce(this.helper,i),we(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,o=e.hideSortableGhost,n=e.onSortOver,r=this.containerScrollDelta,l=this.windowScrollDelta,a=this.manager.getOrderedRefs(),i=this.offsetEdge.left+this.translate.x+r.left,s=this.offsetEdge.top+this.translate.y+r.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,m=a.length;d<m;d++){var p=a[d].node,b=p.sortableInfo.index,h=p.offsetWidth,f=p.offsetHeight,g={height:this.height>f?f/2:this.height/2,width:this.width>h?h/2:this.width/2},_=c&&b>this.index&&b<=u,v=c&&b<this.index&&b>=u,y={x:0,y:0},k=a[d].edgeOffset;k||(k=Be(p,this.container),a[d].edgeOffset=k,c&&(a[d].boundingClientRect=Te(p,r)));var w=d<a.length-1&&a[d+1],C=d>0&&a[d-1];w&&!w.edgeOffset&&(w.edgeOffset=Be(w.node,this.container),c&&(w.boundingClientRect=Te(w.node,r))),b!==this.index?(t&&Ce(p,t),this.axis.x?this.axis.y?v||b<this.index&&(i+l.left-g.width<=k.left&&s+l.top<=k.top+g.height||s+l.top+g.height<=k.top)?(y.x=this.width+this.marginOffset.x,k.left+y.x>this.containerBoundingRect.width-g.width&&w&&(y.x=w.edgeOffset.left-k.left,y.y=w.edgeOffset.top-k.top),null===this.newIndex&&(this.newIndex=b)):(_||b>this.index&&(i+l.left+g.width>=k.left&&s+l.top+g.height>=k.top||s+l.top+g.height>=k.top+f))&&(y.x=-(this.width+this.marginOffset.x),k.left+y.x<this.containerBoundingRect.left+g.width&&C&&(y.x=C.edgeOffset.left-k.left,y.y=C.edgeOffset.top-k.top),this.newIndex=b):_||b>this.index&&i+l.left+g.width>=k.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=b):(v||b<this.index&&i+l.left<=k.left+g.width)&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=b)):this.axis.y&&(_||b>this.index&&s+l.top+g.height>=k.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=b):(v||b<this.index&&s+l.top<=k.top+g.height)&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=b))),we(p,y),a[d].translate=y):o&&(this.sortableGhost=p,ke(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var E=c?this.prevIndex:u;n&&this.newIndex!==E&&n({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:E,isKeySorting:c,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return pe()(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,de.findDOMNode)(this):e(o.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=o.withRef?this.wrappedInstance:null;return(0,ue.createElement)(je.Provider,{value:this.sortableContextValue},(0,ue.createElement)(e,a({ref:t},_e(this.props,We))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(ue.Component),Q(t,"displayName",Pe("sortableList",e)),Q(t,"defaultProps",Me),Q(t,"propTypes",Ne)}((t=>{let{items:o,className:n,onItemSelect:l,selectedItems:a,isSorting:s,sortingItemKey:c,open:u}=t;return(0,e.createElement)("div",{className:n,tabIndex:"0"},o.map(((t,o)=>{const n=a.includes(t),r=c===t;return(0,e.createElement)(Ye,{key:`image-${t.id}`,index:o,value:t,selected:n,dragging:r,sorting:s,selectedItemsCount:a.length,onClick:l})})),(0,e.createElement)(i.Button,{label:(0,r.__)("Add Images","otter-blocks"),icon:(0,e.createElement)(Ue,{icon:Ve}),isPrimary:!0,onClick:u}))})),window.wp.keycodes;var Ke=o(84);const ze=t=>{let{label:o,value:n,onChange:r,help:l="",allowRawHTML:a=!1}=t;const s=(0,G.useInstanceId)(ze);(0,e.useEffect)((()=>{const e={classic_block_editor:!0,plugins:"lists,media,paste,tabfocus,wordpress,wpautoresize,wpeditimage,wpgallery,wplink,wpdialogs,wptextpattern,wpview",toolbar1:"formatselect,bold,italic,bullist,numlist,alignleft,aligncenter,alignright,link,unlink,spellchecker,wp_add_media"};a&&(e.force_p_newlines=!1,e.forced_root_block=""),wp.oldEditor.initialize(u.current.id,{tinymce:{...e}});const t=window.tinymce.get(u.current.id);return t.on("change",(()=>{r(a?(0,Ke.b8)(t.getContent()):t.getContent())})),()=>void 0!==u?.current?.id?wp.oldEditor.remove(u.current.id):void 0}),[]);const c=`inspector-textarea-control-${s}`,u=(0,e.useRef)(null);return(0,e.createElement)(i.BaseControl,{id:c,label:o,help:l},(0,e.createElement)("textarea",{id:c,className:"components-textarea-control__input",rows:4,value:n,onChange:e=>r(e.target.value),ref:u}))};var qe=ze;window.otterComponents={},window.otterComponents.SelectProducts=t=>{let{label:o,value:n,onChange:l,...c}=t;const{results:d,status:m,isLoading:p}=(0,s.useSelect)((e=>{let t=[],o="loading";const{COLLECTIONS_STORE_KEY:n}=window.wc.wcBlocksData;var l;return e(n).getCollectionError("/wc/store","products",{per_page:0})?o="error":(t="error"===o?[]:(null!==(l=e(n).getCollection?.("/wc/store","products",{per_page:0}))&&void 0!==l?l:[])?.map((e=>({value:e.id,label:(0,u.decodeEntities)(e.name)}))),o="loaded",t=[{value:0,label:(0,r.__)("None","otter-blocks")},...t]),{results:t,status:o,isLoading:e(n).isResolving("getCollection",["/wc/store","products",{per_page:0}])}}),[]);return p?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):"error"===m?(0,e.createElement)("p",null,(0,r.__)("There seems to have been an error","otter-blocks")):(0,e.createElement)(i.SelectControl,a({label:o,value:Number(n),options:d,onChange:e=>l(Number(e))},c))},window.otterComponents.Notice=V,window.otterComponents.useInspectorSlot=e=>$.includes(e)?W:M.InspectorControls;const Ze=t=>{let{formOptions:o,setFormOption:n}=t;const[l,a]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,l&&(0,e.createElement)(i.Modal,{title:(0,r.__)("Autoresponder Body"),onRequestClose:()=>a(!1),shouldCloseOnClickOutside:!1},(0,e.createElement)(qe,{value:o.autoresponder?.body,onChange:e=>{n({autoresponder:{...o.autoresponder,body:e}})},help:(0,r.__)("Enter the body of the autoresponder email.","otter-blocks"),allowRawHTML:!0})),(0,e.createElement)("br",null),(0,e.createElement)(i.Button,{variant:"secondary",onClick:()=>a(!0)},(0,r.__)("Add Autoresponder Body","otter-blocks")))};(0,l.addFilter)("otter.formBlock.options","themeisle-gutenberg/form-block-options",((t,o,n)=>(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(i.__experimentalToolsPanelItem,{hasValue:()=>void 0!==o.autoresponder?.subject||void 0!==o.autoresponder?.body,label:(0,r.__)("Autoresponder","otter-blocks"),onDeselect:()=>n({autoresponder:void 0})},Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:(0,r.__)("Autoresponder Subject","otter-blocks"),placeholder:(0,r.__)("Confirmation of your subscription","otter-blocks"),value:o.autoresponder?.subject,onChange:e=>n({autoresponder:{...o.autoresponder,subject:e}}),help:(0,r.__)("Enter the subject of the autoresponder email.","otter-blocks")}),(0,e.createElement)(Ze,{formOptions:o,setFormOption:n})):(0,e.createElement)("div",null,(0,e.createElement)(V,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Form Block.","otter-blocks")}))))));var Xe=o(981);const{Notice:Je}=window.otterComponents,Qe=Object.keys(window.themeisleGutenberg.postTypes),et=["attachment"],tt=[2,3].includes(parseInt(window.otterPro.licenseType))||window.otterPro.hasNeveLicense;var ot=t=>{let{BlockEdit:o,props:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(M.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:(0,r.__)("Live Search","otter-blocks"),initialOpen:!1},Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&tt&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.ToggleControl,{label:(0,r.__)("Enable Live Search","otter-blocks"),checked:n.attributes.otterIsLive,onChange:()=>{const e=!n.attributes.otterIsLive;n.setAttributes({otterIsLive:e})}}),n.attributes.otterIsLive&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.FormTokenField,{label:(0,r.__)("Search in","otter-blocks"),value:n.attributes.otterSearchQuery?n.attributes.otterSearchQuery.post_type:[],suggestions:Qe.filter((e=>!et.includes(e))),onChange:e=>(e=>{n.setAttributes({otterSearchQuery:{post_type:e}})})(e),__experimentalExpandOnFocus:!0,__experimentalValidateInput:e=>Qe.includes(e)}),(0,e.createElement)(Je,{notice:(0,r.__)("Leave empty to search in all post types.","otter-blocks"),variant:"help"}))),(0,e.createElement)((()=>tt?Boolean(window.otterPro.isExpired)?(0,e.createElement)(Je,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using the live search feature.","otter-blocks")}):Boolean(window.otterPro.isActive)?null:(0,e.createElement)(Je,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use the live search feature.","otter-blocks")}):(0,e.createElement)(Je,{notice:(0,r.__)("You need to upgrade your plan.","otter-blocks"),instructions:(0,r.__)("You need to upgrade your plan to Agency in order to use the Live Search feature.","otter-blocks")})),null),(0,l.applyFilters)("otter.poweredBy",""))),(0,e.createElement)(o,n))};const{searchIcon:nt}=window.otterUtils.icons,rt=(0,G.createHigherOrderComponent)((t=>o=>"core/search"!==o.name?(0,e.createElement)(t,o):(0,e.createElement)(ot,{BlockEdit:t,props:o})),"withLiveExtension");Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("blocks.registerBlockType","themeisle-gutenberg/live-search-attributes",(e=>("core/search"===e.name&&(e.attributes=(0,k.assign)(e.attributes,{otterIsLive:{type:"boolean",default:!1},otterSearchQuery:{type:"object"}})),e))),(0,Xe.registerBlockVariation)("core/search",{name:"themeisle-gutenberg/live-search",title:(0,r.__)("Live Search","otter-blocks"),description:(0,r.__)("this is a temporary description.","otter-blocks"),icon:nt,category:"themeisle-blocks",attributes:{buttonText:(0,r.__)("Search"),label:(0,r.__)("Search"),otterIsLive:!0}})),(0,l.addFilter)("editor.BlockEdit","themeisle-gutenberg/live-search-extension",rt);var lt=o(586);const{Notice:at}=window.otterComponents,it=["text","textarea","range","number","url","email","password"],st=t=>{let{customFieldData:o}=t;const{fields:n}=(0,s.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);if(!o||!o.display)return(0,e.createElement)(e.Fragment,null);const r=n[o.field];return(0,e.createElement)("div",{className:"o-posts-custom-field"},(r?.prepend||"")+(r?.value?r.value:r?.default_value||"")+(r?.append||""))};(0,l.addFilter)("blocks.registerBlockType","themeisle-gutenberg/posts-acf-extension-attributes",(e=>("themeisle-blocks/posts-grid"===e.name&&(e.attributes=(0,k.assign)(e.attributes,{customMetas:{type:"array",items:{type:"object"}}})),e))),(0,l.addFilter)("otter.postsBlock.panelLabel","themeisle-gutenberg/posts-acf-extension-tab-label",((e,t)=>{const{fields:o}=(0,s.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);return(0,k.startCase)((0,k.toLower)(o[t.field]?.label||(0,r.__)("Custom Type","otter-blocks")))})),(0,l.addFilter)("otter.postsBlock.sortableContainer","themeisle-gutenberg/posts-acf-extension-add-button",((t,o,n)=>void 0===window.acf?(0,e.createElement)(i.ExternalLink,{href:"https://wordpress.org/plugins/advanced-custom-fields/",target:"_blank"},(0,r.__)("Activate Advanced Custom Fields to add more fields.","otter-blocks")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{variant:"secondary",isSecondary:!0,className:"o-conditions__add",disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onClick:()=>{let e=(0,lt.Z)().slice(0,8);for(;0<o?.customMetas?.some((t=>{let{otherId:o}=t;return o===e}));)e=(0,lt.Z)().slice(0,8);e=`custom_${e}`;const t={id:e,field:"",display:!0},{template:r,customMetas:l}=(()=>{const e=(0,k.intersection)(o.template,o?.customMetas?.map((e=>{let{id:t}=e;return t})));return{template:o?.template.filter((t=>!t.startsWith("custom_")||e.includes(t))),customMetas:o.customMetas?.filter((t=>{let{id:o}=t;return e.includes(o)}))}})();n({template:[...r,e],customMetas:l?[...l,t]:[t]})}},(0,r.__)("Add Custom Field","otter-blocks")),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(at,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Posts Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(at,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Posts Block.","otter-blocks")})))),(0,l.addFilter)("otter.postsBlock.controls","themeisle-gutenberg/posts-acf-extension-controls",((t,o,n,l,a,c)=>{const{groups:u,fields:d}=(0,s.select)("otter-pro").getACFData();return l&&a?Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,!(0,k.isEmpty)(u)&&(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Fields","otter-blocks")},(0,e.createElement)("select",{value:d[a.field]?a.field:"none",onChange:e=>c({field:e.target.value}),className:"components-select-control__input",disabled:Boolean(window.otterPro.isExpired)},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),u.map((t=>(0,e.createElement)("optgroup",{key:t?.data?.key,label:t?.data?.title},t?.fields?.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&it.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)}))))))),!(0,k.isEmpty)(d)&&d[a.field]&&(0,e.createElement)(e.Fragment,null,d[a.field].default_value&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Default Value","otter-blocks"),value:d[a.field].default_value,disabled:!0}),d[a.field].prepend&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Before","otter-blocks"),value:d[a.field].prepend,disabled:!0}),d[a.field].append&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("After","otter-blocks"),value:d[a.field].append,disabled:!0})),d[a.field]?.urlLocation&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.ExternalLink,{href:d[a.field]?.urlLocation,target:"_blank"},(0,r.__)("Edit in ACF","otter-blocks")),(0,e.createElement)("br",null)),(0,k.isEmpty)(u)?(0,e.createElement)(i.ExternalLink,{href:`${window.otterPro.rootUrl||""}/wp-admin/edit.php?post_type=acf-field-group`,target:"_blank"},(0,r.__)("There are no ACF fields. You can use this option after you add some.","otter-blocks")):!d[a.field]&&(0,r.__)("The selected field does not longer exists. Please select another field.","otter-blocks"),(0,e.createElement)(i.Button,{onClick:()=>{n({template:o.template?.filter((e=>e!==a?.id)),customMetas:o.customMetas?.filter((e=>e?.id!==a?.id))})},variant:"secondary",isSecondary:!0,isDestructive:!0,className:"o-conditions__add"},(0,r.__)("Delete","otter-blocks"))):(0,e.createElement)(at,{notice:(0,r.__)("You need to activate Otter Pro to edit this field.","otter-blocks")}):t})),Boolean(window.otterPro.isActive)&&(0,l.addFilter)("otter.postsBlock.templateLoop","themeisle-gutenberg/posts-acf-extension-template-loop",((t,o,n)=>{if(!o?.startsWith("custom_"))return t;const r=n.customMetas?.filter((e=>{let{id:t}=e;return t===o}))?.pop();return(0,e.createElement)(st,{customFieldData:r})}));const{Notice:ct}=window.otterComponents;(0,l.addFilter)("otter.popupBlock.triggers","themeisle-gutenberg/popup-block-triggers",(()=>[{label:(0,r.__)("On Load","otter-blocks"),value:"onLoad"},{label:(0,r.__)("On Anchor Click","otter-blocks"),value:"onClick",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,r.__)("On Scroll","otter-blocks"),value:"onScroll",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,r.__)("On Exit","otter-blocks"),value:"onExit",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))}])),(0,l.addFilter)("otter.popupBlock.controls","themeisle-gutenberg/popup-block-controls",((t,o,n)=>Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,"onClick"===o.trigger&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Anchor","otter-blocks"),help:(0,r.__)("You can use this anchor as an anchor link anywhere on the page to open the popup.","otter-blocks"),value:o.anchor,onChange:e=>n({anchor:e})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(ct,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Popup Block.","otter-blocks")}),"onScroll"===o.trigger&&(0,e.createElement)(i.RangeControl,{label:(0,r.__)("Scroll Distance","otter-blocks"),help:(0,r.__)("Show the modal when this percentage of the page has been scrolled.","otter-blocks"),min:0,max:100,value:o.scroll,onChange:e=>n({scroll:void 0!==e?Number(e):e}),allowReset:!0,initialPosition:0}),"onExit"===o.trigger&&(0,e.createElement)("p",null,(0,r.__)("Shows the modal when the user moves the mouse outside of the top of the window.","otter-blocks")),t,(0,e.createElement)(i.ToggleControl,{label:(0,r.__)("Close On Anchor Click","otter-blocks"),checked:o.anchorClose,onChange:()=>n({anchorClose:!o.anchorClose})}),o.anchorClose&&(0,e.createElement)(i.TextControl,{label:(0,r.__)("Close Anchor","otter-blocks"),help:(0,r.__)("You can use this anchor as an anchor link anywhere on the page to close the popup.","otter-blocks"),value:o.closeAnchor,onChange:e=>n({closeAnchor:e})}),"onClick"!==o.trigger&&(0,e.createElement)(i.ToggleControl,{label:(0,r.__)("Dismiss for Recurring Visitors","otter-blocks"),checked:o.recurringClose,onChange:()=>n({recurringClose:!o.recurringClose})}),o.recurringClose&&"onClick"!==o.trigger&&(0,e.createElement)(i.RangeControl,{label:(0,r.__)("Display Interval","otter-blocks"),help:(0,r.__)("Number of days until the popup is shown again. Leave it empty for one-time display","otter-blocks"),min:0,max:100,value:o.recurringTime,onChange:e=>n({recurringTime:void 0!==e?Number(e):e}),allowReset:!0})):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(ct,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Popup Block.","otter-blocks")}))));const{Notice:ut}=window.otterComponents;(0,l.addFilter)("otter.sticky.controls","themeisle-gutenberg/sticky-controls",((t,o,n,l)=>{if(!Boolean(window.otterPro.isActive))return(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(ut,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}));const a=o?.className?.includes(n.float),s=o?.className?.includes("o-sticky-pos-bottom")?"o-sticky-pos-bottom":"o-sticky-pos-top",c=o?.className?.split(" ").filter((e=>e.includes("o-sticky-bhvr"))).pop()||"o-sticky-bhvr-keep",u=Boolean(o?.className?.split(" ").filter((e=>e.includes("o-sticky-use-mobile"))).pop()||!1);return(0,e.createElement)(e.Fragment,null,Boolean(window.otterPro.isExpired)&&(0,e.createElement)(ut,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Sticky Extension.","otter-blocks")}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Position","otter-blocks"),help:(0,r.__)("Position of the block in relation to the screen.","otter-blocks"),value:s,options:[{label:(0,r.__)("Top","otter-blocks"),value:"o-sticky-pos-top"},{label:(0,r.__)("Bottom","otter-blocks"),value:"o-sticky-pos-bottom"}],onChange:e=>l(e,n.position)}),(0,e.createElement)(i.RangeControl,{label:(0,r.__)("Offset","otter-blocks"),help:(0,r.__)("Distance from the block to the screen.","otter-blocks"),value:parseInt(o?.className?.split(" ")?.filter((e=>e?.includes("o-sticky-offset")))?.reduce(((e,t)=>t?.split("-")?.pop()||e),40)),min:0,max:500,onChange:e=>l(`o-sticky-offset-${e}`,n.offset)}),(0,e.createElement)(i.SelectControl,{label:(0,r.__)("Behaviour","otter-blocks"),help:(0,r.__)("Behaviour when multiple sticky blocks with the same movement limit collide.","otter-blocks"),value:c,options:[{label:(0,r.__)("Collapse","otter-blocks"),value:"o-sticky-bhvr-keep"},{label:(0,r.__)("Fade","otter-blocks"),value:"o-sticky-bhvr-hide"},{label:(0,r.__)("Stack","otter-blocks"),value:"o-sticky-bhvr-stack"}],onChange:e=>l(e,n.behaviour)}),"o-sticky-bhvr-stack"===c&&(0,e.createElement)("div",{style:{backgroundColor:"#fdf8e6",borderRadius:"5px",padding:"10px",textAlign:"justify"}},(0,r.__)("The block will stack with other sticky elements with the same 'Stick To' container, and Stack option in Behaviour. It works better with 'Stick to' as Top Level Block or Screen.","otter-blocks")),(0,e.createElement)(i.ToggleControl,{label:(0,r.__)("Enable on Mobile","otter-blocks"),help:(0,r.__)("Make the sticky mode active for mobile users."),checked:u,onChange:e=>l(e?"o-sticky-use-mobile":void 0,n.usage)}),a&&(0,e.createElement)(i.BaseControl,{label:(0,r.__)("Closing the Sticky","otter-blocks")},(0,e.createElement)("p",null,(0,r.__)("You can make another block that is inside the sticky element to behave like a closing button by adding the following CSS class.")),(0,e.createElement)("code",{style:{display:"block",padding:"10px",marginBottom:"5px"}},"o-sticky-close"),(0,e.createElement)("p",null,(0,r.__)("You can transform a Button into a Close button by inserting the following anchor.","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},"#o-sticky-close")))}));const{Notice:dt,SelectProducts:mt}=window.otterComponents;var pt=t=>{let{name:o,BlockEdit:n,props:l}=t;const{results:c,status:u}=(0,s.useSelect)((e=>{let t="isLoading",o={};if(l.attributes.product&&Boolean(window.otterPro.isActive)){const{COLLECTIONS_STORE_KEY:i}=window.wc.wcBlocksData,s=e(i).getCollectionError("/wc/store","products",{},[l.attributes.product]);if(s)return{results:{},status:{isError:!0,message:s.message||(0,r.__)("Unknown error","otter-blocks")}};o=e(i).getCollection("/wc/store","products",{},[l.attributes.product]),(0,k.isEmpty)(o)||(o={title:(n=o)?.name,description:n?.short_description,price:window.wc.priceFormat.formatPrice(Number(n?.prices?.regular_price)).replace(/[^0-9.-]+/g,""),discounted:n?.prices?.regular_price!==n?.prices?.sale_price?window.wc.priceFormat.formatPrice(Number(n?.prices?.sale_price)).replace(/[^0-9.-]+/g,""):void 0,currency:n?.prices?.currency_code,links:[{label:(0,r.__)("Buy Now","otter-blocks"),href:n?.add_to_cart?.url,isSpoonsored:"external"===n?.type}],image:0<n?.images?.length?(a=n?.images[0],{id:a.id,alt:a.alt,url:a.src}):void 0},t="isLoaded")}else t="isInactive";var n,a;return{results:o,status:t}}),[l.attributes.product]);let d=M.InspectorControls;return window?.otterComponents?.useInspectorSlot&&(d=window.otterComponents.useInspectorSlot(l.name)),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,a({productAttributes:c,status:u},l)),(0,e.createElement)(d,null,(0,e.createElement)(i.PanelBody,{title:(0,r.__)("Sync with WooCommerce","otter-blocks"),initialOpen:!1},(0,e.createElement)("p",null,(0,r.__)("By selecting a product, the current review information will sync with the selected WooCommerce product.","otter-blocks")),(0,e.createElement)(mt,{label:(0,r.__)("Select Product","otter-blocks"),value:l.attributes.product,disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onChange:e=>l.setAttributes({product:0===e?void 0:e})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(dt,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Review Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(dt,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Review Block.","otter-blocks")}))))};const bt=(0,G.createHigherOrderComponent)((t=>o=>"themeisle-blocks/review"!==o.name||!o.isSelected&&void 0===o.attributes.product?(0,e.createElement)(t,o):(0,e.createElement)(pt,{BlockEdit:t,props:o})),"withWooCommerceExtension");Boolean(window.otterPro.hasWooCommerce)&&((0,l.addFilter)("blocks.registerBlockType","themeisle-gutenberg/review-woocommerce-extension-attributes",(e=>("themeisle-blocks/review"===e.name&&(e.attributes=(0,k.assign)(e.attributes,{product:{type:"number"}})),e))),(0,l.addFilter)("editor.BlockEdit","themeisle-gutenberg/review-woocommerce-extension",bt))}()}();