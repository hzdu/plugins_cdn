!function(){var e={184:function(e,t){var o;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var a=l.apply(null,o);a&&e.push(a)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var s in o)r.call(o,s)&&o[s]&&e.push(s)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(o=function(){return l}.apply(t,[]))||(e.exports=o)}()},463:function(e,t,o){const r=o(411);e.exports=function(e){if("string"!=typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0},e.exports.currencySymbolMap=r},411:function(e){e.exports={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"₿",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"¥",CNY:"¥",COP:"$",COU:"COU",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"S$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"лв",VEF:"Bs",VES:"Bs.S",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",XSU:"Sucre",XUA:"XUA",YER:"﷼",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((o=e,Array.isArray(o)?[]:{}),e,t):e;var o}function l(e,t,o){return e.concat(t).map((function(e){return r(e,o)}))}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,o,i){(i=i||{}).arrayMerge=i.arrayMerge||l,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(o);return c===Array.isArray(e)?c?i.arrayMerge(e,o,i):function(e,t,o){var l={};return o.isMergeableObject(e)&&n(e).forEach((function(t){l[t]=r(e[t],o)})),n(t).forEach((function(n){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(a(e,n)&&o.isMergeableObject(t[n])?l[n]=function(e,t){if(!t.customMerge)return s;var o=t.customMerge(e);return"function"==typeof o?o:s}(n,o)(e[n],t[n],o):l[n]=r(t[n],o))})),l}(e,o,i):r(o,i)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,o){return s(e,o,t)}),{})};var i=s;e.exports=i},586:function(e,t,o){"use strict";var r;o.d(t,{Z:function(){return u}});var l=new Uint8Array(16);function n(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(l)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)},i=[],c=0;c<256;++c)i.push((c+256).toString(16).substr(1));var u=function(e,t,o){var r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(var l=0;l<16;++l)t[o+l]=r[l];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!s(o))throw TypeError("Stringified UUID is invalid");return o}(r)}},819:function(e){"use strict";e.exports=window.lodash},989:function(e){"use strict";e.exports=window.wp.apiFetch},175:function(e){"use strict";e.exports=window.wp.blockEditor},609:function(e){"use strict";e.exports=window.wp.components},818:function(e){"use strict";e.exports=window.wp.data},307:function(e){"use strict";e.exports=window.wp.element},736:function(e){"use strict";e.exports=window.wp.i18n}},t={};function o(r){var l=t[r];if(void 0!==l)return l.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=o(307),t=o(736),r=window.wp.blocks,l=o(175),n=o(609),a=window.wp.primitives,s=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"})),i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/add-to-cart-button","title":"Add to Cart Button","category":"themeisle-blocks","description":"Display an Add to Cart button for your WooCommerce products. Powered by Otter.","keywords":["woocommerce","add to cart","products"],"textdomain":"otter-blocks","attributes":{"product":{"type":"number"}},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"primary","label":"Primary"},{"name":"secondary","label":"Secondary"}]}'),c=window.wp.serverSideRender,u=o.n(c);const{SelectProducts:d}=window.otterComponents;var m=o=>{let{attributes:r,setAttributes:a}=o;const i=(0,l.useBlockProps)();return(0,e.createElement)("div",i,r.product?(0,e.createElement)(n.Disabled,null,(0,e.createElement)(u(),{block:"themeisle-blocks/add-to-cart-button",attributes:{...r}})):(0,e.createElement)(n.Placeholder,{icon:s,label:(0,t.__)("Add to Cart Button","otter-blocks"),instructions:(0,t.__)("Select a WooCommerce product for the Add to Cart button.","otter-blocks")},(0,e.createElement)(d,{label:(0,t.__)("Select Product","otter-blocks"),hideLabelFromVision:!0,value:r.product||"",onChange:e=>a({product:Number(e)})})))},b=o=>{let{icon:r,label:l,blockProps:a}=o;const s=(0,t.sprintf)((0,t.__)("You need to %2$s your Otter Pro license in order to use %1$s block.","otter-blocks"),l,Boolean(window.otterPro.isExpired)?(0,t.__)("renew","otter-blocks"):(0,t.__)("activate","otter-blocks"));return(0,e.createElement)("div",a,(0,e.createElement)(n.Placeholder,{icon:r,label:l,instructions:s}))};const{name:p}=i;Boolean(window.otterPro.hasWooCommerce)?(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(m=()=>(0,e.createElement)(b,{icon:s,label:i.title,blockProps:(0,l.useBlockProps)()})),(0,r.registerBlockType)(p,{title:(0,t.__)("Add to Cart Button","otter-blocks"),...i,description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:s,keywords:["woocommerce","add to cart","products"],supports:{inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("Default","otter-blocks"),isDefault:!0},{name:"primary",label:(0,t.__)("Primary","otter-blocks")},{name:"secondary",label:(0,t.__)("Secondary","otter-blocks")}],edit:m,save:()=>null})):(0,r.registerBlockType)(p,{...i,title:(0,t.__)("Add to Cart Button","otter-blocks"),description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:s,keywords:["woocommerce","add to cart","products"],supports:{inserter:!1},edit:()=>(0,e.createElement)("div",(0,l.useBlockProps)(),(0,e.createElement)(n.Placeholder,null,(0,t.__)("You need to have WooCommerce installed to edit Add to Cart Button block.","otter-blocks"))),save:()=>null});var _,h,v=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{fillRule:"evenodd",d:"M16.83 6.342l.602.3.625-.25.443-.176v12.569l-.443-.178-.625-.25-.603.301-1.444.723-2.41-.804-.475-.158-.474.158-2.41.803-1.445-.722-.603-.3-.625.25-.443.177V6.215l.443.178.625.25.603-.301 1.444-.722 2.41.803.475.158.474-.158 2.41-.803 1.445.722zM20 4l-1.5.6-1 .4-2-1-3 1-3-1-2 1-1-.4L5 4v17l1.5-.6 1-.4 2 1 3-1 3 1 2-1 1 .4 1.5.6V4zm-3.5 6.25v-1.5h-8v1.5h8zm0 3v-1.5h-8v1.5h8zm-8 3v-1.5h8v1.5h-8z",clipRule:"evenodd"})),g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours","title":"Business Hours","category":"themeisle-blocks","description":"Display your business schedule on your website. Powered by Otter.","keywords":["business","schedule","time"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"title":{"type":"string"},"titleAlignment":{"type":"string"},"titleFontSize":{"type":"number"},"titleColor":{"type":"string"},"itemsFontSize":{"type":"number"},"backgroundColor":{"type":"string"},"gap":{"type":"number"},"borderWidth":{"type":"number"},"borderColor":{"type":"string"},"borderRadius":{"type":"number"}},"supports":{"align":["wide","full"]},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"black-white","label":"Black & White"}],"editorStyle":"otter-business-hours-editor","style":"otter-business-hours-style"}'),k=t=>{let{attributes:o,setAttributes:r}=t;const n=l.AlignmentControl||l.AlignmentToolbar;return(0,e.createElement)(l.BlockControls,null,(0,e.createElement)(n,{value:o.titleAlignment,onChange:e=>r({titleAlignment:e})}))},w=o=>{let{attributes:r,setAttributes:a}=o;return(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,t.__)("Settings","otter-blocks")},(0,e.createElement)(n.RangeControl,{label:(0,t.__)("Gap","otter-blocks"),value:r.gap,onChange:e=>a({gap:Number(e)}),min:0,max:60}),(0,e.createElement)(n.RangeControl,{label:(0,t.__)("Title Font Size","otter-blocks"),value:r.titleFontSize,onChange:e=>a({titleFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(n.RangeControl,{label:(0,t.__)("Items Font Size","otter-blocks"),value:r.itemsFontSize,onChange:e=>a({itemsFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(n.RangeControl,{label:(0,t.__)("Border Radius","otter-blocks"),value:r.borderRadius,onChange:e=>a({borderRadius:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(n.RangeControl,{label:(0,t.__)("Border Width","otter-blocks"),value:r.borderWidth,onChange:e=>a({borderWidth:Number(e)}),step:.1,min:0,max:120})),(0,e.createElement)(l.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:r.titleColor,onChange:e=>a({titleColor:e}),label:(0,t.__)("Title","otter-blocks")},{value:r.backgroundColor,onChange:e=>a({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks")},{value:r.borderColor,onChange:e=>a({borderColor:e}),label:(0,t.__)("Border","otter-blocks")}]},(0,e.createElement)(l.ContrastChecker,{textColor:r.titleColor,backgroundColor:r.backgroundColor})))},C=o(586),y=o(819),E=o(818);null!==(h=(_=window.themeisleGutenberg).blockIDs)&&void 0!==h||(_.blockIDs=[]);const{getBlock:f}=(0,E.select)("core/block-editor"),{getBlockParents:P}=(0,E.select)("core/block-editor"),{updateBlockAttributes:S}=(0,E.dispatch)("core/block-editor"),{getSelectedBlockClientId:B}=(0,E.select)("core/block-editor"),T=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[o,r]=(0,e.useState)({css:[],media:[]}),[l,n]=(0,e.useState)({node:null,cssNodeName:""}),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r({css:e,media:t})};return(0,e.useEffect)((()=>{var e;let o;const r=document.createElement("style");return r.type="text/css",r.setAttribute("data-generator","otter-blocks"),setTimeout((()=>{var e,t;o=(null===(e=parent.document.querySelector('iframe[name="editor-canvas"]'))||void 0===e?void 0:e.contentWindow.document.head)||document.head,null===(t=o)||void 0===t||t.appendChild(r)}),500),n({node:r,cssNodeName:null!==(e=null==t?void 0:t.selector)&&void 0!==e?e:`o-node-${(0,C.Z)()}`}),()=>{var e;null===(e=o)||void 0===e||e.removeChild(r)}}),[]),(0,e.useEffect)((()=>{if(l.node&&l.cssNodeName&&void 0!==o.media){const e=(0,y.zip)(o.css,o.media).map((e=>{const[t,o]=e;return o?`${o} { \n\t .${l.cssNodeName} ${t} }`:`.${l.cssNodeName} ${t}`})).join("\n")||"";l.node.textContent=e}}),[o.css,o.media,l.node,l.cssNodeName]),[l.cssNodeName,a,n]},{blockInit:x}=window.otterUtils,{attributes:A}=g;var F=o=>{let{attributes:r,setAttributes:n,isSelected:a,clientId:s}=o;(0,e.useEffect)((()=>{const e=x(s,A);return()=>e(r.id)}),[r.id]);const i={container:{backgroundColor:r.backgroundColor,borderRadius:r.borderRadius+"px",border:r.borderWidth&&`${r.borderWidth}px solid ${r.borderColor||"#000000"}`},title:{textAlign:r.titleAlignment,fontSize:r.titleFontSize+"px",color:r.titleColor}},[c,u]=T();(0,e.useEffect)((()=>{u([`.otter-business-hour__container .otter-business-hour__content .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tfont-size: ${r.itemsFontSize}px;\n\t\t\t\tpadding-top: ${r.gap}px;\n\t\t\t\tpadding-bottom: ${r.gap}px;\n\t\t\t}`,`.otter-business-hour__container .otter-business-hour__content .block-editor-block-list__block:last-child .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tborder-radius: 0 0 ${r.borderRadius||0}px ${r.borderRadius||0}px;\n\t\t\t}`])}),[r.itemsFontSize,r.gap,r.borderRadius]);const d=(0,l.useBlockProps)({id:r.id,style:i.container,className:c});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(k,{attributes:r,setAttributes:n}),(0,e.createElement)(w,{attributes:r,setAttributes:n}),(0,e.createElement)("div",d,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{style:i.title,className:"otter-business-hour__title"},(0,e.createElement)(l.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:r.title,onChange:e=>{n({title:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(l.InnerBlocks,{allowedBlocks:["core/separator","themeisle-blocks/business-hours-item"],template:[["themeisle-blocks/business-hours-item",{label:(0,t.__)("Monday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Tuesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Wednesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Thursday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Friday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Saturday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Sunday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}]],renderAppender:a?l.InnerBlocks.ButtonBlockAppender:""})))))},D=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours-item","title":"Business Hours Item","category":"themeisle-blocks","description":"Item used by Business Hours block to display the time. Powered by Otter.","keywords":["business","schedule","time"],"parent":["themeisle-blocks/business-hours"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"label":{"type":"string"},"time":{"type":"string"},"backgroundColor":{"type":"string"},"labelColor":{"type":"string"},"timeColor":{"type":"string"}},"supports":{"align":["wide","full"]}}'),L=o=>{let{attributes:r,setAttributes:n}=o;return(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(l.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:r.backgroundColor,onChange:e=>n({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks")},{value:r.labelColor,onChange:e=>n({labelColor:e}),label:(0,t.__)("Label","otter-blocks")},{value:r.timeColor,onChange:e=>n({timeColor:e}),label:(0,t.__)("Time","otter-blocks")}]},(0,e.createElement)(l.ContrastChecker,{textColor:r.labelColor,backgroundColor:r.backgroundColor})))};const{blockInit:N}=window.otterUtils,{attributes:M}=D;const{mapIcon:R}=window.otterUtils.icons,{name:O}=D;(0,r.registerBlockType)(O,{...D,title:(0,t.__)("Business Hours Item","otter-blocks"),description:(0,t.__)("Item used by Business Hours block to display the time. Powered by Otter.","otter-blocks"),icon:R,parent:["themeisle-blocks/business-hours"],category:"themeisle-blocks",keywords:["business","time","schedule"],supports:{align:["wide","full"]},edit:o=>{let{attributes:r,setAttributes:n,clientId:a}=o;(0,e.useEffect)((()=>{const e=N(a,M);return()=>e(r.id)}),[r.id]);const s={backgroundColor:r.backgroundColor},i=(0,l.useBlockProps)({id:r.id,style:s});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(L,{attributes:r,setAttributes:n}),(0,e.createElement)("div",i,(0,e.createElement)("div",{className:"otter-business-hour-item__label",style:{color:r.labelColor}},(0,e.createElement)(l.RichText,{placeholder:(0,t.__)("Day","otter-blocks"),value:r.label,onChange:e=>{n({label:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time",style:{color:r.timeColor}},(0,e.createElement)(l.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:r.time,onChange:e=>{n({time:e})},tagName:"span"}))))},save:t=>{let{attributes:o}=t;const r=l.useBlockProps.save({id:o.id});return(0,e.createElement)("div",r,(0,e.createElement)("div",{className:"otter-business-hour-item__label"},(0,e.createElement)(l.RichText.Content,{value:o.label,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time"},(0,e.createElement)(l.RichText.Content,{value:o.time,tagName:"span"})))}});const{name:I}=g;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(F=()=>(0,e.createElement)(b,{icon:v,label:g.title,blockProps:(0,l.useBlockProps)()})),(0,r.registerBlockType)(I,{...g,title:(0,t.__)("Business Hours","otter-blocks"),description:(0,t.__)("Display your business schedule on your website. Powered by Otter.","otter-blocks"),icon:v,keywords:["business","schedule","time"],supports:{align:["wide","full"],inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("default","otter-blocks"),isDefault:!0},{name:"black-white",label:(0,t.__)("Black & White","otter-blocks")}],edit:F,save:t=>{let{attributes:o}=t;const r=l.useBlockProps.save({id:o.id});return(0,e.createElement)("div",r,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{className:"otter-business-hour__title"},(0,e.createElement)(l.RichText.Content,{value:o.title,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(l.InnerBlocks.Content,null))))}});var $=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/review-comparison","title":"Review Comparison Table","category":"themeisle-blocks","description":"A way to compare different product reviews made on the website. Powered by Otter.","keywords":["product","review","comparison"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"reviews":{"type":"array","default":[]},"buttonColor":{"type":"string"},"buttonText":{"type":"string"}},"supports":{"html":false},"editorStyle":"otter-review-comparison-editor","style":"otter-review-comparison-style"}'),U=o(184),H=o.n(U),W=o(463),G=o.n(W),V=o(989),Y=o.n(V),K=(0,e.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(a.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),j=o=>{let{attributes:r,setAttributes:l,data:a,onComplete:s,isLoading:i,isComplete:c,isError:u}=o;const[d,m]=(0,e.useState)(""),b=e=>{const t=[...r.reviews];if(t.includes(e)){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}else t.push(e);l({reviews:t})},p=o=>{let{label:r,value:l}=o;return(0,e.createElement)("span",{className:"o-review-comparison_tag"},(0,e.createElement)("span",{className:"o-review-comparison_tag_title"},r),(0,e.createElement)(n.Button
/* translators: %s Label */,{label:(0,t.sprintf)((0,t.__)("Remove %s","otter-blocks"),r),icon:"dismiss",onClick:()=>b(l)}))};return(0,e.createElement)(n.Placeholder,{label:(0,t.__)("Product Review Comparison","otter-blocks"),instructions:(0,t.__)("Display a selection of product reviews in a comparison table. You need to have some pre-existing reviews to use this block.","otter-blocks"),icon:K,isColumnLayout:!0,className:"o-review-comparison__placeholder"},i&&(0,e.createElement)(n.Spinner,null),u&&(0,t.__)("There seems to have been an error.","otter-blocks"),c&&!Boolean(a.length)&&(0,t.__)("No reviews found.","otter-blocks"),c&&Boolean(a.length)&&(0,e.createElement)("div",{className:"o-review-comparison__placeholder__container"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected_label"},/* translators: %s Number of selected reviews. */
(0,t.sprintf)((0,t.__)("%s reviews selected","otter-blocks"),r.reviews.length)),r.reviews.filter((e=>{const t=e.split("-");return a.find((e=>e.ID===Number(t[0])&&e.attrs.id.slice(e.attrs.id.length-8)===t[1]))})).map((e=>{const o=e.split("-");return{label:a.find((e=>e.ID===Number(o[0])&&e.attrs.id.slice(e.attrs.id.length-8)===o[1])).attrs.title||(0,t.__)("Untitled review","otter-blocks"),value:e}})).map((t=>(0,e.createElement)(p,{key:t.value,label:t.label,value:t.value})))),(0,e.createElement)(n.TextControl,{label:(0,t.__)("Search for review to display","otter-blocks"),value:d,onChange:m}),(0,e.createElement)(n.MenuGroup,null,a.filter((e=>(e.attrs.title||(0,t.__)("Untitled review","otter-blocks")).toLowerCase().includes(d.toLowerCase()))).map((o=>{const l=o.ID+"-"+o.attrs.id.slice(o.attrs.id.length-8);return(0,e.createElement)(n.CheckboxControl,{key:l,label:o.attrs.title||(0,t.__)("Untitled review","otter-blocks"),checked:r.reviews.includes(l),onChange:()=>b(l)})}))),(0,e.createElement)(n.Button,{isPrimary:!0,onClick:s},(0,t.__)("Done","otter-blocks"))))},z=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),Z=o=>{let{onEdit:r}=o;return(0,e.createElement)(l.BlockControls,null,(0,e.createElement)(n.ToolbarGroup,null,(0,e.createElement)(n.ToolbarButton,{label:(0,t.__)("Edit","otter-blocks"),icon:z,onClick:r})))},J=o=>{let{attributes:r,setAttributes:n}=o;return(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(l.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:r.buttonColor,onChange:e=>n({buttonColor:e}),label:(0,t.__)("Button","otter-blocks")},{value:r.buttonText,onChange:e=>n({buttonText:e}),label:(0,t.__)("Button text","otter-blocks")}]},(0,e.createElement)(l.ContrastChecker,{textColor:r.buttonText,backgroundColor:r.buttonColor})))};const{StarFilled:X,StarHalf:q}=window.otterUtils.icons,{blockInit:Q}=window.otterUtils,{attributes:ee}=$,{defaultReviewAttributes:te}=window.themeisleGutenberg;let oe=[],re=[],le=[],ne=[],ae=[],se=[],ie=[];var ce=o=>{let{attributes:r,setAttributes:n,clientId:a}=o;(0,e.useEffect)((()=>{const e=Q(a,ee);return()=>e(r.id)}),[r.id]),(0,e.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{u("loading");const e=await Y()({path:"otter/v1/filter_blocks?block=themeisle-blocks/review"});i(e),u("loaded"),m(!Boolean(r.reviews.length))}catch(e){u("error")}})(),()=>{e=!1}}),[]);const[s,i]=(0,e.useState)([]),[c,u]=(0,e.useState)("loading"),[d,m]=(0,e.useState)(!0),[b,p]=T();(0,e.useEffect)((()=>{p([`.o-review-comparison_buttons span {\n\t\t\t\tbackground: ${r.buttonColor} !important;\n\t\t\t\tcolor: ${r.buttonText} !important;\n\t\t\t}`])}),[r.buttonColor,r.buttonText]),(0,e.useEffect)((()=>{oe=[],re=[],le=[],ne=[],ae=[],se=[],ie=[],Boolean(s.length)&&r.reviews.forEach((o=>{var r;const l=o.split("-"),n=s.find((e=>e.ID===Number(l[0])&&e.attrs.id.slice(e.attrs.id.length-8)===l[1]));if(!n)return;const a=null!==(r=G()(n.attrs.currency))&&void 0!==r?r:"$",i=n.attrs.features||te.features.default,c=Math.round(i.reduce(((e,t)=>e+t.rating),0)/i.length)/2,u=n.attrs.links||te.links.default,d=[];i.forEach((t=>{d.push((0,e.createElement)("div",{className:"o-review-comparison_rating_container"},(0,e.createElement)("div",{className:"o-review-comparison_rating_title"},t.title),(0,e.createElement)("div",{className:"o-review-comparison_ratings"},g(t.rating/2))))}));const m=[];u.forEach((t=>{m.push((0,e.createElement)("span",{className:"wp-block-button__link"},t.label))})),oe.push((0,e.createElement)("td",null,n.attrs.image&&(0,e.createElement)("img",{src:n.attrs.image.url}))),re.push((0,e.createElement)("td",null,n.attrs.title||(0,t.__)("Untitled review","otter-blocks"))),le.push((0,e.createElement)("td",null,n.attrs.discounted?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("del",null,a+n.attrs.price)," ",a+n.attrs.discounted):n.attrs.price?a+n.attrs.price:"-")),ne.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_ratings"},g(c)))),ae.push((0,e.createElement)("td",{dangerouslySetInnerHTML:{__html:n.attrs.description}})),se.push((0,e.createElement)("td",null,d)),ie.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_buttons wp-block-button"},m)))}))}),[r.reviews,s]);const _="loading"===c,h="loaded"===c,v="error"===c,g=t=>{const o=[];for(let r=0;5>r;r++)o.push(r<t&&t<r+1?(0,e.createElement)(q,{className:H()({low:1.5>=t&&r<t,medium:1.5<t&&3.5>=t&&r<t,high:3.5<t&&5>=t&&r<t})}):(0,e.createElement)(X,{className:H()({low:1.5>=t&&r<t,medium:1.5<t&&3.5>=t&&r<t,high:3.5<t&&5>=t&&r<t})}));return o},k=(0,l.useBlockProps)({id:r.id});return d?(0,e.createElement)("div",k,(0,e.createElement)(j,{attributes:r,setAttributes:n,data:s,onComplete:()=>m(!1),isLoading:_,isComplete:h,isError:v})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Z,{onEdit:()=>m(!0)}),(0,e.createElement)(J,{attributes:r,setAttributes:n}),(0,e.createElement)("table",k,(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null),oe)),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Name","otter-blocks")),re),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Price","otter-blocks")),le),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Rating","otter-blocks")),ne),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Description","otter-blocks")),ae),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Statistics","otter-blocks")),se),(0,e.createElement)("tr",{className:b},(0,e.createElement)("th",null,(0,t.__)("Buy this product","otter-blocks")),ie))))};const{faIcon:ue}=window.otterUtils.icons,{name:de}=$;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(ce=()=>(0,e.createElement)(b,{icon:ue,label:$.title,blockProps:(0,l.useBlockProps)()})),(0,r.registerBlockType)(de,{...$,title:(0,t.__)("Review Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different product reviews made on the website. Powered by Otter.","otter-blocks"),icon:ue,keywords:["product","review","comparison"],supports:{html:!1,inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},edit:ce,save:()=>null});var me=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/woo-comparison","title":"WooCommerce Comparison Table","category":"themeisle-blocks","description":"A way to compare different WooCommerce products made on the website. Powered by Otter.","keywords":["woocommerce","comparison","table"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"products":{"type":"array","default":[]},"listingType":{"type":"string"},"altRow":{"type":"boolean"},"fields":{"type":"string"},"rowColor":{"type":"string"},"headerColor":{"type":"string"},"textColor":{"type":"string"},"borderColor":{"type":"string"},"altRowColor":{"type":"string"}},"supports":{"html":false}}');const{name:be}=me;let pe=!1;(0,r.registerBlockType)(be,{...me,title:(0,t.__)("WooCommerce Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different WooCommerce products made on the website.","otter-blocks"),icon:"editor-table",keywords:["woocommerce","comparison","table"],supports:{inserter:!1},edit:o=>{let{clientId:a,attributes:s}=o;const{replaceBlocks:i}=(0,E.useDispatch)("core/block-editor");return(0,e.useEffect)((()=>{-1!==(0,r.getBlockTypes)().findIndex((e=>"sparks/woo-comparison"===e.name))&&(pe=!0)}),[]),pe&&i(a,[(0,r.createBlock)("sparks/woo-comparison",{...s})]),(0,e.createElement)("div",(0,l.useBlockProps)(),(0,e.createElement)(n.Placeholder,null,(0,t.__)("You need to install the latest version of Neve with Sparks for WooCommerce to use WooCommerce Comparison Table.","otter-blocks")))},save:()=>null})}(),function(){"use strict";var e=o(307),t=o(996),r=o.n(t),l=o(736),n=window.wp.hooks;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a.apply(this,arguments)}var s=o(819),i=o(609),c=o(818),u=window.wp.date,d=window.wp.htmlEntities;const m=[{value:"monday",label:(0,l.__)("Monday","otter-blocks")},{value:"tuesday",label:(0,l.__)("Tuesday","otter-blocks")},{value:"wednesday",label:(0,l.__)("Wednesday","otter-blocks")},{value:"thursday",label:(0,l.__)("Thursday","otter-blocks")},{value:"friday",label:(0,l.__)("Friday","otter-blocks")},{value:"saturday",label:(0,l.__)("Saturday","otter-blocks")},{value:"sunday",label:(0,l.__)("Sunday","otter-blocks")}],b=t=>{let{label:o,id:r,value:n,onChange:a}=t;const s=(0,u.__experimentalGetSettings)();return(0,e.createElement)(i.BaseControl,{label:o,id:r},(0,e.createElement)(i.Dropdown,{position:"bottom left",renderToggle:t=>{let{onToggle:o,isOpen:a}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{id:r,onClick:o,isSecondary:!0,"aria-expanded":a},n?(0,u.format)(s.formats.datetime,n):(0,l.__)("Select Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:n,onChange:a})}))},p=t=>{let{label:o,items:r,values:l,onChange:n}=t;return(0,e.createElement)(i.FormTokenField,{label:o,value:l&&"object"==typeof l?l.map((e=>{const t=r.find((t=>Number(e)===Number(t.value)));return`${t.value}. ${t.label}`})):void 0,suggestions:r.map((e=>`${e.value}. ${e.label}`)),onChange:n,__experimentalExpandOnFocus:!0,__experimentalValidateInput:e=>{const t=/^([^.]+)/.exec(e);return null!==t&&(e=Number(t[0])),void 0!==r.find((t=>Number(e)===Number(t.value)))}})},_=t=>{const{products:o,isLoading:r}=(0,c.useSelect)((e=>{var t,o,r,l;if(!Boolean(window.otterPro.hasWooCommerce))return{products:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:n}=null===(t=window)||void 0===t||null===(o=t.wc)||void 0===o?void 0:o.wcBlocksData,{getCollection:a,getCollectionError:s,isResolving:i}=e(n);return{products:(null==s?void 0:s("/wc/store","products",{per_page:100}))?[]:null===(r=null!==(l=null==a?void 0:a("/wc/store","products",{per_page:100}))&&void 0!==l?l:[])||void 0===r?void 0:r.map((e=>({value:e.id,label:(0,d.decodeEntities)(e.name)}))),isLoading:i("getCollection",["/wc/store","products",{per_page:100}])}}),[]);return r?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},h=t=>{const{categories:o,isLoading:r}=(0,c.useSelect)((e=>{var t,o,r,l;if(!Boolean(window.otterPro.hasWooCommerce))return{categories:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:n}=null===(t=window)||void 0===t||null===(o=t.wc)||void 0===o?void 0:o.wcBlocksData,{getCollection:a,getCollectionError:s,isResolving:i}=e(n);return{categories:s("/wc/store","products/categories")?[]:null===(r=null!==(l=a("/wc/store","products/categories"))&&void 0!==l?l:[])||void 0===r?void 0:r.map((e=>({value:e.id,label:(0,d.decodeEntities)(e.name)}))),isLoading:i("getCollection",["/wc/store","products/categories"])}}),[]);return r?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},v=t=>{const{courses:o,isLoading:r}=(0,c.useSelect)((e=>{var t,o,r;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!(null!==(r=e("otter-pro"))&&void 0!==r&&r.isLearnDashCoursesLoaded())}:{courses:[],cursesStatus:!1}}),[]);return r?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))},g=t=>{const{courses:o,isLoading:r}=(0,c.useSelect)((e=>{var t,o,r;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!(null!==(r=e("otter-pro"))&&void 0!==r&&r.isLearnDashCoursesLoaded())}:{courses:[],cursesStatus:!1}}),[]);return(0,e.createElement)(e.Fragment,null,!r&&(0,e.createElement)(e.Fragment,null,Boolean(o.length)?(0,e.createElement)(i.SelectControl,a({},t,{options:o})):(0,e.createElement)("p",null,(0,l.__)("No courses available.","otter-blocks")),t.children),r&&(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)))},k=t=>{const{groups:o,groupsStatus:r}=(0,c.useSelect)((e=>{var t,o,r;return Boolean(window.otterPro.hasLearnDash)?{groups:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashGroups())&&void 0!==t?t:[],groupsStatus:!(null!==(r=e("otter-pro"))&&void 0!==r&&r.isLearnDashGroupsLoaded())}:{groups:[],groupsStatus:"loading"}}),[]);return r?(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null)):(0,e.createElement)(p,a({},t,{items:o}))};var w=t=>{let{groupIndex:o,itemIndex:r,item:n,conditions:a,setAttributes:s,changeValue:c}=t;const u=(e,t,o)=>{const r=/^([^.]+)/;e.forEach(((t,o)=>{const l=r.exec(t);null!==l&&(e[o]=Number(l[0]))}));const l=[...a];l[t][o].products=e,s({otterConditions:l})};return(0,e.createElement)(e.Fragment,null,["postMeta","loggedInUserMeta"].includes(n.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:(0,l.__)("Meta Key","otter-blocks"),help:(0,l.__)("Key of the meta you want to compare.","otter-blocks"),placeholder:(0,l.__)("_meta_key","otter-blocks"),value:n.meta_key,onChange:e=>c(e,o,r,"meta_key")}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Compare Operator","otter-blocks"),options:[{value:"is_true",label:(0,l.__)("Is True","otter-blocks")},{value:"is_false",label:(0,l.__)("Is False","otter-blocks")},{value:"is_empty",label:(0,l.__)("Is Empty","otter-blocks")},{value:"if_equals",label:(0,l.__)("If Equals","otter-blocks")},{value:"if_contains",label:(0,l.__)("If Contains","otter-blocks")}],value:n.meta_compare,onChange:e=>c(e,o,r,"meta_compare")}),("if_equals"===n.meta_compare||"if_contains"===n.meta_compare)&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Meta Value","otter-blocks"),help:(0,l.__)("Value of the meta to compare.","otter-blocks"),value:n.meta_value,onChange:e=>c(e,o,r,"meta_value")})),"queryString"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextareaControl,{label:(0,l.__)("Query String","otter-blocks"),help:(0,l.__)("Write a key-value pair for each parameter, one per line.","otter-blocks"),placeholder:"eg. utm_source=facebook",value:n.query_string,onChange:e=>c(e.replaceAll("itemIndex","&"),o,r,"query_string")}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Match if URL contains","otter-blocks"),options:[{value:"any",label:(0,l.__)("Any of the parameters","otter-blocks")},{value:"all",label:(0,l.__)("All the parameters","otter-blocks")}],value:n.compare,onChange:e=>c(e,o,r,"match")})),"dateRange"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{label:(0,l.__)("Start Date","otter-blocks"),id:`o-conditions-date-start${o}-${r}`,value:n.start_date,onChange:e=>c(e,o,r,"start_date")}),(0,e.createElement)(b,{label:(0,l.__)("End Date (Optional)","otter-blocks"),id:`o-conditions-date-end${o}-${r}`,value:n.end_date,onChange:e=>c(e,o,r,"end_date")})),"dateRecurring"===n.type&&(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Recurring Days","otter-blocks"),help:(0,l.__)("You can use this in combination with other Date Time conditions to make more complex conditions.","otter-blocks")},m.map((t=>{let{label:l,value:c}=t;return(0,e.createElement)(i.CheckboxControl,{key:l,label:l,checked:n.days&&n.days.includes(c),onChange:()=>((e,t,o)=>{const r=[...a];r[t][o].days||(r[t][o].days=[]);const l=r[t][o].days.indexOf(e);-1!==l?r[t][o].days.splice(l,1):r[t][o].days.push(e),s({otterConditions:r})})(c,o,r)})}))),"timeRecurring"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Start Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,l.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:n.start_time?n.start_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let l=n.start_time||"00:00";l=l.split(":"),l[0]=`00${t}`.slice(-2),l=l.join(":"),c(l,o,r,"start_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,l.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:n.start_time?n.start_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let l=n.start_time||"00:00";l=l.split(":"),l[1]=`00${t}`.slice(-2),l=l.join(":"),c(l,o,r,"start_time")}}),(0,e.createElement)(i.Button,{isSecondary:!0,isSmall:!0,disabled:!n.start_time,onClick:()=>{const e=[...a];delete e[o][r].start_time,s({otterConditions:e})}},(0,l.__)("Reset","otter-blocks")))),(0,e.createElement)(i.BaseControl,{label:(0,l.__)("End Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,l.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:n.end_time?n.end_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let l=n.end_time||"00:00";l=l.split(":"),l[0]=`00${t}`.slice(-2),l=l.join(":"),c(l,o,r,"end_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,l.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:n.end_time?n.end_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let l=n.end_time||"00:00";l=l.split(":"),l[1]=`00${t}`.slice(-2),l=l.join(":"),c(l,o,r,"end_time")}}),(0,e.createElement)(i.Button,{isSecondary:!0,isSmall:!0,disabled:!n.end_time,onClick:()=>{const e=[...a];delete e[o][r].end_time,s({otterConditions:e})}},(0,l.__)("Reset","otter-blocks"))))),"wooProductsInCart"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Based on","otter-blocks"),options:[{value:"products",label:(0,l.__)("Products","otter-blocks")},{value:"categories",label:(0,l.__)("Categories","otter-blocks")}],value:n.on,onChange:e=>c(e,o,r,"on")}),"products"===n.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{label:(0,l.__)("Products","otter-blocks"),values:n.products,onChange:e=>u(e,o,r)})),"categories"===n.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h,{label:(0,l.__)("Categories","otter-blocks"),values:n.categories,onChange:e=>((e,t,o)=>{const r=/^([^.]+)/;e.forEach(((t,o)=>{const l=r.exec(t);null!==l&&(e[o]=Number(l[0]))}));const l=[...a];l[t][o].categories=e,s({otterConditions:l})})(e,o,r)}))),"wooTotalCartValue"===n.type&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Total Cart Value","otter-blocks"),help:(0,l.sprintf)((0,l.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:n.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,r,"value")}),"wooTotalSpent"===n.type&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Total Money Spent","otter-blocks"),help:(0,l.sprintf)((0,l.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:n.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,r,"value")}),("wooTotalCartValue"===n.type||"wooTotalSpent"===n.type)&&(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Compare Operator","otter-blocks"),options:[{value:"greater_than",label:(0,l.__)("Greater Than (>)","otter-blocks")},{value:"less_than",label:(0,l.__)("Less Than (<)","otter-blocks")}],value:n.compare,onChange:e=>c(e,o,r,"compare")}),"wooPurchaseHistory"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{label:(0,l.__)("Products","otter-blocks"),values:n.products,onChange:e=>u(e,o,r)})),"learnDashPurchaseHistory"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Based on","otter-blocks"),options:[{value:"courses",label:(0,l.__)("Courses","otter-blocks")},{value:"groups",label:(0,l.__)("Groups","otter-blocks")}],value:n.on,onChange:e=>c(e,o,r,"on")}),"courses"===n.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(v,{label:(0,l.__)("Courses","otter-blocks"),values:n.courses,onChange:e=>((e,t,o)=>{const r=/^([^.]+)/;e.forEach(((t,o)=>{const l=r.exec(t);null!==l&&(e[o]=Number(l[0]))}));const l=[...a];l[t][o].courses=e,s({otterConditions:l})})(e,o,r)})),"groups"===n.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(k,{label:(0,l.__)("Groups","otter-blocks"),values:n.groups,onChange:e=>((e,t,o)=>{const r=/^([^.]+)/;e.forEach(((t,o)=>{const l=r.exec(t);null!==l&&(e[o]=Number(l[0]))}));const l=[...a];l[t][o].groups=e,s({otterConditions:l})})(e,o,r)}))),"learnDashCourseStatus"===n.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(g,{label:(0,l.__)("Course","otter-blocks"),value:n.course,onChange:e=>c(Number(e),o,r,"course")},(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Status","otter-blocks"),options:[{value:"not_started",label:(0,l.__)("Not Started","otter-blocks")},{value:"in_progress",label:(0,l.__)("In Progress","otter-blocks")},{value:"completed",label:(0,l.__)("Completed","otter-blocks")}],value:n.status,onChange:e=>c(e,o,r,"status")}))))};const{Notice:C}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,n.addFilter)("otter.blockConditions.conditions","themeisle-gutenberg/block-conditions-list",(e=>{const t={users:{label:(0,l.__)("Users","otter-blocks"),conditions:[{value:"loggedInUserMeta",label:(0,l.__)("Logged-in User Meta","otter-blocks"),help:(0,l.__)("The selected block will be visible based on meta of the logged-in user condition."),toogleVisibility:!0}]},posts:{label:(0,l.__)("Posts","otter-blocks"),conditions:[{value:"postMeta",label:(0,l.__)("Post Meta","otter-blocks"),help:(0,l.__)("The selected block will be visible based on post meta condition."),toogleVisibility:!0}]},url:{label:(0,l.__)("URL","otter-blocks"),conditions:[{value:"queryString",label:(0,l.__)("Query String","otter-blocks"),help:(0,l.__)("The condition will be met if the URL contains specified parameters."),toogleVisibility:!0}]},dateAndTime:{label:(0,l.__)("Date & Time","otter-blocks"),conditions:[{value:"dateRange",label:(0,l.__)("Date Range","otter-blocks"),help:(0,l.__)("The selected block will be visible based on the date range. Timezone is used based on your WordPress settings.")},{value:"dateRecurring",label:(0,l.__)("Date Recurring","otter-blocks"),help:(0,l.__)("The selected block will be visible based on the selected days. Timezone is used based on your WordPress settings.")},{value:"timeRecurring",label:(0,l.__)("Time Recurring","otter-blocks"),help:(0,l.__)("The selected block will be visible during the selected time. Timezone is used based on your WordPress settings.")}]},woocommerce:{label:(0,l.__)("WooCommerce","otter-blocks"),conditions:[{value:"wooProductsInCart",label:(0,l.__)("Products in Cart","otter-blocks"),help:(0,l.__)("The selected block will be visible based on the products added to WooCommerce cart."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalCartValue",label:(0,l.__)("Total Cart Value","otter-blocks"),help:(0,l.__)("The selected block will be visible based on the total value of WooCommerce cart."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooPurchaseHistory",label:(0,l.__)("Purchase History","otter-blocks"),help:(0,l.__)("The selected block will be visible based on user's WooCommerce purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalSpent",label:(0,l.__)("Total Spent","otter-blocks"),help:(0,l.__)("The selected block will be visible based on how much the user spent during lifetime."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)}]},learndash:{label:(0,l.__)("LearnDash","otter-blocks"),conditions:[{value:"learnDashPurchaseHistory",label:(0,l.__)("Purchase History","otter-blocks"),help:(0,l.__)("The selected block will be visible based on user's LearnDash purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)},{value:"learnDashCourseStatus",label:(0,l.__)("Course Status","otter-blocks"),help:(0,l.__)("The selected block will be visible based on user's LearnDash course status."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)}]}};return Object.keys(e).forEach((t=>{e[t].conditions=e[t].conditions.filter((e=>!(null!=e&&e.isDisabled))),Boolean(e[t].conditions.length)||delete e[t]})),e=r()(e,t)})),(0,n.addFilter)("otter.blockConditions.defaults","themeisle-gutenberg/block-conditions-defaults",((e,t)=>("postMeta"===t&&(e.visibility=!0),"postMeta"===t&&(e.meta_compare="is_true"),"queryString"===t&&(e.match="any"),"wooProductsInCart"==t&&(e.on="products"),"wooTotalCartValue"!==t&&"wooTotalSpent"!==t||(e.compare="greater_than"),"learnDashPurchaseHistory"==t&&(e.on="courses"),"learnDashCourseStatus"==t&&(e.status="not_started"),e)))),(0,n.addFilter)("otter.blockConditions.controls","themeisle-gutenberg/block-conditions-controls",((t,o,r,l,n,a,s)=>(0,e.createElement)(w,{groupIndex:o,itemIndex:r,item:l,conditions:n,setAttributes:a,changeValue:s}))),(0,n.addFilter)("otter.blockConditions.notices","themeisle-gutenberg/block-conditions-notices",(t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(C,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Block Conditions.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(C,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Block Conditions.","otter-blocks")})));var y=o(989),E=o.n(y);const f={acfGroups:[],acfFields:{},haveACFLoaded:!1,learndDashCourses:[],learndDashGroups:[],haveLoadedCourses:!1,haveLoadedGroups:!1},P={setCourses(e){return{type:"SET_LEARNDASH_COURSES",courses:e,haveLoadedCourses:!0}},setGroups(e){return{type:"SET_LEARNDASH_GROUPS",groups:e,haveLoadedGroups:!0}},setACFData(e,t,o){return{type:"SET_ACF_DATA",groups:e,fields:t,haveACFLoaded:o}},fetchFromAPI(e){return{type:"FETCH_FROM_API",path:e}}};(0,c.registerStore)("otter-pro",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return"SET_LEARNDASH_COURSES"===t.type?{...e,learndDashCourses:t.courses,haveLoadedCourses:t.haveLoadedCourses}:"SET_LEARNDASH_GROUPS"===t.type?{...e,learndDashGroups:t.groups,haveLoadedGroups:t.haveLoadedGroups}:"SET_ACF_DATA"===t.type?{...e,acfGroups:t.groups,acfFields:t.fields,haveACFLoaded:t.haveACFLoaded}:e},selectors:{getLearnDashCourses(e){return e.learndDashCourses},getLearnDashGroups(e){return e.learndDashGroups},getACFData(e){return{groups:e.acfGroups,fields:e.acfFields}},isACFLoaded(e){return e.haveACFLoaded},isLearnDashCoursesLoaded(e){return e.haveLoadedCourses},isLearnDashGroupsLoaded(e){return e.haveLoadedGroups}},controls:{FETCH_FROM_API(e){return E()({path:e.path})}},resolvers:{*getLearnDashCourses(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield P.fetchFromAPI("ldlms/v2/sfwd-courses")).map((e=>({value:e.id,label:e.title.rendered})));return P.setCourses(e)},*getLearnDashGroups(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield P.fetchFromAPI("ldlms/v2/groups")).map((e=>({value:e.id,label:e.title.rendered})));return P.setGroups(e)},*getACFData(){if(!window.acf)return;const e=yield P.fetchFromAPI("otter/v1/acf-fields");if(null!=e&&e.success){const{groups:t}=e,o=null==t?void 0:t.map((e=>{let{fields:t,data:o}=e;return t.map((e=>{var t;return e.urlLocation=`${(null===(t=window.themeisleGutenberg)||void 0===t?void 0:t.rootUrl)||""}/wp-admin/post.php?post=${o.ID}&action=edit`,e}))})).flat().reduce(((e,t)=>(t.key&&t.label&&(e[t.key]=(0,s.pick)(t,["label","type","prepend","append","default_value","value","urlLocation"])),e)),{});return P.setACFData(t,o,!0)}return P.setACFData([],{},!1)}}});const S=["text","textarea","range","number","url","email","password"];var B=t=>{let{attributes:o,changeAttributes:r}=t;const{isLoaded:n,groups:a}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]),s={"F j, Y":moment().format("MMMM d, Y"),"Y-m-d":moment().format("Y-m-d"),"m/d/Y":moment().format("m/d/Y"),"d/m/Y":moment().format("d/m/Y")},u={"g:i a":moment().format("h:m a"),"g:i A":moment().format("h:m A"),"H:i":moment().format("HH:m")};return(0,e.createElement)(e.Fragment,null,["postDate"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Type","otter-blocks"),value:o.dateType||"published",options:[{label:(0,l.__)("Post Published","otter-blocks"),value:"published"},{label:(0,l.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>r({dateType:e})}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Format","otter-blocks"),value:o.dateFormat||"default",options:[{label:(0,l.__)("Default","otter-blocks"),value:"default"},...Object.keys(s).map((e=>({label:s[e],value:e}))),{label:(0,l.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>r({dateFormat:e})}),"custom"===o.dateFormat&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(i.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,l.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.dateCustom||"",onChange:e=>r({dateCustom:e})})),["postTime"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Type","otter-blocks"),value:o.timeType||"published",options:[{label:(0,l.__)("Post Published","otter-blocks"),value:"published"},{label:(0,l.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>r({timeType:e})}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Format","otter-blocks"),value:o.timeFormat||"default",options:[{label:(0,l.__)("Default","otter-blocks"),value:"default"},...Object.keys(u).map((e=>({label:u[e],value:e}))),{label:(0,l.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>r({timeFormat:e})}),"custom"===o.timeFormat&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(i.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,l.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.timeCustom||"",onChange:e=>r({timeCustom:e})})),"postTerms"===o.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Type","otter-blocks"),value:o.termType||"categories",options:[{label:(0,l.__)("Categories","otter-blocks"),value:"categories"},{label:(0,l.__)("Tags","otter-blocks"),value:"tags"}],onChange:e=>r({termType:e})}),(0,e.createElement)(i.TextControl,{label:(0,l.__)("Separator","otter-blocks"),type:"text",value:o.termSeparator||", ",onChange:e=>r({termSeparator:e})})),"acf"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Meta Key","otter-blocks")},n?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>r({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,l.__)("Select a field","otter-blocks")),a.map((t=>{var o,r,l;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(r=t.data)||void 0===r?void 0:r.title},null==t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>{let{key:t,label:o,type:r}=e;return t&&o&&S.includes(r)})).map((t=>{let{key:o,label:r}=t;return(0,e.createElement)("option",{key:o,value:o},r)})))}))):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))),"acf"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,l.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),["postMeta","authorMeta","loggedInUserMeta"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.FormTokenField,{label:(0,l.__)("Custom Meta Key","otter-blocks"),value:o.metaKey?[o.metaKey]:[],maxLength:1,suggestions:{postMeta:[],authorMeta:["description","display_name","first_name","last_name","nickname","user_email","user_level","user_login","user_nicename","user_registered","user_status","user_url"],loggedInUserMeta:["description","first_name","ID","last_name","nickname"]}[o.type],onChange:e=>r({metaKey:e[0]}),__experimentalExpandOnFocus:!o.metaKey,__experimentalShowHowTo:!1}),(0,e.createElement)("p",null,(0,l.__)("Type your own or select a pre-defined value. Press Enter to confirm.","otter-blocks"))))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,n.addFilter)("otter.dynamicContent.text.options","themeisle-gutenberg/dynamic-content/text-list",(e=>{const t={posts:{label:(0,l.__)("Posts","otter-blocks"),options:[{label:(0,l.__)("Post Date","otter-blocks"),value:"postDate"},{label:(0,l.__)("Post Time","otter-blocks"),value:"postTime"},{label:(0,l.__)("Post Terms","otter-blocks"),value:"postTerms"},{label:(0,l.__)("Post Custom Field","otter-blocks"),value:"postMeta"},{label:(0,l.__)("Advanced Custom Field","otter-blocks"),value:"acf"}]},author:{label:(0,l.__)("Author","otter-blocks"),options:[{label:(0,l.__)("Author Meta","otter-blocks"),value:"authorMeta"}]},loggedInUser:{label:(0,l.__)("Logged-in User","otter-blocks"),options:[{label:(0,l.__)("Logged-in User Meta","otter-blocks"),value:"loggedInUserMeta"}]}};return Object.keys(e).forEach((t=>{e[t].options=e[t].options.filter((e=>void 0===e.isDisabled)),Boolean(e[t].options.length)||delete e[t]})),e=r()(e,t)})),(0,n.addFilter)("otter.dynamicContent.text.hasSettingsPanel","themeisle-gutenberg/dynamic-content/text-settings-panel",(e=>(e.push("postDate","postTime","postTerms","postMeta","acf","authorMeta","loggedInUserMeta"),e)))),(0,n.addFilter)("otter.dynamicContent.text.controls","themeisle-gutenberg/dynamic-content/text-controls",((t,o,r)=>(0,e.createElement)(B,{attributes:o,changeAttributes:r})));const T=["url"];var x=t=>{let{attributes:o,changeAttributes:r}=t;const{isLoaded:n,groups:a}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]);return(0,e.createElement)(e.Fragment,null,"acfURL"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Meta Key","otter-blocks")},n?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>r({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,l.__)("Select a field","otter-blocks")),a.map((t=>{var o,r,l;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(r=t.data)||void 0===r?void 0:r.title},null==t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>{let{key:t,label:o,type:r}=e;return t&&o&&T.includes(r)})).map((t=>{let{key:o,label:r}=t;return(0,e.createElement)("option",{key:o,value:o},r)})))}))):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))),"acfURL"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,l.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),"postMetaURL"===o.type&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Custom Meta Key","otter-blocks"),value:o.metaKey,onChange:e=>r({metaKey:e})}))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,n.addFilter)("otter.dynamicContent.link.options","themeisle-gutenberg/dynamic-content/link-list",(e=>{const t=[{label:(0,l.__)("Post Custom Field","otter-blocks"),value:"postMetaURL"},{label:(0,l.__)("Advanced Custom Fields","otter-blocks"),value:"acfURL"}];return r()(e.filter((e=>void 0===e.isDisabled)),t)})),(0,n.addFilter)("otter.dynamicContent.link.hasSettingsPanel","themeisle-gutenberg/dynamic-content/link-settings-panel",(e=>(e.push("postMetaURL","acfURL"),e)))),(0,n.addFilter)("otter.dynamicContent.link.controls","themeisle-gutenberg/dynamic-content/link-controls",((t,o,r)=>(0,e.createElement)(x,{attributes:o,changeAttributes:r})));var A=t=>{let{label:o,value:r,onChange:n}=t;const{fields:a,isLoaded:s}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData(),o=e("otter-pro").isACFLoaded(),r=[];return t.forEach((e=>{e.fields.forEach((e=>{"image"!==e.type&&"url"!==e.type||r.push({label:e.label,value:e.key})}))})),{fields:r,isLoaded:o}}),[]);return s?(0,e.createElement)(i.SelectControl,{label:o,value:r,options:[{label:(0,l.__)("Select a field","otter-blocks"),value:"none"},...a],onChange:n}):(0,e.createElement)(i.Placeholder,null,(0,e.createElement)(i.Spinner,null))};const{SelectProducts:F}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&(0,n.addFilter)("otter.dynamicContent.media.options","themeisle-gutenberg/dynamic-content/media-list",(e=>{const t=[{type:"postMeta",label:(0,l.__)("Post Meta","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/meta.svg"},{type:"product",label:(0,l.__)("Woo Product","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/woo.svg",isAvailable:Boolean(window.otterPro.hasWooCommerce)},{type:"acf",label:(0,l.__)("ACF Image","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/acf.svg",isAvailable:Boolean(window.otterPro.hasACF)}];return e=e.filter((e=>!(null!=e&&e.isPro))),r()(e,t)})),(0,n.addFilter)("otter.dynamicContent.media.controls","themeisle-gutenberg/dynamic-content/media-controls",((t,o,r)=>(0,e.createElement)(e.Fragment,null,"postMeta"===(null==o?void 0:o.type)&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Meta Key","otter-blocks"),value:o.meta||"",onChange:e=>r({meta:e})}),"product"===(null==o?void 0:o.type)&&(0,e.createElement)(F,{label:(0,l.__)("Select Product","otter-blocks"),value:o.id||"",onChange:e=>r({id:0===e?void 0:e})}),"acf"===(null==o?void 0:o.type)&&(0,e.createElement)(A,{label:(0,l.__)("Select Field","otter-blocks"),value:o.meta||"",onChange:e=>r({meta:e})}))));const{Notice:D}=window.otterComponents,L=t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(D,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Dynamic Content.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(D,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Dynamic Content.","otter-blocks")});(0,n.addFilter)("otter.dynamicContent.text.notices","themeisle-gutenberg/dynamic-content/text-notices",L),(0,n.addFilter)("otter.dynamicContent.link.notices","themeisle-gutenberg/dynamic-content/link-notices",L);var N=o(586);const{Notice:M}=window.otterComponents,R=["text","textarea","range","number","url","email","password"],O=t=>{let{customFieldData:o}=t;const{fields:r}=(0,c.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);if(!o||!o.display)return(0,e.createElement)(e.Fragment,null);const l=r[o.field];return(0,e.createElement)("div",{className:"o-posts-custom-field"},((null==l?void 0:l.prepend)||"")+(null!=l&&l.value?l.value:(null==l?void 0:l.default_value)||"")+((null==l?void 0:l.append)||""))};(0,n.addFilter)("blocks.registerBlockType","themeisle-gutenberg/posts-acf-extension-attributes",(e=>("themeisle-blocks/posts-grid"===e.name&&(e.attributes=(0,s.assign)(e.attributes,{customMetas:{type:"array",items:{type:"object"}}})),e))),(0,n.addFilter)("otter.postsBlock.panelLabel","themeisle-gutenberg/posts-acf-extension-tab-label",((e,t)=>{var o;const{fields:r}=(0,c.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);return(0,s.startCase)((0,s.toLower)((null===(o=r[t.field])||void 0===o?void 0:o.label)||(0,l.__)("Custom Type","otter-blocks")))})),(0,n.addFilter)("otter.postsBlock.sortableContainer","themeisle-gutenberg/posts-acf-extension-add-button",((t,o,r)=>void 0===window.acf?(0,e.createElement)(i.ExternalLink,{href:"https://wordpress.org/plugins/advanced-custom-fields/",target:"_blank"},(0,l.__)("Activate Advanced Custom Fields to add more fields.","otter-blocks")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{variant:"secondary",isSecondary:!0,className:"o-conditions__add",disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onClick:()=>{let e=(0,N.Z)().slice(0,8);for(;0<(null==o||null===(t=o.customMetas)||void 0===t?void 0:t.some((t=>{let{otherId:o}=t;return o===e})));){var t;e=(0,N.Z)().slice(0,8)}e=`custom_${e}`;const l={id:e,field:"",display:!0},{template:n,customMetas:a}=(()=>{var e,t;const r=(0,s.intersection)(o.template,null==o||null===(e=o.customMetas)||void 0===e?void 0:e.map((e=>{let{id:t}=e;return t})));return{template:null==o?void 0:o.template.filter((e=>!e.startsWith("custom_")||r.includes(e))),customMetas:null===(t=o.customMetas)||void 0===t?void 0:t.filter((e=>{let{id:t}=e;return r.includes(t)}))}})();r({template:[...n,e],customMetas:a?[...a,l]:[l]})}},(0,l.__)("Add Custom Field","otter-blocks")),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(M,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Posts Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(M,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Posts Block.","otter-blocks")})))),(0,n.addFilter)("otter.postsBlock.controls","themeisle-gutenberg/posts-acf-extension-controls",((t,o,r,n,a,u)=>{var d,m;const{groups:b,fields:p}=(0,c.select)("otter-pro").getACFData();return n&&a?Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,!(0,s.isEmpty)(b)&&(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Fields","otter-blocks")},(0,e.createElement)("select",{value:p[a.field]?a.field:"none",onChange:e=>u({field:e.target.value}),className:"components-select-control__input",disabled:Boolean(window.otterPro.isExpired)},(0,e.createElement)("option",{value:"none"},(0,l.__)("Select a field","otter-blocks")),b.map((t=>{var o,r,l;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(r=t.data)||void 0===r?void 0:r.title},null==t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>{let{key:t,label:o,type:r}=e;return t&&o&&R.includes(r)})).map((t=>{let{key:o,label:r}=t;return(0,e.createElement)("option",{key:o,value:o},r)})))})))),!(0,s.isEmpty)(p)&&p[a.field]&&(0,e.createElement)(e.Fragment,null,p[a.field].default_value&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Default Value","otter-blocks"),value:p[a.field].default_value,disabled:!0}),p[a.field].prepend&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Before","otter-blocks"),value:p[a.field].prepend,disabled:!0}),p[a.field].append&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("After","otter-blocks"),value:p[a.field].append,disabled:!0})),(null===(d=p[a.field])||void 0===d?void 0:d.urlLocation)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.ExternalLink,{href:null===(m=p[a.field])||void 0===m?void 0:m.urlLocation,target:"_blank"},(0,l.__)("Edit in ACF","otter-blocks")),(0,e.createElement)("br",null)),(0,s.isEmpty)(b)?(0,e.createElement)(i.ExternalLink,{href:`${window.otterPro.rootUrl||""}/wp-admin/edit.php?post_type=acf-field-group`,target:"_blank"},(0,l.__)("There are no ACF fields. You can use this option after you add some.","otter-blocks")):!p[a.field]&&(0,l.__)("The selected field does not longer exists. Please select another field.","otter-blocks"),(0,e.createElement)(i.Button,{onClick:()=>{var e,t;r({template:null===(e=o.template)||void 0===e?void 0:e.filter((e=>e!==(null==a?void 0:a.id))),customMetas:null===(t=o.customMetas)||void 0===t?void 0:t.filter((e=>(null==e?void 0:e.id)!==(null==a?void 0:a.id)))})},variant:"secondary",isSecondary:!0,isDestructive:!0,className:"o-conditions__add"},(0,l.__)("Delete","otter-blocks"))):(0,e.createElement)(M,{notice:(0,l.__)("You need to activate Otter Pro to edit this field.","otter-blocks")}):t})),Boolean(window.otterPro.isActive)&&(0,n.addFilter)("otter.postsBlock.templateLoop","themeisle-gutenberg/posts-acf-extension-template-loop",((t,o,r)=>{var l,n;if(null==o||!o.startsWith("custom_"))return t;const a=null===(l=r.customMetas)||void 0===l||null===(n=l.filter((e=>{let{id:t}=e;return t===o})))||void 0===n?void 0:n.pop();return(0,e.createElement)(O,{customFieldData:a})}));const{Notice:I}=window.otterComponents;(0,n.addFilter)("otter.popupBlock.triggers","themeisle-gutenberg/popup-block-triggers",(()=>[{label:(0,l.__)("On Load","otter-blocks"),value:"onLoad"},{label:(0,l.__)("On Anchor Click","otter-blocks"),value:"onClick",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,l.__)("On Scroll","otter-blocks"),value:"onScroll",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,l.__)("On Exit","otter-blocks"),value:"onExit",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))}])),(0,n.addFilter)("otter.popupBlock.controls","themeisle-gutenberg/popup-block-controls",((t,o,r)=>Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,"onClick"===o.trigger&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Anchor","otter-blocks"),help:(0,l.__)("You can use this anchor as an anchor link anywhere on the page to open the popup.","otter-blocks"),value:o.anchor,onChange:e=>r({anchor:null==e?void 0:e.replace(/[^a-zA-Z]/g,"")})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(I,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Popup Block.","otter-blocks")}),"onScroll"===o.trigger&&(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Scroll Distance","otter-blocks"),help:(0,l.__)("Show the modal when this percentage of the page has been scrolled.","otter-blocks"),min:0,max:100,value:o.scroll,onChange:e=>r({scroll:void 0!==e?Number(e):e}),allowReset:!0,initialPosition:0}),"onExit"===o.trigger&&(0,e.createElement)("p",null,(0,l.__)("Shows the modal when the user moves the mouse outside of the top of the window.","otter-blocks")),t,(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Close On Anchor Click","otter-blocks"),checked:o.anchorClose,onChange:()=>r({anchorClose:!o.anchorClose})}),o.anchorClose&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Close Anchor","otter-blocks"),help:(0,l.__)("You can use this anchor as an anchor link anywhere on the page to close the popup.","otter-blocks"),value:o.closeAnchor,onChange:e=>r({closeAnchor:e.replace(/[^a-zA-Z]/g,"")})}),"onClick"!==o.trigger&&(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Dismiss for Recurring Visitors","otter-blocks"),checked:o.recurringClose,onChange:()=>r({recurringClose:!o.recurringClose})}),o.recurringClose&&"onClick"!==o.trigger&&(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Display Interval","otter-blocks"),help:(0,l.__)("Number of days until the popup is shown again. Leave it empty for one-time display","otter-blocks"),min:0,max:100,value:o.recurringTime,onChange:e=>r({recurringTime:void 0!==e?Number(e):e}),allowReset:!0})):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(I,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Popup Block.","otter-blocks")}))));const{Notice:$}=window.otterComponents;(0,n.addFilter)("otter.sticky.controls","themeisle-gutenberg/sticky-controls",((t,o,r,n)=>{var a,s,c,u;if(!Boolean(window.otterPro.isActive))return(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)($,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}));const d=null==o||null===(a=o.className)||void 0===a?void 0:a.includes(r.float),m=null!=o&&null!==(s=o.className)&&void 0!==s&&s.includes("o-sticky-pos-bottom")?"o-sticky-pos-bottom":"o-sticky-pos-top",b=(null==o||null===(c=o.className)||void 0===c?void 0:c.split(" ").filter((e=>e.includes("o-sticky-bhvr"))).pop())||"o-sticky-bhvr-keep",p=Boolean((null==o||null===(u=o.className)||void 0===u?void 0:u.split(" ").filter((e=>e.includes("o-sticky-use-mobile"))).pop())||!1);return(0,e.createElement)(e.Fragment,null,Boolean(window.otterPro.isExpired)&&(0,e.createElement)($,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Sticky Extension.","otter-blocks")}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Position","otter-blocks"),help:(0,l.__)("Position of the block in relation to the screen.","otter-blocks"),value:m,options:[{label:(0,l.__)("Top","otter-blocks"),value:"o-sticky-pos-top"},{label:(0,l.__)("Bottom","otter-blocks"),value:"o-sticky-pos-bottom"}],onChange:e=>n(e,r.position)}),(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Offset","otter-blocks"),help:(0,l.__)("Distance from the block to the screen.","otter-blocks"),value:parseInt(null==o||null===(_=o.className)||void 0===_||null===(h=_.split(" "))||void 0===h||null===(v=h.filter((e=>null==e?void 0:e.includes("o-sticky-offset"))))||void 0===v?void 0:v.reduce(((e,t)=>{var o;return(null==t||null===(o=t.split("-"))||void 0===o?void 0:o.pop())||e}),40)),min:0,max:500,onChange:e=>n(`o-sticky-offset-${e}`,r.offset)}),(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Behaviour","otter-blocks"),help:(0,l.__)("Behaviour when multiple sticky blocks with the same movement limit collide.","otter-blocks"),value:b,options:[{label:(0,l.__)("Collapse","otter-blocks"),value:"o-sticky-bhvr-keep"},{label:(0,l.__)("Fade","otter-blocks"),value:"o-sticky-bhvr-hide"},{label:(0,l.__)("Stack","otter-blocks"),value:"o-sticky-bhvr-stack"}],onChange:e=>n(e,r.behaviour)}),"o-sticky-bhvr-stack"===b&&(0,e.createElement)("div",{style:{backgroundColor:"#fdf8e6",borderRadius:"5px",padding:"10px",textAlign:"justify"}},(0,l.__)("The block will stack with other sticky elements with the same 'Stick To' container, and Stack option in Behaviour. It works better with 'Stick to' as Top Level Block or Screen.","otter-blocks")),(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Enable on Mobile","otter-blocks"),help:(0,l.__)("Make the sticky mode active for mobile users."),checked:p,onChange:e=>n(e?"o-sticky-use-mobile":void 0,r.usage)}),d&&(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Closing the Sticky","otter-blocks")},(0,e.createElement)("p",null,(0,l.__)("You can make another block that is inside the sticky element to behave like a closing button by adding the following CSS class.")),(0,e.createElement)("code",{style:{display:"block",padding:"10px",marginBottom:"5px"}},"o-sticky-close"),(0,e.createElement)("p",null,(0,l.__)("You can transform a Button into a Close button by inserting the following anchor.","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},"#o-sticky-close")));var _,h,v}));var U=window.wp.compose,H=o(175);const{Notice:W,SelectProducts:G}=window.otterComponents;var V=t=>{var o,r;let{name:n,BlockEdit:u,props:d}=t;const{results:m,status:b}=(0,c.useSelect)((e=>{let t="isLoading",o={};if(d.attributes.product&&Boolean(window.otterPro.isActive)){const{COLLECTIONS_STORE_KEY:_}=window.wc.wcBlocksData,h=e(_).getCollectionError("/wc/store","products",{},[d.attributes.product]);if(h)return{results:{},status:{isError:!0,message:h.message||(0,l.__)("Unknown error","otter-blocks")}};o=e(_).getCollection("/wc/store","products",{},[d.attributes.product]),(0,s.isEmpty)(o)||(o={title:null==(r=o)?void 0:r.name,description:null==r?void 0:r.short_description,price:window.wc.priceFormat.formatPrice(Number(null==r||null===(n=r.prices)||void 0===n?void 0:n.regular_price)).replace(/[^0-9.-]+/g,""),discounted:(null==r||null===(a=r.prices)||void 0===a?void 0:a.regular_price)!==(null==r||null===(i=r.prices)||void 0===i?void 0:i.sale_price)?window.wc.priceFormat.formatPrice(Number(null==r||null===(c=r.prices)||void 0===c?void 0:c.sale_price)).replace(/[^0-9.-]+/g,""):void 0,currency:null==r||null===(u=r.prices)||void 0===u?void 0:u.currency_code,links:[{label:(0,l.__)("Buy Now","otter-blocks"),href:null==r||null===(m=r.add_to_cart)||void 0===m?void 0:m.url,isSpoonsored:"external"===(null==r?void 0:r.type)}],image:0<(null==r||null===(b=r.images)||void 0===b?void 0:b.length)?(p=null==r?void 0:r.images[0],{id:p.id,alt:p.alt,url:p.src}):void 0},t="isLoaded")}else t="isInactive";var r,n,a,i,c,u,m,b,p;return{results:o,status:t}}),[d.attributes.product]);let p=H.InspectorControls;return null!==(o=window)&&void 0!==o&&null!==(r=o.otterComponents)&&void 0!==r&&r.useInspectorSlot&&(p=window.otterComponents.useInspectorSlot(d.name)),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u,a({productAttributes:m,status:b},d)),(0,e.createElement)(p,null,(0,e.createElement)(i.PanelBody,{title:(0,l.__)("Sync with WooCommerce","otter-blocks"),initialOpen:!1},(0,e.createElement)("p",null,(0,l.__)("By selecting a product, the current review information will sync with the selected WooCommerce product.","otter-blocks")),(0,e.createElement)(G,{label:(0,l.__)("Select Product","otter-blocks"),value:d.attributes.product,disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onChange:e=>d.setAttributes({product:0===e?void 0:e})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(W,{notice:(0,l.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,l.__)("You need to renew your Otter Pro license in order to continue using Pro features of Review Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(W,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Review Block.","otter-blocks")}))))};const Y=(0,U.createHigherOrderComponent)((t=>o=>"themeisle-blocks/review"===o.name&&o.isSelected?(0,e.createElement)(V,{BlockEdit:t,props:o}):(0,e.createElement)(t,o)),"withWooCommerceExtension");Boolean(window.otterPro.hasWooCommerce)&&((0,n.addFilter)("blocks.registerBlockType","themeisle-gutenberg/review-woocommerce-extension-attributes",(e=>("themeisle-blocks/review"===e.name&&(e.attributes=(0,s.assign)(e.attributes,{product:{type:"number"}})),e))),(0,n.addFilter)("editor.BlockEdit","themeisle-gutenberg/review-woocommerce-extension",Y));const K=e=>{const t=(0,s.omitBy)(e,(e=>null==e||""===e));return(0,s.isEmpty)(t)?void 0:t},{Notice:j}=window.otterComponents,z=e=>{switch(e){case"timer":return(0,l.__)("A fixed amount of time for each browser session (Evergreen Countdown)","otter-blocks");case"interval":return(0,l.__)("The countdown will be active only between the Start Date and the End Date","otter-blocks");default:return(0,l.__)("An universal deadline for all visitors","otter-blocks")}},Z=e=>{switch(e){case"redirectLink":return(0,l.__)("Redirect the user to another URL, when the countdown reaches 0","otter-blocks");case"hide":return(0,l.__)("Hide when the countdown reaches 0","otter-blocks");case"restart":return"The Countdown will restart when it reaches 0 and the page is refreshed";default:return(0,l.__)("The countdown remains visible when it reaches 0","otter-blocks")}};(0,n.addFilter)("otter.countdown.controls.settings","themeisle-gutenberg/countdown-controls",((t,o)=>{var r,n,a,s,c,d,m,b,p,_;let{attributes:h,setAttributes:v}=o;if(!Boolean(null===(r=window)||void 0===r||null===(n=r.otterPro)||void 0===n?void 0:n.isActive))return(0,e.createElement)(e.Fragment,null,t);const g=(0,u.__experimentalGetSettings)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("Countdown Type","otter-blocks"),value:h.mode,onChange:e=>{const t={mode:e||void 0};e||(t.date=void 0),"timer"!==e&&(t.timer=void 0,"restart"===h.behaviour&&(t.behaviour=void 0)),"interval"!==e&&(t.startInterval=void 0,t.endInterval=void 0),v(t)},options:[{label:(0,l.__)("Static","otter-blocks"),value:""},{label:(0,l.__)("Evergreen","otter-blocks"),value:"timer"},{label:(0,l.__)("Interval","otter-blocks"),value:"interval"}],help:z(h.mode)}),"timer"===h.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{type:"number",label:(0,l.__)("Days","otter-blocks"),value:null!==(a=null==h||null===(s=h.timer)||void 0===s?void 0:s.days)&&void 0!==a?a:"",onChange:e=>{v({timer:K({...h.timer,days:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,l.__)("Hours","otter-blocks"),value:null!==(c=null==h||null===(d=h.timer)||void 0===d?void 0:d.hours)&&void 0!==c?c:"",onChange:e=>{v({timer:K({...h.timer,hours:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,l.__)("Minutes","otter-blocks"),value:null!==(m=null==h||null===(b=h.timer)||void 0===b?void 0:b.minutes)&&void 0!==m?m:"",onChange:e=>{v({timer:K({...h.timer,minutes:e})})}}),(0,e.createElement)(i.TextControl,{type:"number",label:(0,l.__)("Seconds","otter-blocks"),value:null!==(p=null==h||null===(_=h.timer)||void 0===_?void 0:_.seconds)&&void 0!==p?p:"",onChange:e=>{v({timer:K({...h.timer,seconds:e})})}})),"interval"===h.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.BaseControl,{label:(0,l.__)("Start Date","otter-blocks")},(0,e.createElement)(i.Dropdown,{position:"bottom left",headerTitle:(0,l.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:r}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{onClick:o,isSecondary:!0,"aria-expanded":r,className:"o-extend-btn"},h.startInterval?(0,u.format)(g.formats.datetime,h.startInterval):(0,l.__)("Select Start Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:h.startInterval,onChange:e=>v({startInterval:e})}),className:"o-extend"})),(0,e.createElement)(i.BaseControl,{label:(0,l.__)("End Date","otter-blocks")},(0,e.createElement)(i.Dropdown,{position:"bottom left",headerTitle:(0,l.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:r}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Button,{onClick:o,isSecondary:!0,"aria-expanded":r,className:"o-extend-btn"},h.endInterval?(0,u.format)(g.formats.datetime,h.endInterval):(0,l.__)("Select End Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(i.DateTimePicker,{currentDate:h.endInterval,onChange:e=>v({endInterval:e})}),className:"o-extend"}))))})),(0,n.addFilter)("otter.countdown.controls.end","themeisle-gutenberg/countdown-controls",((t,o)=>{var r,n,a,s,c;let{attributes:u,setAttributes:d}=o;return Boolean(null===(r=window)||void 0===r||null===(n=r.otterPro)||void 0===n?void 0:n.isActive)?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.SelectControl,{label:(0,l.__)("On Expire","otter-blocks"),value:u.behaviour,onChange:e=>{d("redirectLink"===e?{behaviour:e,redirectLink:void 0}:{behaviour:e})},options:[{label:(0,l.__)("No action","otter-blocks"),value:""},{label:(0,l.__)("Hide the Countdown","otter-blocks"),value:"hide"},..."timer"===u.mode?[{label:(0,l.__)("Restart the Countdown","otter-blocks"),value:"restart"}]:[],{label:(0,l.__)("Redirect to link","otter-blocks"),value:"redirectLink"}],help:Z(u.behaviour)}),"redirectLink"===u.behaviour&&(0,e.createElement)(i.TextControl,{label:(0,l.__)("Redirect Link","otter-blocks"),value:null!==(a=u.redirectLink)&&void 0!==a?a:"",onChange:e=>d({redirectLink:e})}),(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Hide/Show Blocks When the Countdown Ends","otter-blocks"),help:(0,l.__)("Enable Hide/Show other blocks when the Countdown ends.","otter-blocks"),checked:void 0!==u.onEndAction,onChange:e=>{d(e?{onEndAction:"all"}:{onEndAction:void 0})}}),(null==u?void 0:u.onEndAction)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,l.__)('Paste the following code in the block that you want to show up or hide (in the same page) when the countdown end. Select the block, go to Inspector > Advanced, and paste into the field "Additional CSS class"',"otter-blocks")),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,l.__)("Show trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${null===(s=u.id)||void 0===s?void 0:s.split("-").pop()} o-cntdn-bhv-show`),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,l.__)("Hide trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${null===(c=u.id)||void 0===c?void 0:c.split("-").pop()} o-cntdn-bhv-hide`))):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(j,{notice:(0,l.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,l.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}))}))}()}();