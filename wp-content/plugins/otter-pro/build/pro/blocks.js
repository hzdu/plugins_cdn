!function(){var e={454:function(e){"use strict";const t=(e,t,o)=>{const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const n=o<0?e.length+o:o,[r]=e.splice(t,1);e.splice(n,0,r)}};e.exports=(e,o,n)=>(e=[...e],t(e,o,n),e),e.exports.mutate=t},184:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&e.push(a)}}else if("object"===l){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},463:function(e,t,o){const n=o(411);e.exports=function(e){if("string"!=typeof e)return;const t=e.toUpperCase();return Object.prototype.hasOwnProperty.call(n,t)?n[t]:void 0},e.exports.currencySymbolMap=n},411:function(e){e.exports={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"₿",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNH:"¥",CNY:"¥",COP:"$",COU:"COU",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"S$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"лв",VEF:"Bs",VES:"Bs.S",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",XSU:"Sucre",XUA:"XUA",YER:"﷼",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((o=e,Array.isArray(o)?[]:{}),e,t):e;var o}function r(e,t,o){return e.concat(t).map((function(e){return n(e,o)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function i(e,o,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=n;var c=Array.isArray(o);return c===Array.isArray(e)?c?s.arrayMerge(e,o,s):function(e,t,o){var r={};return o.isMergeableObject(e)&&l(e).forEach((function(t){r[t]=n(e[t],o)})),l(t).forEach((function(l){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,l)||(a(e,l)&&o.isMergeableObject(t[l])?r[l]=function(e,t){if(!t.customMerge)return i;var o=t.customMerge(e);return"function"==typeof o?o:i}(l,o)(e[l],t[l],o):r[l]=n(t[l],o))})),r}(e,o,s):n(o,s)}i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,o){return i(e,o,t)}),{})};var s=i;e.exports=s},143:function(e){"use strict";e.exports=function(e,t,o,n,r,l,a,i){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,n,r,l,a,i],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},703:function(e,t,o){"use strict";var n=o(414);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,l,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return o.PropTypes=o,o}},697:function(e,t,o){e.exports=o(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},586:function(e,t,o){"use strict";var n;o.d(t,{Z:function(){return u}});var r=new Uint8Array(16);function l(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&a.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var u=function(e,t,o){var n=(e=e||{}).random||(e.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!i(o))throw TypeError("Stringified UUID is invalid");return o}(n)}},819:function(e){"use strict";e.exports=window.lodash},989:function(e){"use strict";e.exports=window.wp.apiFetch},175:function(e){"use strict";e.exports=window.wp.blockEditor},609:function(e){"use strict";e.exports=window.wp.components},818:function(e){"use strict";e.exports=window.wp.data},307:function(e){"use strict";e.exports=window.wp.element},629:function(e){"use strict";e.exports=window.wp.htmlEntities},736:function(e){"use strict";e.exports=window.wp.i18n},462:function(e,t,o){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(this,arguments)}o.d(t,{Z:function(){return n}})}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=o(307),t=o(736),n=window.wp.blocks,r=o(175),l=o(609),a=window.wp.primitives,i=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"})),s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/add-to-cart-button","title":"Add to Cart Button","category":"themeisle-blocks","description":"Display an Add to Cart button for your WooCommerce products. Powered by Otter.","keywords":["woocommerce","add to cart","products"],"textdomain":"otter-blocks","attributes":{"product":{"type":"number"}},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"primary","label":"Primary"},{"name":"secondary","label":"Secondary"}]}'),c=window.wp.serverSideRender,u=o.n(c);const{SelectProducts:d}=window.otterComponents;var m=o=>{let{attributes:n,setAttributes:a}=o;const s=(0,r.useBlockProps)();return(0,e.createElement)("div",s,n.product?(0,e.createElement)(l.Disabled,null,(0,e.createElement)(u(),{block:"themeisle-blocks/add-to-cart-button",attributes:{...n}})):(0,e.createElement)(l.Placeholder,{icon:i,label:(0,t.__)("Add to Cart Button","otter-blocks"),instructions:(0,t.__)("Select a WooCommerce product for the Add to Cart button.","otter-blocks")},(0,e.createElement)(d,{label:(0,t.__)("Select Product","otter-blocks"),hideLabelFromVision:!0,value:n.product||"",onChange:e=>a({product:Number(e)})})))},p=o=>{let{icon:n,label:r,blockProps:a}=o;const i=(0,t.sprintf)((0,t.__)("You need to %2$s your Otter Pro license in order to use %1$s block.","otter-blocks"),r,Boolean(window.otterPro.isExpired)?(0,t.__)("renew","otter-blocks"):(0,t.__)("activate","otter-blocks"));return(0,e.createElement)("div",a,(0,e.createElement)(l.Placeholder,{icon:n,label:r,instructions:i}))};const{name:b}=s;Boolean(window.otterPro.hasWooCommerce)?(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(m=()=>(0,e.createElement)(p,{icon:i,label:s.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(b,{title:(0,t.__)("Add to Cart Button","otter-blocks"),...s,description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:i,keywords:["woocommerce","add to cart","products"],supports:{inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("Default","otter-blocks"),isDefault:!0},{name:"primary",label:(0,t.__)("Primary","otter-blocks")},{name:"secondary",label:(0,t.__)("Secondary","otter-blocks")}],edit:m,save:()=>null})):(0,n.registerBlockType)(b,{...s,title:(0,t.__)("Add to Cart Button","otter-blocks"),description:(0,t.__)("Display an Add to Cart button for your WooCommerce products. Powered by Otter.","otter-blocks"),icon:i,keywords:["woocommerce","add to cart","products"],supports:{inserter:!1},edit:()=>(0,e.createElement)("div",(0,r.useBlockProps)(),(0,e.createElement)(l.Placeholder,null,(0,t.__)("You need to have WooCommerce installed to edit Add to Cart Button block.","otter-blocks"))),save:()=>null});var h,g,f=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{fillRule:"evenodd",d:"M16.83 6.342l.602.3.625-.25.443-.176v12.569l-.443-.178-.625-.25-.603.301-1.444.723-2.41-.804-.475-.158-.474.158-2.41.803-1.445-.722-.603-.3-.625.25-.443.177V6.215l.443.178.625.25.603-.301 1.444-.722 2.41.803.475.158.474-.158 2.41-.803 1.445.722zM20 4l-1.5.6-1 .4-2-1-3 1-3-1-2 1-1-.4L5 4v17l1.5-.6 1-.4 2 1 3-1 3 1 2-1 1 .4 1.5.6V4zm-3.5 6.25v-1.5h-8v1.5h8zm0 3v-1.5h-8v1.5h8zm-8 3v-1.5h8v1.5h-8z",clipRule:"evenodd"})),v=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours","title":"Business Hours","category":"themeisle-blocks","description":"Display your business schedule on your website. Powered by Otter.","keywords":["business","schedule","time"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"title":{"type":"string"},"titleAlignment":{"type":"string"},"titleFontSize":{"type":"number"},"titleColor":{"type":"string"},"itemsFontSize":{"type":"number"},"backgroundColor":{"type":"string"},"gap":{"type":"number"},"borderWidth":{"type":"number"},"borderColor":{"type":"string"},"borderRadius":{"type":"number"}},"supports":{"align":["wide","full"]},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"black-white","label":"Black & White"}],"editorStyle":"otter-business-hours-editor","style":"otter-business-hours-style"}'),_=t=>{let{attributes:o,setAttributes:n}=t;const l=r.AlignmentControl||r.AlignmentToolbar;return(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(l,{value:o.titleAlignment,onChange:e=>n({titleAlignment:e})}))},y=o=>{let{attributes:n,setAttributes:a}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,t.__)("Settings","otter-blocks")},(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Gap","otter-blocks"),value:n.gap,onChange:e=>a({gap:Number(e)}),min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Title Font Size","otter-blocks"),value:n.titleFontSize,onChange:e=>a({titleFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Items Font Size","otter-blocks"),value:n.itemsFontSize,onChange:e=>a({itemsFontSize:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Border Radius","otter-blocks"),value:n.borderRadius,onChange:e=>a({borderRadius:Number(e)}),step:.1,min:0,max:60}),(0,e.createElement)(l.RangeControl,{label:(0,t.__)("Border Width","otter-blocks"),value:n.borderWidth,onChange:e=>a({borderWidth:Number(e)}),step:.1,min:0,max:120})),(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.titleColor,onChange:e=>a({titleColor:e}),label:(0,t.__)("Title","otter-blocks")},{value:n.backgroundColor,onChange:e=>a({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks")},{value:n.borderColor,onChange:e=>a({borderColor:e}),label:(0,t.__)("Border","otter-blocks")}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.titleColor,backgroundColor:n.backgroundColor})))},w=o(586),k=o(819),C=o(818);null!==(g=(h=window.themeisleGutenberg).blockIDs)&&void 0!==g||(h.blockIDs=[]);const{getBlock:E}=(0,C.select)("core/block-editor"),{getBlockParents:x}=(0,C.select)("core/block-editor"),{updateBlockAttributes:S}=(0,C.dispatch)("core/block-editor"),{getSelectedBlockClientId:P}=(0,C.select)("core/block-editor"),T=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[o,n]=(0,e.useState)({css:[],media:[]}),[r,l]=(0,e.useState)({node:null,cssNodeName:""}),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n({css:e,media:t})};return(0,e.useEffect)((()=>{var e;let o;const n=document.createElement("style");return n.type="text/css",n.setAttribute("data-generator","otter-blocks"),setTimeout((()=>{var e,t;o=(null===(e=parent.document.querySelector('iframe[name="editor-canvas"]'))||void 0===e?void 0:e.contentWindow.document.head)||document.head,null===(t=o)||void 0===t||t.appendChild(n)}),500),l({node:n,cssNodeName:null!==(e=null==t?void 0:t.selector)&&void 0!==e?e:`o-node-${(0,w.Z)()}`}),()=>{var e;null===(e=o)||void 0===e||e.removeChild(n)}}),[]),(0,e.useEffect)((()=>{if(r.node&&r.cssNodeName&&void 0!==o.media){const e=(0,k.zip)(o.css,o.media).map((e=>{const[t,o]=e;return o?`${o} { \n\t .${r.cssNodeName} ${t} }`:`.${r.cssNodeName} ${t}`})).join("\n")||"";r.node.textContent=e}}),[o.css,o.media,r.node,r.cssNodeName]),[r.cssNodeName,a,l]},{blockInit:B}=window.otterUtils,{attributes:A}=v;var O=o=>{let{attributes:n,setAttributes:l,isSelected:a,clientId:i}=o;(0,e.useEffect)((()=>{const e=B(i,A);return()=>e(n.id)}),[n.id]);const s={container:{backgroundColor:n.backgroundColor,borderRadius:n.borderRadius+"px",border:n.borderWidth&&`${n.borderWidth}px solid ${n.borderColor||"#000000"}`},title:{textAlign:n.titleAlignment,fontSize:n.titleFontSize+"px",color:n.titleColor}},[c,u]=T();(0,e.useEffect)((()=>{u([`.otter-business-hour__container .otter-business-hour__content .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tfont-size: ${n.itemsFontSize}px;\n\t\t\t\tpadding-top: ${n.gap}px;\n\t\t\t\tpadding-bottom: ${n.gap}px;\n\t\t\t}`,`.otter-business-hour__container .otter-business-hour__content .block-editor-block-list__block:last-child .wp-block-themeisle-blocks-business-hours-item {\n\t\t\t\tborder-radius: 0 0 ${n.borderRadius||0}px ${n.borderRadius||0}px;\n\t\t\t}`])}),[n.itemsFontSize,n.gap,n.borderRadius]);const d=(0,r.useBlockProps)({id:n.id,style:s.container,className:c});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{attributes:n,setAttributes:l}),(0,e.createElement)(y,{attributes:n,setAttributes:l}),(0,e.createElement)("div",d,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{style:s.title,className:"otter-business-hour__title"},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:n.title,onChange:e=>{l({title:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(r.InnerBlocks,{allowedBlocks:["core/separator","themeisle-blocks/business-hours-item"],template:[["themeisle-blocks/business-hours-item",{label:(0,t.__)("Monday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Tuesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Wednesday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Thursday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Friday","otter-blocks"),time:(0,t.__)("09:00 AM - 05:00 PM","otter-blocks")}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Saturday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}],["themeisle-blocks/business-hours-item",{label:(0,t.__)("Sunday","otter-blocks"),time:(0,t.__)("Closed","otter-blocks"),timeColor:"#F8002A"}]],renderAppender:a?r.InnerBlocks.ButtonBlockAppender:""})))))},D=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/business-hours-item","title":"Business Hours Item","category":"themeisle-blocks","description":"Item used by Business Hours block to display the time. Powered by Otter.","keywords":["business","schedule","time"],"parent":["themeisle-blocks/business-hours"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"label":{"type":"string"},"time":{"type":"string"},"backgroundColor":{"type":"string"},"labelColor":{"type":"string"},"timeColor":{"type":"string"}},"supports":{"align":["wide","full"]}}'),F=o=>{let{attributes:n,setAttributes:l}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.backgroundColor,onChange:e=>l({backgroundColor:e}),label:(0,t.__)("Background","otter-blocks")},{value:n.labelColor,onChange:e=>l({labelColor:e}),label:(0,t.__)("Label","otter-blocks")},{value:n.timeColor,onChange:e=>l({timeColor:e}),label:(0,t.__)("Time","otter-blocks")}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.labelColor,backgroundColor:n.backgroundColor})))};const{blockInit:N}=window.otterUtils,{attributes:R}=D;const{mapIcon:L}=window.otterUtils.icons,{name:I}=D;(0,n.registerBlockType)(I,{...D,title:(0,t.__)("Business Hours Item","otter-blocks"),description:(0,t.__)("Item used by Business Hours block to display the time. Powered by Otter.","otter-blocks"),icon:L,parent:["themeisle-blocks/business-hours"],category:"themeisle-blocks",keywords:["business","time","schedule"],supports:{align:["wide","full"]},edit:o=>{let{attributes:n,setAttributes:l,clientId:a}=o;(0,e.useEffect)((()=>{const e=N(a,R);return()=>e(n.id)}),[n.id]);const i={backgroundColor:n.backgroundColor},s=(0,r.useBlockProps)({id:n.id,style:i});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(F,{attributes:n,setAttributes:l}),(0,e.createElement)("div",s,(0,e.createElement)("div",{className:"otter-business-hour-item__label",style:{color:n.labelColor}},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Day","otter-blocks"),value:n.label,onChange:e=>{l({label:e})},tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time",style:{color:n.timeColor}},(0,e.createElement)(r.RichText,{placeholder:(0,t.__)("Opening Hours","otter-blocks"),value:n.time,onChange:e=>{l({time:e})},tagName:"span"}))))},save:t=>{let{attributes:o}=t;const n=r.useBlockProps.save({id:o.id});return(0,e.createElement)("div",n,(0,e.createElement)("div",{className:"otter-business-hour-item__label"},(0,e.createElement)(r.RichText.Content,{value:o.label,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour-item__time"},(0,e.createElement)(r.RichText.Content,{value:o.time,tagName:"span"})))}});const{name:M}=v;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(O=()=>(0,e.createElement)(p,{icon:f,label:v.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(M,{...v,title:(0,t.__)("Business Hours","otter-blocks"),description:(0,t.__)("Display your business schedule on your website. Powered by Otter.","otter-blocks"),icon:f,keywords:["business","schedule","time"],supports:{align:["wide","full"],inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},styles:[{name:"default",label:(0,t.__)("default","otter-blocks"),isDefault:!0},{name:"black-white",label:(0,t.__)("Black & White","otter-blocks")}],edit:O,save:t=>{let{attributes:o}=t;const n=r.useBlockProps.save({id:o.id});return(0,e.createElement)("div",n,(0,e.createElement)("div",{className:"otter-business-hour__container"},(0,e.createElement)("div",{className:"otter-business-hour__title"},(0,e.createElement)(r.RichText.Content,{value:o.title,tagName:"span"})),(0,e.createElement)("div",{className:"otter-business-hour__content"},(0,e.createElement)(r.InnerBlocks.Content,null))))}});var W=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/review-comparison","title":"Review Comparison Table","category":"themeisle-blocks","description":"A way to compare different product reviews made on the website. Powered by Otter.","keywords":["product","review","comparison"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"reviews":{"type":"array","default":[]},"buttonColor":{"type":"string"},"buttonText":{"type":"string"}},"supports":{"html":false},"editorStyle":"otter-review-comparison-editor","style":"otter-review-comparison-style"}'),$=o(184),H=o.n($),U=o(463),G=o.n(U),K=o(989),j=o.n(K),V=(0,e.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(a.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),Y=o=>{let{attributes:n,setAttributes:r,data:a,onComplete:i,isLoading:s,isComplete:c,isError:u}=o;const[d,m]=(0,e.useState)(""),p=e=>{const t=[...n.reviews];if(t.includes(e)){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}else t.push(e);r({reviews:t})},b=o=>{let{label:n,value:r}=o;return(0,e.createElement)("span",{className:"o-review-comparison_tag"},(0,e.createElement)("span",{className:"o-review-comparison_tag_title"},n),(0,e.createElement)(l.Button
/* translators: %s Label */,{label:(0,t.sprintf)((0,t.__)("Remove %s","otter-blocks"),n),icon:"dismiss",onClick:()=>p(r)}))};return(0,e.createElement)(l.Placeholder,{label:(0,t.__)("Product Review Comparison","otter-blocks"),instructions:(0,t.__)("Display a selection of product reviews in a comparison table. You need to have some pre-existing reviews to use this block.","otter-blocks"),icon:V,isColumnLayout:!0,className:"o-review-comparison__placeholder"},s&&(0,e.createElement)(l.Spinner,null),u&&(0,t.__)("There seems to have been an error.","otter-blocks"),c&&!Boolean(a.length)&&(0,t.__)("No reviews found.","otter-blocks"),c&&Boolean(a.length)&&(0,e.createElement)("div",{className:"o-review-comparison__placeholder__container"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected_label"},/* translators: %s Number of selected reviews. */
(0,t.sprintf)((0,t.__)("%s reviews selected","otter-blocks"),n.reviews.length)),n.reviews.filter((e=>{const t=e.split("-");return a.find((e=>e.ID===Number(t[0])&&e.attrs.id.slice(e.attrs.id.length-8)===t[1]))})).map((e=>{const o=e.split("-");return{label:a.find((e=>e.ID===Number(o[0])&&e.attrs.id.slice(e.attrs.id.length-8)===o[1])).attrs.title||(0,t.__)("Untitled review","otter-blocks"),value:e}})).map((t=>(0,e.createElement)(b,{key:t.value,label:t.label,value:t.value})))),(0,e.createElement)(l.TextControl,{label:(0,t.__)("Search for review to display","otter-blocks"),value:d,onChange:m}),(0,e.createElement)(l.MenuGroup,null,a.filter((e=>(e.attrs.title||(0,t.__)("Untitled review","otter-blocks")).toLowerCase().includes(d.toLowerCase()))).map((o=>{const r=o.ID+"-"+o.attrs.id.slice(o.attrs.id.length-8);return(0,e.createElement)(l.CheckboxControl,{key:r,label:o.attrs.title||(0,t.__)("Untitled review","otter-blocks"),checked:n.reviews.includes(r),onChange:()=>p(r)})}))),(0,e.createElement)(l.Button,{isPrimary:!0,onClick:i},(0,t.__)("Done","otter-blocks"))))},z=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),Z=o=>{let{onEdit:n}=o;return(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(l.ToolbarGroup,null,(0,e.createElement)(l.ToolbarButton,{label:(0,t.__)("Edit","otter-blocks"),icon:z,onClick:n})))},X=o=>{let{attributes:n,setAttributes:l}=o;return(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:[{value:n.buttonColor,onChange:e=>l({buttonColor:e}),label:(0,t.__)("Button","otter-blocks")},{value:n.buttonText,onChange:e=>l({buttonText:e}),label:(0,t.__)("Button text","otter-blocks")}]},(0,e.createElement)(r.ContrastChecker,{textColor:n.buttonText,backgroundColor:n.buttonColor})))};const{StarFilled:J,StarHalf:q}=window.otterUtils.icons,{blockInit:Q}=window.otterUtils,{attributes:ee}=W,{defaultReviewAttributes:te}=window.themeisleGutenberg;let oe=[],ne=[],re=[],le=[],ae=[],ie=[],se=[];var ce=o=>{let{attributes:n,setAttributes:l,clientId:a}=o;(0,e.useEffect)((()=>{const e=Q(a,ee);return()=>e(n.id)}),[n.id]),(0,e.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{u("loading");const e=await j()({path:"otter/v1/filter_blocks?block=themeisle-blocks/review"});s(e),u("loaded"),m(!Boolean(n.reviews.length))}catch(e){u("error")}})(),()=>{e=!1}}),[]);const[i,s]=(0,e.useState)([]),[c,u]=(0,e.useState)("loading"),[d,m]=(0,e.useState)(!0),[p,b]=T();(0,e.useEffect)((()=>{b([`.o-review-comparison_buttons span {\n\t\t\t\tbackground: ${n.buttonColor} !important;\n\t\t\t\tcolor: ${n.buttonText} !important;\n\t\t\t}`])}),[n.buttonColor,n.buttonText]),(0,e.useEffect)((()=>{oe=[],ne=[],re=[],le=[],ae=[],ie=[],se=[],Boolean(i.length)&&n.reviews.forEach((o=>{var n;const r=o.split("-"),l=i.find((e=>e.ID===Number(r[0])&&e.attrs.id.slice(e.attrs.id.length-8)===r[1]));if(!l)return;const a=null!==(n=G()(l.attrs.currency))&&void 0!==n?n:"$",s=l.attrs.features||te.features.default,c=Math.round(s.reduce(((e,t)=>e+t.rating),0)/s.length)/2,u=l.attrs.links||te.links.default,d=[];s.forEach((t=>{d.push((0,e.createElement)("div",{className:"o-review-comparison_rating_container"},(0,e.createElement)("div",{className:"o-review-comparison_rating_title"},t.title),(0,e.createElement)("div",{className:"o-review-comparison_ratings"},v(t.rating/2))))}));const m=[];u.forEach((t=>{m.push((0,e.createElement)("span",{className:"wp-block-button__link"},t.label))})),oe.push((0,e.createElement)("td",null,l.attrs.image&&(0,e.createElement)("img",{src:l.attrs.image.url}))),ne.push((0,e.createElement)("td",null,l.attrs.title||(0,t.__)("Untitled review","otter-blocks"))),re.push((0,e.createElement)("td",null,l.attrs.discounted?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("del",null,a+l.attrs.price)," ",a+l.attrs.discounted):l.attrs.price?a+l.attrs.price:"-")),le.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_ratings"},v(c)))),ae.push((0,e.createElement)("td",{dangerouslySetInnerHTML:{__html:l.attrs.description}})),ie.push((0,e.createElement)("td",null,d)),se.push((0,e.createElement)("td",null,(0,e.createElement)("div",{className:"o-review-comparison_buttons wp-block-button"},m)))}))}),[n.reviews,i]);const h="loading"===c,g="loaded"===c,f="error"===c,v=t=>{const o=[];for(let n=0;5>n;n++)o.push(n<t&&t<n+1?(0,e.createElement)(q,{className:H()({low:1.5>=t&&n<t,medium:1.5<t&&3.5>=t&&n<t,high:3.5<t&&5>=t&&n<t})}):(0,e.createElement)(J,{className:H()({low:1.5>=t&&n<t,medium:1.5<t&&3.5>=t&&n<t,high:3.5<t&&5>=t&&n<t})}));return o},_=(0,r.useBlockProps)({id:n.id});return d?(0,e.createElement)("div",_,(0,e.createElement)(Y,{attributes:n,setAttributes:l,data:i,onComplete:()=>m(!1),isLoading:h,isComplete:g,isError:f})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Z,{onEdit:()=>m(!0)}),(0,e.createElement)(X,{attributes:n,setAttributes:l}),(0,e.createElement)("table",_,(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null),oe)),(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Name","otter-blocks")),ne),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Price","otter-blocks")),re),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Rating","otter-blocks")),le),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Description","otter-blocks")),ae),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,t.__)("Statistics","otter-blocks")),ie),(0,e.createElement)("tr",{className:p},(0,e.createElement)("th",null,(0,t.__)("Buy this product","otter-blocks")),se))))};const{faIcon:ue}=window.otterUtils.icons,{name:de}=W;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(ce=()=>(0,e.createElement)(p,{icon:ue,label:W.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(de,{...W,title:(0,t.__)("Review Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different product reviews made on the website. Powered by Otter.","otter-blocks"),icon:ue,keywords:["product","review","comparison"],supports:{html:!1,inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},edit:ce,save:()=>null});var me=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"themeisle-blocks/woo-comparison","title":"WooCommerce Comparison Table","category":"themeisle-blocks","description":"A way to compare different WooCommerce products made on the website. Powered by Otter.","keywords":["woocommerce","comparison","table"],"textdomain":"otter-blocks","attributes":{"id":{"type":"string"},"products":{"type":"array","default":[]},"listingType":{"type":"string"},"altRow":{"type":"boolean"},"fields":{"type":"string"},"rowColor":{"type":"string"},"headerColor":{"type":"string"},"textColor":{"type":"string"},"borderColor":{"type":"string"},"altRowColor":{"type":"string"}},"supports":{"html":false},"editorStyle":"otter-woo-comparison-editor"}'),pe={id:{type:"string"},products:{type:"array",default:[]},listingType:{type:"string",default:window.otterPro.themeMods.listingType},altRow:{type:"boolean",default:Boolean(window.otterPro.themeMods.altRow)},fields:{type:"string",default:window.otterPro.themeMods.fields},rowColor:{type:"string",default:window.otterPro.themeMods.rowColor},headerColor:{type:"string",default:window.otterPro.themeMods.headerColor},textColor:{type:"string",default:window.otterPro.themeMods.textColor},borderColor:{type:"string",default:window.otterPro.themeMods.borderColor},altRowColor:{type:"string",default:window.otterPro.themeMods.altRowColor}},be=o(629),he=o=>{let{attributes:n,setAttributes:r,onComplete:a}=o;const{data:i,status:s}=(0,C.useSelect)((e=>{let t=[],o="loading";const{COLLECTIONS_STORE_KEY:n}=window.wc.wcBlocksData,r=["/wc/store","products",{per_page:100}];return e(n).getCollectionError(...r)?o="error":(t=e(n).getCollection(...r),e(n).hasFinishedResolution("getCollection",r)&&(o="loaded"),(0,k.isEmpty)(t)||(t=t.map((e=>({value:e.id,label:(0,be.decodeEntities)(e.name)}))))),{data:t,status:o}}),[]),c="loading"===s,u="loaded"===s,d="error"===s,[m,p]=(0,e.useState)(""),b=e=>{const t=[...n.products];if(t.includes(e)){const o=t.indexOf(e);-1!==o&&t.splice(o,1)}else t.push(e);r({products:t})},h=o=>{let{label:n,value:r}=o;return(0,e.createElement)("span",{className:"o-review-comparison_tag"},(0,e.createElement)("span",{className:"o-review-comparison_tag_title"},n),(0,e.createElement)(l.Button
/* translators: %s Label */,{label:(0,t.sprintf)((0,t.__)("Remove %s","otter-blocks"),n),icon:"dismiss",onClick:()=>b(r)}))};return(0,e.createElement)(l.Placeholder,{label:(0,t.__)("WooCommerce Product Comparison","otter-blocks"),instructions:(0,t.__)("Display a selection of WooCommerce products in a comparison table.","otter-blocks"),icon:V,isColumnLayout:!0,className:"o-review-comparison__placeholder"},c&&(0,e.createElement)(l.Spinner,null),d&&(0,t.__)("There seems to have been an error.","otter-blocks"),u&&!Boolean(i.length)&&(0,t.__)("No products found.","otter-blocks"),u&&Boolean(i.length)&&(0,e.createElement)("div",{className:"o-review-comparison__placeholder__container"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected"},(0,e.createElement)("div",{className:"o-review-comparison__placeholder__selected_label"},/* translators: %s Number of selected products. */
(0,t.sprintf)((0,t.__)("%s products selected","otter-blocks"),n.products.length)),n.products.map((e=>i.find((t=>t.value===e)))).map((t=>(0,e.createElement)(h,{key:t.value,label:t.label,value:t.value})))),(0,e.createElement)(l.TextControl,{label:(0,t.__)("Search for review to display","otter-blocks"),value:m,onChange:p}),(0,e.createElement)(l.MenuGroup,null,i.filter((e=>e.label.toLowerCase().includes(m.toLowerCase()))).map((o=>(0,e.createElement)(l.CheckboxControl,{key:o.value,label:o.label||(0,t.__)("Untitled product","otter-blocks"),checked:n.products.includes(o.value),onChange:()=>b(o.value)})))),(0,e.createElement)(l.Button,{isPrimary:!0,onClick:a},(0,t.__)("Done","otter-blocks"))))},ge=o=>{let{onEdit:n}=o;return(0,e.createElement)(r.BlockControls,null,(0,e.createElement)(l.ToolbarGroup,null,(0,e.createElement)(l.ToolbarButton,{label:(0,t.__)("Edit","otter-blocks"),icon:z,onClick:n})))},fe=o(454),ve=o.n(fe),_e=o(462);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function we(e,t){if(e){if("string"==typeof e)return ye(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ye(e,t):void 0}}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,l=[],_n=!0,a=!1;try{for(o=o.call(e);!(_n=(n=o.next()).done)&&(l.push(n.value),!t||l.length!==t);_n=!0);}catch(e){a=!0,r=e}finally{try{_n||null==o.return||o.return()}finally{if(a)throw r}}return l}}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ee(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach((function(t){Ce(e,t,o[t])}))}return e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t,o){return t&&Se(e.prototype,t),o&&Se(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Be(e)}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}var Ne=window.React,Re=window.ReactDOM,Le=o(143),Ie=o.n(Le);var Me=o(697),We=o.n(Me),$e=function(){function e(){xe(this,e),Ce(this,"refs",{})}return Pe(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var o=this.getIndex(e,t);-1!==o&&this.refs[e].splice(o,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(He)}}]),e}();function He(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function Ue(e,t){return Object.keys(e).reduce((function(o,n){return-1===t.indexOf(n)&&(o[n]=e[n]),o}),{})}var Ge={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Ke=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function je(e,t){Object.keys(t).forEach((function(o){e.style[o]=t[o]}))}function Ve(e,t){e.style["".concat(Ke,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Ye(e,t){e.style["".concat(Ke,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function ze(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Ze(e,t,o){return Math.max(e,Math.min(o,t))}function Xe(e){return"px"===e.substr(-2)?parseFloat(e):0}function Je(e){var t=window.getComputedStyle(e);return{bottom:Xe(t.marginBottom),left:Xe(t.marginLeft),right:Xe(t.marginRight),top:Xe(t.marginTop)}}function qe(e,t){var o=t.displayName||t.name;return o?"".concat(e,"(").concat(o,")"):e}function Qe(e,t){var o=e.getBoundingClientRect();return{top:o.top+t.top,left:o.left+t.left}}function et(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function tt(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function ot(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var n={left:o.left+e.offsetLeft,top:o.top+e.offsetTop};return e.parentNode===t?n:ot(e.parentNode,t,n)}}function nt(e,t,o){return e<o&&e>t?e-1:e>o&&e<t?e+1:e}function rt(e){var t=e.lockOffset,o=e.width,n=e.height,r=t,l=t,a="px";if("string"==typeof t){var i=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Ie()(null!==i,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),l=parseFloat(t),a=i[1]}return Ie()(isFinite(r)&&isFinite(l),"lockOffset value should be a finite. Given %s",t),"%"===a&&(r=r*o/100,l=l*n/100),{x:r,y:l}}function lt(e){var t=e.height,o=e.width,n=e.lockOffset,r=Array.isArray(n)?n:[n,n];Ie()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var l=ke(r,2),a=l[0],i=l[1];return[rt({height:t,lockOffset:a,width:o}),rt({height:t,lockOffset:i,width:o})]}function at(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),o=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return o.test(t[e])}))}(e)?e:at(e.parentNode):null}function it(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Xe(t.gridColumnGap),y:Xe(t.gridRowGap)}:{x:0,y:0}}var st="BUTTON",ct="INPUT",ut="OPTION",dt="TEXTAREA",mt="SELECT";function pt(e){var t,o="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(o),r=e.cloneNode(!0);return(t=r.querySelectorAll(o),function(e){if(Array.isArray(e))return ye(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||we(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),"CANVAS"===e.tagName&&n[t].width>0&&n[t].height>0&&e.getContext("2d").drawImage(n[t],0,0)})),r}function bt(e){return null!=e.sortableHandle}var ht=function(){function e(t,o){xe(this,e),this.container=t,this.onScrollCallback=o}return Pe(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,o=e.translate,n=e.minTranslate,r=e.maxTranslate,l=e.width,a=e.height,i={x:0,y:0},s={x:1,y:1},c=this.container,u=c.scrollTop,d=c.scrollLeft,m=c.scrollHeight,p=c.scrollWidth,b=0===u,h=m-u-c.clientHeight==0,g=0===d,f=p-d-c.clientWidth==0;o.y>=r.y-a/2&&!h?(i.y=1,s.y=10*Math.abs((r.y-a/2-o.y)/a)):o.x>=r.x-l/2&&!f?(i.x=1,s.x=10*Math.abs((r.x-l/2-o.x)/l)):o.y<=n.y+a/2&&!b?(i.y=-1,s.y=10*Math.abs((o.y-a/2-n.y)/a)):o.x<=n.x+l/2&&!g&&(i.x=-1,s.x=10*Math.abs((o.x-l/2-n.x)/l)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===i.x&&0===i.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:s.x*i.x,top:s.y*i.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),gt={axis:We().oneOf(["x","y","xy"]),contentWindow:We().any,disableAutoscroll:We().bool,distance:We().number,getContainer:We().func,getHelperDimensions:We().func,helperClass:We().string,helperContainer:We().oneOfType([We().func,"undefined"==typeof HTMLElement?We().any:We().instanceOf(HTMLElement)]),hideSortableGhost:We().bool,keyboardSortingTransitionDuration:We().number,lockAxis:We().string,lockOffset:We().oneOfType([We().number,We().string,We().arrayOf(We().oneOfType([We().number,We().string]))]),lockToContainerEdges:We().bool,onSortEnd:We().func,onSortMove:We().func,onSortOver:We().func,onSortStart:We().func,pressDelay:We().number,pressThreshold:We().number,keyCodes:We().shape({lift:We().arrayOf(We().number),drop:We().arrayOf(We().number),cancel:We().arrayOf(We().number),up:We().arrayOf(We().number),down:We().arrayOf(We().number)}),shouldCancelStart:We().func,transitionDuration:We().number,updateBeforeSortStart:We().func,useDragHandle:We().bool,useWindowAsScrollContainer:We().bool},ft={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},vt={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ft,shouldCancelStart:function(e){return-1!==[ct,dt,mt,ut,st].indexOf(e.target.tagName)||!!ze(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},_t=Object.keys(gt);function yt(e){Ie()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function wt(e,t){try{var o=e()}catch(e){return t(!0,e)}return o&&o.then?o.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var kt=(0,Ne.createContext)({manager:{}}),Ct={index:We().number.isRequired,collection:We().oneOfType([We().number,We().string]),disabled:We().bool},Et=Object.keys(Ct);const xt=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return o=t=function(t){function o(){var e,t;xe(this,o);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return Ce(Be(Be(t=Ae(this,(e=Oe(o)).call.apply(e,[this].concat(r))))),"wrappedInstance",(0,Ne.createRef)()),t}return Fe(o,t),Pe(o,[{key:"componentDidMount",value:function(){(0,Re.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Ie()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=n.withRef?this.wrappedInstance:null;return(0,Ne.createElement)(e,(0,_e.Z)({ref:t},this.props))}}]),o}(Ne.Component),Ce(t,"displayName",qe("sortableHandle",e)),o}((()=>(0,e.createElement)("div",{className:"o-sortable-handle",tabIndex:"0"},(0,e.createElement)("span",null)))),St=o=>{let{value:n,hidden:r,toggleFields:a}=o;const i=(0,k.startCase)((0,k.toLower)(n));let s="hidden",c=(0,t.sprintf)((0,t.__)("Display %s","otter-blocks"),i);
/* translators: %s Label */return r||(s="visibility",
/* translators: %s Label */
c=(0,t.sprintf)((0,t.__)("Hide %s","otter-blocks"),i)),(0,e.createElement)("div",{className:H()("o-sortable-item-area",`o-sortable-item-area-${n}`)},(0,e.createElement)("div",{className:H()("o-sortable-item",{hidden:r})},(0,e.createElement)(xt,null),(0,e.createElement)("div",{className:"o-sortable-label"},i),(0,e.createElement)(l.Button,{icon:s,label:c,showTooltip:!0,className:"o-sortable-button",onClick:()=>a(n)})))},Pt=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return o=t=function(t){function o(){var e,t;xe(this,o);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return Ce(Be(Be(t=Ae(this,(e=Oe(o)).call.apply(e,[this].concat(r))))),"wrappedInstance",(0,Ne.createRef)()),t}return Fe(o,t),Pe(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,o=e.disabled,n=e.index,r=(0,Re.findDOMNode)(this);r.sortableInfo={collection:t,disabled:o,index:n,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return Ie()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=n.withRef?this.wrappedInstance:null;return(0,Ne.createElement)(e,(0,_e.Z)({ref:t},Ue(this.props,Et)))}}]),o}(Ne.Component),Ce(t,"displayName",qe("sortableElement",e)),Ce(t,"contextType",kt),Ce(t,"propTypes",Ct),Ce(t,"defaultProps",{collection:0}),o}((t=>{let{value:o,hidden:n,toggleFields:r}=t;return(0,e.createElement)(St,{value:o,hidden:n,toggleFields:r})})),Tt=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return o=t=function(t){function o(e){var t;xe(this,o),Ce(Be(Be(t=Ae(this,Oe(o).call(this,e)))),"state",{}),Ce(Be(Be(t)),"handleStart",(function(e){var o=t.props,n=o.distance,r=o.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=et(e);var l=ze(e.target,(function(e){return null!=e.sortableInfo}));if(l&&l.sortableInfo&&t.nodeIsChild(l)&&!t.state.sorting){var a=t.props.useDragHandle,i=l.sortableInfo,s=i.index,c=i.collection;if(i.disabled)return;if(a&&!ze(e.target,bt))return;t.manager.active={collection:c,index:s},tt(e)||"A"!==e.target.tagName||e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Ce(Be(Be(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Ce(Be(Be(t)),"handleMove",(function(e){var o=t.props,n=o.distance,r=o.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var l=et(e),a={x:t.position.x-l.x,y:t.position.y-l.y},i=Math.abs(a.x)+Math.abs(a.y);t.delta=a,n||r&&!(i>=r)?n&&i>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Ce(Be(Be(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Ce(Be(Be(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Ce(Be(Be(t)),"handlePress",(function(e){try{var o=t.manager.getActive(),n=function(){if(o){var n=function(){var o=m.sortableInfo.index,n=Je(m),r=it(t.container),c=t.scrollContainer.getBoundingClientRect(),h=a({index:o,node:m,collection:p});if(t.node=m,t.margin=n,t.gridGap=r,t.width=h.width,t.height=h.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=m.getBoundingClientRect(),t.containerBoundingRect=c,t.index=o,t.newIndex=o,t.axis={x:l.indexOf("x")>=0,y:l.indexOf("y")>=0},t.offsetEdge=ot(m,t.container),t.initialOffset=et(b?Ee({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(pt(m)),je(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-n.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-n.top,"px"),width:"".concat(t.width,"px")}),b&&t.helper.focus(),s&&(t.sortableGhost=m,je(m,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},b){var g=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,f=g.top,v=g.left,_=g.width,y=f+g.height,w=v+_;t.axis.x&&(t.minTranslate.x=v-t.boundingClientRect.left,t.maxTranslate.x=w-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=f-t.boundingClientRect.top,t.maxTranslate.y=y-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:c.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:c.left+c.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:c.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:c.top+c.height)-t.boundingClientRect.top-t.height/2);i&&i.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,b?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(Ge.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),Ge.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:o}),u&&u({node:m,index:o,collection:p,isKeySorting:b,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),b&&t.keyMove(0)},r=t.props,l=r.axis,a=r.getHelperDimensions,i=r.helperClass,s=r.hideSortableGhost,c=r.updateBeforeSortStart,u=r.onSortStart,d=r.useWindowAsScrollContainer,m=o.node,p=o.collection,b=t.manager.isKeySorting,h=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var o=wt((function(){var t=m.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:m,isKeySorting:b},e)).then((function(){}))}),(function(e,o){if(t._awaitingUpdateBeforeSortStart=!1,e)throw o;return o}));if(o&&o.then)return o.then((function(){}))}}();return h&&h.then?h.then(n):n()}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Ce(Be(Be(t)),"handleSortMove",(function(e){var o=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),o&&o(e)})),Ce(Be(Be(t)),"handleSortEnd",(function(e){var o=t.props,n=o.hideSortableGhost,r=o.onSortEnd,l=t.manager,a=l.active.collection,i=l.isKeySorting,s=t.manager.getOrderedRefs();t.listenerNode&&(i?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(Ge.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),Ge.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&je(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=s.length;c<u;c++){var d=s[c],m=d.node;d.edgeOffset=null,d.boundingClientRect=null,Ve(m,null),Ye(m,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:i,nodes:s},e),t.touched=!1})),Ce(Be(Be(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,o=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(o){var n=Ee({},t.translate),r=0,l=0;return t.axis.x&&(n.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-n.x),t.axis.y&&(n.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),l=t.translate.y-n.y),t.translate=n,Ve(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=l)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Ce(Be(Be(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Ce(Be(Be(t)),"handleKeyDown",(function(e){var o=e.keyCode,n=t.props,r=n.shouldCancelStart,l=n.keyCodes,a=Ee({},ft,void 0===l?{}:l);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(o)&&!r(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(o)&&!t.manager.active?t.keyLift(e):a.drop.includes(o)&&t.manager.active?t.keyDrop(e):a.cancel.includes(o)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(o)?t.keyMove(-1):a.down.includes(o)&&t.keyMove(1))})),Ce(Be(Be(t)),"keyLift",(function(e){var o=e.target,n=ze(o,(function(e){return null!=e.sortableInfo})).sortableInfo,r=n.index,l=n.collection;t.initialFocusedNode=o,t.manager.isKeySorting=!0,t.manager.active={index:r,collection:l},t.handlePress(e)})),Ce(Be(Be(t)),"keyMove",(function(e){var o=t.manager.getOrderedRefs(),n=o[o.length-1].node.sortableInfo.index,r=t.newIndex+e,l=t.newIndex;if(!(r<0||r>n)){t.prevIndex=l,t.newIndex=r;var a=nt(t.newIndex,t.prevIndex,t.index),i=o.find((function(e){return e.node.sortableInfo.index===a})),s=i.node,c=t.containerScrollDelta,u=i.boundingClientRect||Qe(s,c),d=i.translate||{x:0,y:0},m=u.top+d.y-c.top,p=u.left+d.x-c.left,b=l<r,h=b&&t.axis.x?s.offsetWidth-t.width:0,g=b&&t.axis.y?s.offsetHeight-t.height:0;t.handleSortMove({pageX:p+h,pageY:m+g,ignoreTransition:0===e})}})),Ce(Be(Be(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Ce(Be(Be(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Ce(Be(Be(t)),"isValidSortingTarget",(function(e){var o=t.props.useDragHandle,n=e.target,r=ze(n,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(o?bt(n):n.sortableInfo)}));var n=new $e;return yt(e),t.manager=n,t.wrappedInstance=(0,Ne.createRef)(),t.sortableContextValue={manager:n},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Fe(o,t),Pe(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,o=this.getContainer();Promise.resolve(o).then((function(o){e.container=o,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:at(e.container)||e.container,e.autoScroller=new ht(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return Ge[t].forEach((function(o){return e.container.addEventListener(o,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return Ge[t].forEach((function(o){return e.container.removeEventListener(o,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,o=t.lockAxis,n=t.lockOffset,r=t.lockToContainerEdges,l=t.transitionDuration,a=t.keyboardSortingTransitionDuration,i=void 0===a?l:a,s=this.manager.isKeySorting,c=e.ignoreTransition,u=et(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,r){var m=ke(lt({height:this.height,lockOffset:n,width:this.width}),2),p=m[0],b=m[1],h={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-b.x,y:this.height/2-b.y};d.x=Ze(this.minTranslate.x+h.x,this.maxTranslate.x-g.x,d.x),d.y=Ze(this.minTranslate.y+h.y,this.maxTranslate.y-g.y,d.y)}"x"===o?d.y=0:"y"===o&&(d.x=0),s&&i&&!c&&Ye(this.helper,i),Ve(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,o=e.hideSortableGhost,n=e.onSortOver,r=this.containerScrollDelta,l=this.windowScrollDelta,a=this.manager.getOrderedRefs(),i=this.offsetEdge.left+this.translate.x+r.left,s=this.offsetEdge.top+this.translate.y+r.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,m=a.length;d<m;d++){var p=a[d].node,b=p.sortableInfo.index,h=p.offsetWidth,g=p.offsetHeight,f={height:this.height>g?g/2:this.height/2,width:this.width>h?h/2:this.width/2},v=c&&b>this.index&&b<=u,_=c&&b<this.index&&b>=u,y={x:0,y:0},w=a[d].edgeOffset;w||(w=ot(p,this.container),a[d].edgeOffset=w,c&&(a[d].boundingClientRect=Qe(p,r)));var k=d<a.length-1&&a[d+1],C=d>0&&a[d-1];k&&!k.edgeOffset&&(k.edgeOffset=ot(k.node,this.container),c&&(k.boundingClientRect=Qe(k.node,r))),b!==this.index?(t&&Ye(p,t),this.axis.x?this.axis.y?_||b<this.index&&(i+l.left-f.width<=w.left&&s+l.top<=w.top+f.height||s+l.top+f.height<=w.top)?(y.x=this.width+this.marginOffset.x,w.left+y.x>this.containerBoundingRect.width-f.width&&k&&(y.x=k.edgeOffset.left-w.left,y.y=k.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=b)):(v||b>this.index&&(i+l.left+f.width>=w.left&&s+l.top+f.height>=w.top||s+l.top+f.height>=w.top+g))&&(y.x=-(this.width+this.marginOffset.x),w.left+y.x<this.containerBoundingRect.left+f.width&&C&&(y.x=C.edgeOffset.left-w.left,y.y=C.edgeOffset.top-w.top),this.newIndex=b):v||b>this.index&&i+l.left+f.width>=w.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=b):(_||b<this.index&&i+l.left<=w.left+f.width)&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=b)):this.axis.y&&(v||b>this.index&&s+l.top+f.height>=w.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=b):(_||b<this.index&&s+l.top<=w.top+f.height)&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=b))),Ve(p,y),a[d].translate=y):o&&(this.sortableGhost=p,je(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var E=c?this.prevIndex:u;n&&this.newIndex!==E&&n({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:E,isKeySorting:c,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Ie()(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,Re.findDOMNode)(this):e(n.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=n.withRef?this.wrappedInstance:null;return(0,Ne.createElement)(kt.Provider,{value:this.sortableContextValue},(0,Ne.createElement)(e,(0,_e.Z)({ref:t},Ue(this.props,_t))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Ne.Component),Ce(t,"displayName",qe("sortableList",e)),Ce(t,"defaultProps",vt),Ce(t,"propTypes",gt),o}((t=>{let{fields:o,toggleFields:n}=t;return(0,e.createElement)("div",null,o.map(((t,o)=>(0,e.createElement)(Pt,{key:`item-${t}`,index:o,value:t,hidden:!1,toggleFields:n}))))}));var Bt=t=>{let{attributes:o,setAttributes:n}=t,r=JSON.parse(window.otterPro.themeMods.defaultFields);r=r.filter((e=>!JSON.parse(o.fields).includes(e)));const l=e=>{const t=JSON.parse(o.fields);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),n({fields:JSON.stringify(t)})};return(0,e.createElement)("div",{className:"o-sortable"},(0,e.createElement)(Tt,{template:window.otterPro.themeMods.defaultFields,fields:JSON.parse(o.fields),toggleFields:l,onSortEnd:e=>{let{oldIndex:t,newIndex:r}=e;const l=JSON.stringify(ve()(JSON.parse(o.fields),t,r));n({fields:l})},useDragHandle:!0,axis:"y",lockAxis:"y"}),r.map(((t,o)=>(0,e.createElement)(St,{key:`item-${t}`,index:o,value:t,hidden:!0,toggleFields:l}))))},At=o=>{let{attributes:n,setAttributes:a}=o;const i=[{value:n.rowColor,onChange:e=>a({rowColor:e}),label:(0,t.__)("Background","otter-blocks")},{value:n.headerColor,onChange:e=>a({headerColor:e}),label:(0,t.__)("Header Text","otter-blocks")},{value:n.textColor,onChange:e=>a({textColor:e}),label:(0,t.__)("Text","otter-blocks")},{value:n.borderColor,onChange:e=>a({borderColor:e}),label:(0,t.__)("Border","otter-blocks")}];return Boolean(n.altRow)&&i.push({value:n.altRowColor,onChange:e=>a({altRowColor:e}),label:(0,t.__)("Alternating Row Background","otter-blocks")}),(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,t.__)("Settings","otter-blocks")},(0,e.createElement)(l.SelectControl,{label:(0,t.__)("Table View Type","otter-blocks"),value:n.listingType,options:[{label:(0,t.__)("Column","otter-blocks"),value:"column"},{label:(0,t.__)("Row","otter-blocks"),value:"row"}],onChange:e=>a({listingType:e})}),(0,e.createElement)(l.ToggleControl,{label:(0,t.__)("Enable Alternating Row Color","otter-blocks"),checked:Boolean(n.altRow),onChange:()=>a({altRow:!Boolean(n.altRow)})})),(0,e.createElement)(l.PanelBody,{title:(0,t.__)("Fields","otter-blocks"),initialOpen:!1},(0,e.createElement)(Bt,{attributes:n,setAttributes:a})),(0,e.createElement)(r.PanelColorSettings,{title:(0,t.__)("Color","otter-blocks"),initialOpen:!1,colorSettings:i},(0,e.createElement)(r.ContrastChecker,{textColor:n.textColor,backgroundColor:n.rowColor})))};const{blockInit:Ot}=window.otterUtils;var Dt=t=>{let{attributes:o,setAttributes:n,clientId:a}=t;(0,e.useEffect)((()=>{Boolean(o.products.length)&&s(!1)}),[]),(0,e.useEffect)((()=>{const e=Ot(a,pe);return()=>e(o.id)}),[o.id]);const[i,s]=(0,e.useState)(!0),[c,d]=T();(0,e.useEffect)((()=>{d([`.nv-ct-comparison-table-content {\n\t\t\t\t--bgColor: ${o.rowColor};\n\t\t\t\t--headerColor: ${o.headerColor};\n\t\t\t\t--color: ${o.textColor};\n\t\t\t\t--borderColor: ${o.borderColor};\n\t\t\t\t${Boolean(o.altRow)&&`--alternateBg: ${o.altRowColor};`}\n\t\t\t}`])}),[o.rowColor,o.headerColor,o.textColor,o.borderColor,o.altRow,o.altRowColor]);const m=(0,r.useBlockProps)();return i?(0,e.createElement)("div",m,(0,e.createElement)(he,{attributes:o,setAttributes:n,onComplete:()=>s(!1)})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ge,{onEdit:()=>s(!0)}),(0,e.createElement)(At,{attributes:o,setAttributes:n}),(0,e.createElement)("div",m,(0,e.createElement)(l.Disabled,{className:c},(0,e.createElement)(u(),{block:"themeisle-blocks/woo-comparison",attributes:{...o}}))))};const{faIcon:Ft}=window.otterUtils.icons,{name:Nt}=me;Boolean(window.otterPro.hasWooCommerce)&&Boolean(window.otterPro.hasNeveSupport.wooComparison)?(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)||(Dt=()=>(0,e.createElement)(p,{icon:Ft,label:me.title,blockProps:(0,r.useBlockProps)()})),(0,n.registerBlockType)(Nt,{...me,title:(0,t.__)("WooCommerce Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different WooCommerce products made on the website. Powered by Otter.","otter-blocks"),icon:Ft,keywords:["woocommerce","comparison","table"],attributes:pe,supports:{inserter:Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)},edit:Dt,save:()=>null})):(0,n.registerBlockType)(Nt,{...me,title:(0,t.__)("WooCommerce Comparison Table","otter-blocks"),description:(0,t.__)("A way to compare different WooCommerce products made on the website. Powered by Otter.","otter-blocks"),icon:Ft,keywords:["woocommerce","comparison","table"],attributes:pe,supports:{inserter:!1},edit:()=>(0,e.createElement)("div",(0,r.useBlockProps)(),(0,e.createElement)(l.Placeholder,null,(0,t.__)("You need to have Neve Pro & WooCommerce installed to edit WooCommerce Comparison Table block.","otter-blocks"))),save:()=>null})}(),function(){"use strict";var e=o(307),t=o(996),n=o.n(t),r=o(736),l=window.wp.hooks,a=o(462),i=o(819),s=o(609),c=o(818),u=window.wp.date,d=o(629);const m=[{value:"monday",label:(0,r.__)("Monday","otter-blocks")},{value:"tuesday",label:(0,r.__)("Tuesday","otter-blocks")},{value:"wednesday",label:(0,r.__)("Wednesday","otter-blocks")},{value:"thursday",label:(0,r.__)("Thursday","otter-blocks")},{value:"friday",label:(0,r.__)("Friday","otter-blocks")},{value:"saturday",label:(0,r.__)("Saturday","otter-blocks")},{value:"sunday",label:(0,r.__)("Sunday","otter-blocks")}],p=t=>{let{label:o,id:n,value:l,onChange:a}=t;const i=(0,u.__experimentalGetSettings)();return(0,e.createElement)(s.BaseControl,{label:o,id:n},(0,e.createElement)(s.Dropdown,{position:"bottom left",renderToggle:t=>{let{onToggle:o,isOpen:a}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{id:n,onClick:o,isSecondary:!0,"aria-expanded":a},l?(0,u.format)(i.formats.datetime,l):(0,r.__)("Select Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(s.DateTimePicker,{currentDate:l,onChange:a})}))},b=t=>{let{label:o,items:n,values:r,onChange:l}=t;return(0,e.createElement)(s.FormTokenField,{label:o,value:r&&"object"==typeof r?r.map((e=>{const t=n.find((t=>Number(e)===Number(t.value)));return`${t.value}. ${t.label}`})):void 0,suggestions:n.map((e=>`${e.value}. ${e.label}`)),onChange:l,__experimentalExpandOnFocus:!0,__experimentalValidateInput:e=>{const t=/^([^.]+)/.exec(e);return null!==t&&(e=Number(t[0])),void 0!==n.find((t=>Number(e)===Number(t.value)))}})},h=t=>{const{products:o,isLoading:n}=(0,c.useSelect)((e=>{var t,o,n,r;if(!Boolean(window.otterPro.hasWooCommerce))return{products:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:l}=null===(t=window)||void 0===t||null===(o=t.wc)||void 0===o?void 0:o.wcBlocksData,{getCollection:a,getCollectionError:i,isResolving:s}=e(l);return{products:(null==i?void 0:i("/wc/store","products",{per_page:100}))?[]:null===(n=null!==(r=null==a?void 0:a("/wc/store","products",{per_page:100}))&&void 0!==r?r:[])||void 0===n?void 0:n.map((e=>({value:e.id,label:(0,d.decodeEntities)(e.name)}))),isLoading:s("getCollection",["/wc/store","products",{per_page:100}])}}),[]);return n?(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null)):(0,e.createElement)(b,(0,a.Z)({},t,{items:o}))},g=t=>{const{categories:o,isLoading:n}=(0,c.useSelect)((e=>{var t,o,n,r;if(!Boolean(window.otterPro.hasWooCommerce))return{categories:[],isLoading:!1};const{COLLECTIONS_STORE_KEY:l}=null===(t=window)||void 0===t||null===(o=t.wc)||void 0===o?void 0:o.wcBlocksData,{getCollection:a,getCollectionError:i,isResolving:s}=e(l);return{categories:i("/wc/store","products/categories")?[]:null===(n=null!==(r=a("/wc/store","products/categories"))&&void 0!==r?r:[])||void 0===n?void 0:n.map((e=>({value:e.id,label:(0,d.decodeEntities)(e.name)}))),isLoading:s("getCollection",["/wc/store","products/categories"])}}),[]);return n?(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null)):(0,e.createElement)(b,(0,a.Z)({},t,{items:o}))},f=t=>{const{courses:o,isLoading:n}=(0,c.useSelect)((e=>{var t,o,n;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!(null!==(n=e("otter-pro"))&&void 0!==n&&n.isLearnDashCoursesLoaded())}:{courses:[],cursesStatus:!1}}),[]);return n?(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null)):(0,e.createElement)(b,(0,a.Z)({},t,{items:o}))},v=t=>{const{courses:o,isLoading:n}=(0,c.useSelect)((e=>{var t,o,n;return Boolean(window.otterPro.hasLearnDash)?{courses:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashCourses())&&void 0!==t?t:[],isLoading:!(null!==(n=e("otter-pro"))&&void 0!==n&&n.isLearnDashCoursesLoaded())}:{courses:[],cursesStatus:!1}}),[]);return(0,e.createElement)(e.Fragment,null,!n&&(0,e.createElement)(e.Fragment,null,Boolean(o.length)?(0,e.createElement)(s.SelectControl,(0,a.Z)({},t,{options:o})):(0,e.createElement)("p",null,(0,r.__)("No courses available.","otter-blocks")),t.children),n&&(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null)))},_=t=>{const{groups:o,groupsStatus:n}=(0,c.useSelect)((e=>{var t,o,n;return Boolean(window.otterPro.hasLearnDash)?{groups:null!==(t=null===(o=e("otter-pro"))||void 0===o?void 0:o.getLearnDashGroups())&&void 0!==t?t:[],groupsStatus:!(null!==(n=e("otter-pro"))&&void 0!==n&&n.isLearnDashGroupsLoaded())}:{groups:[],groupsStatus:"loading"}}),[]);return n?(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null)):(0,e.createElement)(b,(0,a.Z)({},t,{items:o}))};var y=t=>{let{groupIndex:o,itemIndex:n,item:l,conditions:a,setAttributes:i,changeValue:c}=t;const u=(e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].products=e,i({otterConditions:r})};return(0,e.createElement)(e.Fragment,null,["postMeta","loggedInUserMeta"].includes(l.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.TextControl,{label:(0,r.__)("Meta Key","otter-blocks"),help:(0,r.__)("Key of the meta you want to compare.","otter-blocks"),placeholder:(0,r.__)("_meta_key","otter-blocks"),value:l.meta_key,onChange:e=>c(e,o,n,"meta_key")}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Compare Operator","otter-blocks"),options:[{value:"is_true",label:(0,r.__)("Is True","otter-blocks")},{value:"is_false",label:(0,r.__)("Is False","otter-blocks")},{value:"is_empty",label:(0,r.__)("Is Empty","otter-blocks")},{value:"if_equals",label:(0,r.__)("If Equals","otter-blocks")},{value:"if_contains",label:(0,r.__)("If Contains","otter-blocks")}],value:l.meta_compare,onChange:e=>c(e,o,n,"meta_compare")}),("if_equals"===l.meta_compare||"if_contains"===l.meta_compare)&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Meta Value","otter-blocks"),help:(0,r.__)("Value of the meta to compare.","otter-blocks"),value:l.meta_value,onChange:e=>c(e,o,n,"meta_value")})),"queryString"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.TextareaControl,{label:(0,r.__)("Query String","otter-blocks"),help:(0,r.__)("Write a key-value pair for each parameter, one per line.","otter-blocks"),placeholder:"eg. utm_source=facebook",value:l.query_string,onChange:e=>c(e.replaceAll("itemIndex","&"),o,n,"query_string")}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Match if URL contains","otter-blocks"),options:[{value:"any",label:(0,r.__)("Any of the parameters","otter-blocks")},{value:"all",label:(0,r.__)("All the parameters","otter-blocks")}],value:l.compare,onChange:e=>c(e,o,n,"match")})),"dateRange"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p,{label:(0,r.__)("Start Date","otter-blocks"),id:`o-conditions-date-start${o}-${n}`,value:l.start_date,onChange:e=>c(e,o,n,"start_date")}),(0,e.createElement)(p,{label:(0,r.__)("End Date (Optional)","otter-blocks"),id:`o-conditions-date-end${o}-${n}`,value:l.end_date,onChange:e=>c(e,o,n,"end_date")})),"dateRecurring"===l.type&&(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Recurring Days","otter-blocks"),help:(0,r.__)("You can use this in combination with other Date Time conditions to make more complex conditions.","otter-blocks")},m.map((t=>{let{label:r,value:c}=t;return(0,e.createElement)(s.CheckboxControl,{key:r,label:r,checked:l.days&&l.days.includes(c),onChange:()=>((e,t,o)=>{const n=[...a];n[t][o].days||(n[t][o].days=[]);const r=n[t][o].days.indexOf(e);-1!==r?n[t][o].days.splice(r,1):n[t][o].days.push(e),i({otterConditions:n})})(c,o,n)})}))),"timeRecurring"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Start Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,r.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:l.start_time?l.start_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let r=l.start_time||"00:00";r=r.split(":"),r[0]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"start_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,r.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:l.start_time?l.start_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let r=l.start_time||"00:00";r=r.split(":"),r[1]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"start_time")}}),(0,e.createElement)(s.Button,{isSecondary:!0,isSmall:!0,disabled:!l.start_time,onClick:()=>{const e=[...a];delete e[o][n].start_time,i({otterConditions:e})}},(0,r.__)("Reset","otter-blocks")))),(0,e.createElement)(s.BaseControl,{label:(0,r.__)("End Time","otter-blocks")},(0,e.createElement)("div",{className:"o-conditions"},(0,e.createElement)("input",{"aria-label":(0,r.__)("Hours","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"23",value:l.end_time?l.end_time.split(":")[0]:"",onChange:e=>{const{value:t}=e.target;if(0>t||23<t)return;let r=l.end_time||"00:00";r=r.split(":"),r[0]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"end_time")}})," : ",(0,e.createElement)("input",{"aria-label":(0,r.__)("Minutes","otter-blocks"),className:"components-datetime__time-field-hours-input",type:"number",step:"1",min:"0",max:"59",value:l.end_time?l.end_time.split(":")[1]:"",onChange:e=>{const{value:t}=e.target;if(0>t||59<t)return;let r=l.end_time||"00:00";r=r.split(":"),r[1]=`00${t}`.slice(-2),r=r.join(":"),c(r,o,n,"end_time")}}),(0,e.createElement)(s.Button,{isSecondary:!0,isSmall:!0,disabled:!l.end_time,onClick:()=>{const e=[...a];delete e[o][n].end_time,i({otterConditions:e})}},(0,r.__)("Reset","otter-blocks"))))),"wooProductsInCart"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Based on","otter-blocks"),options:[{value:"products",label:(0,r.__)("Products","otter-blocks")},{value:"categories",label:(0,r.__)("Categories","otter-blocks")}],value:l.on,onChange:e=>c(e,o,n,"on")}),"products"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h,{label:(0,r.__)("Products","otter-blocks"),values:l.products,onChange:e=>u(e,o,n)})),"categories"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(g,{label:(0,r.__)("Categories","otter-blocks"),values:l.categories,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].categories=e,i({otterConditions:r})})(e,o,n)}))),"wooTotalCartValue"===l.type&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Total Cart Value","otter-blocks"),help:(0,r.sprintf)((0,r.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:l.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,n,"value")}),"wooTotalSpent"===l.type&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Total Money Spent","otter-blocks"),help:(0,r.sprintf)((0,r.__)("The currency will be based on your WooCommerce settings. Currently it is set to %s.","otter-blocks"),window.wcSettings.currency.code),placeholder:9.99,value:l.value,onChange:e=>c(e.replace(/[^0-9.]/g,""),o,n,"value")}),("wooTotalCartValue"===l.type||"wooTotalSpent"===l.type)&&(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Compare Operator","otter-blocks"),options:[{value:"greater_than",label:(0,r.__)("Greater Than (>)","otter-blocks")},{value:"less_than",label:(0,r.__)("Less Than (<)","otter-blocks")}],value:l.compare,onChange:e=>c(e,o,n,"compare")}),"wooPurchaseHistory"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h,{label:(0,r.__)("Products","otter-blocks"),values:l.products,onChange:e=>u(e,o,n)})),"learnDashPurchaseHistory"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Based on","otter-blocks"),options:[{value:"courses",label:(0,r.__)("Courses","otter-blocks")},{value:"groups",label:(0,r.__)("Groups","otter-blocks")}],value:l.on,onChange:e=>c(e,o,n,"on")}),"courses"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(f,{label:(0,r.__)("Courses","otter-blocks"),values:l.courses,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].courses=e,i({otterConditions:r})})(e,o,n)})),"groups"===l.on&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(_,{label:(0,r.__)("Groups","otter-blocks"),values:l.groups,onChange:e=>((e,t,o)=>{const n=/^([^.]+)/;e.forEach(((t,o)=>{const r=n.exec(t);null!==r&&(e[o]=Number(r[0]))}));const r=[...a];r[t][o].groups=e,i({otterConditions:r})})(e,o,n)}))),"learnDashCourseStatus"===l.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(v,{label:(0,r.__)("Course","otter-blocks"),value:l.course,onChange:e=>c(Number(e),o,n,"course")},(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Status","otter-blocks"),options:[{value:"not_started",label:(0,r.__)("Not Started","otter-blocks")},{value:"in_progress",label:(0,r.__)("In Progress","otter-blocks")},{value:"completed",label:(0,r.__)("Completed","otter-blocks")}],value:l.status,onChange:e=>c(e,o,n,"status")}))))};const{Notice:w}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.blockConditions.conditions","themeisle-gutenberg/block-conditions-list",(e=>{const t={users:{label:(0,r.__)("Users","otter-blocks"),conditions:[{value:"loggedInUserMeta",label:(0,r.__)("Logged-in User Meta","otter-blocks"),help:(0,r.__)("The selected block will be visible based on meta of the logged-in user condition."),toogleVisibility:!0}]},posts:{label:(0,r.__)("Posts","otter-blocks"),conditions:[{value:"postMeta",label:(0,r.__)("Post Meta","otter-blocks"),help:(0,r.__)("The selected block will be visible based on post meta condition."),toogleVisibility:!0}]},url:{label:(0,r.__)("URL","otter-blocks"),conditions:[{value:"queryString",label:(0,r.__)("Query String","otter-blocks"),help:(0,r.__)("The condition will be met if the URL contains specified parameters."),toogleVisibility:!0}]},dateAndTime:{label:(0,r.__)("Date & Time","otter-blocks"),conditions:[{value:"dateRange",label:(0,r.__)("Date Range","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the date range. Timezone is used based on your WordPress settings.")},{value:"dateRecurring",label:(0,r.__)("Date Recurring","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the selected days. Timezone is used based on your WordPress settings.")},{value:"timeRecurring",label:(0,r.__)("Time Recurring","otter-blocks"),help:(0,r.__)("The selected block will be visible during the selected time. Timezone is used based on your WordPress settings.")}]},woocommerce:{label:(0,r.__)("WooCommerce","otter-blocks"),conditions:[{value:"wooProductsInCart",label:(0,r.__)("Products in Cart","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the products added to WooCommerce cart."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalCartValue",label:(0,r.__)("Total Cart Value","otter-blocks"),help:(0,r.__)("The selected block will be visible based on the total value of WooCommerce cart."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooPurchaseHistory",label:(0,r.__)("Purchase History","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's WooCommerce purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasWooCommerce)},{value:"wooTotalSpent",label:(0,r.__)("Total Spent","otter-blocks"),help:(0,r.__)("The selected block will be visible based on how much the user spent during lifetime."),isDisabled:!Boolean(window.otterPro.hasWooCommerce)}]},learndash:{label:(0,r.__)("LearnDash","otter-blocks"),conditions:[{value:"learnDashPurchaseHistory",label:(0,r.__)("Purchase History","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's LearnDash purchase history."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)},{value:"learnDashCourseStatus",label:(0,r.__)("Course Status","otter-blocks"),help:(0,r.__)("The selected block will be visible based on user's LearnDash course status."),toogleVisibility:!0,isDisabled:!Boolean(window.otterPro.hasLearnDash)}]}};return Object.keys(e).forEach((t=>{e[t].conditions=e[t].conditions.filter((e=>!(null!=e&&e.isDisabled))),Boolean(e[t].conditions.length)||delete e[t]})),e=n()(e,t)})),(0,l.addFilter)("otter.blockConditions.defaults","themeisle-gutenberg/block-conditions-defaults",((e,t)=>("postMeta"===t&&(e.visibility=!0),"postMeta"===t&&(e.meta_compare="is_true"),"queryString"===t&&(e.match="any"),"wooProductsInCart"==t&&(e.on="products"),"wooTotalCartValue"!==t&&"wooTotalSpent"!==t||(e.compare="greater_than"),"learnDashPurchaseHistory"==t&&(e.on="courses"),"learnDashCourseStatus"==t&&(e.status="not_started"),e)))),(0,l.addFilter)("otter.blockConditions.controls","themeisle-gutenberg/block-conditions-controls",((t,o,n,r,l,a,i)=>(0,e.createElement)(y,{groupIndex:o,itemIndex:n,item:r,conditions:l,setAttributes:a,changeValue:i}))),(0,l.addFilter)("otter.blockConditions.notices","themeisle-gutenberg/block-conditions-notices",(t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(w,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Block Conditions.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(w,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Block Conditions.","otter-blocks")})));var k=o(989),C=o.n(k);const E={acfGroups:[],acfFields:{},haveACFLoaded:!1,learndDashCourses:[],learndDashGroups:[],haveLoadedCourses:!1,haveLoadedGroups:!1},x={setCourses(e){return{type:"SET_LEARNDASH_COURSES",courses:e,haveLoadedCourses:!0}},setGroups(e){return{type:"SET_LEARNDASH_GROUPS",groups:e,haveLoadedGroups:!0}},setACFData(e,t,o){return{type:"SET_ACF_DATA",groups:e,fields:t,haveACFLoaded:o}},fetchFromAPI(e){return{type:"FETCH_FROM_API",path:e}}};(0,c.registerStore)("otter-pro",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return"SET_LEARNDASH_COURSES"===t.type?{...e,learndDashCourses:t.courses,haveLoadedCourses:t.haveLoadedCourses}:"SET_LEARNDASH_GROUPS"===t.type?{...e,learndDashGroups:t.groups,haveLoadedGroups:t.haveLoadedGroups}:"SET_ACF_DATA"===t.type?{...e,acfGroups:t.groups,acfFields:t.fields,haveACFLoaded:t.haveACFLoaded}:e},selectors:{getLearnDashCourses(e){return e.learndDashCourses},getLearnDashGroups(e){return e.learndDashGroups},getACFData(e){return{groups:e.acfGroups,fields:e.acfFields}},isACFLoaded(e){return e.haveACFLoaded},isLearnDashCoursesLoaded(e){return e.haveLoadedCourses},isLearnDashGroupsLoaded(e){return e.haveLoadedGroups}},controls:{FETCH_FROM_API(e){return C()({path:e.path})}},resolvers:{*getLearnDashCourses(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield x.fetchFromAPI("ldlms/v2/sfwd-courses")).map((e=>({value:e.id,label:e.title.rendered})));return x.setCourses(e)},*getLearnDashGroups(){if(!Boolean(window.otterPro.hasLearnDash))return;const e=(yield x.fetchFromAPI("ldlms/v2/groups")).map((e=>({value:e.id,label:e.title.rendered})));return x.setGroups(e)},*getACFData(){if(!window.acf)return;const e=yield x.fetchFromAPI("otter/v1/acf-fields");if(null!=e&&e.success){const{groups:t}=e,o=null==t?void 0:t.map((e=>{let{fields:t,data:o}=e;return t.map((e=>{var t;return e.urlLocation=`${(null===(t=window.themeisleGutenberg)||void 0===t?void 0:t.rootUrl)||""}/wp-admin/post.php?post=${o.ID}&action=edit`,e}))})).flat().reduce(((e,t)=>(t.key&&t.label&&(e[t.key]=(0,i.pick)(t,["label","type","prepend","append","default_value","value","urlLocation"])),e)),{});return x.setACFData(t,o,!0)}return x.setACFData([],{},!1)}}});const S=["text","textarea","range","number","url","email","password"];var P=t=>{let{attributes:o,changeAttributes:n}=t;const{isLoaded:l,groups:a}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]),i={"F j, Y":moment().format("MMMM d, Y"),"Y-m-d":moment().format("Y-m-d"),"m/d/Y":moment().format("m/d/Y"),"d/m/Y":moment().format("d/m/Y")},u={"g:i a":moment().format("h:m a"),"g:i A":moment().format("h:m A"),"H:i":moment().format("HH:m")};return(0,e.createElement)(e.Fragment,null,["postDate"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.dateType||"published",options:[{label:(0,r.__)("Post Published","otter-blocks"),value:"published"},{label:(0,r.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>n({dateType:e})}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Format","otter-blocks"),value:o.dateFormat||"default",options:[{label:(0,r.__)("Default","otter-blocks"),value:"default"},...Object.keys(i).map((e=>({label:i[e],value:e}))),{label:(0,r.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>n({dateFormat:e})}),"custom"===o.dateFormat&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(s.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,r.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.dateCustom||"",onChange:e=>n({dateCustom:e})})),["postTime"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.timeType||"published",options:[{label:(0,r.__)("Post Published","otter-blocks"),value:"published"},{label:(0,r.__)("Post Modified","otter-blocks"),value:"modified"}],onChange:e=>n({timeType:e})}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Format","otter-blocks"),value:o.timeFormat||"default",options:[{label:(0,r.__)("Default","otter-blocks"),value:"default"},...Object.keys(u).map((e=>({label:u[e],value:e}))),{label:(0,r.__)("Custom","otter-blocks"),value:"custom"}],onChange:e=>n({timeFormat:e})}),"custom"===o.timeFormat&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Custom Format","otter-blocks"),help:(0,e.createElement)(s.ExternalLink,{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},(0,r.__)("Formatting Date and Time in WordPress","otter-blocks")),type:"text",value:o.timeCustom||"",onChange:e=>n({timeCustom:e})})),"postTerms"===o.type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Type","otter-blocks"),value:o.termType||"categories",options:[{label:(0,r.__)("Categories","otter-blocks"),value:"categories"},{label:(0,r.__)("Tags","otter-blocks"),value:"tags"}],onChange:e=>n({termType:e})}),(0,e.createElement)(s.TextControl,{label:(0,r.__)("Separator","otter-blocks"),type:"text",value:o.termSeparator||", ",onChange:e=>n({termSeparator:e})})),"acf"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Meta Key","otter-blocks")},l?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>n({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),a.map((t=>{var o,n,r;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(n=t.data)||void 0===n?void 0:n.title},null==t||null===(r=t.fields)||void 0===r?void 0:r.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&S.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)})))}))):(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null))),"acf"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,r.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),["postMeta","authorMeta","loggedInUserMeta"].includes(o.type)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.FormTokenField,{label:(0,r.__)("Custom Meta Key","otter-blocks"),value:o.metaKey?[o.metaKey]:[],maxLength:1,suggestions:{postMeta:[],authorMeta:["description","display_name","first_name","last_name","nickname","user_email","user_level","user_login","user_nicename","user_registered","user_status","user_url"],loggedInUserMeta:["description","first_name","ID","last_name","nickname"]}[o.type],onChange:e=>n({metaKey:e[0]}),__experimentalExpandOnFocus:!o.metaKey,__experimentalShowHowTo:!1}),(0,e.createElement)("p",null,(0,r.__)("Type your own or select a pre-defined value. Press Enter to confirm.","otter-blocks"))))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.dynamicContent.text.options","themeisle-gutenberg/dynamic-content/text-list",(e=>{const t={posts:{label:(0,r.__)("Posts","otter-blocks"),options:[{label:(0,r.__)("Post Date","otter-blocks"),value:"postDate"},{label:(0,r.__)("Post Time","otter-blocks"),value:"postTime"},{label:(0,r.__)("Post Terms","otter-blocks"),value:"postTerms"},{label:(0,r.__)("Post Custom Field","otter-blocks"),value:"postMeta"},{label:(0,r.__)("Advanced Custom Field","otter-blocks"),value:"acf"}]},author:{label:(0,r.__)("Author","otter-blocks"),options:[{label:(0,r.__)("Author Meta","otter-blocks"),value:"authorMeta"}]},loggedInUser:{label:(0,r.__)("Logged-in User","otter-blocks"),options:[{label:(0,r.__)("Logged-in User Meta","otter-blocks"),value:"loggedInUserMeta"}]}};return Object.keys(e).forEach((t=>{e[t].options=e[t].options.filter((e=>void 0===e.isDisabled)),Boolean(e[t].options.length)||delete e[t]})),e=n()(e,t)})),(0,l.addFilter)("otter.dynamicContent.text.hasSettingsPanel","themeisle-gutenberg/dynamic-content/text-settings-panel",(e=>(e.push("postDate","postTime","postTerms","postMeta","acf","authorMeta","loggedInUserMeta"),e)))),(0,l.addFilter)("otter.dynamicContent.text.controls","themeisle-gutenberg/dynamic-content/text-controls",((t,o,n)=>(0,e.createElement)(P,{attributes:o,changeAttributes:n})));const T=["url"];var B=t=>{let{attributes:o,changeAttributes:n}=t;const{isLoaded:l,groups:a}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData();return{isLoaded:e("otter-pro").isACFLoaded(),groups:t}}),[]);return(0,e.createElement)(e.Fragment,null,"acfURL"===o.type&&Boolean(window.otterPro.hasACF)&&(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Meta Key","otter-blocks")},l?(0,e.createElement)("select",{value:o.metaKey||"none",onChange:e=>n({metaKey:e.target.value}),className:"components-select-control__input"},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),a.map((t=>{var o,n,r;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(n=t.data)||void 0===n?void 0:n.title},null==t||null===(r=t.fields)||void 0===r?void 0:r.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&T.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)})))}))):(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null))),"acfURL"===o.type&&!Boolean(window.otterPro.hasACF)&&(0,e.createElement)("p",null,(0,r.__)("You need to have Advanced Custom Fields plugin installed to use this feature.","otter-blocks")),"postMetaURL"===o.type&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Custom Meta Key","otter-blocks"),value:o.metaKey,onChange:e=>n({metaKey:e})}))};Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&((0,l.addFilter)("otter.dynamicContent.link.options","themeisle-gutenberg/dynamic-content/link-list",(e=>{const t=[{label:(0,r.__)("Post Custom Field","otter-blocks"),value:"postMetaURL"},{label:(0,r.__)("Advanced Custom Fields","otter-blocks"),value:"acfURL"}];return n()(e.filter((e=>void 0===e.isDisabled)),t)})),(0,l.addFilter)("otter.dynamicContent.link.hasSettingsPanel","themeisle-gutenberg/dynamic-content/link-settings-panel",(e=>(e.push("postMetaURL","acfURL"),e)))),(0,l.addFilter)("otter.dynamicContent.link.controls","themeisle-gutenberg/dynamic-content/link-controls",((t,o,n)=>(0,e.createElement)(B,{attributes:o,changeAttributes:n})));var A=t=>{let{label:o,value:n,onChange:l}=t;const{fields:a,isLoaded:i}=(0,c.useSelect)((e=>{const{groups:t}=e("otter-pro").getACFData(),o=e("otter-pro").isACFLoaded(),n=[];return t.forEach((e=>{e.fields.forEach((e=>{"image"!==e.type&&"url"!==e.type||n.push({label:e.label,value:e.key})}))})),{fields:n,isLoaded:o}}),[]);return i?(0,e.createElement)(s.SelectControl,{label:o,value:n,options:[{label:(0,r.__)("Select a field","otter-blocks"),value:"none"},...a],onChange:l}):(0,e.createElement)(s.Placeholder,null,(0,e.createElement)(s.Spinner,null))};const{SelectProducts:O}=window.otterComponents;Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired)&&(0,l.addFilter)("otter.dynamicContent.media.options","themeisle-gutenberg/dynamic-content/media-list",(e=>{const t=[{type:"postMeta",label:(0,r.__)("Post Meta","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/meta.svg"},{type:"product",label:(0,r.__)("Woo Product","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/woo.svg",isAvailable:Boolean(window.otterPro.hasWooCommerce)},{type:"acf",label:(0,r.__)("ACF Image","otter-blocks"),icon:window.themeisleGutenberg.assetsPath+"/icons/acf.svg",isAvailable:Boolean(window.otterPro.hasACF)}];return e=e.filter((e=>!(null!=e&&e.isPro))),n()(e,t)})),(0,l.addFilter)("otter.dynamicContent.media.controls","themeisle-gutenberg/dynamic-content/media-controls",((t,o,n)=>(0,e.createElement)(e.Fragment,null,"postMeta"===(null==o?void 0:o.type)&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Meta Key","otter-blocks"),value:o.meta||"",onChange:e=>n({meta:e})}),"product"===(null==o?void 0:o.type)&&(0,e.createElement)(O,{label:(0,r.__)("Select Product","otter-blocks"),value:o.id||"",onChange:e=>n({id:0===e?void 0:e})}),"acf"===(null==o?void 0:o.type)&&(0,e.createElement)(A,{label:(0,r.__)("Select Field","otter-blocks"),value:o.meta||"",onChange:e=>n({meta:e})}))));const{Notice:D}=window.otterComponents,F=t=>Boolean(window.otterPro.isExpired)?(0,e.createElement)(D,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Dynamic Content.","otter-blocks")}):Boolean(window.otterPro.isActive)?t:(0,e.createElement)(D,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Dynamic Content.","otter-blocks")});(0,l.addFilter)("otter.dynamicContent.text.notices","themeisle-gutenberg/dynamic-content/text-notices",F),(0,l.addFilter)("otter.dynamicContent.link.notices","themeisle-gutenberg/dynamic-content/link-notices",F);var N=o(586);const{Notice:R}=window.otterComponents,L=["text","textarea","range","number","url","email","password"],I=t=>{let{customFieldData:o}=t;const{fields:n}=(0,c.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);if(!o||!o.display)return(0,e.createElement)(e.Fragment,null);const r=n[o.field];return(0,e.createElement)("div",{className:"o-posts-custom-field"},((null==r?void 0:r.prepend)||"")+(null!=r&&r.value?r.value:(null==r?void 0:r.default_value)||"")+((null==r?void 0:r.append)||""))};(0,l.addFilter)("blocks.registerBlockType","themeisle-gutenberg/posts-acf-extension-attributes",(e=>("themeisle-blocks/posts-grid"===e.name&&(e.attributes=(0,i.assign)(e.attributes,{customMetas:{type:"array",items:{type:"object"}}})),e))),(0,l.addFilter)("otter.postsBlock.panelLabel","themeisle-gutenberg/posts-acf-extension-tab-label",((e,t)=>{var o;const{fields:n}=(0,c.useSelect)((e=>{const{fields:t}=e("otter-pro").getACFData();return{fields:t}}),[]);return(0,i.startCase)((0,i.toLower)((null===(o=n[t.field])||void 0===o?void 0:o.label)||(0,r.__)("Custom Type","otter-blocks")))})),(0,l.addFilter)("otter.postsBlock.sortableContainer","themeisle-gutenberg/posts-acf-extension-add-button",((t,o,n)=>void 0===window.acf?(0,e.createElement)(s.ExternalLink,{href:"https://wordpress.org/plugins/advanced-custom-fields/",target:"_blank"},(0,r.__)("Activate Advanced Custom Fields to add more fields.","otter-blocks")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{variant:"secondary",isSecondary:!0,className:"o-conditions__add",disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onClick:()=>{let e=(0,N.Z)().slice(0,8);for(;0<(null==o||null===(t=o.customMetas)||void 0===t?void 0:t.some((t=>{let{otherId:o}=t;return o===e})));){var t;e=(0,N.Z)().slice(0,8)}e=`custom_${e}`;const r={id:e,field:"",display:!0},{template:l,customMetas:a}=(()=>{var e,t;const n=(0,i.intersection)(o.template,null==o||null===(e=o.customMetas)||void 0===e?void 0:e.map((e=>{let{id:t}=e;return t})));return{template:null==o?void 0:o.template.filter((e=>!e.startsWith("custom_")||n.includes(e))),customMetas:null===(t=o.customMetas)||void 0===t?void 0:t.filter((e=>{let{id:t}=e;return n.includes(t)}))}})();n({template:[...l,e],customMetas:a?[...a,r]:[r]})}},(0,r.__)("Add Custom Field","otter-blocks")),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(R,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Posts Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(R,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Posts Block.","otter-blocks")})))),(0,l.addFilter)("otter.postsBlock.controls","themeisle-gutenberg/posts-acf-extension-controls",((t,o,n,l,a,u)=>{var d,m;const{groups:p,fields:b}=(0,c.select)("otter-pro").getACFData();return l&&a?Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,!(0,i.isEmpty)(p)&&(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Fields","otter-blocks")},(0,e.createElement)("select",{value:b[a.field]?a.field:"none",onChange:e=>u({field:e.target.value}),className:"components-select-control__input",disabled:Boolean(window.otterPro.isExpired)},(0,e.createElement)("option",{value:"none"},(0,r.__)("Select a field","otter-blocks")),p.map((t=>{var o,n,r;return(0,e.createElement)("optgroup",{key:null==t||null===(o=t.data)||void 0===o?void 0:o.key,label:null==t||null===(n=t.data)||void 0===n?void 0:n.title},null==t||null===(r=t.fields)||void 0===r?void 0:r.filter((e=>{let{key:t,label:o,type:n}=e;return t&&o&&L.includes(n)})).map((t=>{let{key:o,label:n}=t;return(0,e.createElement)("option",{key:o,value:o},n)})))})))),!(0,i.isEmpty)(b)&&b[a.field]&&(0,e.createElement)(e.Fragment,null,b[a.field].default_value&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Default Value","otter-blocks"),value:b[a.field].default_value,disabled:!0}),b[a.field].prepend&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Before","otter-blocks"),value:b[a.field].prepend,disabled:!0}),b[a.field].append&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("After","otter-blocks"),value:b[a.field].append,disabled:!0})),(null===(d=b[a.field])||void 0===d?void 0:d.urlLocation)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.ExternalLink,{href:null===(m=b[a.field])||void 0===m?void 0:m.urlLocation,target:"_blank"},(0,r.__)("Edit in ACF","otter-blocks")),(0,e.createElement)("br",null)),(0,i.isEmpty)(p)?(0,e.createElement)(s.ExternalLink,{href:`${window.otterPro.rootUrl||""}/wp-admin/edit.php?post_type=acf-field-group`,target:"_blank"},(0,r.__)("There are no ACF fields. You can use this option after you add some.","otter-blocks")):!b[a.field]&&(0,r.__)("The selected field does not longer exists. Please select another field.","otter-blocks"),(0,e.createElement)(s.Button,{onClick:()=>{var e,t;n({template:null===(e=o.template)||void 0===e?void 0:e.filter((e=>e!==(null==a?void 0:a.id))),customMetas:null===(t=o.customMetas)||void 0===t?void 0:t.filter((e=>(null==e?void 0:e.id)!==(null==a?void 0:a.id)))})},variant:"secondary",isSecondary:!0,isDestructive:!0,className:"o-conditions__add"},(0,r.__)("Delete","otter-blocks"))):(0,e.createElement)(R,{notice:(0,r.__)("You need to activate Otter Pro to edit this field.","otter-blocks")}):t})),Boolean(window.otterPro.isActive)&&(0,l.addFilter)("otter.postsBlock.templateLoop","themeisle-gutenberg/posts-acf-extension-template-loop",((t,o,n)=>{var r,l;if(null==o||!o.startsWith("custom_"))return t;const a=null===(r=n.customMetas)||void 0===r||null===(l=r.filter((e=>{let{id:t}=e;return t===o})))||void 0===l?void 0:l.pop();return(0,e.createElement)(I,{customFieldData:a})}));const{Notice:M}=window.otterComponents;(0,l.addFilter)("otter.popupBlock.triggers","themeisle-gutenberg/popup-block-triggers",(()=>[{label:(0,r.__)("On Load","otter-blocks"),value:"onLoad"},{label:(0,r.__)("On Anchor Click","otter-blocks"),value:"onClick",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,r.__)("On Scroll","otter-blocks"),value:"onScroll",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))},{label:(0,r.__)("On Exit","otter-blocks"),value:"onExit",disabled:!(Boolean(window.otterPro.isActive)&&!Boolean(window.otterPro.isExpired))}])),(0,l.addFilter)("otter.popupBlock.controls","themeisle-gutenberg/popup-block-controls",((t,o,n)=>Boolean(window.otterPro.isActive)?(0,e.createElement)(e.Fragment,null,"onClick"===o.trigger&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Anchor","otter-blocks"),help:(0,r.__)("You can use this anchor as an anchor link anywhere on the page to open the popup.","otter-blocks"),value:o.anchor,onChange:e=>n({anchor:null==e?void 0:e.replace(/[^a-zA-Z]/g,"")})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(M,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Popup Block.","otter-blocks")}),"onScroll"===o.trigger&&(0,e.createElement)(s.RangeControl,{label:(0,r.__)("Scroll Distance","otter-blocks"),help:(0,r.__)("Show the modal when this percentage of the page has been scrolled.","otter-blocks"),min:0,max:100,value:o.scroll,onChange:e=>n({scroll:void 0!==e?Number(e):e}),allowReset:!0,initialPosition:0}),"onExit"===o.trigger&&(0,e.createElement)("p",null,(0,r.__)("Shows the modal when the user moves the mouse outside of the top of the window.","otter-blocks")),t,(0,e.createElement)(s.ToggleControl,{label:(0,r.__)("Close On Anchor Click","otter-blocks"),checked:o.anchorClose,onChange:()=>n({anchorClose:!o.anchorClose})}),o.anchorClose&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Close Anchor","otter-blocks"),help:(0,r.__)("You can use this anchor as an anchor link anywhere on the page to close the popup.","otter-blocks"),value:o.closeAnchor,onChange:e=>n({closeAnchor:e.replace(/[^a-zA-Z]/g,"")})}),"onClick"!==o.trigger&&(0,e.createElement)(s.ToggleControl,{label:(0,r.__)("Dismiss for Recurring Visitors","otter-blocks"),checked:o.recurringClose,onChange:()=>n({recurringClose:!o.recurringClose})}),o.recurringClose&&"onClick"!==o.trigger&&(0,e.createElement)(s.RangeControl,{label:(0,r.__)("Display Interval","otter-blocks"),help:(0,r.__)("Number of days until the popup is shown again. Leave it empty for one-time display","otter-blocks"),min:0,max:100,value:o.recurringTime,onChange:e=>n({recurringTime:void 0!==e?Number(e):e}),allowReset:!0})):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(M,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Popup Block.","otter-blocks")}))));const{Notice:W}=window.otterComponents;(0,l.addFilter)("otter.sticky.controls","themeisle-gutenberg/sticky-controls",((t,o,n,l)=>{var a,i,c,u;if(!Boolean(window.otterPro.isActive))return(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(W,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}));const d=null==o||null===(a=o.className)||void 0===a?void 0:a.includes(n.float),m=null!=o&&null!==(i=o.className)&&void 0!==i&&i.includes("o-sticky-pos-bottom")?"o-sticky-pos-bottom":"o-sticky-pos-top",p=(null==o||null===(c=o.className)||void 0===c?void 0:c.split(" ").filter((e=>e.includes("o-sticky-bhvr"))).pop())||"o-sticky-bhvr-keep",b=Boolean((null==o||null===(u=o.className)||void 0===u?void 0:u.split(" ").filter((e=>e.includes("o-sticky-use-mobile"))).pop())||!1);return(0,e.createElement)(e.Fragment,null,Boolean(window.otterPro.isExpired)&&(0,e.createElement)(W,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Sticky Extension.","otter-blocks")}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Position","otter-blocks"),help:(0,r.__)("Position of the block in relation to the screen.","otter-blocks"),value:m,options:[{label:(0,r.__)("Top","otter-blocks"),value:"o-sticky-pos-top"},{label:(0,r.__)("Bottom","otter-blocks"),value:"o-sticky-pos-bottom"}],onChange:e=>l(e,n.position)}),(0,e.createElement)(s.RangeControl,{label:(0,r.__)("Offset","otter-blocks"),help:(0,r.__)("Distance from the block to the screen.","otter-blocks"),value:parseInt(null==o||null===(h=o.className)||void 0===h||null===(g=h.split(" "))||void 0===g||null===(f=g.filter((e=>null==e?void 0:e.includes("o-sticky-offset"))))||void 0===f?void 0:f.reduce(((e,t)=>{var o;return(null==t||null===(o=t.split("-"))||void 0===o?void 0:o.pop())||e}),40)),min:0,max:500,onChange:e=>l(`o-sticky-offset-${e}`,n.offset)}),(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Behaviour","otter-blocks"),help:(0,r.__)("Behaviour when multiple sticky blocks with the same movement limit collide.","otter-blocks"),value:p,options:[{label:(0,r.__)("Collapse","otter-blocks"),value:"o-sticky-bhvr-keep"},{label:(0,r.__)("Fade","otter-blocks"),value:"o-sticky-bhvr-hide"},{label:(0,r.__)("Stack","otter-blocks"),value:"o-sticky-bhvr-stack"}],onChange:e=>l(e,n.behaviour)}),"o-sticky-bhvr-stack"===p&&(0,e.createElement)("div",{style:{backgroundColor:"#fdf8e6",borderRadius:"5px",padding:"10px",textAlign:"justify"}},(0,r.__)("The block will stack with other sticky elements with the same 'Stick To' container, and Stack option in Behaviour. It works better with 'Stick to' as Top Level Block or Screen.","otter-blocks")),(0,e.createElement)(s.ToggleControl,{label:(0,r.__)("Enable on Mobile","otter-blocks"),help:(0,r.__)("Make the sticky mode active for mobile users."),checked:b,onChange:e=>l(e?"o-sticky-use-mobile":void 0,n.usage)}),d&&(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Closing the Sticky","otter-blocks")},(0,e.createElement)("p",null,(0,r.__)("You can make another block that is inside the sticky element to behave like a closing button by adding the following CSS class.")),(0,e.createElement)("code",{style:{display:"block",padding:"10px",marginBottom:"5px"}},"o-sticky-close"),(0,e.createElement)("p",null,(0,r.__)("You can transform a Button into a Close button by inserting the following anchor.","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},"#o-sticky-close")));var h,g,f}));var $=window.wp.compose,H=o(175);const{Notice:U,SelectProducts:G}=window.otterComponents;var K=t=>{var o,n;let{name:l,BlockEdit:u,props:d}=t;const{results:m,status:p}=(0,c.useSelect)((e=>{let t="isLoading",o={};if(d.attributes.product&&Boolean(window.otterPro.isActive)){const{COLLECTIONS_STORE_KEY:h}=window.wc.wcBlocksData,g=e(h).getCollectionError("/wc/store","products",{},[d.attributes.product]);if(g)return{results:{},status:{isError:!0,message:g.message||(0,r.__)("Unknown error","otter-blocks")}};o=e(h).getCollection("/wc/store","products",{},[d.attributes.product]),(0,i.isEmpty)(o)||(o={title:null==(n=o)?void 0:n.name,description:null==n?void 0:n.short_description,price:window.wc.priceFormat.formatPrice(Number(null==n||null===(l=n.prices)||void 0===l?void 0:l.regular_price)).replace(/[^0-9.-]+/g,""),discounted:(null==n||null===(a=n.prices)||void 0===a?void 0:a.regular_price)!==(null==n||null===(s=n.prices)||void 0===s?void 0:s.sale_price)?window.wc.priceFormat.formatPrice(Number(null==n||null===(c=n.prices)||void 0===c?void 0:c.sale_price)).replace(/[^0-9.-]+/g,""):void 0,currency:null==n||null===(u=n.prices)||void 0===u?void 0:u.currency_code,links:[{label:(0,r.__)("Buy Now","otter-blocks"),href:null==n||null===(m=n.add_to_cart)||void 0===m?void 0:m.url,isSpoonsored:"external"===(null==n?void 0:n.type)}],image:0<(null==n||null===(p=n.images)||void 0===p?void 0:p.length)?(b=null==n?void 0:n.images[0],{id:b.id,alt:b.alt,url:b.src}):void 0},t="isLoaded")}else t="isInactive";var n,l,a,s,c,u,m,p,b;return{results:o,status:t}}),[d.attributes.product]);let b=H.InspectorControls;return null!==(o=window)&&void 0!==o&&null!==(n=o.otterComponents)&&void 0!==n&&n.useInspectorSlot&&(b=window.otterComponents.useInspectorSlot(d.name)),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u,(0,a.Z)({productAttributes:m,status:p},d)),(0,e.createElement)(b,null,(0,e.createElement)(s.PanelBody,{title:(0,r.__)("Sync with WooCommerce","otter-blocks"),initialOpen:!1},(0,e.createElement)("p",null,(0,r.__)("By selecting a product, the current review information will sync with the selected WooCommerce product.","otter-blocks")),(0,e.createElement)(G,{label:(0,r.__)("Select Product","otter-blocks"),value:d.attributes.product,disabled:!Boolean(window.otterPro.isActive)||Boolean(window.otterPro.isExpired),onChange:e=>d.setAttributes({product:0===e?void 0:e})}),Boolean(window.otterPro.isExpired)&&(0,e.createElement)(U,{notice:(0,r.__)("Otter Pro license has expired.","otter-blocks"),instructions:(0,r.__)("You need to renew your Otter Pro license in order to continue using Pro features of Review Block.","otter-blocks")}),!Boolean(window.otterPro.isActive)&&(0,e.createElement)(U,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Review Block.","otter-blocks")}))))};const j=(0,$.createHigherOrderComponent)((t=>o=>"themeisle-blocks/review"===o.name&&o.isSelected?(0,e.createElement)(K,{BlockEdit:t,props:o}):(0,e.createElement)(t,o)),"withWooCommerceExtension");Boolean(window.otterPro.hasWooCommerce)&&((0,l.addFilter)("blocks.registerBlockType","themeisle-gutenberg/review-woocommerce-extension-attributes",(e=>("themeisle-blocks/review"===e.name&&(e.attributes=(0,i.assign)(e.attributes,{product:{type:"number"}})),e))),(0,l.addFilter)("editor.BlockEdit","themeisle-gutenberg/review-woocommerce-extension",j));const V=e=>{const t=(0,i.omitBy)(e,(e=>null==e||""===e));return(0,i.isEmpty)(t)?void 0:t},{Notice:Y}=window.otterComponents,z=e=>{switch(e){case"timer":return(0,r.__)("A fixed amount of time for each browser session (Evergreen Countdown)","otter-blocks");case"interval":return(0,r.__)("The countdown will be active only between the Start Date and the End Date","otter-blocks");default:return(0,r.__)("An universal deadline for all visitors","otter-blocks")}},Z=e=>{switch(e){case"redirectLink":return(0,r.__)("Redirect the user to another URL, when the countdown reaches 0","otter-blocks");case"hide":return(0,r.__)("Hide when the countdown reaches 0","otter-blocks");case"restart":return"The Countdown will restart when it reaches 0 and the page is refreshed";default:return(0,r.__)("The countdown remains visible when it reaches 0","otter-blocks")}};(0,l.addFilter)("otter.countdown.controls.settings","themeisle-gutenberg/countdown-controls",((t,o)=>{var n,l,a,i,c,d,m,p,b,h;let{attributes:g,setAttributes:f}=o;if(!Boolean(null===(n=window)||void 0===n||null===(l=n.otterPro)||void 0===l?void 0:l.isActive))return(0,e.createElement)(e.Fragment,null,t);const v=(0,u.__experimentalGetSettings)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("Countdown Type","otter-blocks"),value:g.mode,onChange:e=>{const t={mode:e||void 0};e||(t.date=void 0),"timer"!==e&&(t.timer=void 0,"restart"===g.behaviour&&(t.behaviour=void 0)),"interval"!==e&&(t.startInterval=void 0,t.endInterval=void 0),f(t)},options:[{label:(0,r.__)("Static","otter-blocks"),value:""},{label:(0,r.__)("Evergreen","otter-blocks"),value:"timer"},{label:(0,r.__)("Interval","otter-blocks"),value:"interval"}],help:z(g.mode)}),"timer"===g.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.TextControl,{type:"number",label:(0,r.__)("Days","otter-blocks"),value:null!==(a=null==g||null===(i=g.timer)||void 0===i?void 0:i.days)&&void 0!==a?a:"",onChange:e=>{f({timer:V({...g.timer,days:e})})}}),(0,e.createElement)(s.TextControl,{type:"number",label:(0,r.__)("Hours","otter-blocks"),value:null!==(c=null==g||null===(d=g.timer)||void 0===d?void 0:d.hours)&&void 0!==c?c:"",onChange:e=>{f({timer:V({...g.timer,hours:e})})}}),(0,e.createElement)(s.TextControl,{type:"number",label:(0,r.__)("Minutes","otter-blocks"),value:null!==(m=null==g||null===(p=g.timer)||void 0===p?void 0:p.minutes)&&void 0!==m?m:"",onChange:e=>{f({timer:V({...g.timer,minutes:e})})}}),(0,e.createElement)(s.TextControl,{type:"number",label:(0,r.__)("Seconds","otter-blocks"),value:null!==(b=null==g||null===(h=g.timer)||void 0===h?void 0:h.seconds)&&void 0!==b?b:"",onChange:e=>{f({timer:V({...g.timer,seconds:e})})}})),"interval"===g.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.BaseControl,{label:(0,r.__)("Start Date","otter-blocks")},(0,e.createElement)(s.Dropdown,{position:"bottom left",headerTitle:(0,r.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{onClick:o,isSecondary:!0,"aria-expanded":n,className:"o-extend-btn"},g.startInterval?(0,u.format)(v.formats.datetime,g.startInterval):(0,r.__)("Select Start Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(s.DateTimePicker,{currentDate:g.startInterval,onChange:e=>f({startInterval:e})}),className:"o-extend"})),(0,e.createElement)(s.BaseControl,{label:(0,r.__)("End Date","otter-blocks")},(0,e.createElement)(s.Dropdown,{position:"bottom left",headerTitle:(0,r.__)("Select the date for the deadline","otter-blocks"),renderToggle:t=>{let{onToggle:o,isOpen:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.Button,{onClick:o,isSecondary:!0,"aria-expanded":n,className:"o-extend-btn"},g.endInterval?(0,u.format)(v.formats.datetime,g.endInterval):(0,r.__)("Select End Date","otter-blocks")))},renderContent:()=>(0,e.createElement)(s.DateTimePicker,{currentDate:g.endInterval,onChange:e=>f({endInterval:e})}),className:"o-extend"}))))})),(0,l.addFilter)("otter.countdown.controls.end","themeisle-gutenberg/countdown-controls",((t,o)=>{var n,l,a,i,c;let{attributes:u,setAttributes:d}=o;return Boolean(null===(n=window)||void 0===n||null===(l=n.otterPro)||void 0===l?void 0:l.isActive)?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.SelectControl,{label:(0,r.__)("On Expire","otter-blocks"),value:u.behaviour,onChange:e=>{d("redirectLink"===e?{behaviour:e,redirectLink:void 0}:{behaviour:e})},options:[{label:(0,r.__)("No action","otter-blocks"),value:""},{label:(0,r.__)("Hide the Countdown","otter-blocks"),value:"hide"},..."timer"===u.mode?[{label:(0,r.__)("Restart the Countdown","otter-blocks"),value:"restart"}]:[],{label:(0,r.__)("Redirect to link","otter-blocks"),value:"redirectLink"}],help:Z(u.behaviour)}),"redirectLink"===u.behaviour&&(0,e.createElement)(s.TextControl,{label:(0,r.__)("Redirect Link","otter-blocks"),value:null!==(a=u.redirectLink)&&void 0!==a?a:"",onChange:e=>d({redirectLink:e})}),(0,e.createElement)(s.ToggleControl,{label:(0,r.__)("Hide/Show Blocks When the Countdown Ends","otter-blocks"),help:(0,r.__)("Enable Hide/Show other blocks when the Countdown ends.","otter-blocks"),checked:void 0!==u.onEndAction,onChange:e=>{d(e?{onEndAction:"all"}:{onEndAction:void 0})}}),(null==u?void 0:u.onEndAction)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,r.__)('Paste the following code in the block that you want to show up or hide (in the same page) when the countdown end. Select the block, go to Inspector > Advanced, and paste into the field "Additional CSS class"',"otter-blocks")),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,r.__)("Show trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${null===(i=u.id)||void 0===i?void 0:i.split("-").pop()} o-cntdn-bhv-show`),(0,e.createElement)("p",{style:{marginTop:"10px",marginBottom:"5px"}},(0,r.__)("Hide trigger","otter-blocks")),(0,e.createElement)("code",{style:{display:"block",padding:"10px"}},`o-countdown-trigger-on-end-${null===(c=u.id)||void 0===c?void 0:c.split("-").pop()} o-cntdn-bhv-hide`))):(0,e.createElement)(e.Fragment,null,t,(0,e.createElement)(Y,{notice:(0,r.__)("You need to activate Otter Pro.","otter-blocks"),instructions:(0,r.__)("You need to activate your Otter Pro license to use Pro features of Sticky Extension.","otter-blocks")}))}))}()}();