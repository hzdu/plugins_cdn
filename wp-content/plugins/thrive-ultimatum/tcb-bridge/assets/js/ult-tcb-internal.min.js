/*! Thrive Ultimatum - 2022-06-29
* http://www.thrivethemes.com/
* Copyright (c) 2022 Thrive Themes */

!function(a){"use strict";var b,c,d,e,f,g={".js":[],".json":[],".css":[],".html":[]},h="function"==typeof require?require:null;return e=function(a){var b=new Error("Could not find module '"+a+"'");return b.code="MODULE_NOT_FOUND",b},f=function(a,b,c){var d,e;if("function"==typeof a[b+c])return b+c;for(d=0;e=g[c][d];++d)if("function"==typeof a[b+e])return b+e;return null},b=function(a,d,g,h,i,j){var k,l,m,n,o,p;for(g=g.split("/"),k=g.pop(),"."!==k&&".."!==k||(g.push(k),k="");null!=(l=g.shift());)if(l&&"."!==l&&(".."===l?(a=d.pop(),j=j.slice(0,j.lastIndexOf("/"))):(d.push(a),a=a[l],j+="/"+l),!a))throw e(h);if(k&&"function"!=typeof a[k]&&(p=f(a,k,".js"),p||(p=f(a,k,".json")),p||(p=f(a,k,".css")),p||(p=f(a,k,".html")),p?k=p:2!==i&&"object"==typeof a[k]&&(d.push(a),a=a[k],j+="/"+k,k="")),!k)return 1!==i&&a[":mainpath:"]?b(a,d,a[":mainpath:"],h,1,j):b(a,d,"index",h,2,j);if(!(o=a[k]))throw e(h);return o.hasOwnProperty("module")?o.module.exports:(m={},o.module=n={exports:m,id:j+"/"+k},o.call(m,m,n,c(a,d,j)),n.exports)},d=function(c,d,f,g){var i,j=f,k=f.charAt(0),l=0;if("/"===k){if(j=j.slice(1),!(c=a["/"])){if(h)return h(f);throw e(f)}g="/",d=[]}else if("."!==k){if(i=j.split("/",1)[0],!(c=a[i])){if(h)return h(f);throw e(f)}g=i,d=[],j=j.slice(i.length+1),j||(j=c[":mainpath:"],j?l=1:(j="index",l=2))}return b(c,d,j,f,l,g)},(c=function(a,b,c){return function(e){return d(a,[].concat(b),e,c)}})(a,[],"")}({"thrive-ultimatum":{"tcb-bridge":{assets:{js:{internal:{"_utils.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/21/2017.\n */\n(function ( $ ) {\n\tmodule.exports = {\n\t\ttpl_ajax: function ( data, ajax_param, no_loader ) {\n\t\t\tvar params = {\n\t\t\t\ttype: 'post',\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: tve_ult_page_data.ajaxurl\n\t\t\t};\n\t\t\tif ( typeof no_loader === 'undefined' || ! no_loader ) {\n\t\t\t\tTVE.main.overlay();\n\t\t\t}\n\t\t\tdata.action = tve_ult_page_data.tpl_action;\n\t\t\tdata.design_id = data.design_id || tve_ult_page_data.design_id;\n\t\t\tdata.post_id = tve_ult_page_data.post_id;\n\t\t\tdata.security = tve_ult_page_data.security;\n\t\t\tparams.data = data;\n\n\t\t\tif ( ajax_param ) {\n\t\t\t\tfor ( var k in ajax_param ) {\n\t\t\t\t\tparams[k] = ajax_param[k];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn jQuery.ajax( params, data );\n\t\t},\n\t\t/**\n\t\t * actions related to a state\n\t\t * @param data\n\t\t * @param ajax_param\n\t\t * @returns {*}\n\t\t */\n\t\tstate_ajax: function ( data, ajax_param ) {\n\t\t\tvar params = {\n\t\t\t\ttype: 'post',\n\t\t\t\tdataType: 'json',\n\t\t\t\turl: tve_ult_page_data.ajaxurl\n\t\t\t};\n\n\t\t\tdata.action = tve_ult_page_data.state_action;\n\t\t\tdata.design_id = data.design_id || tve_ult_page_data.design_id;\n\t\t\tdata.post_id = tve_ult_page_data.post_id;\n\t\t\tdata.security = tve_ult_page_data.security;\n\n\t\t\tparams.data = data;\n\n\t\t\tif ( ajax_param ) {\n\t\t\t\tfor ( var k in ajax_param ) {\n\t\t\t\t\tparams[k] = ajax_param[k];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn jQuery.ajax( params, data );\n\t\t},\n\t\tstateResponse: function ( response, self ) {\n\t\t\tif ( ! response || response.success === false ) {\n\t\t\t\tvar _msg = 'Something went wrong';\n\t\t\t\tif ( response && response.success === false ) {\n\t\t\t\t\t_msg += ': ' + response.message;\n\t\t\t\t}\n\t\t\t\tTVE.page_message( _msg, true );\n\t\t\t\tTVE.main.overlay( 'close' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Insert response only if main page content is returned.\n\t\t\t */\n\t\t\tif ( response.main_page_content ) {\n\t\t\t\tself.insertResponse( response );\n\t\t\t}\n\n\t\t\tjQuery( '.design-states' ).replaceWith( response.state_bar );\n\n\t\t\tTVE.main.overlay( 'close' );\n\t\t},\n\t\tinsertResponse: function ( response ) {\n\t\t\tif ( ! response || response.success === false ) {\n\t\t\t\tTVE.page_message( 'Something went wrong' + (\n\t\t\t\t\tresponse && response.success === false ? ': ' + response.message : ''\n\t\t\t\t), true );\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\tTVE.main.overlay( 'close' );\n\t\t\t\t}, 1 );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * callback to be applied when all css files are loaded and available\n\t\t\t */\n\t\t\tfunction on_resources_loaded() {\n\t\t\t\t/**\n\t\t\t\t * javascript page data\n\t\t\t\t */\n\t\t\t\ttve_ult_page_data = jQuery.extend( tve_ult_page_data, response.tve_ult_page_data, true );\n\n\t\t\t\t/**\n\t\t\t\t * javascript params that need updating\n\t\t\t\t */\n\t\t\t\tTVE.CONST = jQuery.extend( TVE.CONST, response.tve_path_params, true );\n\n\t\t\t\tTVE.inner_$( '#tve-ult-editor-replace' ).replaceWith( response.main_page_content );\n\n\t\t\t\tTVE.Editor_Page.initEditorActions();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * browser-compliant way of accessing stylesheet rules\n\t\t\t */\n\t\t\tvar sheet, cssRules, _link = document.createElement( 'link' );\n\t\t\tif ( 'sheet' in _link ) {\n\t\t\t\tsheet = 'sheet';\n\t\t\t\tcssRules = 'cssRules';\n\t\t\t} else {\n\t\t\t\tsheet = 'styleSheet';\n\t\t\t\tcssRules = 'rules';\n\t\t\t}\n\n\t\t\t/** custom CSS */\n\t\t\tTVE.inner_$( '.tve_custom_style,.tve_user_custom_style' ).remove();\n\t\t\tTVE.CSS_Rule_Cache.clear();\n\n\t\t\t/**\n\t\t\t * Clear also the Global Rules\n\t\t\t */\n\t\t\tTVE.USE_GLOBALSHEET = true;\n\t\t\tTVE.CSS_Rule_Cache.clear();\n\t\t\tTVE.USE_GLOBALSHEET = false;\n\n\t\t\tif ( response.custom_css && response.custom_css.length ) {\n\t\t\t\tTVE.inner_$( 'head' ).append( response.custom_css );\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Refresh the style node\n\t\t\t */\n\t\t\tTVE.Editor_Page.content_manager.refresh_global_style_node();\n\n\t\t\t/**\n\t\t\t * checks if all the added CSS <link> elements are available (finished loading and applied)\n\t\t\t *\n\t\t\t * @param {jQuery} $jq_links collection of added <link> nodes\n\t\t\t * @param {Function} complete_callback\n\t\t\t */\n\t\t\tfunction check_loaded( $jq_links, complete_callback ) {\n\t\t\t\tvar all_loaded = true;\n\t\t\t\twindow.tvu_loaded_count = window.tvu_loaded_count || 1;\n\t\t\t\twindow.tvu_loaded_count ++;\n\t\t\t\t$jq_links.each( function () {\n\n\t\t\t\t\t/** firefox throws an Error when testing this condition and the css is not loaded yet */\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ( ! this[sheet] || ! this[sheet][cssRules] || ! this[sheet][cssRules].length ) {\n\t\t\t\t\t\t\tall_loaded = false;\n\t\t\t\t\t\t\treturn false; // break the loop\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\tall_loaded = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tif ( all_loaded || window.tvu_loaded_count > 40 ) {\n\t\t\t\t\tcomplete_callback();\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout( function () {\n\t\t\t\t\t\tcheck_loaded( $jq_links, complete_callback );\n\t\t\t\t\t}, 500 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar found = false,\n\t\t\t\t$css_list = jQuery();\n\t\t\tTVE.inner_$.each( response.css, function ( _id, href ) {\n\t\t\t\tif ( ! TVE.inner_$( 'link#' + _id + '-css' ).length ) {\n\t\t\t\t\tfound = true;\n\t\t\t\t\tvar $link = TVE.inner_$( '<link />', {\n\t\t\t\t\t\trel: 'stylesheet',\n\t\t\t\t\t\ttype: 'text/css',\n\t\t\t\t\t\tid: _id + '-css',\n\t\t\t\t\t\thref: href\n\t\t\t\t\t} ).appendTo( 'head' );\n\t\t\t\t\t/* for some reason, <link>s from google fonts always have empty cssRules fields - we cannot be sure when those are loaded using the check_loaded function */\n\t\t\t\t\tif ( href.indexOf( 'fonts.googleapis' ) === - 1 ) {\n\t\t\t\t\t\t$css_list = $css_list.add( $link );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( found ) {\n\t\t\t\tcheck_loaded( $css_list, on_resources_loaded );\n\t\t\t} else {\n\t\t\t\ton_resources_loaded()\n\t\t\t}\n\t\t}\n\t}\n})( jQuery );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/_utils.js")},"countdown-sets-constants.js":function(exports,module,require){eval("module.exports = {\n\ttvu_set_01:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_02:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_03:\n\t\t{\n\t\t\t'.tve_countdown_1 .tve_t_part [class*=\"part-\"]':\n\t\t\t\t{\n\t\t\t\t\t'color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_05:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_09:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_10:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_11:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_12:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_18:\n\t\t{\n\t\t\t'.tve_countdown_3 .tve_t_part .part-1':\n\t\t\t\t{\n\t\t\t\t\t'color': ''\n\t\t\t\t},\n\t\t\t'.tve_countdown_3 .tve_t_part .part-2':\n\t\t\t\t{\n\t\t\t\t\t'color': ''\n\t\t\t\t}\n\t\t},\n\ttvu_set_22:\n\t\t{\n\t\t\t'.tve_countdown_3 .sc_timer_content':\n\t\t\t\t{\n\t\t\t\t\t'background': ''\n\t\t\t\t}\n\t\t},\n\ttvu_set_20:\n\t\t{\n\t\t\t'.tve_countdown_3 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background-color': '',\n\t\t\t\t\t'border-color': ''\n\t\t\t\t},\n\t\t\t'.tve_countdown_3 .tve_t_part::before':\n\t\t\t\t{\n\t\t\t\t\t'border-color': ''\n\t\t\t\t},\n\t\t\t'.tve_countdown_3 .tve_t_part::after':\n\t\t\t\t{\n\t\t\t\t\t'border-color': ''\n\t\t\t\t}\n\t\t},\n\ttvu_set_23:\n\t\t{\n\t\t\t'.tve_countdown_3 .sc_timer_content':\n\t\t\t\t{\n\t\t\t\t\t'border-color': ''\n\t\t\t\t},\n\t\t\t'.tve_countdown_3 .tve_t_part::before':\n\t\t\t\t{\n\t\t\t\t\t'border-color': '',\n\t\t\t\t},\n\t\t\t'.tve_countdown_3 .tve_t_part::after':\n\t\t\t\t{\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_24:\n\t\t{\n\t\t\t'.tve_countdown_1 .t-digits':\n\t\t\t\t{\n\t\t\t\t\t'border-color': '',\n\t\t\t\t},\n\t\t},\n\ttvu_set_25:\n\t\t{\n\t\t\t'.tve_countdown_3 .tve_t_part::after':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t\t'border-color': ''\n\t\t\t\t}\n\t\t},\n\ttvu_set_26:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'background': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_27:\n\t\t{\n\t\t\t'.tve_countdown_2 .tve_t_part':\n\t\t\t\t{\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t},\n\ttvu_set_28:\n\t\t{\n\t\t\t'.tve_countdown_2 .t-digits':\n\t\t\t\t{\n\t\t\t\t\t'border-color': '',\n\t\t\t\t}\n\t\t}\n};\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/countdown-sets-constants.js")},"main.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/21/2017.\n */\nvar TVE_Ult_Int = window.TVE_Ult_Int = TVE_Ult_Int || {},\n\twithCloudTpls = false,\n\tEDITOR_INSTANCE = 1,\n\tTU_FORM_EVENTS = [ 'tve_ult_close' ],\n\tcountdownSet = require( './countdown-sets-constants' );\n\n( function ( $ ) {\n\n\t/**\n\t * On TCB Main Ready\n\t */\n\t$( window ).on( 'tcb_main_ready', function () {\n\t\twithCloudTpls = Boolean( parseInt( tve_ult_page_data.with_cloud_tpl ) )\n\n\t\tif ( withCloudTpls ) {\n\t\t\tTVE_Ult_Int.DesignTemplates = require( './modals/design-cloud-templates' );\n\t\t} else {\n\t\t\tTVE_Ult_Int.DesignTemplates = require( './modals/design-templates' );\n\t\t}\n\t\tTVE_Ult_Int.DesignReset = require( './modals/design-reset' );\n\t\tTVE_Ult_Int.DesignSave = require( './modals/design-save' );\n\t\tTVE_Ult_Int.AddEditState = require( './modals/add-edit-state' );\n\n\t\tvar _states = require( './states' );\n\t\tTVE_Ult_Int.States = new _states( {\n\t\t\tel: jQuery( '#tu-form-states' )[ 0 ]\n\t\t} );\n\n\t\tTVE_Ult_Int.savePreview = function ( designName = tve_ult_page_data.design_id ) {\n\t\t\tvar saveCallback = function ( imgData ) {\n\n\t\t\t\tvar form = new FormData();\n\t\t\t\tif ( imgData ) {\n\t\t\t\t\tform.append( 'preview_file', imgData, designName + '.png' );\n\t\t\t\t}\n\n\t\t\t\tform.append( 'custom', 'save_thumbnail' );\n\t\t\t\tform.append( 'action', tve_ult_page_data.tpl_action );\n\t\t\t\tform.append( 'design_id', tve_ult_page_data.design_id );\n\t\t\t\tform.append( 'post_id', tve_ult_page_data.post_id );\n\t\t\t\tform.append( 'security', tve_ult_page_data.security );\n\t\t\t\tform.append( 'file_name', designName );\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: tve_ult_page_data.ajaxurl,\n\t\t\t\t\tdata: form,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false,\n\t\t\t\t} );\n\t\t\t}\n\t\t\tTVE.Editor_Page.blur();\n\t\t\tTVE.Editor_Page.editor.find( '.on_hover' ).removeClass( 'on_hover' );\n\t\t\tTVE.generateElementPreview( TVE.Editor_Page.editor, saveCallback, {}, true );\n\t\t}\n\n\t\tfunction open_templates_modal() {\n\t\t\tvar modal = withCloudTpls ? 'design-cloud-templates' : 'design-templates',\n\t\t\t\tdesignTemplatesModal = TVE_Ult_Int.DesignTemplates.get_instance( TVE.modal.get_element( modal ) );\n\t\t\tdesignTemplatesModal.open( {\n\t\t\t\ttop: '5%',\n\t\t\t\tcss: {\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\tleft: '10%'\n\t\t\t\t},\n\t\t\t\tdismissible: ( tve_ult_page_data.has_content )\n\t\t\t} );\n\t\t}\n\n\t\tTVE.add_filter( 'editor_loaded_callback', function () {\n\n\t\t\tvar $ultDesign = TVE.Editor_Page.editor.find( `[tvu-tpl-id*=\"ultimatum_${tve_ult_page_data.design_type}\"]` );\n\n\t\t\tif ( $ultDesign.length ) {\n\t\t\t}\n\n\t\t\t$( TVE.main ).on( 'tcb.open_templates_picker', function ( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topen_templates_modal();\n\t\t\t} );\n\n\t\t\tTVE.main.sidebar_extra.tve_ult_save_template = function () {\n\t\t\t\tvar designSaveModal = TVE_Ult_Int.DesignSave.get_instance( TVE.modal.get_element( 'design-save' ) );\n\t\t\t\tTVE.main.sidebar_extra.hide_drawers();\n\t\t\t\tdesignSaveModal.open( {\n\t\t\t\t\ttop: '20%'\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tTVE.main.sidebar_extra.tve_ult_reset_template = function () {\n\t\t\t\tTVE.Editor_Page.blur();\n\t\t\t\tvar designResetsModal = TVE_Ult_Int.DesignReset.get_instance( TVE.modal.get_element( 'design-reset' ) );\n\t\t\t\tdesignResetsModal.open( {\n\t\t\t\t\ttop: '20%'\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Open Template Chooser if the variation is empty\n\t\t\t */\n\t\t\tif ( ! tve_ult_page_data.has_content ) {\n\t\t\t\tif ( withCloudTpls ) {\n\t\t\t\t\tTVE.Editor_Page.editor.append( tve_ult_page_data.placeholder );\n\t\t\t\t}\n\t\t\t\topen_templates_modal();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Backwards Compatibility:\n\t\t\t * Adds thrv-inline-text class to countdown elements that doesn't have it on caption class\n\t\t\t */\n\t\t\tTVE.inner_$( '.thrv_countdown_timer .t-caption:not(.thrv-inline-text)' ).each( function () {\n\t\t\t\tjQuery( this ).addClass( 'thrv-inline-text' );\n\t\t\t} );\n\n\t\t\tTVE.StorageManager.unset( 'tvu_design-' + tve_ult_page_data.design_id );\n\t\t} );\n\n\t\t/**\n\t\t * The countdown color form TU sets is now editable\n\t\t */\n\t\tTVE.add_action( 'tcb.element.focus', function ( $element ) {\n\t\t\tif ( $element.hasClass( 'thrv_countdown_timer' ) && tve_ult_page_data.tpl_action ) {\n\t\t\t\t//get the templates set\n\t\t\t\tvar setID = TVE.inner_$( '.tl-style' ).attr( 'id' );\n\n\t\t\t\tTVE.Components.countdown_old.controls.Color.config.css_suffix = '';\n\n\t\t\t\tif ( countdownSet[ setID ] ) {\n\t\t\t\t\tTVE.Components.countdown_old.controls.Color.config.config.style_default_color = countdownSet[ setID ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t/**\n\t\t * Mark all ajax requests that are sent from the current editor page with a special parameter that applies to Thrive Ultimatum\n\t\t */\n\t\tTVE.add_filter( 'tcb.editor.default_ajax_config', function ( params ) {\n\t\t\tparams.data.ultimatum_editor_page = 1;\n\n\t\t\treturn params;\n\t\t} );\n\n\t\tTVE.add_filter( 'tve.countdown.state', function ( states ) {\n\t\t\tif ( TVE.CONST.post_type === 'tve_ult_campaign' ) {\n\t\t\t\tstates = [];\n\t\t\t}\n\t\t\treturn states;\n\t\t} );\n\n\t\tif ( withCloudTpls ) {\n\t\t\tTVE.add_action( 'tcb_after_cloud_template_css_inserted', function ( $content ) {\n\t\t\t\tif ( $content.attr( 'tvu-tpl-id' ) && $content.attr( 'tvu-tpl-id' ).indexOf( `ultimatum_${tve_ult_page_data.design_type}` ) !== - 1 ) {\n\t\t\t\t\tTVE.Editor_Page.save( true );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tTVE.add_filter( 'tcb_save_post_data_before', function ( data ) {\n\t\t\t\tvar $ultDesign = TVE.Editor_Page.editor.find( `[tvu-tpl-id*=\"ultimatum_${tve_ult_page_data.design_type}\"]` );\n\n\t\t\t\tif ( $ultDesign.length ) {\n\t\t\t\t\tdata.tve_ult_tpl = `${$ultDesign.first().attr( 'tvu-tpl-id' )}`;\n\t\t\t\t}\n\n\t\t\t\tif ( TVE.CONST.post_type === 'tve_ult_campaign' ) {\n\t\t\t\t\tvar sizes = {\n\t\t\t\t\t\tm: '600px',\n\t\t\t\t\t\tt: '1023px',\n\t\t\t\t\t\td: '1366px'\n\t\t\t\t\t}\n\n\t\t\t\t\tdata[ 'form-height' ] = {};\n\t\t\t\t\tvar $container = TVE.Editor_Page.editor.find( '.tve-editor-main-content' ),\n\t\t\t\t\t\tinitialWidth = TVE.main.$frame.width();\n\n\t\t\t\t\tif ( $container.length === 0 ) {\n\t\t\t\t\t\t$container = TVE.Editor_Page.editor;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* fox for margin collapse */\n\t\t\t\t\t$container.css( 'border', '1px solid transparent' )\n\n\t\t\t\t\t/* save form height so we can prepare a placeholder for it. */\n\t\t\t\t\tfor ( var device in sizes ) {\n\t\t\t\t\t\tTVE.main.$frame.width( sizes[ device ] );\n\t\t\t\t\t\tdata[ 'form-height' ][ device ] = $container.outerHeight( true );\n\t\t\t\t\t}\n\n\t\t\t\t\t$container.css( 'border', '' )\n\n\t\t\t\t\tTVE.main.$frame.width( initialWidth );\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t} )\n\n\t\t\tTVE.add_action( 'tve.save_post.success', function () {\n\t\t\t\tTVE.StorageManager.set( 'tvu_design-' + tve_ult_page_data.design_id, true );\n\t\t\t\tTVE_Ult_Int.savePreview();\n\t\t\t} );\n\n\t\t\tTVE.add_filter( 'tcb.elem.type', ( type, $element ) => {\n\n\t\t\t\tif ( type === 'icon' && $element.tcbHasClass( 'tve-ult-bar-close-editable' ) ) {\n\t\t\t\t\ttype = 'ultimatum_close';\n\t\t\t\t}\n\n\t\t\t\treturn type;\n\t\t\t} );\n\n\t\t\tTVE.add_action( 'tcb.element.click', function ( event, data ) {\n\t\t\t\tif ( event.currentTarget.classList.contains( 'tve-ult-cloud-placeholder' ) ) {\n\t\t\t\t\topen_templates_modal();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t/**\n\t\t * Ultimatum froala control\n\t\t */\n\t\tTVE.add_filter( 'tcb_froala_config', function () {\n\t\t\treturn {\n\t\t\t\tlinkEventActions: {\n\t\t\t\t\tgetHtml: function () {\n\t\t\t\t\t\tvar opts = TVE.Components.animation.options.actions;\n\t\t\t\t\t\tvar actions = {\n\t\t\t\t\t\t\ttve_ult_close: opts.tve_ult_close\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn TVE.tpl( 'froala-ult' )( {\n\t\t\t\t\t\t\tactions: actions,\n\t\t\t\t\t\t\tcurrent_id: ++ EDITOR_INSTANCE\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t\t\tbindEvents: function ( $popup ) {\n\t\t\t\t\t\t$popup.on( 'change', '.fr-extra-action', function ( e ) {\n\t\t\t\t\t\t\t$popup.find( '.ult-action-config' ).hide();\n\t\t\t\t\t\t\tif ( ! this.checked ) {\n\t\t\t\t\t\t\t\t$popup.find( '.fr-link-atts,.fr-link-url,.tve-top-tabs' ).show();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$popup.find( '.ult-action-opts-' + this.getAttribute( 'data-key' ) ).show();\n\t\t\t\t\t\t\t\t$popup.find( '.fr-link-atts,.fr-link-url,.tve-top-tabs' ).hide();\n\t\t\t\t\t\t\t\t$popup.find( '.fr-extra-action' ).not( this ).prop( 'checked', false );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t\t\thasSelected: function ( $popup ) {\n\t\t\t\t\t\treturn $popup.find( '.fr-extra-action:checked' ).length;\n\t\t\t\t\t},\n\t\t\t\t\tgetEventConfig: function ( $popup ) {\n\t\t\t\t\t\tvar key = $popup.find( '.fr-extra-action:checked' ).attr( 'data-key' );\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ta: key,\n\t\t\t\t\t\t\tt: 'click',\n\t\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\t\ts: $popup.find( '.ult-action-opts-' + key + ' select[name=\"s\"]' ).val(),\n\t\t\t\t\t\t\t\tanim: $popup.find( '.ult-action-opts-' + key + ' select[name=\"a\"]' ).val()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\treset: function ( $popup ) {\n\t\t\t\t\t\t$popup.find( '.fr-extra-action' ).prop( 'checked', false );\n\t\t\t\t\t\t$popup.find( '.fr-link-atts,.fr-link-url,.tve-top-tabs' ).show();\n\t\t\t\t\t\t$popup.find( '.ult-action-config' ).hide();\n\t\t\t\t\t},\n\t\t\t\t\tupdateFromLink: function ( $link, $popup ) {\n\t\t\t\t\t\tvar ult_event = false;\n\t\t\t\t\t\tthis.reset( $popup );\n\n\t\t\t\t\t\tif ( $link.hasClass( 'tve_evt_manager_listen' ) ) {\n\t\t\t\t\t\t\tvar evt = TVE.EventManager.get( $link, 'click' );\n\t\t\t\t\t\t\tif ( evt && TU_FORM_EVENTS.includes( evt.a ) ) {\n\t\t\t\t\t\t\t\t$popup.find( '.fr-extra-action[data-key=\"' + evt.a + '\"]' ).prop( 'checked', true ).trigger( 'change' );\n\t\t\t\t\t\t\t\t$popup.find( '.ult-action-opts-' + evt.a + ' select[name=\"s\"]' ).val( evt.config.s );\n\t\t\t\t\t\t\t\tult_event = true;\n\t\t\t\t\t\t\t\t$popup.find( '.ult-action-opts-' + evt.a + ' select[name=\"a\"]' ).val( evt.config.anim || 'instant' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ult_event;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t} );\n\n\t} );\n} )( jQuery );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/main.js")},modals:{"add-edit-state.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/25/2017.\n */\nvar _instance = null,\n\t_utils = require( '../_utils' );\n\nmodule.exports = TVE.modal.base.extend( {\n\tafter_initialize: function ( args ) {\n\t\tthis.$el.addClass( 'medium' );\n\t},\n\tbefore_open: function () {\n\t\tthis.$( 'input#tve-ult-state-name' ).val( '' );\n\t\tif ( this.state_id && this.state_name ) {\n\t\t\tthis.$( 'input#tve-ult-state-name' ).val( this.state_name );\n\t\t}\n\t},\n\tsave: function () {\n\t\tvar _name = this.$( 'input#tve-ult-state-name' ).val(),\n\t\t\tself = this;\n\n\t\tif ( _name && _name.length > 0 ) {\n\t\t\tTVE.main.overlay();\n\n\t\t\tTVE.Editor_Page.save( false, function () {\n\t\t\t\tif ( self.state_id && self.state_name ) {\n\t\t\t\t\t_utils.state_ajax( {\n\t\t\t\t\t\tcustom_action: 'edit_name',\n\t\t\t\t\t\tpost_title: _name,\n\t\t\t\t\t\tid: self.state_id\n\t\t\t\t\t} ).done( function ( response ) {\n\t\t\t\t\t\t_utils.stateResponse( response, _utils );\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t_utils.state_ajax( {\n\t\t\t\t\t\tcustom_action: 'add',\n\t\t\t\t\t\tpost_title: _name\n\t\t\t\t\t} ).done( function ( response ) {\n\t\t\t\t\t\t_utils.stateResponse( response, _utils );\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tTVE.page_message( tve_ult_page_data.L.state_name_required, true, 5000 );\n\t\t}\n\t}\n}, {\n\t/**\n\t * \"Singleton\" implementation for modal instance\n\t *\n\t * @param el\n\t */\n\tget_instance: function ( el ) {\n\t\tif ( ! _instance ) {\n\t\t\t_instance = new TVE_Ult_Int.AddEditState( {\n\t\t\t\tel: el\n\t\t\t} );\n\t\t}\n\n\t\treturn _instance;\n\t}\n} );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/modals/add-edit-state.js")},"design-cloud-templates.js":function(exports,module,require){eval("( function ( $ ) {\n\tvar _instance = null,\n\t\t_utils = require( '../_utils' );\n\n\tmodule.exports = TVE.CloudTemplatesCategories.extend( {\n\t\t$$type: 'ultimatum_' + tve_ult_page_data.design_type,\n\t\ttemplateName: TVE.ucFirst( tve_ult_page_data.design_type === 'bar' ? 'ribbon' : tve_ult_page_data.design_type ),\n\t\tcategoryId: 'countdown_type',\n\t\tbefore_open: function () {\n\n\t\t\tthis.applyTo = TVE.Editor_Page.editor.children( '.thrv_wrapper' );\n\t\t\tif ( ! TVE.ActiveElement ) {\n\t\t\t\tTVE.ActiveElement = this.applyTo.addClass( 'edit_mode' );\n\t\t\t}\n\n\t\t\tif ( ! TVE.CONST[ this.collectionName ] ) {\n\t\t\t\tthis.fetchTemplates( this.$$type );\n\t\t\t} else {\n\t\t\t\tthis.$( '[data-item=\"Saved Templates\"] .lp-group-count' ).text( tve_ult_page_data.saved_tpls.length )\n\t\t\t}\n\n\t\t\tthis.resetFilters();\n\n\t\t\tif ( ! this.applyTo.hasClass( 'tcb-ct-placeholder' ) && this.applyTo.attr( 'tcb-template-name' ) ) {\n\t\t\t\tthis.$warning.show().find( '.tcb-notification-content' ).html( TVE.t.warning_change_ct.replace( /%s/g, this.templateName ) );\n\t\t\t} else {\n\t\t\t\tthis.$warning.hide();\n\t\t\t}\n\n\t\t\tthis.selectDefault();\n\t\t},\n\n\t\tselectDefault: function () {\n\t\t\tthis.filter( {}, this.$typesWrapper.find( '[data-item=\"Cloud Templates\"]' ) );\n\t\t},\n\n\t\ton_success: function ( response ) {\n\t\t\tif ( response.error ) {\n\t\t\t\treturn this.on_error( {responseJSON: response} );\n\t\t\t}\n\n\t\t\tthis.collection.reset( response.templates );\n\t\t\tthis.build_preview();\n\n\t\t\t/**\n\t\t\t * Render Types\n\t\t\t */\n\t\t\tthis.types = {};\n\n\t\t\t_.each( response.templates, ( tpl ) => {\n\t\t\t\tconst type = tpl.config[ `tve_tpl_${this.$$type}_meta` ][ this.categoryId ];\n\n\t\t\t\tif ( type && ! this.types[ type ] ) {\n\t\t\t\t\tthis.types[ type ] = 0;\n\t\t\t\t}\n\n\t\t\t\tthis.types[ type ] ++;\n\t\t\t} );\n\n\t\t\tthis.$typesWrapper.empty()\n\t\t\t\t.append( this.group_item( {group: 'All Cloud Templates', counter: response.templates.length} ) )\n\n\t\t\t_.each( this.types, ( counter, groupKey ) => {\n\t\t\t\tthis.$typesWrapper.append( this.group_item( {group: groupKey, counter: counter} ) )\n\t\t\t} );\n\n\t\t\tthis.$typesWrapper.append( this.group_item( {group: 'Saved Templates', counter: tve_ult_page_data.saved_tpls.length} ) );\n\n\t\t\tthis.selectDefault();\n\t\t\tTVE.CONST[ this.collectionName ] = response.templates;\n\t\t},\n\t\t/**\n\t\t * Build the preview\n\t\t *\n\t\t * Called from reset collection\n\t\t */\n\t\tbuild_preview: function () {\n\t\t\tvar html = '',\n\t\t\t\tself = this;\n\t\t\tif ( this.filters.group.length > 0 ) {\n\t\t\t\tif ( this.filters.group[ 0 ].indexOf( 'Cloud' ) !== - 1 ) {\n\t\t\t\t\tthis.collection.reset( TVE.CONST[ this.collectionName ] );\n\t\t\t\t} else if ( this.filters.group[ 0 ].indexOf( 'Countdown' ) !== - 1 ) {\n\t\t\t\t\tthis.collection.reset( TVE.CONST[ this.collectionName ].filter( t => t.config[ `tve_tpl_${this.$$type}_meta` ][ this.categoryId ] === this.filters.group[ 0 ] ) );\n\t\t\t\t} else {\n\t\t\t\t\tthis.collection.reset( tve_ult_page_data.saved_tpls );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.instance.collection.each( function ( model ) {\n\t\t\t\thtml += self.item_template( {\n\t\t\t\t\titem: model.toJSON(),\n\t\t\t\t\tselected: '',\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t\tif ( html.length ) {\n\t\t\t\tthis.$content.html( html );\n\n\t\t\t\tvar dynamicImageWidth = parseInt( this.$content.find( this.itemClass ).outerWidth( true ) );\n\n\t\t\t\tthis.$content.find( 'img' ).each( function () {\n\t\t\t\t\tvar imageRation = this.getAttribute( 'data-ratio' );\n\t\t\t\t\tif ( imageRation ) {\n\t\t\t\t\t\t$( this ).closest( '.cloud-template-item' ).css( 'height', dynamicImageWidth * parseFloat( imageRation ) );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tthis.applyMasonry();\n\t\t\t} else {\n\t\t\t\tthis.$content.html( this.no_templates() );\n\t\t\t}\n\n\t\t\tthis.on_finished();\n\t\t},\n\t\t/**\n\t\t * Download a template\n\t\t *\n\t\t * @param id\n\t\t */\n\t\tselect_template: function ( id ) {\n\t\t\tthis.selected = String( id );\n\n\t\t\tthis.applyTo.addClass( 'tcb-block-placeholder tcb-elem-placeholder' ).empty();\n\n\t\t\tthis.close();\n\n\t\t\tTVE.inner_$( 'html' ).stop().animate( {\n\t\t\t\tscrollTop: this.applyTo.offset().top - 50\n\t\t\t}, {duration: 500} );\n\n\t\t\tif ( this.selected.indexOf( 'tvu-tpl' ) !== - 1 ) {\n\t\t\t\tthis.saveSavedTemplate();\n\t\t\t} else {\n\t\t\t\tthis.save();\n\n\t\t\t}\n\t\t},\n\t\tsaveSavedTemplate: function () {\n\t\t\tvar self = this;\n\t\t\t_utils.tpl_ajax( {\n\t\t\t\tcustom: 'get_saved_tpl',\n\t\t\t\ttpl_id: this.selected\n\t\t\t} ).done( function ( response ) {\n\t\t\t\tself.applyTo.replaceWith( $( response.content ) );\n\t\t\t\tTVE.Editor_Page.content_manager.insert_head_css( response.inline_css ).done( function () {\n\n\t\t\t\t\tTVE.Editor_Page.editor.find( '[data-css]' ).addBack( '[data-css]' ).each( function () {\n\t\t\t\t\t\tTVE.inner_$( this ).head_css_clone();\n\t\t\t\t\t} );\n\n\t\t\t\t\tTVE.main.overlay( true );\n\t\t\t\t\tTVE.Editor_Page.save( true );\n\t\t\t\t} )\n\t\t\t} )\n\t\t},\n\t\talter_wrapper_attributes: function ( attributes, data ) {\n\t\t\t/**\n\t\t\t * Force the proper active element\n\t\t\t */\n\t\t\tif ( this.applyTo.length > 1 ) {\n\t\t\t\tthis.applyTo = this.applyTo.filter( ':not(style)' );\n\t\t\t\tTVE.ClickedElement = TVE.ActiveElement = this.applyTo;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t'tcb-template-name': data.name,\n\t\t\t\t'tcb-template-id': data.id,\n\t\t\t\t'tvu-tpl-id': 'cloud_' + data.type + '-' + data.id,\n\t\t\t\t'tcb-template-pack': data.pack,\n\t\t\t\t'data-keep-css_id': 1,\n\t\t\t}\n\t\t},\n\t\tafterTemplateCssApplied: function () {\n\t\t\tTVE.Editor_Page.editor.children( 'style' ).slice( 1 ).remove();\n\t\t}\n\t}, {\n\t\t/**\n\t\t * \"Singleton\" implementation for modal instance\n\t\t *\n\t\t * @param el\n\t\t */\n\t\tget_instance: function ( el ) {\n\t\t\tif ( ! _instance ) {\n\t\t\t\t_instance = new TVE_Ult_Int.DesignTemplates( {\n\t\t\t\t\tel: el\n\t\t\t\t} );\n\t\t\t\t_instance.$el.addClass( 'tcb-modal-cloud-templates-categories' )\n\t\t\t}\n\n\t\t\treturn _instance;\n\t\t}\n\t} );\n} )( jQuery );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/modals/design-cloud-templates.js")},"design-reset.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/21/2017.\n */\nvar _instance = null,\n\t_utils = require( '../_utils' );\n\nmodule.exports = TVE.modal.base.extend( {\n\tafter_initialize: function () {\n\t\tthis.$el.addClass( 'medium' );\n\t},\n\treset: function () {\n\t\tvar self = this;\n\t\t_utils.tpl_ajax( {\n\t\t\tcustom: 'reset'\n\t\t} ).done( function ( response ) {\n\t\t\t_utils.insertResponse( response );\n\t\t\tself.close();\n\t\t\tTVE.main.overlay( 'close' );\n\t\t} );\n\t}\n}, {\n\t/**\n\t * \"Singleton\" implementation for modal instance\n\t *\n\t * @param el\n\t */\n\tget_instance: function ( el ) {\n\t\tif ( ! _instance ) {\n\t\t\t_instance = new TVE_Ult_Int.DesignReset( {\n\t\t\t\tel: el\n\t\t\t} );\n\t\t}\n\n\t\treturn _instance;\n\t}\n} );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/modals/design-reset.js")},"design-save.js":function(exports,module,require){
eval("/**\n * Created by Ovidiu on 7/21/2017.\n */\nvar _instance = null,\n\t_utils = require( '../_utils' );\n\nmodule.exports = TVE.modal.base.extend( {\n\tafter_initialize: function () {\n\t\tthis.$el.addClass( 'medium' );\n\t},\n\tcheckUniqueName: function ( name ) {\n\t\tvar unique = true;\n\t\ttve_ult_page_data.saved_tpls.forEach( function ( tpl ) {\n\t\t\tif ( tpl.name === name ) {\n\t\t\t\tunique = false;\n\t\t\t}\n\t\t} )\n\t\treturn unique;\n\t},\n\tsave: function () {\n\t\tvar _name = this.$( 'input#tve-template-name' ).val(),\n\t\t\tself = this;\n\n\n\t\tif ( _name && _name.length > 0 ) {\n\t\t\t_name = _name.trim();\n\t\t\tif ( this.checkUniqueName( _name ) ) {\n\t\t\t\tTVE.main.editor_settings.save( null, null, function () {\n\t\t\t\t\t_utils.tpl_ajax( {\n\t\t\t\t\t\tcustom: 'save',\n\t\t\t\t\t\tname: _name\n\t\t\t\t\t} ).done( function ( response ) {\n\t\t\t\t\t\tif ( response && response.saved_tpls ) {\n\t\t\t\t\t\t\ttve_ult_page_data.saved_tpls = response.saved_tpls;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tTVE_Ult_Int.savePreview( _name );\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t\tTVE.main.overlay( 'close' );\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tTVE.page_message( tve_ult_page_data.L.tpl_existing_name, true, 5000 );\n\t\t\t}\n\t\t} else {\n\t\t\tTVE.page_message( tve_ult_page_data.L.tpl_name_required, true, 5000 );\n\t\t}\n\t}\n}, {\n\t/**\n\t * \"Singleton\" implementation for modal instance\n\t *\n\t * @param el\n\t */\n\tget_instance: function ( el ) {\n\t\tif ( ! _instance ) {\n\t\t\t_instance = new TVE_Ult_Int.DesignSave( {\n\t\t\t\tel: el\n\t\t\t} );\n\t\t}\n\n\t\treturn _instance;\n\t}\n} );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/modals/design-save.js")},"design-templates.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/21/2017.\n */\nvar _instance = null,\n\t_utils = require( '../_utils' );\n\nmodule.exports = TVE.modal.base.extend( {\n\tsaved_tpl_delete_confirmation: TVE.tpl( 'landing-pages/delete-confirmation' ),\n\tevents: function () {\n\t\treturn _.extend( {}, TVE.modal.base.prototype.events(), {\n\t\t\t'click .tcb-cancel-delete-template': 'no_delete_template',\n\t\t\t'click .tcb-apply-delete-template': 'yes_delete_template'\n\t\t} );\n\t},\n\tafter_initialize: function () {\n\t\tthis.$el.addClass( 'medium' );\n\t\tthis.$tabs = this.$( '.tab-item' );\n\t\tthis.$content = this.$( '.tve-tab-content' );\n\t},\n\ttab_click: function ( event ) {\n\t\tvar tab = event.currentTarget.getAttribute( 'data-content' );\n\n\t\tthis.$tabs.removeClass( 'active' );\n\t\tevent.currentTarget.classList.add( 'active' );\n\n\t\tthis.$content.removeClass( 'active' );\n\t\tthis.$content.filter( '[data-content=\"' + tab + '\"]' ).addClass( 'active' );\n\n\t\tif ( tab === 'saved' ) {\n\t\t\tthis.get_saved();\n\t\t}\n\t},\n\t/**\n\t * Returns the save templates preview\n\t */\n\tget_saved: function () {\n\t\tvar self = this;\n\t\tthis.$( '.tve-saved-templates-list' ).html( tve_ult_page_data.L.fetching_saved_templates );\n\n\t\t_utils.tpl_ajax( {\n\t\t\tcustom: 'get_saved'\n\t\t}, {\n\t\t\tdataType: 'html'\n\t\t}, true ).done( function ( response ) {\n\t\t\tTVE.main.overlay( 'close' );\n\t\t\tself.$( '.tve-saved-templates-list' ).html( response );\n\t\t} );\n\t},\n\tselect_template: function ( event ) {\n\t\tthis.$( '.template-wrapper.active' ).removeClass( 'active' );\n\t\tevent.currentTarget.classList.toggle( 'active' );\n\t},\n\n\t/**\n\t * Shows The Delete Confirmation View\n\t *\n\t * @param event\n\t */\n\tdelete_confirmation: function ( event ) {\n\t\tvar $templateItem = jQuery( event.currentTarget ).closest( '.tve-template-item' );\n\n\t\t$templateItem.find( '.template-wrapper' ).hide();\n\t\t$templateItem.append( this.saved_tpl_delete_confirmation() );\n\t},\n\n\t/**\n\t * Cancel A Delete Action And Returns to Default State\n\t *\n\t * @param event\n\t */\n\tno_delete_template: function ( event ) {\n\t\tvar $templateItem = jQuery( event.currentTarget ).closest( '.tve-template-item' );\n\t\t$templateItem.find( '.template-wrapper' ).show();\n\t\t$templateItem.find( '.tcb-delete-template-confirmation' ).remove();\n\t},\n\n\t/**\n\t * Deletes A Saved Landing Page\n\t *\n\t * @param event\n\t */\n\tyes_delete_template: function ( event ) {\n\t\tvar $templateItem = jQuery( event.currentTarget ).closest( '.tve-template-item' );\n\n\t\tTVE.main.overlay();\n\t\t_utils.tpl_ajax( {\n\t\t\tcustom: 'delete'\n\t\t}, {\n\t\t\tdataType: 'html'\n\t\t}, true ).done( function () {\n\t\t\t$templateItem.remove();\n\t\t\tTVE.main.overlay( 'close' );\n\t\t} );\n\t},\n\tsave: function () {\n\t\tvar $template = this.$( '.tve-template-item .active' ),\n\t\t\tself = this;\n\t\tif ( $template && $template.length ) {\n\n\t\t\t_utils.tpl_ajax( {\n\t\t\t\tcustom: 'choose',\n\t\t\t\ttpl: $template.data( 'key' )\n\t\t\t} ).done( function ( response ) {\n\t\t\t\t_utils.insertResponse( response );\n\n\t\t\t\tTVE.main.overlay( 'close' );\n\t\t\t\tself.close();\n\t\t\t} );\n\n\t\t} else {\n\t\t\tTVE.page_message( TVE.t.SelectTemplate, true, 5000 );\n\t\t}\n\t}\n}, {\n\t/**\n\t * \"Singleton\" implementation for modal instance\n\t *\n\t * @param el\n\t */\n\tget_instance: function ( el ) {\n\t\tif ( ! _instance ) {\n\t\t\t_instance = new TVE_Ult_Int.DesignTemplates( {\n\t\t\t\tel: el\n\t\t\t} );\n\t\t}\n\n\t\treturn _instance;\n\t}\n} );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/modals/design-templates.js")}},"states.js":function(exports,module,require){eval("/**\n * Created by Ovidiu on 7/25/2017.\n */\nvar _utils = require( './_utils' );\n\nmodule.exports = TVE.Views.Base.base_view.extend( {\n\tafter_initialize: function () {\n\t\tthis.dom = {\n\t\t\tbtn: this.$( '.states-button-container' )\n\t\t};\n\t},\n\texpand: function () {\n\t\tthis.$( '.design-states' ).show();\n\t\tthis.dom.btn.hide();\n\t},\n\tcollapse: function () {\n\t\tthis.$( '.design-states' ).hide();\n\t\tthis.dom.btn.show();\n\t},\n\t/**\n\t * Add a new state\n\t *\n\t * @param e\n\t */\n\tadd: function ( e ) {\n\t\tthis.collapse();\n\n\t\tvar addEditStateModal = TVE_Ult_Int.AddEditState.get_instance( TVE.modal.get_element( 'add-edit-state' ) );\n\t\taddEditStateModal.state_name = null;\n\t\taddEditStateModal.state_id = null;\n\t\taddEditStateModal.open( {\n\t\t\ttop: '20%'\n\t\t} );\n\n\t\treturn false;\n\t},\n\t/**\n\t * Edit a state name\n\t *\n\t * @param e\n\t */\n\tedit: function ( e ) {\n\t\tthis.collapse();\n\n\t\tvar addEditStateModal = TVE_Ult_Int.AddEditState.get_instance( TVE.modal.get_element( 'add-edit-state' ) );\n\t\taddEditStateModal.state_name = e.currentTarget.getAttribute( 'data-state-name' );\n\t\taddEditStateModal.state_id = e.currentTarget.getAttribute( 'data-id' );\n\t\taddEditStateModal.open( {\n\t\t\ttop: '20%'\n\t\t} );\n\n\t\treturn false;\n\t},\n\tselect: function ( e ) {\n\t\tthis.collapse();\n\n\t\tTVE.main.overlay();\n\t\tTVE.Editor_Page.save( false, function () {\n\t\t\t_utils.state_ajax( {\n\t\t\t\tcustom_action: 'display',\n\t\t\t\tid: e.currentTarget.getAttribute( 'data-id' )\n\t\t\t} ).done( function ( response ) {\n\t\t\t\t_utils.stateResponse( response, _utils )\n\t\t\t} );\n\t\t} );\n\n\t\treturn false;\n\t},\n\tduplicate: function ( e, link ) {\n\t\tthis.collapse();\n\n\t\tTVE.main.overlay();\n\t\tTVE.Editor_Page.save( false, function () {\n\t\t\t_utils.state_ajax( {\n\t\t\t\tcustom_action: 'duplicate',\n\t\t\t\tid: link.getAttribute( 'data-id' )\n\t\t\t} ).done( function ( response ) {\n\t\t\t\t_utils.stateResponse( response, _utils )\n\t\t\t} );\n\t\t} );\n\n\t\treturn false;\n\t},\n\tremove: function ( e, link ) {\n\t\tthis.collapse();\n\n\t\tTVE.main.overlay();\n\t\t_utils.state_ajax( {\n\t\t\tcustom_action: 'delete',\n\t\t\tid: link.getAttribute( 'data-id' )\n\t\t} ).done( function ( response ) {\n\t\t\tTVE.page_message( 'State Deleted' );\n\t\t\t_utils.stateResponse( response, _utils );\n\t\t} );\n\n\t\treturn false;\n\t}\n} );\n//# sourceURL=thrive-ultimatum/tcb-bridge/assets/js/internal/states.js")}}}}}}})("thrive-ultimatum/tcb-bridge/assets/js/internal/main");