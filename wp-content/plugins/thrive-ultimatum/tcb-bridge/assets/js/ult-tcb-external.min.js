(()=>{var t={4272:t=>{var e=null,n=TVE.shortcode_manager;t.exports=TVE.modal.base.extend({after_initialize:function(){this.$el.addClass("medium"),this.$campaign=this.$el.find("#tve_ult_campaign"),this.$shortcode=this.$el.find("#tve_ult_shortcode")},before_open:function(){if(!TVE.ActiveElement.hasClass("tcb-elem-placeholder")){var t=this.get_config();void 0!==t.tve_ult_campaign&&void 0!==t.tve_ult_shortcode&&(this.$campaign.val(t.tve_ult_campaign).trigger("change"),this.$shortcode.val(t.tve_ult_shortcode))}},get_config:function(){return n(TVE.ActiveElement.find(".thrive-shortcode-config"),"ultimatum_shortcode").get()},campaign_changed:function(t,e){var n=this.$shortcode;n.html(""),e.value&&jQuery.each(tve_ult_page_data.tu_shortcode_campaigns[e.value].designs,(function(t,e){var o=jQuery("<option/>").text(e).val(t);n.append(o)}),this)},generate_countdown_html:function(){var t=this,e=TVE.ActiveElement;this.countdown_ajax({tve_ult_campaign:this.$campaign.val(),tve_ult_shortcode:this.$shortcode.val()}).done((function(t){t&&(e.html(t).removeClass("tcb-elem-placeholder"),TVE.inner.window.TCB_Front.handleIframes(e,!0),TVE.Editor_Page.focus_element(e),e.find(".thrv_countdown_timer").tve_countdown_timer().update(),"function"==typeof TVE.Components.countdown.updateElement&&TVE.Components.countdown.updateElement(e.find(".tve-countdown")))})).error((function(t){TVE.page_message(t.responseText,2,5e3)})).complete((function(){TVE.main.overlay("close"),t.close()}))},countdown_ajax:function(t,e){var n={type:"post",dataType:"json",url:tve_ult_page_data.ajaxurl};if(TVE.main.overlay(),t.action="tve_ult_fetch_countdown_for_editor",t._nonce=tve_ult_page_data.security,n.data=t,e)for(var o in e)n[o]=e[o];return jQuery.ajax(n,t)}},{get_instance:function(t){return e||(e=new TVE_Ult_Ext.UltimatumCountdown({el:t})),e}})},4204:t=>{t.exports=TVE.Views.Base.component.extend({controls_init:function(){},placeholder_action:function(){TVE_Ult_Ext.UltimatumCountdown.get_instance(TVE.modal.get_element("campaign-shotcodes")).open({top:"20%"})},change_countdown:function(){this.placeholder_action()}})}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}(()=>{var t=window.TVE||{},e=window.TVE_Ult_Ext=e||{};jQuery(window).on("tcb_main_ready",(function(){t.Views.Components.ultimatum_countdown=n(4204),e.UltimatumCountdown=n(4272)}))})()})();