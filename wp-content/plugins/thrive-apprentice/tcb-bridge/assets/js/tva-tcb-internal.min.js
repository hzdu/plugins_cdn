!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=316)}({196:function(t,e){var n={allowDynamicActionsShortcodes:function(t){return t&&t.includes("tva_dynamic_actions_")},getSanitizedShortcodeKey:function(t){return t.replace("tva_dynamic_actions_","")},hasDynamicData:function(){return void 0!==TVE.CONST.tva_dynamic_actions},isAutoLinkShortcode:function(t){var e=this.getSanitizedShortcodeKey(t),n=!0;return TVE.ActiveElement&&(n=0===TVE.ActiveElement.closest(".thrv-button").length),n&&["call_to_action_text","mark_as_complete_text","mark_as_complete_next_text"].includes(e)},getShortcodeValue:function(t){var e=this.getSanitizedShortcodeKey(t);return void 0!==TVE.CONST.tva_dynamic_actions[e]?TVE.CONST.tva_dynamic_actions[e]:""}};t.exports=n},261:function(t,e){!function(e){function n(){if(this.$el.is(":visible")){void 0===TVE.ActiveElement.attr("data-next")&&TVE.ActiveElement.attr("data-next",1);var t=!!parseInt(TVE.ActiveElement.attr("data-next"));this.setChecked(t)}else TVE.ActiveElement.attr("data-next",0)}t.exports=TVE.Views.Controls.Checkbox.extend({update:function(t){var i=this;if(t instanceof TVE.Views.Controls.ElementLink){var o=t.dynamicLinksSelect.find("select option:selected").attr("data-shortcode-id");this.toggle("mark_as_complete_next"===o),n.call(this),t.dynamicLinksSelect.find("select").off("change.tva").on("change.tva",(function(t){var o=e(t.currentTarget).find("option:selected").attr("data-shortcode-id");i.toggle("mark_as_complete_next"===o),n.call(i)}))}},input:function(t,e){t.attr("data-next",e.checked?"1":"0")}})}(jQuery)},262:function(t,e,n){var i={shortcodes:n(263)},o={};_.each(i,(function(t){TVE.addHooks(t,o)}))},263:function(t,e,n){var i="Thrive Apprentice",o=n(196),a={actions:{"tcb.element_link.category_select":function(t,e){o.hasDynamicData()&&t===i&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")&&e.find('option[data-shortcode-id="mark_as_complete"]').remove()},"tcb.froala.before_shortcode_popup":function(t,e,n){var o=t.find("#fr-dropdown-categories-list"),a=TVE.main.EditMode&&TVE.main.EditMode.in_edit();o.find('option[value="'.concat(i,'"]')).toggle(!a)},"tcb.froala.after_shortcode_select":function(t,e){if(o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.selectedData.key)){TVE.ActiveElement.closest(".thrv-button").length>0&&t.find(".tve-custom-input-container").empty();var n=o.getSanitizedShortcodeKey(e.selectedData.key),i="settings/translations/course-navigation";["resources_label","resources_download_label","resources_open_label","download_certificate_text"].includes(n)&&(i="settings/translations/course-structure"),t.find(".tve-custom-input-container").append(TVE.tpl("dynamic-actions-froala-notice")({route:i}))}}},filters:{"tcb.render_dynamic_links":function(t){if(o.hasDynamicData()&&void 0!==t[i]&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")){var e=t[i].links[0].findIndex((function(t){return"mark_as_complete"===t.id}));-1!==e&&(t[i].links[0][e].show=!1)}return t},"tcb.inline_shortcodes.shortcode_group":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.push(i),t},"tcb.inline_shortcodes.shortcode_value":function(t,e){return o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.key)&&(t=o.getShortcodeValue(e.key)),t},"tcb.inline_shortcodes.afterInsert":function(t,e){if(o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.key)){var n=t.find(".thrive-shortcode-content");if(o.isAutoLinkShortcode(e.key)&&n.attr({"data-attr-link":1}),parseInt(n.attr("data-attr-link"))){var i=TVE.$("<a></a>");i.attr({href:"#"}).text(n.text()),n.html(i)}}return t},"tve.shortcode.options.html":function(t,e){if(e===i&&TVE.ActiveElement&&TVE.ActiveElement.closest(".thrv-button").length){var n=TVE.$(t);n.find('option[value="tva_dynamic_actions_mark_as_complete_text"]').remove(),t=n[0].outerHTML}return t},"tcb.froala.options":function(t,e,n){return o.hasDynamicData()&&e.closest(".thrv-button, .tva-resource-button").length&&(t.toolbarButtons=n.inline_shortcode),t}}};t.exports=a},264:function(t,e){t.exports={actions:{"tve.element.link.after.render":function(t){var e=t.$('[data-tab="dynamic"] #tcb-dynamic-link-buttons');if(e.length){var n=TVE.$('<div id="tva-checkbox-next-lesson"/>');e.before(n),t.TVANextLesson=new TVE.Views.Controls.TVANextLessonCheckbox({el:n,model:{config:{name:"",label:"Also go to next lesson",default:!1,parentControl:t}}})}},"tcb.links.updated":function(t){t.TVANextLesson&&t.TVANextLesson.update(t)},"tcb.element_link.category_select":function(t,e,n){n.TVANextLesson&&n.TVANextLesson.update(n)}},filters:{}}},271:function(t,e){t.exports={itemIdentifier:".tva-certificate",qrCodeKey:"tva_verification_qr",CourseFeaturedLabel:"Course cover image",CourseAuthorLabel:"Course author image",QrCodeLabel:"QR Code"}},316:function(t,e,n){!function(t){t(window).on("tcb_main_ready",(function(){t.extend(!0,TVE,n(317))})).on("tcb.register-hooks",(function(){n(262),n(326),"tva_certificate"===TVE.CONST.post.post_type&&n(329);var e={dynamicVideo:n(335),checkboxNextLesson:n(264)},i={};_.each(e,(function(t){TVE.addHooks(t,i)})),TVE.add_action("tcb-ready",(function(){TVE.inner_$(".thrive-shortcode-content").each((function(){var e=t(this);e.data("shortcode").includes("tva_sendowl_product")&&!e.data("option-inline")&&(e.attr("data-option-inline",1),e.attr("data-shortcode","tva_sendowl_product"),e.text(e.data("editor-name")))}))})),TVE.add_filter("tcb.inline_shortcodes.shortcode_group",(function(t){return t.push("Thrive Product"),t})),TVE.add_filter("tve.allowed.empty.posts.type",(function(t){return t.push("tva_course_overview"),t})),TVE.add_filter("tcb.custom-fields.main-dropdown-values",(function(t){return"tva_course_overview"===TVE.CONST.post_type&&TVE.ActiveElement&&"image"===TVE._type(TVE.ActiveElement)&&(t.featured="Course cover image",t.author="Course author image"),t})),TVE.add_filter("tcb_sidebar_right_tooltips",(function(t){return t["theme-redirect"]&&(t["theme-redirect"].info="To edit the current template, switch to <b>Thrive Apprentice Visual Template Editor</b>",t["theme-redirect"].icon="tva"),t}))}))}(jQuery)},317:function(t,e,n){t.exports={renderers:n(318),Views:{Components:{checkout:n(320),checkout_form:n(321),Certificate:n(323)},Controls:{TVANextLessonCheckbox:n(261)}},VideoProviders:{DynamicProvider:n(324)},CertificateTemplateModal:n(325)}},318:function(t,e,n){t.exports={certificate_qr:n(319)}},319:function(t,e){var n=TVE.renderers.baseModel.extend({render_default:function(t){TVE.ActiveElement=t;var e=TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.tva_certificate_qr_url),n='<span class="tve_image_frame"><img class="tve_image" src="'.concat(e,'" width="500" height="500" data-d-f="tva_verification_qr" /></span>');return'<div class="thrv_wrapper tve_image_caption tcb-dynamic-field-source">'.concat(n,"</div>")}});t.exports=new n({key:"tva_certificate_qr"})},320:function(t,e){var n=Backbone.Model.extend({defaults:function(){return{error_messages:{email:TVE.t.cf_errors.email.text,empty_fields:"Some fields are empty!",passwords_not_match:"The passwords do not match",existing_user_email:"An account with that email address already exists. In order to place the order, please login first. [a]Click here to login[/a]"}}},input_config_name:"config",input_selector:'input[name="config"]',$element:null,write:function(){if(this.$element){var t=this.$element.find(this.input_selector);t.length<=0&&(t=$('<input type="hidden" name="'+this.input_config_name+'"/>'),this.$element.append(t)),t.attr("value",TVE.Base64.encode(TVE.serialize(this.attributes)))}},read:function(){this.clear({silent:!0}),this.attributes=this.defaults();var t=this.$element.find(this.input_selector);t.length&&t.val()&&this.set(TVE.unserialize(TVE.Base64.decode(t.val())),{silent:!0})},update:function(){this.$element=TVE.ActiveElement,this.$element.is(".thrv-checkout")&&(this.read(),0===this.$element.find(this.input_selector).length&&this.write())}});t.exports=TVE.Views.Base.component.extend({checkout:null,settings:null,states_with_no_button_group:["forgot_password","reset_confirmation"],after_init:function(){this.settings=new n,this.settings.on("change",(function(t,e){this.write()}))},before_update:function(){this.settings.update()},controls_init:function(){TVE.add_filter("tcb.toggle_active_state",_.bind((function(t,e){return"button_group_item"===TVE._type(e)&&e.closest(".thrv-checkout").length&&(t=!1),t}))),TVE.add_action("tcb_after_cloud_template",_.bind((function(t){if(t.is(".thrv-checkout")){var e=t.find(this.input_selector);e.length&&(e.attr("value",TVE.Base64.encode(TVE.serialize(this.defaults()))),this.update())}}),this.settings)),TVE.add_filter("element_drop",_.bind((function(t){if(t&&t.hasClass("thrv-checkout")){var e=TVE.CSS_Rule_Cache.generate_id("tve-u-ck-button-group-");t.find(".thrv-button-group").attr("data-ck-button-group",e),this.update_btn_group_data_selector(t)}return t}),this)),TVE.add_filter("selectors_no_clone",(function(t){return t+=", .thrv-checkout, .tcb-checkout-form .tve-form-item label, .tcb-checkout-form .tve-form-input"})),TVE.add_filter("selectors_no_delete",(function(t){return t+=", .tcb-checkout-form .tve-form-item label, .tcb-checkout-form .tve-form-input"})),TVE.add_filter("selectors_no_save",(function(t){return t+=", .thrv-checkout"})),this.controls.AddRemoveLabels.change=function(t,e){e.checked?t.head_css({display:""},!1,this.config.css_suffix,!1,this.config.css_prefix):t.head_css({display:"none !important"},!1,this.config.css_suffix,!1,this.config.css_prefix)},this.controls.AddRemoveLabels.update=function(){var t="none"!==this.applyTo().head_css("display",!1,this.config.css_suffix,!0,this.config.css_prefix);this.setChecked(t)},this.controls.payment_provider.update=function(t){this.setValue(t.attr("data-payment-platform"))},this.controls.payment_provider.input=function(t,e){t.attr("data-payment-platform",e.value)}},after_enter_edit_mode:function(t){t.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').first().length&&TVE.main.EditMode.state_changed(void 0,{value:"create_account"})},edit_checkout_elements:function(){this.checkout=TVE.ActiveElement,this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').addClass("tve_editor_main_content"),TVE.add_action("tcb.edit_mode.enter",this.after_enter_edit_mode),TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:"canvas-mode",default_sidebar_params:["elements"],blur:!0,element_selectable:!1,states:[{label:"Register Form",value:"create_account"},{label:"Login Form",value:"login"},{label:"Password Recovery",value:"forgot_password"},{label:"Password Recovery Confirmation",value:"reset_confirmation"}],callbacks:{exit:_.bind((function(){TVE.Editor_Page.focus_element(this.checkout),this.checkout.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden").removeClass("tve_editor_main_content"),this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').removeClass("tcb-permanently-hidden"),this.checkout.find(".thrv-button-group-item").removeClass("tcb-active-state"),this.checkout.find('.thrv-button-group-item[data-instance="create_account"]').addClass("tcb-active-state"),this.toggle_button_group("login"),delete this.checkout,TVE.remove_action("tcb.edit_mode.enter",this.after_enter_edit_mode)}),this),state_change:_.bind((function(t){this.checkout.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden").removeClass("tve_editor_main_content"),this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="'+t+'"]').addClass("tve_editor_main_content").removeClass("tcb-permanently-hidden").trigger("click"),this.checkout.find(".tcb-active-state").removeClass("tcb-active-state"),this.checkout.find('.thrv-button-group-item[data-instance="'+t+'"]').addClass("tcb-active-state"),this.toggle_button_group(t),this.checkout.find("form:visible").length?this.checkout.find("form:visible").trigger("click"):TVE.Editor_Page.blur()}),this)}})},toggle_button_group:function(t){this.checkout.find(".thrv-button-group").toggleClass("tcb-permanently-hidden",_.contains(this.states_with_no_button_group,t))},update_btn_group_data_selector:function(t){var e=t.find(".thrv-button-group").attr("data-ck-button-group"),n='[data-ck-button-group="'+e+'"] .thrv-button-group-item.tcb-active-state',i='[data-ck-button-group="'+e+'"] .thrv-button-group-item:not(.tcb-active-state)';_.each(t.find(".thrv-button-group-item"),(function(t,e){var o=jQuery(t);o.attr("data-selector",o.hasClass("tcb-active-state")?n:i)}))},manage_error_messages:function(){var t=this,e=new TVE.Views.Modals.ErrorMessages({el:TVE.modal.get_element("cf-error-messages"),model:new Backbone.Model(this.settings.get("error_messages"))});e.render_errors(),e.restore_defaults=function(){_.each(t.settings.defaults().error_messages,(function(t,e,n){this._set(e,t)}),this),this.render_errors()},e.before_save=function(){var e=[];this.invalid_inputs=e,this.is_valid=function(t){var n=!0;for(var i in t.attributes)t.get(i).length<=0&&(e.push(i),n=!1);return n}(this.model),t.settings.set("error_messages",this.model.toJSON())},e.open()}})},321:function(t,e,n){!function(e){var i=n(322),o=TVE.BaseModel,a=new Backbone.Collection({});t.exports=TVE.Views.Base.component.extend({controls_init:function(){this.ceckout_item_dropdown=new i({config:this.config.FieldsControl.config,collection:a}),this.controls.FieldsControl.attach_collection(a),this.listenTo(a,"change",_.bind((function(){var t=[];a.each((function(e){t.push(e.get("item").clone())}),this),TVE.ActiveElement.find(".tve-form-item").each((function(n,i){e(i).html(t[n].html()).attr("class",t[n].attr("class")).attr("data-css",t[n].attr("data-css"))}),this),this.controls.FieldsControl.update(TVE.ActiveElement)}),this)),this.controls.FieldsControl.update=function(t){t=t||TVE.ActiveElement;var e=[],n=t.find(".tve-form-item");_.each(n,(function(t,n){var i=jQuery(t);e.push({item:i,label:i.find("label").text().substring(0,20)})}),this),a.reset(e)},this.controls.FieldsControl.on("item_click",_.bind((function(t,e){var n=t.get("item");if(this.ceckout_item_dropdown.isOpen())return this.ceckout_item_dropdown.onCancel(),!1;var i=new o(this.ceckout_item_dropdown.get_data(n));return this.listenTo(i,"change",(function(t){n.find("label").html(t.get("label")),n.find("input").attr("placeholder",t.get("placeholder")).attr("data-placeholder",t.get("placeholder"))})),i.saveState(),this.ceckout_item_dropdown.reset(i),this.ceckout_item_dropdown.open(null,e),!1}),this))},get_fields_control:function(){return TVE.Views.Controls.PreviewList}})}(jQuery)},322:function(t,e){var n=TVE.Views.Controls.DropPanel;t.exports=n.extend({template:TVE.tpl("edit-ce-item"),after_render:function(){this.$label=this.$(".tcb-ce-item-label"),this.$placeholder=this.$(".tcb-ce-item-placeholder")},get_data:function(t){return{label:t.find("label").text(),placeholder:t.find("input,textarea").attr("placeholder")}},change_setting:function(t,e){var n={};n[e.getAttribute("data-setting")]=e.value,this.model.set(n)},reset:function(t){this.model=t,this.dom()},dom:function(){this.$label.val(this.model.get("label")),this.$placeholder.val(this.model.get("placeholder"))},cancel:function(){this.model.get("__new")?this.collection.at(this.collection.length-1).destroy():this.model.restoreState()},apply:function(){this.model.unset("__new"),this.collection.trigger("change")}})},323:function(t,e){t.exports=TVE.Views.Base.component.extend({controls_init:function(){this.controls.Orientation.update=function(t){this.setValue(TVE.getClassThatContains(t,"tva-certificate-style-").replace("tva-certificate-style-",""))},this.controls.Orientation.input=function(t,e){t.removeClassContaining("tva-certificate-style-").addClass("tva-certificate-style-".concat(e.value))},this.controls.Title.update=function(){this.setValue(TVE.CONST.post.post_title)},this.controls.Title.change=function(t,e){TVE.CONST.post.post_title=e.value.trim()}}})},324:function(t,e){t.exports=TVE.VideoProviders.Base.extend({show:function(){var t=TVE.Components.responsivevideo.$el,e=TVE.ActiveElement;return e.removeClass("tcb-elem-placeholder"),e.find(".tcb-inline-placeholder-action").remove(),t.find(".responsive-video-time-label").addClass("tcb-hidden"),t.find(".info-text").addClass("tcb-hidden"),t.find(".tve-advanced-controls").hide(),this}})},325:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(e){var i,a=TVE.BlockModal.extend({el:TVE.modal.get_element("templates-certificates"),categoryItem:TVE.tpl("landing-pages/category-item"),itemTpl:TVE.tpl("landing-pages/item"),categories:new Backbone.Collection({}),templates:new Backbone.Collection({}),selectedClass:"selected",itemClass:".lp-template-item",data:{},filters:{},after_initialize:function(){var t=this;this.listenTo(this.categories,"reset",this.renderCategories.bind(this)),this.listenTo(this.templates,"reset",this.renderTemplates.bind(this)),this.$el.addClass("modal-w-sidebar"),this.$setFilters=this.$("#lp-default-filters"),this.$savedFilters=this.$("#lp-saved-filters"),this.$tplList=this.$("#lp-set-tpl-list"),this.$error=this.$(".error-container").hide(),this.data.cloud=Object.values(TVE.CONST.certificate.templates),this.data.saved=Object.values(TVE.CONST.content_templates),this.data.categories={},this.data.categories.All={label:"All Certificates",key:"all",counter:this.data.cloud.length,filterSource:""},this.data.cloud.forEach((function(e){e.config.forEach((function(e){t.data.categories[e]||(t.data.categories[e]={label:e.split("-").map((function(t){return TVE.ucFirst(t)})).join(" "),key:e,counter:0,filterSource:""}),t.data.categories[e].counter++}))}))},renderCategories:function(){var t=this;this.$setFilters.empty(),this.$savedFilters.empty(),this.categories.each((function(e){t.$setFilters.append(t.categoryItem(e.toJSON()))})),this.$savedFilters.html(this.categoryItem({label:"Saved Templates",counter:this.data.saved.length,filterSource:"",key:"saved"}))},getDynamicImageWidth:function(t){return TVE.BlockModal.prototype.getDynamicImageWidth.apply(this,arguments)-35},toggleMoreOptions:function(t,n){this.hideMoreOptions(),e(n).siblings(".lp-more-options-panel").toggleClass("open")},hideMoreOptions:function(){this.$(".lp-more-options-panel").removeClass("open")},renderSavedTemplated:function(){var t=this,e="";new Backbone.Collection(this.data.saved).each((function(n){var i=n.toJSON();e+=t.itemTpl(o({key:i.id,uid:i.id,cloud:0,active:0,locked:0,fn:"selectTemplate",is_from_pack:!1,moreOptions:!0,name:i.label},i.thumb))})),this.buildList(this.$tplList,e)},renderTemplates:function(){var t=this,e=this.templates.clone(),n=[],i="";for(var a in e.each((function(e){t.filters.length>0&&_.intersection(t.filters,e.get("config")).length!==t.filters.length&&n.push(e)})),n)e.remove(n[a]);e.each((function(e){var n=e.toJSON();i+=t.itemTpl(o(o({key:n.id,uid:n.id,cloud:1,active:0,locked:0,fn:"selectTemplate",is_from_pack:!1,moreOptions:!1,url:n.thumb},n),n.thumb_size))})),this.buildList(this.$tplList,i)},filter:_.debounce((function(t,n){var i=e(n),o=n.getAttribute("data-key");i.closest(".lp-menu-wrapper").find(".active").removeClass("active"),i.addClass("active"),this.filters=[],o&&"all"!==o&&this.filters.push(o),"saved"===o?this.renderSavedTemplated():this.renderTemplates()}),50),clearSelected:function(){this.$el.find(".".concat(this.selectedClass)).removeClass(this.selectedClass),this.hideMoreOptions()},selectTemplate:function(t,n){var i=e(n);this.clearSelected(),i.parents().find(".lp-footer").css("display","flex"),i.closest(this.itemClass).addClass(this.selectedClass)},after_open:function(){this.on_start(),this.categories.reset(Object.values(this.data.categories)),this.data.saved=Object.values(TVE.CONST.content_templates),this.templates.reset(this.data.cloud),this.renderCategories(),this.$(".lp-category-filter").first().click()},save:function(t,e){var n=this,i=this.$el.find(".".concat(this.selectedClass));if(0!==i.length){var o=parseInt(i.attr("data-cloud"));e.classList.add("tcb-disabled"),TVE.set_login_callback(this.save,this),TVE.main.overlay(),TVE.PreventPreviewImageGenerate=!0,o?TVE.ajax("cloud_content_template_download_without_element","post",{type:"certificate",id:i.attr("data-key")}).done((function(t){t.success&&(TVE.Editor_Page.editor.html(TVE.main.static_element("certificate").html().trim()),n.applyTo=TVE.Editor_Page.editor.find(".thrv_wrapper").first(),n.apply_cloud_template(t.data),n.close(),TVE.Editor_Page.blur()),TVE.main.overlay(!0)})):(TVE.Editor_Page.editor.html(TVE.main.static_element("certificate").html().trim()),TVE.drag.loadTemplate(parseInt(i.attr("data-key")),TVE.Editor_Page.editor.find(".thrv_wrapper").first()),this.close()),e.classList.remove("tcb-disabled")}else TVE.page_message(TVE.t.SelectTemplate,!0,5e3)},openDeleteWarning:function(t,i){this.hideMoreOptions();var o=e(i),a=this,r=parseInt(o.closest(this.itemClass).attr("data-key")),c=new TVE.Views.Controls.DeleteNotice({title:"Are you sure?",text:"Deleting a Template will mean that you canâ€™t reuse it on your site in the future.",noText:"No, cancel",yesText:"Yes, delete",yes:function(){TVE.main.overlay(),TVE.ajax("delete_content_template","post",{key:r}).done((function(t){if(t.success){var e=TVE.CONST.content_templates.findIndex((function(t){return(void 0!==n(t)?parseInt(t.id):-1)===r}));e>-1&&delete TVE.CONST.content_templates[e],a.after_open()}TVE.main.overlay("hide")}))}});e(i).closest(".tcb-relative").append(c.render().el)}},{getInstance:function(){return i||(i=new a),i}});t.exports=a}(jQuery)},326:function(t,e,n){var i={shortcodes:n(327)},o={};_.each(i,(function(t){TVE.addHooks(t,o)}))},327:function(t,e,n){var i=n(328),o={filters:{"tcb.inline_shortcodes.shortcode_group":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.push("Apprentice Course"),t},"tcb.inline_shortcodes.shortcode_value":function(t,e){return i.hasCourseData()&&i.allowCourseShortcodes(e.key)&&(t=i.getShortcodeValue(e.key)),t}}};t.exports=o},328:function(t,e){var n={allowCourseShortcodes:function(t){return t&&t.includes("tva_course_")},hasCourseData:function(){return void 0!==TVE.CONST.tva_course},getShortcodeValue:function(t){var e=this.getSanitizedShortcodeKey(t);return void 0!==TVE.CONST.tva_course[e]?TVE.CONST.tva_course[e]:""}};t.exports=n},329:function(t,e,n){var i={shortcodes:n(330),general:n(332),dynamicContent:n(333),drag:n(334)},o={"tcb.dynamic_image.options":12};_.each(i,(function(t){TVE.addHooks(t,o)}))},330:function(t,e,n){var i=n(331),o={filters:{"tcb.inline_shortcodes.shortcode_group":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.push("Apprentice Certificate"),t},"tcb.inline_shortcodes.shortcode_value":function(t,e){if(i.allowCertificateShortcodes(e.key))switch(e.key){case"tva_certificate_title":t=TVE.CONST.post.post_title;break;case"tva_certificate_course_name":case"tva_certificate_course_summary":case"tva_certificate_course_author":case"tva_certificate_number":case"tva_certificate_recipient":t=TVE.CONST.certificate[i.getSanitizedShortcodeKey(e.key)]}return t}},actions:{"tcb.froala.before_shortcode_popup":function(t,e,n){var i="",o=t.find("#fr-dropdown-categories-list");["Time & date","User data","Apprentice Course","Apprentice Certificate"].forEach((function(t){i+='[value="'.concat(t,'"],')})),i=i.slice(0,-1),o.find("option").show(),o.find("option:not(".concat(i,")")).hide()}}};t.exports=o},331:function(t,e){t.exports={allowCertificateShortcodes:function(t){return t&&t.includes("tva_certificate_")},getSanitizedShortcodeKey:function(t){return t.replace("tva_certificate_","")}}},332:function(t,e){!function(e){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=setInterval((function(){TVE.CONST.certificate&&TVE.CONST.certificate.templates?(TVE.main.overlay(!0),TVE.CertificateTemplateModal.getInstance().open(t),clearInterval(e)):TVE.main.overlay()}),100)};t.exports={filters:{editor_loaded_callback:function(){e(TVE.main).on("tcb.open_templates_picker",(function(t){return t.preventDefault(),n(),!1})),TVE.Editor_Page.editor.is(":empty")&&(parseInt(TVE.CONST.tva_open_modal_if_empty)?n({dismissible:!1}):TVE.Editor_Page.editor.append(TVE.main.static_element("certificate").html().trim())),TVE.Editor_Page.editor.removeClass("tve-editor-main-content")},tcb_save_post_data_after:function(t){var e=TVE.Editor_Page.editor.find(".tva-certificate");return e.length&&(t.tva_certificate_dimensions="".concat(e.width(),"x").concat(e.height()),t.tva_certificate_title=TVE.CONST.post.post_title),t}},actions:{"tve.lazyload.done":function(t){t.certificate&&(TVE.CONST.certificate=t.certificate)}}}}(jQuery)},333:function(t,e,n){var i=n(271),o=function(t){TVE.ActiveElement.find(".tve_image").attr({src:TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.certificate.dynamic_data["".concat(t,"_image")]),title:TVE.CONST.certificate.dynamic_data.title,alt:TVE.CONST.certificate.dynamic_data.title,"data-d-f":t}).removeAttr("srcset")},a=function(){if(TVE.ActiveElement){var t=TVE.ActiveElement.find(".tve_image").attr({"data-d-f":i.qrCodeKey});TVE.CONST.tva_certificate_qr_url&&t.attr({src:TVE.CONST.tva_certificate_qr_url})}};t.exports={filters:{"tcb.dynamic_image_input.callback":function(t,e){return TVE.CONST.certificate&&["featured","author"].includes(e)?t=o:e===i.qrCodeKey&&TVE.ActiveElement&&0===TVE.ActiveElement.find('[data-d-f="'.concat(i.qrCodeKey,'"]')).length&&(t=a),t},"tcb.dynamic_image.change_type":function(t,e){return e.includes("certificate-image-author")?t="author":e.includes("certificate-image-user")?t="user":e.includes("certificate-image-featured")&&(t="featured"),t},"tcb.dynamic_image.change_url":function(t,e){return"var(".concat(TVE.CONST.dynamic_background_url_prefix,"certificate-image-").concat(e,")")},"tcb.dynamic_image.options":function(t){var e=["none","featured","author","user"];return t.featured.label=i.CourseFeaturedLabel,t.author.label=i.CourseAuthorLabel,Object.keys(t).forEach((function(n){e.includes(n)||delete t[n]})),t},"tcb.custom-fields.main-dropdown-values":function(t,e){return"image"===e&&(t.featured&&(t.featured=i.CourseFeaturedLabel),t.author&&(t.author=i.CourseAuthorLabel),t[i.qrCodeKey]=i.QrCodeLabel),t},"tcb.dynamic_image.show_sizes_select":function(){return!1}},actions:{}}},334:function(t,e,n){var i=n(271);t.exports={actions:{},filters:{only_inner_drop:function(t){return t+=",".concat(i.itemIdentifier)},constrain_drop:function(t){return t+=",".concat(i.itemIdentifier)},allow_dragenter:function(t,e,n){return 0===e.closest(i.itemIdentifier).length&&(t=!1),t}}}},335:function(t,e){var n={init:function(t){var e=t.$(".v-source");e.append('<option value="dynamic">Dynamic Source</option>'),e.on("change",(function(e){var n=e.currentTarget.value,i=TVE.ActiveElement;"dynamic"===n?(TVE.CONST.apprentice.course.has_video?i.find(".tve_responsive_video_container").show().html(TVE.CONST.apprentice.course.video_embed):i.find(".tve_responsive_video_container").show().html(TVE.tpl("dynamic-video/course-overview-overlay")),i.attr("data-in-content","1"),t.$(".tve-advanced-controls").hide(),TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').addClass("tcb-permanently-hidden")):(i.removeAttr("data-in-content"),t.$(".tve-advanced-controls").show(),0===TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').removeClass("tcb-permanently-hidden"))})),t.providers.dynamic=new TVE.VideoProviders.DynamicProvider({el:t.$("#v-settings-dynamic")[0],key:"dynamic",control:t}),TVE.add_filter("tcb_filter_html_before_save",this.saveShortcode)},saveShortcode:function(t){return t.find('.thrv_responsive_video[data-type="dynamic"]').each((function(t,e){var n=TVE.inner_$(e),i=n.find(".tve_responsive_video_container").attr("style"),o={"in-content":"1","is-floating":n.find(".tcb-video-float-container").length?1:0,style:i},a="[tva_dynamic_video";_.each(o,(function(t,e){"string"==typeof t&&(t=t.trim()),a+=" "+e+'="'+t+'"'})),a+="]",e.innerHTML=a})),t}};t.exports={actions:{"tcb.component.after_init.VideoControls":function(t){"tva_course_overview"===TVE.CONST.post_type&&n.init(t)},"tcb-ready":function(){TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').addClass("tcb-permanently-hidden")},"tcb.element.remove":function(t){t.attr("data-in-content")&&(0===TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').removeClass("tcb-permanently-hidden"))}},filters:{"theme.handle.videos.from.architect":function(t){return"tva_course_overview"===TVE.CONST.post_type&&(t=!1),t}}}}});