!function(){var t={7381:function(t,e,i){t.exports={renderers:i(6539),Views:{Components:{checkout:i(477),checkout_form:i(408),Certificate:i(7396),CertificateQRCode:i(8521)},Controls:{TVANextLessonCheckbox:i(4414)}},VideoProviders:{DynamicProvider:i(8763)},CertificateTemplateModal:i(9808)}},7053:function(t){t.exports={itemIdentifier:".tva-certificate",qrCodeKey:"tva_verification_qr",CourseFeaturedLabel:"Course cover image",CourseAuthorLabel:"Course author image",QrCodeLabel:"QR Code"}},1185:function(t,e,i){const n=i(3774);t.exports={actions:{"tcb.cloud_template.certificate.after_apply":(t,e)=>{n.replaceOldQRElements(e)}}}},7341:function(t,e,i){const n=i(7053);t.exports={actions:{},filters:{only_inner_drop:t=>t+`,${n.itemIdentifier}`,constrain_drop:t=>t+`,${n.itemIdentifier}`,allow_dragenter:(t,e,i)=>(0===e.closest(n.itemIdentifier).length&&(t=!1),t)}}},7716:function(t,e,i){const n=i(7053),o=t=>{TVE.ActiveElement.find(".tve_image").attr({src:TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.certificate.dynamic_data[`${t}_image`]),title:TVE.CONST.certificate.dynamic_data.title,alt:TVE.CONST.certificate.dynamic_data.title,"data-d-f":t}).removeAttr("srcset")},a=t=>{TVE.ActiveElement&&(TVE.ActiveElement.attr({"data-qr-dynamic":"[tva_qr_source type="+t+"]","data-qr-type":t}),TVE.ActiveElement.find(".tve-qr-code").attr("data-d-f",t))};t.exports={filters:{"tcb.dynamic_image_input.callback":(t,e)=>(TVE.CONST.certificate&&["featured","author"].includes(e)?t=o:["verification","course","site"].includes(e)&&TVE.ActiveElement&&(t=a),t),"tcb.dynamic_image.change_type":(t,e)=>(e.includes("certificate-image-author")?t="author":e.includes("certificate-image-user")?t="user":e.includes("certificate-image-featured")&&(t="featured"),t),"tcb.dynamic_image.change_url":(t,e)=>`var(${TVE.CONST.dynamic_background_url_prefix}certificate-image-${e})`,"tcb.dynamic_image.options":t=>{const e=["none","featured","author","user"];return t.featured.label=n.CourseFeaturedLabel,t.author.label=n.CourseAuthorLabel,Object.keys(t).forEach((i=>{e.includes(i)||delete t[i]})),t},"tcb.custom-fields.main-dropdown-values":(t,e)=>("image"===e&&(t.featured&&(t.featured=n.CourseFeaturedLabel),t.author&&(t.author=n.CourseAuthorLabel)),t),"tcb.dynamic_image.show_sizes_select":()=>!1},actions:{}}},3641:function(t,e,i){!function(e){const n=i(3774),o=(t={})=>{const e=setInterval((()=>{TVE.CONST.certificate&&TVE.CONST.certificate.templates?(TVE.main.overlay(!0),TVE.CertificateTemplateModal.getInstance().open(t),clearInterval(e)):TVE.main.overlay()}),100)};t.exports={filters:{editor_loaded_callback:()=>{n.replaceOldQRElements(TVE.Editor_Page.editor),e(TVE.main).on("tcb.open_templates_picker",(t=>(t.preventDefault(),o(),!1))),TVE.Editor_Page.editor.is(":empty")&&(parseInt(TVE.CONST.tva_open_modal_if_empty)?o({dismissible:!1}):TVE.Editor_Page.editor.append(TVE.main.static_element("certificate").html().trim())),TVE.Editor_Page.editor.removeClass("tve-editor-main-content")},tcb_save_post_data_after:t=>{const e=TVE.Editor_Page.editor.find(".tva-certificate");return e.length&&(t.tva_certificate_dimensions=`${e.width()}x${e.height()}`,t.tva_certificate_title=TVE.CONST.post.post_title),t}},actions:{"tve.lazyload.done":t=>{t.certificate&&(TVE.CONST.certificate=t.certificate)}}}}(jQuery)},7900:function(t,e,i){const n=i(3774),o={filters:{"tcb.inline_shortcodes.shortcode_group":(t=[])=>(t.push("Apprentice Certificate"),t),"tcb.inline_shortcodes.shortcode_value":(t,e)=>{if(n.allowCertificateShortcodes(e.key))switch(e.key){case"tva_certificate_title":t=TVE.CONST.post.post_title;break;case"tva_certificate_course_name":case"tva_certificate_course_summary":case"tva_certificate_course_author":case"tva_certificate_number":case"tva_certificate_recipient":t=TVE.CONST.certificate[n.getSanitizedShortcodeKey(e.key)]}return t}},actions:{"tcb.froala.before_shortcode_popup":(t,e,i)=>{let n="";const o=t.find("#fr-dropdown-categories-list");["Time & date","User data","Apprentice Course","Apprentice Certificate"].forEach((t=>{n+=`[value="${t}"],`})),n=n.slice(0,-1),o.find("option").show(),o.find(`option:not(${n})`).hide()}}};t.exports=o},2066:function(t,e,i){const n={shortcodes:i(7900),general:i(3641),dynamicContent:i(7716),drag:i(7341),cloud:i(1185)},o={"tcb.dynamic_image.options":12};_.each(n,(t=>{TVE.addHooks(t,o)}))},9808:function(t){function e(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function i(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(e){let n;const o=TVE.BlockModal.extend({el:TVE.modal.get_element("templates-certificates"),categoryItem:TVE.tpl("landing-pages/category-item"),itemTpl:TVE.tpl("landing-pages/item"),categories:new Backbone.Collection({}),templates:new Backbone.Collection({}),selectedClass:"selected",itemClass:".lp-template-item",data:{},filters:{},$$type:"certificate",after_initialize:function(){this.listenTo(this.categories,"reset",this.renderCategories.bind(this)),this.listenTo(this.templates,"reset",this.renderTemplates.bind(this)),this.$el.addClass("modal-w-sidebar"),this.$setFilters=this.$("#lp-default-filters"),this.$savedFilters=this.$("#lp-saved-filters"),this.$tplList=this.$("#lp-set-tpl-list"),this.$error=this.$(".error-container").hide(),this.data.cloud=Object.values(TVE.CONST.certificate.templates),this.data.saved=Object.values(TVE.CONST.content_templates),this.data.categories={},this.data.categories.All={label:"All Certificates",key:"all",counter:this.data.cloud.length,filterSource:""},this.data.cloud.forEach((t=>{t.config.forEach((t=>{this.data.categories[t]||(this.data.categories[t]={label:t.split("-").map((t=>TVE.ucFirst(t))).join(" "),key:t,counter:0,filterSource:""}),this.data.categories[t].counter++}))}))},renderCategories:function(){this.$setFilters.empty(),this.$savedFilters.empty(),this.categories.each((t=>{this.$setFilters.append(this.categoryItem(t.toJSON()))})),this.$savedFilters.html(this.categoryItem({label:"Saved Templates",counter:this.data.saved.length,filterSource:"",key:"saved"}))},getDynamicImageWidth:function(t){return TVE.BlockModal.prototype.getDynamicImageWidth.apply(this,arguments)-35},toggleMoreOptions:function(t,i){this.hideMoreOptions(),e(i).siblings(".lp-more-options-panel").toggleClass("open")},hideMoreOptions:function(){this.$(".lp-more-options-panel").removeClass("open")},renderSavedTemplated:function(){let t="";new Backbone.Collection(this.data.saved).each((e=>{const n=e.toJSON();t+=this.itemTpl(i({key:n.id,uid:n.id,cloud:0,active:0,locked:0,fn:"selectTemplate",is_from_pack:!1,moreOptions:!0,name:n.label},n.thumb))})),this.buildList(this.$tplList,t)},renderTemplates:function(){const t=this.templates.clone(),e=[];let n="";t.each((t=>{this.filters.length>0&&_.intersection(this.filters,t.get("config")).length!==this.filters.length&&e.push(t)}));for(const i in e)t.remove(e[i]);t.each((t=>{const e=t.toJSON();n+=this.itemTpl(i(i({key:e.id,uid:e.id,cloud:1,active:0,locked:0,fn:"selectTemplate",is_from_pack:!1,moreOptions:!1,url:e.thumb},e),e.thumb_size))})),this.buildList(this.$tplList,n)},filter:_.debounce((function(t,i){const n=e(i),o=i.getAttribute("data-key");n.closest(".lp-menu-wrapper").find(".active").removeClass("active"),n.addClass("active"),this.filters=[],o&&"all"!==o&&this.filters.push(o),"saved"===o?this.renderSavedTemplated():this.renderTemplates()}),50),clearSelected:function(){this.$el.find(`.${this.selectedClass}`).removeClass(this.selectedClass),this.hideMoreOptions()},selectTemplate:function(t,i){const n=e(i);this.clearSelected(),n.parents().find(".lp-footer").css("display","flex"),n.closest(this.itemClass).addClass(this.selectedClass)},after_open:function(){this.on_start(),this.categories.reset(Object.values(this.data.categories)),this.data.saved=Object.values(TVE.CONST.content_templates),this.templates.reset(this.data.cloud),this.renderCategories(),this.$(".lp-category-filter").first().click()},save:function(t,e){const i=this.$el.find(`.${this.selectedClass}`);if(0===i.length)return void TVE.page_message(TVE.t.SelectTemplate,!0,5e3);const n=parseInt(i.attr("data-cloud"));e.classList.add("tcb-disabled"),TVE.set_login_callback(this.save,this),TVE.main.overlay(),TVE.PreventPreviewImageGenerate=!0,n?TVE.ajax("cloud_content_template_download_without_element","post",{type:"certificate",id:i.attr("data-key")}).done((t=>{t.success&&(TVE.Editor_Page.editor.html(TVE.main.static_element("certificate").html().trim()),this.applyTo=TVE.Editor_Page.editor.find(".thrv_wrapper").first(),this.apply_cloud_template(t.data),this.close(),TVE.Editor_Page.blur()),TVE.main.overlay(!0)})):(TVE.Editor_Page.editor.html(TVE.main.static_element("certificate").html().trim()),TVE.drag.loadTemplate(parseInt(i.attr("data-key")),TVE.Editor_Page.editor.find(".thrv_wrapper").first()),this.close()),e.classList.remove("tcb-disabled")},openDeleteWarning:function(t,i){this.hideMoreOptions();const n=e(i),o=this,a=parseInt(n.closest(this.itemClass).attr("data-key")),s=new TVE.Views.Controls.DeleteNotice({title:"Are you sure?",text:"Deleting a Template will mean that you canâ€™t reuse it on your site in the future.",noText:"No, cancel",yesText:"Yes, delete",yes:function(){TVE.main.overlay(),TVE.ajax("delete_content_template","post",{key:a}).done((t=>{if(t.success){const t=TVE.CONST.content_templates.findIndex((t=>(void 0!==typeof t?parseInt(t.id):-1)===a));t>-1&&delete TVE.CONST.content_templates[t],o.after_open(),o.$('.lp-category-filter[data-key="saved"]').click()}TVE.main.overlay("hide")}))}});e(i).closest(".tcb-relative").append(s.render().el)}},{getInstance:function(){return n||(n=new o),n}});t.exports=o}(jQuery)},3774:function(t){t.exports={allowCertificateShortcodes:function(t){return t&&t.includes("tva_certificate_")},getSanitizedShortcodeKey:function(t){return t.replace("tva_certificate_","")},replaceOldQRElements:function(t){t.find(".tva-certificate-qr-code").closest(".tve_image_caption").length>0&&t.find(".tva-certificate-qr-code").unwrap().unwrap()}}},8521:function(t){t.exports=TVE.Views.Base.component.extend({controls_init:function(){this.controls.StaticSource.update=function(t){const e=t.attr("data-qr-static")?t.attr("data-qr-static"):"";this.setValue(e)},this.controls.StaticSource.input=function(t,e){t.attr("data-qr-static",e.value)},this.controls.ForegroundColor.update=function(){const t=TVE.ActiveElement.attr("data-qr-fg")?TVE.ActiveElement.attr("data-qr-fg"):"rgb(0, 0, 0)";this.setValue(t)},this.controls.ForegroundColor.input=function(t){t=t?t.toString():"",TVE.ActiveElement.attr("data-qr-fg",t)},this.controls.BackgroundColor.update=function(){const t=TVE.ActiveElement.attr("data-qr-bg")?TVE.ActiveElement.attr("data-qr-bg"):"rgb(255, 255, 255)";this.setValue(t)},this.controls.BackgroundColor.input=function(t){t=t?t.toString():"",TVE.ActiveElement.attr("data-qr-bg",t)},this.controls.Size.update=function(t){this.setValue(t.find(".tve-qr-code").css("width"))},this.controls.Size.input=function(t,e){t.find(".tve-qr-code").css("width",e.value),t.css("width",e.value)}},dynamicFieldInput:function(t){TVE.apply_filters("tcb.dynamic_image_input.callback",this,t)(t)}})},7396:function(t){t.exports=TVE.Views.Base.component.extend({controls_init:function(){this.controls.Orientation.update=function(t){this.setValue(TVE.getClassThatContains(t,"tva-certificate-style-").replace("tva-certificate-style-",""))},this.controls.Orientation.input=(t,e)=>{t.removeClassContaining("tva-certificate-style-").addClass(`tva-certificate-style-${e.value}`)},this.controls.Title.update=function(){this.setValue(TVE.CONST.post.post_title)},this.controls.Title.change=function(t,e){TVE.CONST.post.post_title=e.value.trim()}}})},408:function(t,e,i){!function(e){const n=i(5737),o=TVE.BaseModel,a=new Backbone.Collection({});t.exports=TVE.Views.Base.component.extend({controls_init:function(){this.ceckout_item_dropdown=new n({config:this.config.FieldsControl.config,collection:a}),this.controls.FieldsControl.attach_collection(a),this.listenTo(a,"change",_.bind((function(){const t=[];a.each((function(e){t.push(e.get("item").clone())}),this),TVE.ActiveElement.find(".tve-form-item").each((function(i,n){e(n).html(t[i].html()).attr("class",t[i].attr("class")).attr("data-css",t[i].attr("data-css"))}),this),this.controls.FieldsControl.update(TVE.ActiveElement)}),this)),this.controls.FieldsControl.update=function(t){t=t||TVE.ActiveElement;const e=[],i=t.find(".tve-form-item");_.each(i,(function(t,i){const n=jQuery(t);e.push({item:n,label:n.find("label").text().substring(0,20)})}),this),a.reset(e)},this.controls.FieldsControl.on("item_click",_.bind((function(t,e){const i=t.get("item");if(this.ceckout_item_dropdown.isOpen())return this.ceckout_item_dropdown.onCancel(),!1;const n=new o(this.ceckout_item_dropdown.get_data(i));return this.listenTo(n,"change",(function(t){i.find("label").html(t.get("label")),i.find("input").attr("placeholder",t.get("placeholder")).attr("data-placeholder",t.get("placeholder"))})),n.saveState(),this.ceckout_item_dropdown.reset(n),this.ceckout_item_dropdown.open(null,e),!1}),this))},get_fields_control:function(){return TVE.Views.Controls.PreviewList}})}(jQuery)},477:function(t){var e=Backbone.Model.extend({defaults:function(){return{error_messages:{email:TVE.t.cf_errors.email.text,empty_fields:"Some fields are empty!",passwords_not_match:"The passwords do not match",existing_user_email:"An account with that email address already exists. In order to place the order, please login first. [a]Click here to login[/a]"}}},input_config_name:"config",input_selector:'input[name="config"]',$element:null,write:function(){if(this.$element){var t=this.$element.find(this.input_selector);t.length<=0&&(t=$('<input type="hidden" name="'+this.input_config_name+'"/>'),this.$element.append(t)),t.attr("value",TVE.Base64.encode(TVE.serialize(this.attributes)))}},read:function(){this.clear({silent:!0}),this.attributes=this.defaults();var t=this.$element.find(this.input_selector);t.length&&t.val()&&this.set(TVE.unserialize(TVE.Base64.decode(t.val())),{silent:!0})},update:function(){this.$element=TVE.ActiveElement,this.$element.is(".thrv-checkout")&&(this.read(),0===this.$element.find(this.input_selector).length&&this.write())}}),i=".thrv-button-group-item";t.exports=TVE.Views.Base.component.extend({checkout:null,settings:null,states_with_no_button_group:["forgot_password","reset_confirmation"],after_init:function(){this.settings=new e,this.settings.on("change",(function(t,e){this.write()}))},before_update:function(){this.settings.update()},controls_init:function(){TVE.add_filter("tcb.toggle_active_state",_.bind((function(t,e){return"button_group_item"===TVE._type(e)&&e.closest(".thrv-checkout").length&&(t=!1),t}))),TVE.add_action("tcb_after_cloud_template",_.bind((function(t){if(t.is(".thrv-checkout")){var e=t.find(this.input_selector);e.length&&(e.attr("value",TVE.Base64.encode(TVE.serialize(this.defaults()))),this.update())}}),this.settings)),TVE.add_filter("element_drop",_.bind((function(t){if(t&&t.hasClass("thrv-checkout")){var e=TVE.CSS_Rule_Cache.generate_id("tve-u-ck-button-group-");t.find(".thrv-button-group").attr("data-ck-button-group",e),this.update_btn_group_data_selector(t)}return t}),this)),TVE.add_filter("selectors_no_clone",(function(t){return t+", .thrv-checkout, .tcb-checkout-form .tve-form-item label, .tcb-checkout-form .tve-form-input"})),TVE.add_filter("selectors_no_delete",(function(t){return t+", .tcb-checkout-form .tve-form-item label, .tcb-checkout-form .tve-form-input"})),TVE.add_filter("selectors_no_save",(function(t){return t+", .thrv-checkout"})),this.controls.AddRemoveLabels.change=function(t,e){e.checked?t.head_css({display:""},!1,this.config.css_suffix,!1,this.config.css_prefix):t.head_css({display:"none !important"},!1,this.config.css_suffix,!1,this.config.css_prefix)},this.controls.AddRemoveLabels.update=function(){var t="none"!==this.applyTo().head_css("display",!1,this.config.css_suffix,!0,this.config.css_prefix);this.setChecked(t)},this.controls.payment_provider.update=function(t){this.setValue(t.attr("data-payment-platform"))},this.controls.payment_provider.input=function(t,e){t.attr("data-payment-platform",e.value)}},after_enter_edit_mode:function(t){t.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').first().length&&TVE.main.EditMode.state_changed(void 0,{value:"create_account"})},edit_checkout_elements:function(){this.checkout=TVE.ActiveElement,this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').addClass("tve_editor_main_content"),TVE.add_action("tcb.edit_mode.enter",this.after_enter_edit_mode),TVE.main.EditMode.enter(TVE.ActiveElement,{extra_element_class:"canvas-mode",default_sidebar_params:["elements"],blur:!0,element_selectable:!1,states:[{label:"Register Form",value:"create_account"},{label:"Login Form",value:"login"},{label:"Password Recovery",value:"forgot_password"},{label:"Password Recovery Confirmation",value:"reset_confirmation"}],callbacks:{exit:_.bind((function(){TVE.Editor_Page.focus_element(this.checkout),this.checkout.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden").removeClass("tve_editor_main_content"),this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="create_account"]').removeClass("tcb-permanently-hidden"),this.checkout.find(".thrv-button-group-item").removeClass("tcb-active-state"),this.checkout.find('.thrv-button-group-item[data-instance="create_account"]').addClass("tcb-active-state"),this.toggle_button_group("login"),delete this.checkout,TVE.remove_action("tcb.edit_mode.enter",this.after_enter_edit_mode)}),this),state_change:_.bind((function(t){this.checkout.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden").removeClass("tve_editor_main_content"),this.checkout.find('.tcb-tva-checkout-form-wrapper[data-instance="'+t+'"]').addClass("tve_editor_main_content").removeClass("tcb-permanently-hidden").trigger("click"),this.checkout.find(".tcb-active-state").removeClass("tcb-active-state"),this.checkout.find('.thrv-button-group-item[data-instance="'+t+'"]').addClass("tcb-active-state"),this.toggle_button_group(t),this.checkout.find("form:visible").length?this.checkout.find("form:visible").trigger("click"):TVE.Editor_Page.blur()}),this)}})},toggle_button_group:function(t){this.checkout.find(".thrv-button-group").toggleClass("tcb-permanently-hidden",_.contains(this.states_with_no_button_group,t))},update_btn_group_data_selector:function(t){var e=t.find(".thrv-button-group").attr("data-ck-button-group"),n='[data-ck-button-group="'+e+'"] '+".thrv-button-group-item.tcb-active-state",o='[data-ck-button-group="'+e+'"] .thrv-button-group-item:not(.tcb-active-state)';_.each(t.find(i),(function(t,e){var i=jQuery(t);i.attr("data-selector",i.hasClass("tcb-active-state")?n:o)}))},manage_error_messages:function(){var t=this,e=new TVE.Views.Modals.ErrorMessages({el:TVE.modal.get_element("cf-error-messages"),model:new Backbone.Model(this.settings.get("error_messages"))});e.render_errors(),e.restore_defaults=function(){_.each(t.settings.defaults().error_messages,(function(t,e,i){this._set(e,t)}),this),this.render_errors()},e.before_save=function(){var e=[];this.invalid_inputs=e,this.is_valid=function(t){var i=!0;for(var n in t.attributes)t.get(n).length<=0&&(e.push(n),i=!1);return i}(this.model),t.settings.set("error_messages",this.model.toJSON())},e.open()}})},7551:function(t,e,i){const n=i(2738),o={filters:{"tcb.inline_shortcodes.shortcode_group":(t=[])=>(t.push("Apprentice Course"),t),"tcb.inline_shortcodes.shortcode_value":(t,e)=>(n.hasCourseData()&&n.allowCourseShortcodes(e.key)&&(t=n.getShortcodeValue(e.key)),t)}};t.exports=o},1798:function(t,e,i){const n={shortcodes:i(7551)},o={};_.each(n,(t=>{TVE.addHooks(t,o)}))},2738:function(t){const e={allowCourseShortcodes:function(t){return t&&t.includes("tva_course_")},hasCourseData:function(){return void 0!==TVE.CONST.tva_course},getShortcodeValue:function(t){const e=this.getSanitizedShortcodeKey(t);return void 0!==TVE.CONST.tva_course[e]?TVE.CONST.tva_course[e]:""}};t.exports=e},8583:function(t,e,i){const n="Thrive Apprentice",o=i(2584),a={actions:{"tcb.element_link.category_select":(t,e)=>{o.hasDynamicData()&&t===n&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")&&e.find('option[data-shortcode-id="mark_as_complete"]').remove()},"tcb.froala.before_shortcode_popup":(t,e,i)=>{const o=t.find("#fr-dropdown-categories-list"),a=TVE.main.EditMode&&TVE.main.EditMode.in_edit();o.find(`option[value="${n}"]`).toggle(!a)},"tcb.froala.after_shortcode_select":(t,e)=>{if(o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.selectedData.key)){TVE.ActiveElement.closest(".thrv-button").length>0&&t.find(".tve-custom-input-container").empty();const i=o.getSanitizedShortcodeKey(e.selectedData.key);let n="settings/translations/course-navigation";["resources_label","resources_download_label","resources_open_label","download_certificate_text"].includes(i)&&(n="settings/translations/course-structure"),t.find(".tve-custom-input-container").append(TVE.tpl("dynamic-actions-froala-notice")({route:n}))}}},filters:{"tcb.render_dynamic_links":t=>{if(o.hasDynamicData()&&void 0!==t[n]&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")){const e=t[n].links[0].findIndex((t=>"mark_as_complete"===t.id));-1!==e&&(t[n].links[0][e].show=!1)}return t},"tcb.inline_shortcodes.shortcode_group":(t=[])=>(t.push(n),t),"tcb.inline_shortcodes.shortcode_value":(t,e)=>(o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.key)&&(t=o.getShortcodeValue(e.key)),t),"tcb.inline_shortcodes.afterInsert":(t,e)=>{if(o.hasDynamicData()&&o.allowDynamicActionsShortcodes(e.key)){const i=t.find(".thrive-shortcode-content");if(o.isAutoLinkShortcode(e.key)&&i.attr({"data-attr-link":1}),parseInt(i.attr("data-attr-link"))){const t=TVE.$("<a></a>");t.attr({href:"#"}).text(i.text()),i.html(t)}}return t},"tve.shortcode.options.html":(t,e)=>{if(e===n&&TVE.ActiveElement&&TVE.ActiveElement.closest(".thrv-button").length){const e=TVE.$(t);e.find('option[value="tva_dynamic_actions_mark_as_complete_text"]').remove(),t=e[0].outerHTML}return t},"tcb.froala.options":(t,e,i)=>(o.hasDynamicData()&&e.closest(".thrv-button, .tva-resource-button").length&&(t.toolbarButtons=i.inline_shortcode),t)}};t.exports=a},9210:function(t,e,i){const n={shortcodes:i(8583)},o={};_.each(n,(t=>{TVE.addHooks(t,o)}))},2584:function(t){const e={allowDynamicActionsShortcodes:function(t){return t&&t.includes("tva_dynamic_actions_")},getSanitizedShortcodeKey:function(t){return t.replace("tva_dynamic_actions_","")},hasDynamicData:function(){return void 0!==TVE.CONST.tva_dynamic_actions},isAutoLinkShortcode:function(t){const e=this.getSanitizedShortcodeKey(t);let i=!0;return TVE.ActiveElement&&(i=0===TVE.ActiveElement.closest(".thrv-button").length),i&&["call_to_action_text","mark_as_complete_text","mark_as_complete_next_text"].includes(e)},getShortcodeValue:function(t){const e=this.getSanitizedShortcodeKey(t);return void 0!==TVE.CONST.tva_dynamic_actions[e]?TVE.CONST.tva_dynamic_actions[e]:""}};t.exports=e},3048:function(t){const e={init:function(t){const e=t.$(".v-source");e.append('<option value="dynamic">Dynamic Source</option>'),e.on("change",(e=>{const i=e.currentTarget.value,n=TVE.ActiveElement;"dynamic"===i?(TVE.CONST.apprentice.course.has_video?n.find(".tve_responsive_video_container").show().html(TVE.CONST.apprentice.course.video_embed):n.find(".tve_responsive_video_container").show().html(TVE.tpl("dynamic-video/course-overview-overlay")),n.attr("data-in-content","1"),t.$(".tve-advanced-controls").hide(),TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').addClass("tcb-permanently-hidden")):(n.removeAttr("data-in-content"),t.$(".tve-advanced-controls").show(),0===TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').removeClass("tcb-permanently-hidden"))})),t.providers.dynamic=new TVE.VideoProviders.DynamicProvider({el:t.$("#v-settings-dynamic")[0],key:"dynamic",control:t}),TVE.add_filter("tcb_filter_html_before_save",this.saveShortcode)},saveShortcode:function(t){return t.find('.thrv_responsive_video[data-type="dynamic"]').each(((t,e)=>{const i=TVE.inner_$(e),n=i.find(".tve_responsive_video_container").attr("style"),o={"in-content":"1","is-floating":i.find(".tcb-video-float-container").length?1:0,style:n};let a="[tva_dynamic_video";_.each(o,((t,e)=>{"string"==typeof t&&(t=t.trim()),a+=" "+e+'="'+t+'"'})),a+="]",e.innerHTML=a})),t}};t.exports={actions:{"tcb.component.after_init.VideoControls":t=>{"tva_course_overview"===TVE.CONST.post_type&&e.init(t)},"tcb-ready":()=>{TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').addClass("tcb-permanently-hidden")},"tcb.element.remove":t=>{t.attr("data-in-content")&&0===TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"][data-in-content="1"]').length&&TVE.inner_$('.thrv_wrapper.thrv_responsive_video[data-type="dynamic"]:not([data-in-content="1"])').removeClass("tcb-permanently-hidden")}},filters:{"theme.handle.videos.from.architect":t=>("tva_course_overview"===TVE.CONST.post_type&&(t=!1),t)}}},8763:function(t){t.exports=TVE.VideoProviders.Base.extend({show:function(){const t=TVE.Components.responsivevideo.$el,e=TVE.ActiveElement;return e.removeClass("tcb-elem-placeholder"),e.find(".tcb-inline-placeholder-action").remove(),t.find(".responsive-video-time-label").addClass("tcb-hidden"),t.find(".info-text").addClass("tcb-hidden"),t.find(".tve-advanced-controls").hide(),this}})},5737:function(t){var e=TVE.Views.Controls.DropPanel;t.exports=e.extend({template:TVE.tpl("edit-ce-item"),after_render:function(){this.$label=this.$(".tcb-ce-item-label"),this.$placeholder=this.$(".tcb-ce-item-placeholder")},get_data:function(t){return{label:t.find("label").text(),placeholder:t.find("input,textarea").attr("placeholder")}},change_setting:function(t,e){var i={};i[e.getAttribute("data-setting")]=e.value,this.model.set(i)},reset:function(t){this.model=t,this.dom()},dom:function(){this.$label.val(this.model.get("label")),this.$placeholder.val(this.model.get("placeholder"))},cancel:function(){this.model.get("__new")?this.collection.at(this.collection.length-1).destroy():this.model.restoreState()},apply:function(){this.model.unset("__new"),this.collection.trigger("change")}})},6539:function(t,e,i){t.exports={certificate_qr_code:i(661)}},661:function(t){const e=TVE.renderers.baseModel.extend({render_default:function(t){return TVE.ActiveElement=t,'<div class="thrv_wrapper tva-certificate-qr-code tcb-dynamic-field-source" style="width:200px" data-qr-type="verification" data-qr-dynamic="[tva_qr_source type=verification]">\n\t\t\t\t<img class="tve-qr-code" width="200" data-d-f="verification"/>\n\t\t\t\t</div>'}});t.exports=new e({key:"tva_certificate_qr_code"})},1126:function(t){t.exports={typeIconIdentifier:".tva-course-type-icon",topicIconIdentifier:".tva-course-topic-icon",dynamicLabelIdentifier:".tva-course-label-title",dynamicButtonElement:".thrv-button[data-tva-dynamic-element]",templates:{generalNoAccess:"tva_post_no_access",noAccess:"tva_no_access",courseCompleted:"tva_course_completed",certificateValidation:"tva_post_certificate_validation"}}},4414:function(t){!function(e){function i(){if(this.$el.is(":visible")){void 0===TVE.ActiveElement.attr("data-next")&&TVE.ActiveElement.attr("data-next",1);const t=!!parseInt(TVE.ActiveElement.attr("data-next"));this.setChecked(t)}else TVE.ActiveElement.attr("data-next",0)}t.exports=TVE.Views.Controls.Checkbox.extend({update:function(t){if(t instanceof TVE.Views.Controls.ElementLink){const n=t.dynamicLinksSelect.find("select option:selected").attr("data-shortcode-id");this.toggle("mark_as_complete_next"===n),i.call(this),t.dynamicLinksSelect.find("select").off("change.tva").on("change.tva",(t=>{const n=e(t.currentTarget).find("option:selected").attr("data-shortcode-id");this.toggle("mark_as_complete_next"===n),i.call(this)}))}},input:function(t,e){t.attr("data-next",e.checked?"1":"0")}})}(jQuery)},6611:function(t,e,i){const n=i(3332);t.exports={actions:{"tve.element.link.after.render":t=>{if(n.isCoursePage()){const e=t.$('[data-tab="dynamic"] #tcb-dynamic-link-buttons');if(e.length){const i=TVE.$('<div id="tva-checkbox-next-lesson"/>');e.before(i),t.TVANextLesson=new TVE.Views.Controls.TVANextLessonCheckbox({el:i,model:{config:{name:"",label:"Also go to next lesson",default:!1,parentControl:t}}})}}},"tcb.links.updated":t=>{t.TVANextLesson&&t.TVANextLesson.update(t)},"tcb.element_link.category_select":(t,e,i)=>{i.TVANextLesson&&i.TVANextLesson.update(i)}},filters:{}}},3332:function(t,e,i){const n=i(1126),o={allowApprenticeShortcodes:function(t){return TVE.CONST.apprentice&&TVE.CONST.apprentice.dynamic_data&&t&&t.includes("tva_content_")},getSanitizedShortcodeKey:function(t){return t.replace("tva_content_","")},isCoursePage:function(){return void 0!==TVE.CONST.apprentice&&void 0!==TVE.CONST.apprentice.course},isGeneralNoAccessPage:function(){return TVE.Theme.template.secondary()===n.templates.generalNoAccess}};t.exports=o}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}!function(t){t(window).on("tcb_main_ready",(()=>{t.extend(!0,TVE,i(7381))})).on("tcb.register-hooks",(()=>{i(9210),i(1798),"tva_certificate"===TVE.CONST.post.post_type&&i(2066);const e={dynamicVideo:i(3048),checkboxNextLesson:i(6611)},n={};_.each(e,(t=>{TVE.addHooks(t,n)})),TVE.add_action("tcb-ready",(function(){TVE.inner_$(".thrive-shortcode-content").each((function(){const e=t(this);e.data("shortcode").includes("tva_sendowl_product")&&!e.data("option-inline")&&(e.attr("data-option-inline",1),e.attr("data-shortcode","tva_sendowl_product"),e.text(e.data("editor-name")))}))})),TVE.add_filter("tcb.inline_shortcodes.shortcode_group",(function(t){return t.push("Thrive Product"),t})),TVE.add_filter("tve.allowed.empty.posts.type",(t=>(t.push("tva_course_overview"),t))),TVE.add_filter("tcb.custom-fields.main-dropdown-values",(t=>("tva_course_overview"===TVE.CONST.post_type&&TVE.ActiveElement&&"image"===TVE._type(TVE.ActiveElement)&&(t.featured="Course cover image",t.author="Course author image"),t))),TVE.add_filter("tcb_sidebar_right_tooltips",(t=>(t["theme-redirect"]&&(t["theme-redirect"].info="To edit the current template, switch to <b>Thrive Apprentice Visual Template Editor</b>",t["theme-redirect"].icon="tva"),t)))}))}(jQuery)}();