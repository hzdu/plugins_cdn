!function(){var e,t={8583:function(e,t,o){const a="Thrive Apprentice",n=o(2584),i={actions:{"tcb.element_link.category_select":(e,t)=>{n.hasDynamicData()&&e===a&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")&&t.find('option[data-shortcode-id="mark_as_complete"]').remove()},"tcb.froala.before_shortcode_popup":(e,t,o)=>{const n=e.find("#fr-dropdown-categories-list"),i=TVE.main.EditMode&&TVE.main.EditMode.in_edit();n.find(`option[value="${a}"]`).toggle(!i)},"tcb.froala.after_shortcode_select":(e,t)=>{if(n.hasDynamicData()&&n.allowDynamicActionsShortcodes(t.selectedData.key)){TVE.ActiveElement.closest(".thrv-button").length>0&&e.find(".tve-custom-input-container").empty();const o=n.getSanitizedShortcodeKey(t.selectedData.key);let a="settings/translations/course-navigation";["resources_label","resources_download_label","resources_open_label","download_certificate_text"].includes(o)&&(a="settings/translations/course-structure"),e.find(".tve-custom-input-container").append(TVE.tpl("dynamic-actions-froala-notice")({route:a}))}}},filters:{"tcb.render_dynamic_links":e=>{if(n.hasDynamicData()&&void 0!==e[a]&&TVE.ActiveElement&&!TVE.ActiveElement.is("a.tve-froala")){const t=e[a].links[0].findIndex((e=>"mark_as_complete"===e.id));-1!==t&&(e[a].links[0][t].show=!1)}return e},"tcb.inline_shortcodes.shortcode_group":(e=[])=>(e.push(a),e),"tcb.inline_shortcodes.shortcode_value":(e,t)=>(n.hasDynamicData()&&n.allowDynamicActionsShortcodes(t.key)&&(e=n.getShortcodeValue(t.key)),e),"tcb.inline_shortcodes.afterInsert":(e,t)=>{if(n.hasDynamicData()&&n.allowDynamicActionsShortcodes(t.key)){const o=e.find(".thrive-shortcode-content");if(n.isAutoLinkShortcode(t.key)&&o.attr({"data-attr-link":1}),parseInt(o.attr("data-attr-link"))){const e=TVE.$("<a></a>");e.attr({href:"#"}).text(o.text()),o.html(e)}}return e},"tve.shortcode.options.html":(e,t)=>{if(t===a&&TVE.ActiveElement&&TVE.ActiveElement.closest(".thrv-button").length){const t=TVE.$(e);t.find('option[value="tva_dynamic_actions_mark_as_complete_text"]').remove(),e=t[0].outerHTML}return e},"tcb.froala.options":(e,t,o)=>(n.hasDynamicData()&&t.closest(".thrv-button, .tva-resource-button").length&&(e.toolbarButtons=o.inline_shortcode),e)}};e.exports=i},9210:function(e,t,o){const a={shortcodes:o(8583)},n={};_.each(a,(e=>{TVE.addHooks(e,n)}))},2584:function(e){const t={allowDynamicActionsShortcodes:function(e){return e&&e.includes("tva_dynamic_actions_")},getSanitizedShortcodeKey:function(e){return e.replace("tva_dynamic_actions_","")},hasDynamicData:function(){return void 0!==TVE.CONST.tva_dynamic_actions},isAutoLinkShortcode:function(e){const t=this.getSanitizedShortcodeKey(e);let o=!0;return TVE.ActiveElement&&(o=0===TVE.ActiveElement.closest(".thrv-button").length),o&&["call_to_action_text","mark_as_complete_text","mark_as_complete_next_text"].includes(t)},getShortcodeValue:function(e){const t=this.getSanitizedShortcodeKey(e);return void 0!==TVE.CONST.tva_dynamic_actions[t]?TVE.CONST.tva_dynamic_actions[t]:""}};e.exports=t},3120:function(e,t,o){e.exports={Views:{Components:{},Controls:{TVANextLessonCheckbox:o(4414)}},renderers:o(3003)}},1126:function(e){e.exports={typeIconIdentifier:".tva-course-type-icon",topicIconIdentifier:".tva-course-topic-icon",dynamicLabelIdentifier:".tva-course-label-title",dynamicButtonElement:".thrv-button[data-tva-dynamic-element]",templates:{generalNoAccess:"tva_post_no_access",noAccess:"tva_no_access",courseCompleted:"tva_course_completed",certificateValidation:"tva_post_certificate_validation"}}},4414:function(e){!function(t){function o(){if(this.$el.is(":visible")){void 0===TVE.ActiveElement.attr("data-next")&&TVE.ActiveElement.attr("data-next",1);const e=!!parseInt(TVE.ActiveElement.attr("data-next"));this.setChecked(e)}else TVE.ActiveElement.attr("data-next",0)}e.exports=TVE.Views.Controls.Checkbox.extend({update:function(e){if(e instanceof TVE.Views.Controls.ElementLink){const a=e.dynamicLinksSelect.find("select option:selected").attr("data-shortcode-id");this.toggle("mark_as_complete_next"===a),o.call(this),e.dynamicLinksSelect.find("select").off("change.tva").on("change.tva",(e=>{const a=t(e.currentTarget).find("option:selected").attr("data-shortcode-id");this.toggle("mark_as_complete_next"===a),o.call(this)}))}},input:function(e,t){e.attr("data-next",t.checked?"1":"0")}})}(jQuery)},3003:function(e,t,o){const a=o(2216),n=o(8272),i=o(4053),c=o(4483);e.exports={visual_builder_post_title:new a({key:"tva_content_post_title"}),visual_builder_post_summary:new a({key:"tva_content_post_summary"}),visual_builder_featured_image:new n({key:"featured_image"}),visual_builder_author_image:new n({key:"author_image"}),visual_builder_course_type:new a({key:"tva_content_course_type"}),visual_builder_course_type_icon:new i({key:"course_type_icon",className:"tva-course-type-icon tve-auxiliary-icon-element"}),visual_builder_course_progress:new a({key:"tva_content_course_progress"}),visual_builder_course_difficulty:new a({key:"tva_content_difficulty_name"}),visual_builder_course_topic_title:new a({key:"tva_content_course_topic_title"}),visual_builder_course_label_title:new a({key:"tva_content_course_label_title",className:"tva-course-label-title"}),visual_builder_course_topic_icon:new i({key:"course_topic_icon",className:"tva-course-topic-icon tve-auxiliary-icon-element"}),visual_builder_button_call_to_action:new c({key:"tva_element_call_to_action",shortcodeID:"call_to_action",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_call_to_action_text",textShortcodeName:"Call To Action"}),visual_builder_button_mark_complete:new c({key:"tva_element_mark_complete",shortcodeID:"mark_as_complete_next",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_mark_as_complete_next_text",textShortcodeName:"Mark lesson & next"}),visual_builder_button_next_lesson:new c({key:"tva_element_next_lesson",shortcodeID:"next_lesson",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_next_lesson_text",textShortcodeName:"Next Lesson"}),visual_builder_button_prev_lesson:new c({key:"tva_element_previous_lesson",shortcodeID:"previous_lesson",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_previous_lesson_text",textShortcodeName:"Previous Lesson"}),visual_builder_button_download_certificate:new c({key:"tva_element_download_certificate",shortcodeID:"download_certificate",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_download_certificate_text",textShortcodeName:"Download certificate"}),visual_builder_button_completion_page:new c({key:"tva_element_completion_page",shortcodeID:"completion_page",dynamicLink:"tva_dynamic_actions_link",textShortcode:"tva_dynamic_actions_completion_page_text",textShortcodeName:"Completion page"})}},4483:function(e,t,o){const a=o(2584);e.exports=TVE.renderers.baseModel.extend({render_default:function(){const e=TVE.$(TVE.main.static_element("button")).clone();e.find(".thrv-button").attr("data-tva-dynamic-element",this.key),e.find("a").addClass("tve-dynamic-link").attr({target:"","data-shortcode-id":this.getShortcodeID(),"data-dynamic-link":this.getDynamicLink()});const t=`<span class="thrive-inline-shortcode" contenteditable="false"><span class="thrive-shortcode-content" data-shortcode="${this.getTextShortcode()}" data-shortcode-name="${this.getTextShortcodeName()}" contenteditable="false" data-extra_key="">${this.getTextShortcodeValue()}</span></span>`;return e.find(".tcb-button-text").html(t),e.html().trim()},getShortcodeID:function(){return this.attributes.shortcodeID||""},getDynamicLink:function(){return this.attributes.dynamicLink||""},getTextShortcode:function(){return this.attributes.textShortcode||""},getTextShortcodeName:function(){return this.attributes.textShortcodeName||""},getTextShortcodeValue:function(){return a.getShortcodeValue(this.getTextShortcode())}})},4053:function(e){e.exports=TVE.renderers.baseModel.extend({render_default:function(e){const t=TVE.inner_$(`<div class="thrv_wrapper ${this.getClassName()}">${this.getHTML()}</div>`);return this.alterElement(t),t},getClassName:function(){return this.attributes.className||""},getHTML:function(){let e=TVE.CONST.apprentice.dynamic_data[this.key];return"function"==typeof this[this.key]&&(e=this[this.key](e)),e},course_topic_icon:function(e=""){if(e.includes("<svg")){const t=TVE.CONST.apprentice.course.topic.overview_icon_color;e=e.replace("<svg",`<svg style="fill:${t};color:${t};"`)}else e=`<div class="tva-course-topic-icon-bg" style="background-image: url('${e}');"></div>`;return e},alterElement:function(e){e.head_css({"font-size":"60px",width:"60px",height:"60px","margin-left":"auto","margin-right":"auto"})}})},8272:function(e){e.exports=TVE.renderers.baseModel.extend({render_default:function(e){const t=TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.apprentice.dynamic_data[this.key]),o=TVE.CONST.apprentice.dynamic_data.post_title;return`<div class="thrv_wrapper tve_image_caption tcb-dynamic-field-source"><span class="tve_image_frame"><img class="tve_image" src="${t}" title="${o}" alt="${o}" data-d-f="${this.key.replace("_image","")}" loading="lazy" /></span></div>`}})},2216:function(e,t,o){const a=o(3332);e.exports=TVE.renderers.baseModel.extend({render_default:function(e){const t=this.getShortcodeName(e);let o,a=this.getShortcodeValue(e);_.each(TVE.CONST.inline_shortcodes,((e,t)=>{o||(o=e.find((e=>e.value===this.key)))})),""===a&&(a=o.option);let n=`<div class="thrv_wrapper thrv_text_element"><p><span class="thrive-inline-shortcode" contenteditable="false"><span class="thrive-shortcode-content" data-shortcode="${t}" data-shortcode-name="${o.option||""}" contenteditable="false" data-extra_key="">${a}</span></span></p></div>`;return this.getClassName().length&&(n=`<div class="thrv_wrapper ${this.getClassName()}">${n}</div>`),n},getShortcodeName:function(e){return this.key},getShortcodeValue:function(e){const t=a.getSanitizedShortcodeKey(this.key);return TVE.CONST.apprentice.dynamic_data[t]},getClassName:function(){return this.attributes.className||""}})},6611:function(e,t,o){const a=o(3332);e.exports={actions:{"tve.element.link.after.render":e=>{if(a.isCoursePage()){const t=e.$('[data-tab="dynamic"] #tcb-dynamic-link-buttons');if(t.length){const o=TVE.$('<div id="tva-checkbox-next-lesson"/>');t.before(o),e.TVANextLesson=new TVE.Views.Controls.TVANextLessonCheckbox({el:o,model:{config:{name:"",label:"Also go to next lesson",default:!1,parentControl:e}}})}}},"tcb.links.updated":e=>{e.TVANextLesson&&e.TVANextLesson.update(e)},"tcb.element_link.category_select":(e,t,o)=>{o.TVANextLesson&&o.TVANextLesson.update(o)}},filters:{}}},4083:function(e,t,o){const a=o(3332),n=o(1126),i=e=>{TVE.ActiveElement.find(".tve_image").attr({src:TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.apprentice.dynamic_data[`${e}_image`]),title:TVE.CONST.apprentice.dynamic_data.title,alt:TVE.CONST.apprentice.dynamic_data.title,"data-d-f":e}).removeAttr("srcset")},c=(e={})=>(TVE.main.EditMode.in_edit()||a.isCoursePage()||delete e.author,e);e.exports={actions:{"theme.video.source.changed":(e,t)=>{"dynamic"===e&&"tva_course_overview"===TVE.CONST.post_type&&TVE.CONST.apprentice.course.has_video&&t.find(".tve_responsive_video_container").show().html(TVE.CONST.apprentice.course.video_embed)},"tcb.after-insert":e=>{e.is(n.dynamicLabelIdentifier)&&(e.head_css({margin:"0px auto !important",padding:"4px !important","background-color":"var(--tcb-dynamic-color-label-color,var(--tcb-dynamic-color-label-color-default,rgb(0, 0, 0)))  !important","--tve-applied-background-color":"var(--tcb-dynamic-color-label-color,var(--tcb-dynamic-color-label-color-default,rgb(0, 0, 0)))  !important"}),e.head_css({color:"#FFF"},!1,TVE.Elements.visual_builder_course_label_title.components.typography.config.FontColor.css_suffix,!1,TVE.Elements.visual_builder_course_label_title.components.typography.config.FontColor.css_prefix),TVE.Components.layout.controls.Alignment.change(e,{dataset:{value:"left"}}))}},filters:{"theme.allow_dynamic_video.provider":e=>("tva_course_overview"===TVE.CONST.post_type&&(TVE.Theme.constants.dynamicVideo.placeholderTemplate="dynamic-video/course-overview-overlay",e=!0),e),"tcb.dynamic_image.show_tab":e=>(a.isCoursePage()&&(e=!0),e),"tcb.dynamic_image.change_url":(e,t)=>(a.isCoursePage()&&["featured","author"].includes(t)&&(e=`var(${TVE.CONST.dynamic_background_url_prefix}visual-edit-course-${"featured"===t?"image":"author"})`),e),"tcb.dynamic_image.show_sizes_select":e=>(a.isCoursePage()&&(e=!1),e),"tcb.image_picker.dynamic_source":e=>(a.isCoursePage()&&void 0!==TVE.CONST.apprentice.dynamic_data&&(e.url=TVE.Components.image.controls.ImagePicker.picker.clean_url(TVE.CONST.apprentice.dynamic_data.featured_image),e.title="Featured Image",e.alt="Featured Image"),e),"tcb.dynamic_image_input.callback":(e,t)=>(a.isCoursePage()&&["featured","author"].includes(t)&&(e=i),e),"tcb.dynamic_image.options":c,"tcb.custom-fields.main-dropdown-values":c,"tcb.get_dynamic_colors":e=>a.isCoursePage()?((e=[]).push({color:TVE.CONST.apprentice.course.label.color,name:`Label: ${TVE.CONST.apprentice.course.label.title}`,label:`Label: ${TVE.CONST.apprentice.course.label.title}`,id:"label-color",custom_name:1,active:1}),e.push({color:TVE.CONST.apprentice.course.topic.color,name:`Topic: ${TVE.CONST.apprentice.course.topic.title}`,label:`Topic: ${TVE.CONST.apprentice.course.topic.title}`,id:"topic-color",custom_name:1,active:1}),e):e,"tve.css.variable.showDynamic":(e,t)=>(t&&a.isCoursePage()&&(e=!0),e),"tve.css.variable_v2.showDynamic":e=>(a.isCoursePage()&&(e=!0),e),"tcb.post_list_article.sync.tcb_post_content":(e,t)=>(TVE.Theme&&TVE.Theme.template.secondary()===n.templates.generalNoAccess&&parseInt(t.ID)===parseInt(TVE.CONST.post_id)&&(e=""),e)}}},9612:function(e,t,o){const a=o(3332),n=o(1126);e.exports={actions:{"component.update.theme_section":e=>{e.$(".section-select")[TVE.ActiveElement&&["top","bottom","content"].includes(TVE.ActiveElement.attr("data-section"))?"hide":"show"]()},"tcb.edit_mode.exit":()=>{TVE.Theme.template.isSingular()&&TVE.PostList.EditMode.toggleListElements(!1)}},filters:{tcb_sidebar_right_tooltips:e=>(e["tar-redirect"]&&(e["tar-redirect"].info="To edit your course content, click here to switch to <b>Thrive Architect</b>"),e),"tcb.components.expanded_key":(e,t)=>("visual_builder_course_type_icon"===e?e="icon":"visual_builder_course_topic_icon"===e&&(e="course_list_item_topic_icon"),e),"tcb.show_post_list_elements_in_sidebar":e=>(a.isGeneralNoAccessPage()||(e=!1),e),tcb_filter_html_before_save:(e,t)=>(t.is(TVE.identifier("contentbox"))||(e.find(n.typeIconIdentifier).html("[tva_content_course_type_icon]"),e.find(n.topicIconIdentifier).html("[tva_content_course_topic_icon]"),e.find(n.dynamicButtonElement).each(((e,t)=>{let o="";_.each(TVE.PostList.utils.elementAttributes(t,["data-class","data-id"],!0,!0),((e,t)=>{-1===e.indexOf('"')?o+=` ${t}="${e}"`:o+=` ${t}='${e}'`})),o+=` class='${t.getAttribute("class")}'`;const a=`[tva_content_dynamic_element ${o}]${TVE.inner_$(t).html()}[/tva_content_dynamic_element]`;TVE.inner_$(t).replaceWith(a)})),e.find(n.dynamicLabelIdentifier).each(((e,t)=>{t.outerHTML=`[tva_content_course_label_title tar-element="1" class="${t.getAttribute("class")||""}" css="${t.getAttribute("data-css")||""}"]`}))),e),"theme.sections.cloud_fetch_list_args":e=>(e.tva_skin_id=TVE.CONST.apprentice.skin_id,e),"tcb.editor.default_ajax_config":e=>(e.data=e.data||{},e.data.tva_skin_id=TVE.CONST.apprentice.skin_id,e)}}},5242:function(e,t,o){const a=o(3332),n=["tcb_post_author_name","tcb_post_author_role","tcb_post_author_bio","tcb_post_published_date"],i=["theme_section"],c="Thrive Apprentice";e.exports={actions:{"tcb.froala.before_shortcode_popup":(e,t,o)=>{if(!a.isGeneralNoAccessPage()&&(!TVE.main.EditMode.in_edit()||TVE.main.EditMode.in_edit()&&i.includes(TVE._type(TVE.main.EditMode.element())))){const t=e.find("#fr-dropdown-categories-list"),o=["Time & date","User data","Global fields"];let a="";TVE.Theme.template.isHome()||o.push(c),o.forEach((e=>{a+=`[value="${e}"],`})),a=a.slice(0,-1),t.find("option").show(),t.find(`option:not(${a})`).hide()}}},filters:{"tcb.inline_shortcodes.get_shortcode_by_value":e=>(Object.keys(e).length>0&&n.includes(e.config.value)&&!a.isGeneralNoAccessPage()&&(e.groupKey=c),e),"tcb.inline_shortcodes.shortcode_group":(e=[])=>(a.isGeneralNoAccessPage()||e.push(c),e),"tcb.inline_shortcodes.shortcode_value":(e,t)=>{if(a.isGeneralNoAccessPage())return e;if(a.allowApprenticeShortcodes(t.key)){const o=a.getSanitizedShortcodeKey(t.key);TVE.CONST.apprentice.dynamic_data[o]&&String(TVE.CONST.apprentice.dynamic_data[o]).length&&(e=TVE.CONST.apprentice.dynamic_data[o])}else if(n.includes(t.key)){const o=t.key.replace("tcb_post_","");TVE.CONST.apprentice.dynamic_data[o]&&String(TVE.CONST.apprentice.dynamic_data[o]).length&&(e=TVE.CONST.apprentice.dynamic_data[o])}return e},"tcb.inline_shortcodes.afterInsert":(e,t)=>{if(a.isGeneralNoAccessPage())return e;if(o=t.key,n.includes(o)||"course_title"===a.getSanitizedShortcodeKey(o)){const t=e.find(".thrive-shortcode-content");if(parseInt(t.attr("data-attr-link"))){const e=TVE.$("<a></a>");e.attr({href:"#",target:parseInt(t.attr("data-attr-target"))?"_blank":"",rel:parseInt(t.attr("data-attr-rel"))?"nofollow":""}).text(t.text()),t.html(e)}}var o;return e}}}},1985:function(e){e.exports={actions:{},filters:{"tva.resources_element.attributes":e=>e+' data-inside-template="1"'}}},5096:function(e,t,o){const a=o(1126),n=e=>{switch(e){case"tva_module":e="module";break;case"tva_lesson":e="lesson";break;case"tva_courses":e="course"}return e};e.exports={actions:{"theme.sections_modal.before_open":e=>{e.groupMap&&(e.groupMap.cloud.key=e.groupMap.cloud.key.replace("Theme","Apprentice Template")),e.$packDescription&&e.$packDescription.text(e.$packDescription.text().replace("theme","apprentice template"))}},filters:{theme_empty_post_content_placeholder:(e="",t="")=>(t===a.templates.noAccess?e=TVE.tpl("empty-post-content-no-access")():t===a.templates.generalNoAccess?e=TVE.tpl("empty-general-post-content-no-access")():t===a.templates.courseCompleted?e=TVE.tpl("empty-course-completed")():t===a.templates.certificateValidation?e=TVE.tpl("empty-validation-page")():"tva_lesson"===t&&(e=TVE.tpl("empty-post-content-hide-notice")({contentType:n(t)})),e),theme_empty_post_content_post_type:n}}},3332:function(e,t,o){const a=o(1126),n={allowApprenticeShortcodes:function(e){return TVE.CONST.apprentice&&TVE.CONST.apprentice.dynamic_data&&e&&e.includes("tva_content_")},getSanitizedShortcodeKey:function(e){return e.replace("tva_content_","")},isCoursePage:function(){return void 0!==TVE.CONST.apprentice&&void 0!==TVE.CONST.apprentice.course},isGeneralNoAccessPage:function(){return TVE.Theme.template.secondary()===a.templates.generalNoAccess}};e.exports=n}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,a),i.exports}(e=jQuery)(window).on("tcb_main_ready",(()=>{switch(e.extend(!0,TVE,a(3120)),TVE.Theme.template.secondary()){case"tva_no_access":case"tva_post_no_access":TVE.$(".preview-content").removeAttr("target").attr({href:"javascript:void(0);","data-tooltip":"Admin users have access to all content and cannot preview a restricted access template. To preview this properly, open a restricted page when logged out."}).css("opacity",".4")}})).on("tcb.register-hooks",(()=>{const e={checkboxNextLesson:a(6611),dynamic:a(4083),general:a(9612),shortcodes:a(5242),resources:a(1985),overrides:a(5096)},t={"tcb.froala.before_shortcode_popup":100,"tcb.dynamic_image.show_tab":100,"tcb.edit_mode.exit":100,"tcb.post_list_article.sync.tcb_post_content":100};_.each(e,(e=>{TVE.addHooks(e,t)})),a(9210),TVE.add_action("tcb-ready",(()=>{"tva_post_certificate_validation"===TVE.Theme.template.secondary()&&(TVE.inner_$(".tcb-post-content").hide(),TVE.Theme.switchContent.hide());const e=TVE.inner_$(".tva-certificate-verification-element > .tve-form-state");e.length&&e.each(((e,t)=>{"valid"===t.dataset.state?t.classList.remove("tcb-permanently-hidden"):"form"===t.dataset.state&&t.classList.add("tcb-permanently-hidden")}))}))}))}();