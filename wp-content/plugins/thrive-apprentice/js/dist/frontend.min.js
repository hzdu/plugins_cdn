!function(){var t={5775:function(t){!function(e,n){const a={allowDownload:!1,title:"",init:function(){ThriveAppFront.certificate?(this.allowDownload=1===Number(ThriveAppFront.certificate.allow_download),this.title=String(ThriveAppFront.certificate.title)):ThriveAppFront.wizard&&(this.allowDownload=!0),tve_frontend_options.is_editor_page||this.frontendInit()},frontendInit:function(t){this.$root=t||n.$document,this.$certificates=this.$root.find('a.tve-dynamic-link[data-shortcode-id="download_certificate"]'),this.allowDownload?this.$certificates.off("click").on("click",{},this.downloadCertificate.bind(this)):this.$certificates.remove()},downloadCertificate:function(t){t&&t.preventDefault();const n=this.title,a=this.$certificates,s=e("body");a.addClass("tar-disabled tve-loading"),e.ajax({url:`${ThriveAppFront.routes.certificate}/download`,type:"POST",cache:!1,data:{course_id:ThriveAppFront.course.ID},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",ThriveAppFront.nonce)},xhr:function(){const t=new XMLHttpRequest;return t.onreadystatechange=()=>{2===t.readyState&&(t.responseType=200===t.status?"blob":"text")},t},success:function(t){const o=new Blob([t],{type:"application/octetstream"}),i=window.URL||window.webkitURL,r=e("<a />").attr({href:i.createObjectURL(o),download:`${n}.pdf`});s.append(r),r[0].click(),s.remove(r),a.removeClass("tar-disabled tve-loading")},error:function(t){a.removeClass("tar-disabled tve-loading");const e="object"==typeof t.responseJSON&&t.responseJSON.message?t.responseJSON.message:t.statusText,n=t.status&&401===t.status?"warning":"error";TCB_Front.notificationElement.toggle(e,n)}})}};t.exports=()=>a.init()}(ThriveGlobal.$j,TCB_Front)},4901:function(t){var e;(e=jQuery).fn.extend({tva_collapse:function(t){return this.each((function(){var n=e(this),a=n.parent();n.addClass(t.class_collapsed),n.removeClass(t.class_expanded),!1===n.hasClass("tva_chapter_headline")?(a.find(".tve-chapters-wrapper").slideUp(),0===a.find(".tve-chapters-wrapper").length&&a.find(".tve-lessons-wrapper").slideUp()):n.hasClass("tva_chapter_headline")&&a.find(".tve-lessons-wrapper").slideUp()}))},tva_expand:function(t){return this.each((function(){var n=e(this),a=n.parent();n.removeClass(t.class_collapsed),n.addClass(t.class_expanded),!1===n.hasClass("tva_chapter_headline")?(a.find(".tve-chapters-wrapper").slideDown(),0===a.find(".tve-chapters-wrapper").length&&a.find(".tve-lessons-wrapper").slideDown()):n.hasClass("tva_chapter_headline")&&a.find(".tve-lessons-wrapper").slideDown()}))}}),t.exports=function(t){var n=e.extend({class_expanded:"tva-expanded",class_collapsed:"tva-collapsed",collapse_modules:!1,collapse_chapters:!1},t);return this.each((function(){var t=e(this);t.find(".tva-cm-module .tva-module-header")[n.collapse_modules?"tva_collapse":"tva_expand"](n),t.find("h2.tva_chapter_headline")[n.collapse_chapters?"tva_collapse":"tva_expand"](n),t.find(".tva-cm-module .tva-module-header, h2.tva_chapter_headline").off("click").on("click",(function(t){var a=e(this);"a"!==t.target.tagName.toLowerCase()&&(a.hasClass(n.class_collapsed)?a.tva_expand(n):a.tva_collapse(n))}))}))}},2088:function(t){var e,n;e=ThriveGlobal.$j,n=TCB_Front,t.exports={isCompleted:0,allowMarkComplete:!0,nextLessonUrl:"",init:function(){this.isCompleted=parseInt(ThriveAppFront.is_completed),this.nextLessonUrl=ThriveAppFront.next_lesson_url,this.nextLessonText=ThriveAppFront.next_lesson_text,void 0!==ThriveAppFront.allow_mark_complete&&(this.allowMarkComplete=1===parseInt(ThriveAppFront.allow_mark_complete)),tve_frontend_options.is_editor_page||(this.frontendInit(),this.allowMarkComplete||e(TCB_Front).on("tqb_shortcode_response",((t,n)=>{this.allowMarkComplete=n&&void 0!==n.tva_allow_mark_as_complete&&1===parseInt(n.tva_allow_mark_as_complete),this.allowMarkComplete&&e(".tva-disabled-mark-as-complete").removeClass("tva-disabled-mark-as-complete")})))},frontendInit:function(t){this.$root=t||n.$document,this.$root.on("tve-dash.load",(()=>{TVE_Dash.add_load_item("ta_access_post",{post_id:ThriveAppFront.post_id},null)})),"tva_lesson"===ThriveAppFront.lesson.post_type&&(this.$root.find('span[data-shortcode="tva_dynamic_actions_mark_as_complete_text"][data-attr-go_next_lesson="0"],span[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"][data-attr-go_next_lesson="0"],a.tve-dynamic-link[data-shortcode-id="mark_as_complete"]').on("click",{},this.markLessonEventCallback.bind(this)),this.$root.find('span[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"][data-attr-go_next_lesson="1"],span[data-shortcode="tva_dynamic_actions_mark_as_complete_text"][data-attr-go_next_lesson="1"],a.tve-dynamic-link[data-shortcode-id="mark_as_complete_next"]').on("click",{},this.markLessonAndGoNextEventCallback.bind(this)),this.$root.on("unwrapBlockLinks",(()=>{this.$root.find('.thrv_wrapper[data-shortcode-id="mark_as_complete_next"]').on("click",{},this.markLessonAndGoNextEventCallback.bind(this)),this.$root.find('.thrv_wrapper[data-shortcode-id="mark_as_complete"]').on("click",{},this.markLessonEventCallback.bind(this))})))},markLessonEventCallback:function(t){t.preventDefault(),this.allowMarkComplete?this.isCompleted?this.goToNextLesson(t.currentTarget):this.markLesson().then():TCB_Front.notificationElement.toggle(ThriveAppFront.deny_mark_complete_toast,"warning")},markLessonAndGoNextEventCallback:function(t){if(t.preventDefault(),this.allowMarkComplete){const n=e(t.currentTarget).closest(".thrv_wrapper.thrv-button");if(n.length&&0===parseInt(n.attr("data-next")))return n.find("a").attr("href","javascript:void(0)"),this.markLesson().then((()=>{e(t.currentTarget).attr({href:this.nextLessonUrl})}));this.markLessonAndGoToNext(t.currentTarget)}else TCB_Front.notificationElement.toggle(ThriveAppFront.deny_mark_complete_toast,"warning")},markLesson:function(){return new Promise((t=>{if(this.isCompleted)return this.updateMarkLessonCompleteAndNext(),void t();this.isCompleted=!0,wp.apiRequest({type:"POST",data:{lesson_id:parseInt(ThriveAppFront.lesson_page),completed:1},url:ThriveAppFront.routes.frontend+"/mark_lesson/"}).success((e=>{e.message&&TCB_Front.Utils.toast(e.message),e.progress_bar&&this.updateOldProgressBar(e.progress_bar),e.lessons_list&&this.updateOldLessonList(e.lessons_list),e.next_lesson_url&&(this.nextLessonUrl=e.next_lesson_url),e.next_lesson_text&&(this.nextLessonText=e.next_lesson_text),this.updateMarkLessonCompleteAndNext(),t(e)}))}))},updateOldProgressBar:function(t){this.$root.find(".tva-progress-container").html(t)},updateOldLessonList:function(t){this.$root.find(".tva-lessons-container").html(t)},markLessonAndGoToNext:function(t){this.markLesson(t).then((()=>this.goToNextLesson(t)))},updateMarkLessonCompleteAndNext:function(){this.$root.find('[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"]').each(((t,n)=>{if(1===parseInt(n.getAttribute("data-attr-link"))){const t=n.querySelector("a");t.textContent=this.nextLessonText,t.href=this.nextLessonUrl,e(n).unbind()}else n.textContent=this.nextLessonText})),this.$root.find('[data-shortcode="tva_dynamic_actions_mark_as_complete_text"]').each(((t,e)=>{e.closest(".thrv_text_element")&&(e.style.display="none")}))},goToNextLesson:function(t){"A"===t.tagName&&"_blank"===t.target||"DIV"===t.tagName&&"_blank"===t.getAttribute("data-target")?window.open(this.nextLessonUrl,"_blank","noopener"):top.location.href=this.nextLessonUrl}}},3008:function(t){!function(e,n){const a={init:function(){e(window).on("tcb_after_dom_ready",(()=>{this.afterDomReady()}))},afterDomReady:function(){const t=n.queryString.get("tva-show-message");t&&ThriveAppFront.frontend_warnings[t]&&n.notificationElement.toggle(ThriveAppFront.frontend_warnings[t],"warning")}};t.exports=()=>a.init()}(ThriveGlobal.$j,TCB_Front)},3:function(t){t.exports={tvaRemoveParam:function(t,e){let n=e.split("?")[0];return this.tvaUrlParamExists("page_id",window.location.href)?(n=n+"?page_id="+this.tvaGetParameterByName("page_id",window.location.href),n):n},tvaUrlParamExists:function(t,e){const n=t+"=";return-1!==e.indexOf("?"+n)||-1!==e.indexOf("&"+n)},tvaGetParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},9329:function(t){var e;e=jQuery,t.exports=function(t){var n=e.extend({class_expanded:"tva-expanded",class_collapsed:"tva-collapsed",slide_time:200,module_tag:"h2",chapter_tag:"h3",current_post_id:null},t);function a(t){var e;return function(t){return t.is(n.module_tag)}(t)?(e=".tva-chapter-lessons",e+=0===t.parent().find("> .tva-chapter-lessons").length?", .tva-lessons-wrapper":""):function(t){return t.is(n.chapter_tag)}(t)&&(e=".tva-lessons-wrapper"),e}function s(){var t=e(this),s=a(t);t.parent().find(s).slideDown(n.slide_time),this.classList.remove(n.class_collapsed),this.classList.add(n.class_expanded)}function o(){var t=e(this),s=a(t),o=t.parent();t.addClass(n.class_collapsed),t.removeClass(n.class_expanded),o.find(s).slideUp(n.slide_time)}return this.each((function(){var t=e(this),a=t.parent().find('.tva-lesson-container[data-id="'+n.current_post_id+'"]');try{n.current_post_id===parseInt(t.data("id"))||a.length>0?s.apply(this):o.apply(this)}catch(t){console.log(t)}t.off("click").on("click",(function(t){if("a"!==t.target.tagName.toLowerCase()){var a=e(this);try{a.hasClass(n.class_collapsed)?s.apply(this):o.apply(this)}catch(t){console.log(t)}}}))}))}}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}!function(){const t=window.ThriveAppFront||{},e=window.ThriveAppWidgets||{},a=n(3);!function(s){window.TCB_Front&&(TCB_Front.apprenticeDynamicActions=n(2088),TCB_Front.apprenticeDynamicActions.init(),n(5775)(),tve_frontend_options.is_editor_page||n(3008)());const o=s(document);s.fn.extend({tva_collapsible:n(4901),tva_widget_collapsible:n(9329)}),s(".tva-header .tva-inner-header").children().length>1&&s(".tva-header .tva-inner-header div").last().addClass("tva-dropdownmenu"),s(".tva-header > div > ul li").on("mouseenter",(function(){if(s("ul",this).length){const t=s("ul:first",this);t.offset().left+t.width()<=s(".tva-header").width()||(s(this).parent().addClass("edge"),s(this).find("ul").addClass("edge"))}})),s(".tva-header > div").click((function(){s(this).toggleClass("visible")})),s("#ta-registration-form").on("submit",(function(){s(this).find('input[name="tva_captcha"]').remove()}));const i=function(e){if("tva_lesson"!==t.lesson.post_type||1===parseInt(t.visual_editing_enabled))return;const n={lesson_id:t.lesson_page,completed:!1};e&&(n.completed=!0),s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",data:n,url:t.routes.frontend+"/mark_lesson/"})};if(!t.is_inner_frame&&!t.wizard){let l;t.course.ID&&t.allowed&&!t.is_admin&&s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",data:{course_id:t.course.ID},url:t.routes.frontend+"/process_conversion/"}),t.lesson_page&&t.allowed&&i(),s(".tva-finish-lesson").on("click",(function(t){i(!0)})),s(".tva-filter-checkbox-container").on("click",(function(t){t.preventDefault();const e=s(this).find(".tva-filter-course-clear-filters"),n=s(".tva-filters-wrapper"),o=s(".tva-search-wrapper"),i=s(this).find(".tva-filter").is(":checked");if(s(this).find(".tva-filter").prop("checked",!i),e.length>0&&(n.find(".tva-filter-checkbox-container").each((function(){s(this).children("div:first").removeClass("tva-filter-checkbox-selected")})),n.find(".tva-filter").each((function(){s(this).prop("checked",!1)})),o.find(".tva-search-input").val("")),l=r,s(c=this).find(".tva-filter").is(":checked")?s(c).children("div:first").addClass("tva-filter-checkbox-selected"):s(c).children("div:first").removeClass("tva-filter-checkbox-selected"),"function"==typeof l&&l(),e.length>0){let t="";t=a.tvaUrlParamExists("page_id",window.location.href)?"?page_id="+a.tvaGetParameterByName("page_id",window.location.href):a.tvaRemoveParam("filters",window.location.href),window.history.pushState({},document.title,t)}var c,l}));const d=document.getElementById("tva_front_search");let m=null;function r(e){const n="tva-loading",a=s(".tva-courses-container");if(!0===a.hasClass(n))return;const o=s(".tva-filter-checkbox-container input:checkbox:checked").map((function(){return s(this).val()})).get();l=s(".tva-search-input").val(),a.addClass(n),a.append('<div class="tva-front-loader tva-spinner-css tva-spinner-scope"><div class="tva-spinner-rolling"><div></div></div></div>'),a.find(".tva-course-card").remove(),s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",url:t.routes.frontend+"/filters/",data:{s:l,terms:o,page:e,is_index_page:t.index_page}}).done((function(e){a.removeClass(n),a.empty().append(e),t.index_page&&a.find(".tva-course-description").addClass("scrollbar-macosx").scrollbar(),s("html, body").animate({scrollTop:0},400),s(".ttw-uni-page-numbers").on("click",(function(){r(s(this).attr("data-tva-page-nr"))})),c()}))}function c(){let t="";t=!0===s(".tva-filters-container").find(".tva-filter").is(":checked")?"inline-block":"none",s(".tva-clear-filters").css("display",t)}d&&(d.onkeyup=function(){const t=this;m&&clearTimeout(m),m=setTimeout((function(){l!==t.value&&r()}),300)},o.on("click",".tva-search-submit",(function(){r()}))),o.on("click","a.tva-page-numbers",(function(){r(s(this).attr("data-tva-page-nr"))})),c()}if(1==t.tva_register_page){let p,u;jQuery('input[type="password"]').on("change",(function(){p=jQuery("input[name='user_pass']").val(),u=jQuery("input[name='confirm_pass']").val()})),jQuery("#tva-register-button").on("click",(function(t){var e;!0!==(e=jQuery("input[name=user_email]").val(),/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))&&(t.preventDefault(),jQuery(".tva-password-mismatch").fadeIn("slow"),jQuery(".tva-invalid-email").fadeIn("slow")),jQuery('input[name="user_pass"], input[name="user_login"]').each((function(){""===jQuery(this).val()&&(t.preventDefault(),setTimeout((function(){jQuery(".tva-required-filed").fadeOut("slow"),jQuery(".tva-invalid-email").fadeOut("slow")}),5e3)),p!==u&&(jQuery(".tva-invalid-password").fadeIn("slow"),t.preventDefault())})),void 0===p&&s('input[name="user_pass"]').parent().next("p").fadeIn("slow"),void 0===u&&(s('input[name="confirm_pass"]').parent().next("p").fadeIn("slow"),s("#tva-register-button").addClass("tva-btn-margin-top"))})),jQuery('input[name="user_pass"], input[name="confirm_pass"]').on("focusin",(function(){jQuery(".tva-invalid-password").fadeOut("slow")})),jQuery('#ta-registration-form input[type=email], input[name="user_pass"], input[name="confirm_pass').on("focusin",(function(){jQuery(".tva-required-filed").fadeOut("slow"),jQuery(".tva-invalid-email").fadeOut("slow")})),jQuery("#ta-registration-form input[type=email]").on("focusout",(function(){const e={email:jQuery(this).val()};jQuery.ajax({type:"POST",url:t.routes.frontend+"/check_email/",data:e}).done((function(t){!0===t&&(jQuery("#tva-email-error-wrapper").fadeIn("slow"),setTimeout((function(){jQuery("#tva-email-error-wrapper").fadeOut("slow")}),5e3)),jQuery("#tva-register-button").prop("disabled",t)}))}))}if(jQuery(".tva-register-url").on("click",(function(){document.cookie="tva_lesson_to_redirect="+window.location.href+"; path=/"})),("open"===t.course.comment_status||"open"===t.lesson.comment_status)&&!0!==t.has_comment_plugin){s(document).ready((function(){h.tvaGetGuestData(s(".tva-comments-form"));const e=Object.keys(t.lesson).length>0?t.lesson.ID:t.course_ref_post_id;s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",url:t.routes.frontend+"/comments/",data:{comment_data:{comment_post_ID:e,comment_term_ID:e===t.course_ref_post_id?t.course.ID:""}}}).done((function(t){h.comment_count=t.comment_count,h.all_comments=t.comments,h.user_can_manage_comments=t.approve,h.renderCommentsList()}))})),s("#tva-comments-list").on("click",".tva-reply-button",(function(e){s(".tva-comment-form").each((function(t,n){s(n).parent().attr("data-comment-id")!==s(e.currentTarget).parent().attr("data-comment-id")&&s(n).slideUp("slow")})),s(this).parent(".tva-single-comment").find(".tva-comment-form").slideToggle(),!1===t.is_user_logged_in&&h.tvaGetGuestData(s(this))})),s(".tva-frontend-template").on("click","#tva-submit-comment",(function(){const e=s(this),n=h.tvaValidateComment(e);!1!==n&&s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",url:t.routes.frontend+"/create_comment/",data:{comment_data:n}}).done((function(t){s("#tva-comments-list").html(""),s(e).parent(".tva-comments-form").find(".tva-comment-content").val(""),h.childs="",h.html="",h.comment_count=t.comment_count,h.renderCommentListHeader(),_.each(t.comments,(function(t){h.html+='<div class="tva-comment-holder">',h.renderComment(t),h.html+="</div>"})),s("#tva-comments-list").html(h.html)})).fail((function(t){s(e).parent().find(".tva-error-message").remove(),h.tvaShowError(t.status,e)}))}));const h={comment_count:0,all_comments:[],childs:"",html:"",user_can_manage_comments:!1,renderComment:function(e){if(this.html+='<div class="tva-single-comment" data-comment-id="'+e.comment_ID+'">',this.html+='<div class="tva-comment-author">'+e.comment_author+"</div>",1!==parseInt(e.comment_approved)){const e=!0===this.user_can_manage_comments?t.t.This:t.t.Your;this.html+='<div class="tva-comment-approval">',this.html+=e+" "+t.t.Moderation,this.html+="</div>"}if(this.html+='<p class="tva-comment">'+e.comment_content.replace(/(?:\r\n|\r|\n)/g,"<br>")+"</p>",this.tvaCommentReplyForm(),this.html+="</div>",null!==e.children&&e.children.length>0){this.childs=e.children,this.html+='<div class="tva-children-list">';const t=this;_.each(this.childs,(function(e){t.renderComment(e)})),this.html+="</div>"}},tvaValidateComment:function(t){t.parent().find(".tva-error-message").remove();const e=this.tvaPrepareCommentData(t);return""===e.comment_content?this.tvaShowError("invalid_comment_content",t):""===e.comment_author?this.tvaShowError("invalid_comment_author",t):""===e.comment_author_email?this.tvaShowError("missing_author_email",t):!1===/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.comment_author_email)?this.tvaShowError("invalid_author_email",t):""!==e.comment_author_url&&!1===/(http(s)?:\/\/.)(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g.test(e.comment_author_url)?this.tvaShowError("invalid_url",t):e},renderCommentListHeader:function(){this.html+='<div class="tva-comments-number">',1===h.comment_count?this.html+="<p>"+t.t.SingleComment+"</p>":h.comment_count>1&&(this.html+="<p>"+this.comment_count+" "+t.t.MultipleComments+"</p>"),this.html+="</div>"},renderCommentsList:function(){const t=this;this.renderCommentListHeader(),this.html+="</div>",_.each(this.all_comments,(function(e){t.html+='<div class="tva-comment-holder">',t.renderComment(e),t.html+="</div>"})),s("#tva-comments-list").append(this.html)},tvaCommentReplyForm:function(){this.html+='<button class="tva-reply-button">'+t.t.Reply+"</button>",this.html+='<div class="tva-comment-form">',this.html+='<textarea class="tva-comment-content"></textarea>',t.current_user.ID||(this.html+='<div class="tva-guest-fileds">',this.html+='<p class="tva-guest">'+t.t.Guest+"</p>",this.html+="<span>"+t.t.GuestName+"</span>",this.html+='<input type="text" class="tva-comment-input" name="name">',this.html+="<span>"+t.t.GuestEmail+"</span>",this.html+='<input type="text" class="tva-comment-input" name="email">',this.html+="<span>"+t.t.GuestUrl+"</span>",this.html+='<input type="text" class="tva-comment-input" name="url">',this.html+="</div>"),this.html+='<button id="tva-submit-comment" >'+t.t.SubmitComment+"</button>",this.html+="</div>"},tvaPrepareCommentData:function(e){const n=e.parent().parent().attr("data-comment-id"),a=Object.keys(t.lesson).length>0?t.lesson.ID:t.course_ref_post_id,s=1===parseInt(t.is_user_logged_in),o=s?t.current_user.display_name:e.parent().find('input[name="name"]').val(),i=s?t.current_user.user_email:e.parent().find('input[name="email"]').val(),r=s?t.current_user.user_url:e.parent().find('input[name="url"]').val(),c={comment_post_ID:a,comment_content:e.parent().find(".tva-comment-content").val(),comment_parent:void 0!==n?n:0,comment_author:o,comment_author_email:i,comment_author_url:r,user_id:t.current_user.ID?t.current_user.ID:"",comment_type:""};return c.comment_term_ID=0===Object.keys(t.lesson).length?t.course.ID:"",c},tvaShowError:function(e,n){let a="";switch(e){case 409:return a='<div class="tva-error-message">'+t.t.DuplicateComment+"</div>",n.parent().append(a),!1;case 429:return a='<div class="tva-error-message">'+t.t.CommentToFast+"</div>",n.parent().append(a),!1;case"invalid_comment_content":return a='<div class="tva-error-message">'+t.t.EmptyComment+"</div>",n.parent().find(".tva-comment-content").after(a),!1;case"invalid_comment_author":return a='<div class="tva-error-message">'+t.t.EmptyName+"</div>",n.parent().find('input[name="name"]').after(a),!1;case"missing_author_email":return a='<div class="tva-error-message">'+t.t.EmptyEmail+"</div>",n.parent().find('input[name="email"]').after(a),!1;case"invalid_author_email":return a='<div class="tva-error-message">'+t.t.InvalidEmail+"</div>",n.parent().find('input[name="email"]').after(a),!1;case"invalid_url":return a='<div class="tva-error-message">'+t.t.InvalidUrl+"</div>",n.parent().find('input[name="url"]').after(a),!1;default:return!0}},tvaGetGuestData:function(e){if(!0!==t.is_user_logged_in){const t=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_name")).slice(1,-1),n=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_email")).slice(1,-1),a=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_url")).slice(1,-1);e.parent().find('input[name="name"]').val(t),e.parent().find('input[name="email"]').val(n),e.parent().find('input[name="url"]').val(a.replace(/\\\//g,"/"))}},tvaGetCookieData:function(t){const e=t+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let a=n[t];for(;" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""}}}s(".tva-cm-lesson").on("mousedown",(function(){s(this).addClass("tva-lesson-pressed")})),s(".tva-cm-lesson").on("mouseup",(function(){s(this).removeClass("tva-lesson-pressed")})),s(document).ready((function(){if(s(".tva-cm-container").tva_collapsible(t.template),e.config){const o=Object.keys(e.config);s.each(o,(function(n,a){!function(e,n){let a=[];const o="#"+e;(n.modules||n.chapters)&&(n.modules&&a.push("h2"),n.chapters&&a.push("h3.tva-chapter-title"),a=o+" "+a.join(", "+o+" "),s(a).tva_widget_collapsible({current_post_id:parseInt(t.lesson_page)||null}))}(a,e.config[a])}))}const n=s(".tva-course-description");if(t.index_page&&n.addClass("scrollbar-macosx").scrollbar(),"undefined"!=typeof tve_frontend_options&&!tve_frontend_options.is_editor_page){const i=a("pp");if(parseInt(t.is_checkout)&&parseInt(t.is_user_logged_in)&&i&&"sendowl"===i.toLowerCase()&&(a("pid")||a("bid"))){const r=[];r.push({name:"payment_processor",value:a("pp")}),r.push({name:"bid",value:a("bid")}),r.push({name:"pid",value:a("pid")}),r.push({name:"thrv_so_discount",value:a("thrv_so_discount")}),s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",data:r,url:t.routes.user+"/process_redirect/"}).done((function(t){t.message&&TCB_Front.Utils.toast(t.message,!1),t.redirect&&(document.location.href=t.redirect)})).fail((function(t){TCB_Front.Utils.toast(t.responseJSON.message,!0)}))}function a(t){const e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.search);return null!==e&&(e[1]||0)}ThriveGlobal.$j(".thrv-checkout").each((function(){s(this).find('[data-type="password"] input').attr("type","password");const e=["forgot_password","reset_confirmation"],n="tcb-form-error";function o(t,n){t.find(".thrv-button-group").toggleClass("tcb-permanently-hidden",_.contains(e,n))}const i=s(this),r=i.find("form");i.find(".thrv-button-group").off("click.thrv-button-group-item").on("click.thrv-button-group-item",".thrv-button-group-item",(function(t){t.stopPropagation(),t.preventDefault();const e=ThriveGlobal.$j(this),n=e.closest(".thrv-checkout");n.find(".tcb-active-state").removeClass("tcb-active-state"),n.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),e.addClass("tcb-active-state"),n.find('.tcb-tva-checkout-form-wrapper[data-instance="'+e.attr("data-instance")+'"]').removeClass("tcb-permanently-hidden")})),r.off("submit").on("submit",(function(e){e.stopPropagation(),e.preventDefault();const r=i.find('input[name="config"]').val();if(!r)return!1;const c=ThriveGlobal.$j(this),l=c.closest("form"),d=c.serializeArray(),m={};let p="";if(s.map(d,(function(t){m[t.name]=t.value})),_.some(m,(function(t,e){return 0===t.length?(p="empty_fields",!0):"email"!==e||tve_is_email(t)?"confirm_password"===e&&t!==m.password?(p="passwords_not_match",!0):void 0:(p="email",!0)})),p.length>0){const t=TCB_Front.Utils.unserialize(TCB_Front.Base64.decode(r)),e=document.createElement("span");return e.classList.add(n),e.innerText=t.error_messages[p],"empty_fields"===p?l.find('input[type="text"], input[type="email"], input[type="password"]').not(".tcb-form-error").filter((function(){return!this.value})).addClass(n).after(e):"email"===p?l.find('input[type="email"]').not(".tcb-form-error").addClass(n).after(e):"passwords_not_match"===p&&l.find('input[type="password"]').not(".tcb-form-error").addClass(n).after(e),!1}const u=c.closest(".thrv-checkout"),h=c.find("button");h.attr("disabled","disabled"),d.push({name:"payment_processor",value:a("pp")}),d.push({name:"bid",value:a("bid")}),d.push({name:"pid",value:a("pid")}),d.push({name:"thrv_so_discount",value:a("thrv_so_discount")});const v=function(t){let e="";return e="register"===t?"tva_register":t,e}(c.attr("data-route"));s.ajax({headers:{"X-WP-Nonce":t.nonce},type:"POST",data:d,url:t.routes.user+"/"+v+"/"}).fail((function(t){if(_.contains(["existing_user_email","existing_user_login"],t.responseJSON.code)){const t=TCB_Front.Utils.unserialize(TCB_Front.Base64.decode(r)),e=document.createElement("span");e.classList.add(n);let a=t.error_messages.existing_user_email;a=a.replace(/\[a\]/g,'<a href="javascript:void(0)" class="tva-switch-instance-link" data-go_to_instance="login">'),a=a.replace(/\[\/a\]/g,"</a>"),jQuery(e).html(a),l.find('input[type="email"]').not(".tcb-form-error").addClass(n).after(e)}else TCB_Front.Utils.toast(t.responseJSON.message,!0)})).done((function(t){t.message&&TCB_Front.Utils.toast(t.message,!1),t.state&&(u.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),u.find('.tcb-tva-checkout-form-wrapper[data-instance="'+t.state+'"]').removeClass("tcb-permanently-hidden"),o(u,t.state)),t.redirect&&(document.location.href=t.redirect)})).always((function(){h.removeAttr("disabled")}))})),r.find(['input[type="text"]','input[type="email"]','input[type="password"]'].join(",")).on("input",(function(t){const e=t.currentTarget;e.classList.contains(n)&&(e.nextSibling.remove(),e.classList.remove(n))})).on("focus",(function(){this.placeholder=""})).on("blur",(function(){this.placeholder=this.getAttribute("data-placeholder")})),i.off("click.tva-switch-instance-link").on("click.tva-switch-instance-link",".tva-switch-instance-link",(function(t){t.stopPropagation(),t.preventDefault();const e=ThriveGlobal.$j(this),n=e.closest(".thrv-checkout"),a=e.attr("data-go_to_instance");n.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),n.find('.tcb-tva-checkout-form-wrapper[data-instance="'+a+'"]').removeClass("tcb-permanently-hidden"),"login"===a&&(n.find(".tcb-active-state").removeClass("tcb-active-state"),n.find('.thrv-button-group-item[data-instance="'+a+'"]').addClass("tcb-active-state")),o(n,a)})),i.find('.thrv-button-group-item[data-default="true"]').click()}))}})),t.is_editor_page&&TVE.add_filter("tcb_cloud_template_download",(function(e){return(t.is_checkout||t.is_thankyou||t.is_login)&&(e.action="tva_cloud_templates"),e}))}(jQuery)}()}();