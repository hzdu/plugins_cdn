!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=308)}({119:function(t,e){t.exports={tvaRemoveParam:function(t,e){var n=e.split("?")[0];return this.tvaUrlParamExists("page_id",window.location.href)?n=n+"?page_id="+this.tvaGetParameterByName("page_id",window.location.href):n},tvaUrlParamExists:function(t,e){var n=t+"=";return-1!==e.indexOf("?"+n)||-1!==e.indexOf("&"+n)},tvaGetParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},308:function(t,e,n){var a=window.ThriveAppFront||{},o=window.ThriveAppWidgets||{},s=n(119);!function(t){window.TCB_Front&&(TCB_Front.apprenticeDynamicActions=n(309),TCB_Front.apprenticeDynamicActions.init(),n(310)(),tve_frontend_options.is_editor_page||n(311)());var e=t(document);t.fn.extend({tva_collapsible:n(312),tva_widget_collapsible:n(313)}),t(".tva-header .tva-inner-header").children().length>1&&t(".tva-header .tva-inner-header div").last().addClass("tva-dropdownmenu"),t(".tva-header > div > ul li").on("mouseenter",(function(){if(t("ul",this).length){var e=t("ul:first",this);e.offset().left+e.width()<=t(".tva-header").width()||(t(this).parent().addClass("edge"),t(this).find("ul").addClass("edge"))}})),t(".tva-header > div").click((function(){t(this).toggleClass("visible")})),t("#ta-registration-form").on("submit",(function(){t(this).find('input[name="tva_captcha"]').remove()}));var r,i,l=function(e){if("tva_lesson"===a.lesson.post_type&&1!==parseInt(a.visual_editing_enabled)){var n={lesson_id:a.lesson_page,completed:!1};e&&(n.completed=!0),t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",data:n,url:a.routes.frontend+"/mark_lesson/"})}};if(!a.is_inner_frame&&!a.wizard){var c;a.course.ID&&a.allowed&&!a.is_admin&&t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",data:{course_id:a.course.ID},url:a.routes.frontend+"/process_conversion/"}),a.lesson_page&&a.allowed&&l(),t(".tva-finish-lesson").on("click",(function(t){l(!0)})),t(".tva-filter-checkbox-container").on("click",(function(e){e.preventDefault();var n=t(this).find(".tva-filter-course-clear-filters"),a=t(".tva-filters-wrapper"),o=t(".tva-search-wrapper"),r=t(this).find(".tva-filter").is(":checked");if(t(this).find(".tva-filter").prop("checked",!r),n.length>0&&(a.find(".tva-filter-checkbox-container").each((function(){t(this).children("div:first").removeClass("tva-filter-checkbox-selected")})),a.find(".tva-filter").each((function(){t(this).prop("checked",!1)})),o.find(".tva-search-input").val("")),function(e,n){t(e).find(".tva-filter").is(":checked")?t(e).children("div:first").addClass("tva-filter-checkbox-selected"):t(e).children("div:first").removeClass("tva-filter-checkbox-selected");"function"==typeof n&&n()}(this,p),n.length>0){var i="";if(s.tvaUrlParamExists("page_id",window.location.href))i="?page_id="+s.tvaGetParameterByName("page_id",window.location.href);else i=s.tvaRemoveParam("filters",window.location.href);window.history.pushState({},document.title,i)}}));var d=document.getElementById("tva_front_search"),m=null;function p(e){var n=t(".tva-courses-container");if(!0!==n.hasClass("tva-loading")){var o=t(".tva-filter-checkbox-container input:checkbox:checked").map((function(){return t(this).val()})).get();c=t(".tva-search-input").val(),n.addClass("tva-loading"),n.append('<div class="tva-front-loader tva-spinner-css tva-spinner-scope"><div class="tva-spinner-rolling"><div></div></div></div>'),n.find(".tva-course-card").remove(),t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",url:a.routes.frontend+"/filters/",data:{s:c,terms:o,page:e,is_index_page:a.index_page}}).done((function(e){n.removeClass("tva-loading"),n.empty().append(e),a.index_page&&n.find(".tva-course-description").addClass("scrollbar-macosx").scrollbar(),t("html, body").animate({scrollTop:0},400),t(".ttw-uni-page-numbers").on("click",(function(){p(t(this).attr("data-tva-page-nr"))})),u()}))}}function u(){var e;e=!0===t(".tva-filters-container").find(".tva-filter").is(":checked")?"inline-block":"none",t(".tva-clear-filters").css("display",e)}d&&(d.onkeyup=function(){var t=this;m&&clearTimeout(m),m=setTimeout((function(){c!==t.value&&p()}),300)},e.on("click",".tva-search-submit",(function(){p()}))),e.on("click","a.tva-page-numbers",(function(){p(t(this).attr("data-tva-page-nr"))})),u()}1==a.tva_register_page&&(jQuery('input[type="password"]').on("change",(function(){r=jQuery("input[name='user_pass']").val(),i=jQuery("input[name='confirm_pass']").val()})),jQuery("#tva-register-button").on("click",(function(e){var n;!0!==(n=jQuery("input[name=user_email]").val(),/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n))&&(e.preventDefault(),jQuery(".tva-password-mismatch").fadeIn("slow"),jQuery(".tva-invalid-email").fadeIn("slow")),jQuery('input[name="user_pass"], input[name="user_login"]').each((function(){""===jQuery(this).val()&&(e.preventDefault(),setTimeout((function(){jQuery(".tva-required-filed").fadeOut("slow"),jQuery(".tva-invalid-email").fadeOut("slow")}),5e3)),r!==i&&(jQuery(".tva-invalid-password").fadeIn("slow"),e.preventDefault())})),void 0===r&&t('input[name="user_pass"]').parent().next("p").fadeIn("slow"),void 0===i&&(t('input[name="confirm_pass"]').parent().next("p").fadeIn("slow"),t("#tva-register-button").addClass("tva-btn-margin-top"))})),jQuery('input[name="user_pass"], input[name="confirm_pass"]').on("focusin",(function(){jQuery(".tva-invalid-password").fadeOut("slow")})),jQuery('#ta-registration-form input[type=email], input[name="user_pass"], input[name="confirm_pass').on("focusin",(function(){jQuery(".tva-required-filed").fadeOut("slow"),jQuery(".tva-invalid-email").fadeOut("slow")})),jQuery("#ta-registration-form input[type=email]").on("focusout",(function(){var t={email:jQuery(this).val()};jQuery.ajax({type:"POST",url:a.routes.frontend+"/check_email/",data:t}).done((function(t){!0===t&&(jQuery("#tva-email-error-wrapper").fadeIn("slow"),setTimeout((function(){jQuery("#tva-email-error-wrapper").fadeOut("slow")}),5e3)),jQuery("#tva-register-button").prop("disabled",t)}))})));if(jQuery(".tva-register-url").on("click",(function(){document.cookie="tva_lesson_to_redirect="+window.location.href+"; path=/"})),("open"===a.course.comment_status||"open"===a.lesson.comment_status)&&!0!==a.has_comment_plugin){t(document).ready((function(){v.tvaGetGuestData(t(".tva-comments-form"));var e=Object.keys(a.lesson).length>0?a.lesson.ID:a.course_ref_post_id;t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",url:a.routes.frontend+"/comments/",data:{comment_data:{comment_post_ID:e,comment_term_ID:e===a.course_ref_post_id?a.course.ID:""}}}).done((function(t){v.comment_count=t.comment_count,v.all_comments=t.comments,v.user_can_manage_comments=t.approve,v.renderCommentsList()}))})),t("#tva-comments-list").on("click",".tva-reply-button",(function(e){t(".tva-comment-form").each((function(n,a){t(a).parent().attr("data-comment-id")!==t(e.currentTarget).parent().attr("data-comment-id")&&t(a).slideUp("slow")})),t(this).parent(".tva-single-comment").find(".tva-comment-form").slideToggle(),!1===a.is_user_logged_in&&v.tvaGetGuestData(t(this))})),t(".tva-frontend-template").on("click","#tva-submit-comment",(function(){var e=t(this),n=v.tvaValidateComment(e);!1!==n&&t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",url:a.routes.frontend+"/create_comment/",data:{comment_data:n}}).done((function(n){t("#tva-comments-list").html(""),t(e).parent(".tva-comments-form").find(".tva-comment-content").val(""),v.childs="",v.html="",v.comment_count=n.comment_count,v.renderCommentListHeader(),_.each(n.comments,(function(t){v.html+='<div class="tva-comment-holder">',v.renderComment(t),v.html+="</div>"})),t("#tva-comments-list").html(v.html)})).fail((function(n){t(e).parent().find(".tva-error-message").remove(),v.tvaShowError(n.status,e)}))}));var v={comment_count:0,all_comments:[],childs:"",html:"",user_can_manage_comments:!1,renderComment:function(t){if(this.html+='<div class="tva-single-comment" data-comment-id="'+t.comment_ID+'">',this.html+='<div class="tva-comment-author">'+t.comment_author+"</div>",1!==parseInt(t.comment_approved)){var e=!0===this.user_can_manage_comments?a.t.This:a.t.Your;this.html+='<div class="tva-comment-approval">',this.html+=e+" "+a.t.Moderation,this.html+="</div>"}if(this.html+='<p class="tva-comment">'+t.comment_content.replace(/(?:\r\n|\r|\n)/g,"<br>")+"</p>",this.tvaCommentReplyForm(),this.html+="</div>",null!==t.children&&t.children.length>0){this.childs=t.children,this.html+='<div class="tva-children-list">';var n=this;_.each(this.childs,(function(t){n.renderComment(t)})),this.html+="</div>"}},tvaValidateComment:function(t){t.parent().find(".tva-error-message").remove();var e=this.tvaPrepareCommentData(t);if(""===e.comment_content)return this.tvaShowError("invalid_comment_content",t);if(""===e.comment_author)return this.tvaShowError("invalid_comment_author",t);if(""===e.comment_author_email)return this.tvaShowError("missing_author_email",t);return!1===/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.comment_author_email)?this.tvaShowError("invalid_author_email",t):""!==e.comment_author_url&&!1===/(http(s)?:\/\/.)(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g.test(e.comment_author_url)?this.tvaShowError("invalid_url",t):e},renderCommentListHeader:function(){this.html+='<div class="tva-comments-number">',1===v.comment_count?this.html+="<p>"+a.t.SingleComment+"</p>":v.comment_count>1&&(this.html+="<p>"+this.comment_count+" "+a.t.MultipleComments+"</p>"),this.html+="</div>"},renderCommentsList:function(){var e=this;this.renderCommentListHeader(),this.html+="</div>",_.each(this.all_comments,(function(t){e.html+='<div class="tva-comment-holder">',e.renderComment(t),e.html+="</div>"})),t("#tva-comments-list").append(this.html)},tvaCommentReplyForm:function(){this.html+='<button class="tva-reply-button">'+a.t.Reply+"</button>",this.html+='<div class="tva-comment-form">',this.html+='<textarea class="tva-comment-content"></textarea>',a.current_user.ID||(this.html+='<div class="tva-guest-fileds">',this.html+='<p class="tva-guest">'+a.t.Guest+"</p>",this.html+="<span>"+a.t.GuestName+"</span>",this.html+='<input type="text" class="tva-comment-input" name="name">',this.html+="<span>"+a.t.GuestEmail+"</span>",this.html+='<input type="text" class="tva-comment-input" name="email">',this.html+="<span>"+a.t.GuestUrl+"</span>",this.html+='<input type="text" class="tva-comment-input" name="url">',this.html+="</div>"),this.html+='<button id="tva-submit-comment" >'+a.t.SubmitComment+"</button>",this.html+="</div>"},tvaPrepareCommentData:function(t){var e=t.parent().parent().attr("data-comment-id"),n=Object.keys(a.lesson).length>0?a.lesson.ID:a.course_ref_post_id,o=1===parseInt(a.is_user_logged_in),s=o?a.current_user.display_name:t.parent().find('input[name="name"]').val(),r=o?a.current_user.user_email:t.parent().find('input[name="email"]').val(),i=o?a.current_user.user_url:t.parent().find('input[name="url"]').val(),l={comment_post_ID:n,comment_content:t.parent().find(".tva-comment-content").val(),comment_parent:void 0!==e?e:0,comment_author:s,comment_author_email:r,comment_author_url:i,user_id:a.current_user.ID?a.current_user.ID:"",comment_type:""};return l.comment_term_ID=0===Object.keys(a.lesson).length?a.course.ID:"",l},tvaShowError:function(t,e){var n="";switch(t){case 409:return n='<div class="tva-error-message">'+a.t.DuplicateComment+"</div>",e.parent().append(n),!1;case 429:return n='<div class="tva-error-message">'+a.t.CommentToFast+"</div>",e.parent().append(n),!1;case"invalid_comment_content":return n='<div class="tva-error-message">'+a.t.EmptyComment+"</div>",e.parent().find(".tva-comment-content").after(n),!1;case"invalid_comment_author":return n='<div class="tva-error-message">'+a.t.EmptyName+"</div>",e.parent().find('input[name="name"]').after(n),!1;case"missing_author_email":return n='<div class="tva-error-message">'+a.t.EmptyEmail+"</div>",e.parent().find('input[name="email"]').after(n),!1;case"invalid_author_email":return n='<div class="tva-error-message">'+a.t.InvalidEmail+"</div>",e.parent().find('input[name="email"]').after(n),!1;case"invalid_url":return n='<div class="tva-error-message">'+a.t.InvalidUrl+"</div>",e.parent().find('input[name="url"]').after(n),!1;default:return!0}},tvaGetGuestData:function(t){if(!0!==a.is_user_logged_in){var e=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_name")).slice(1,-1),n=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_email")).slice(1,-1),o=decodeURIComponent(this.tvaGetCookieData("tva_cookie_user_url")).slice(1,-1);t.parent().find('input[name="name"]').val(e),t.parent().find('input[name="email"]').val(n),t.parent().find('input[name="url"]').val(o.replace(/\\\//g,"/"))}},tvaGetCookieData:function(t){for(var e=t+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return""}}}t(".tva-cm-lesson").on("mousedown",(function(){t(this).addClass("tva-lesson-pressed")})),t(".tva-cm-lesson").on("mouseup",(function(){t(this).removeClass("tva-lesson-pressed")})),t(document).ready((function(){if(t(".tva-cm-container").tva_collapsible(a.template),o.config){var e=Object.keys(o.config);t.each(e,(function(e,n){!function(e,n){var o=[],s="#"+e;(n.modules||n.chapters)&&(n.modules&&o.push("h2"),n.chapters&&o.push("h3.tva-chapter-title"),o=s+" "+o.join(", "+s+" "),t(o).tva_widget_collapsible({current_post_id:parseInt(a.lesson_page)||null}))}(n,o.config[n])}))}var n=t(".tva-course-description");if(a.index_page&&n.addClass("scrollbar-macosx").scrollbar(),"undefined"!=typeof tve_frontend_options&&!tve_frontend_options.is_editor_page){var s=i("pp");if(parseInt(a.is_checkout)&&parseInt(a.is_user_logged_in)&&s&&"sendowl"===s.toLowerCase()&&(i("pid")||i("bid"))){var r=[];r.push({name:"payment_processor",value:i("pp")}),r.push({name:"bid",value:i("bid")}),r.push({name:"pid",value:i("pid")}),r.push({name:"thrv_so_discount",value:i("thrv_so_discount")}),t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",data:r,url:a.routes.user+"/process_redirect/"}).done((function(t){t.message&&TCB_Front.Utils.toast(t.message,!1),t.redirect&&(document.location.href=t.redirect)})).fail((function(t){TCB_Front.Utils.toast(t.responseJSON.message,!0)}))}function i(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.search);return null!==e&&(e[1]||0)}ThriveGlobal.$j(".thrv-checkout").each((function(){t(this).find('[data-type="password"] input').attr("type","password");var e=["forgot_password","reset_confirmation"],n="tcb-form-error";function o(t){t.stopPropagation(),t.preventDefault();var e=ThriveGlobal.$j(this),n=e.closest(".thrv-checkout");n.find(".tcb-active-state").removeClass("tcb-active-state"),n.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),e.addClass("tcb-active-state"),n.find('.tcb-tva-checkout-form-wrapper[data-instance="'+e.attr("data-instance")+'"]').removeClass("tcb-permanently-hidden")}function s(t,n){t.find(".thrv-button-group").toggleClass("tcb-permanently-hidden",_.contains(e,n))}var r=t(this),l=r.find("form");r.find(".thrv-button-group").off("click.thrv-button-group-item").on("click.thrv-button-group-item",".thrv-button-group-item",o),l.off("submit").on("submit",(function(e){e.stopPropagation(),e.preventDefault();var o=r.find('input[name="config"]').val();if(!o)return!1;var l=ThriveGlobal.$j(this),c=l.closest("form"),d=l.serializeArray(),m={},p="";if(t.map(d,(function(t){m[t.name]=t.value})),_.some(m,(function(t,e){return 0===t.length?(p="empty_fields",!0):"email"!==e||tve_is_email(t)?"confirm_password"===e&&t!==m.password?(p="passwords_not_match",!0):void 0:(p="email",!0)})),p.length>0){var u=TCB_Front.Utils.unserialize(TCB_Front.Base64.decode(o)),v=document.createElement("span");return v.classList.add(n),v.innerText=u.error_messages[p],"empty_fields"===p?c.find('input[type="text"], input[type="email"], input[type="password"]').not("."+n).filter((function(){return!this.value})).addClass(n).after(v):"email"===p?c.find('input[type="email"]').not("."+n).addClass(n).after(v):"passwords_not_match"===p&&c.find('input[type="password"]').not("."+n).addClass(n).after(v),!1}var h=l.closest(".thrv-checkout"),f=l.find("button");f.attr("disabled","disabled"),d.push({name:"payment_processor",value:i("pp")}),d.push({name:"bid",value:i("bid")}),d.push({name:"pid",value:i("pid")}),d.push({name:"thrv_so_discount",value:i("thrv_so_discount")});var g=function(t){var e="";switch(t){case"register":e="tva_register";break;default:e=t}return e}(l.attr("data-route"));t.ajax({headers:{"X-WP-Nonce":a.nonce},type:"POST",data:d,url:a.routes.user+"/"+g+"/"}).fail((function(t){if(_.contains(["existing_user_email","existing_user_login"],t.responseJSON.code)){var e=TCB_Front.Utils.unserialize(TCB_Front.Base64.decode(o)),a=document.createElement("span");a.classList.add(n);var s=e.error_messages.existing_user_email;s=(s=s.replace(/\[a\]/g,'<a href="javascript:void(0)" class="tva-switch-instance-link" data-go_to_instance="login">')).replace(/\[\/a\]/g,"</a>"),jQuery(a).html(s),c.find('input[type="email"]').not("."+n).addClass(n).after(a)}else TCB_Front.Utils.toast(t.responseJSON.message,!0)})).done((function(t){t.message&&TCB_Front.Utils.toast(t.message,!1),t.state&&(h.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),h.find('.tcb-tva-checkout-form-wrapper[data-instance="'+t.state+'"]').removeClass("tcb-permanently-hidden"),s(h,t.state)),t.redirect&&(document.location.href=t.redirect)})).always((function(){f.removeAttr("disabled")}))}));l.find(['input[type="text"]','input[type="email"]','input[type="password"]'].join(",")).on("input",(function(t){var e=t.currentTarget;e.classList.contains(n)&&(e.nextSibling.remove(),e.classList.remove(n))})).on("focus",(function(){this.placeholder=""})).on("blur",(function(){this.placeholder=this.getAttribute("data-placeholder")})),r.off("click.tva-switch-instance-link").on("click.tva-switch-instance-link",".tva-switch-instance-link",(function(t){t.stopPropagation(),t.preventDefault();var e=ThriveGlobal.$j(this),n=e.closest(".thrv-checkout"),a=e.attr("data-go_to_instance");n.find(".tcb-tva-checkout-form-wrapper").addClass("tcb-permanently-hidden"),n.find('.tcb-tva-checkout-form-wrapper[data-instance="'+a+'"]').removeClass("tcb-permanently-hidden"),"login"===a&&(n.find(".tcb-active-state").removeClass("tcb-active-state"),n.find('.thrv-button-group-item[data-instance="'+a+'"]').addClass("tcb-active-state")),s(n,a)})),r.find('.thrv-button-group-item[data-default="true"]').click()}))}})),a.is_editor_page&&TVE.add_filter("tcb_cloud_template_download",(function(t){(a.is_checkout||a.is_thankyou||a.is_login)&&(t.action="tva_cloud_templates");return t}))}(jQuery)},309:function(t,e){var n,a;n=ThriveGlobal.$j,a=TCB_Front,t.exports={isCompleted:0,allowMarkComplete:!0,nextLessonUrl:"",init:function(){var t=this;this.isCompleted=parseInt(ThriveAppFront.is_completed),this.nextLessonUrl=ThriveAppFront.next_lesson_url,this.nextLessonText=ThriveAppFront.next_lesson_text,void 0!==ThriveAppFront.allow_mark_complete&&(this.allowMarkComplete=1===parseInt(ThriveAppFront.allow_mark_complete)),tve_frontend_options.is_editor_page||(this.frontendInit(),this.allowMarkComplete||n(TCB_Front).on("tqb_shortcode_response",(function(e,a){t.allowMarkComplete=a&&void 0!==a.tva_allow_mark_as_complete&&1===parseInt(a.tva_allow_mark_as_complete),t.allowMarkComplete&&n(".tva-disabled-mark-as-complete").removeClass("tva-disabled-mark-as-complete")})))},frontendInit:function(t){var e=this;this.$root=t||a.$document,this.$root.on("tve-dash.load",(function(){TVE_Dash.add_load_item("ta_access_post",{post_id:ThriveAppFront.post_id},null)})),"tva_lesson"===ThriveAppFront.lesson.post_type&&(this.$root.find('span[data-shortcode="tva_dynamic_actions_mark_as_complete_text"][data-attr-go_next_lesson="0"],span[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"][data-attr-go_next_lesson="0"],a.tve-dynamic-link[data-shortcode-id="mark_as_complete"]').on("click",{},this.markLessonEventCallback.bind(this)),this.$root.find('span[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"][data-attr-go_next_lesson="1"],span[data-shortcode="tva_dynamic_actions_mark_as_complete_text"][data-attr-go_next_lesson="1"],a.tve-dynamic-link[data-shortcode-id="mark_as_complete_next"]').on("click",{},this.markLessonAndGoNextEventCallback.bind(this)),this.$root.on("unwrapBlockLinks",(function(){e.$root.find('.thrv_wrapper[data-shortcode-id="mark_as_complete_next"]').on("click",{},e.markLessonAndGoNextEventCallback.bind(e)),e.$root.find('.thrv_wrapper[data-shortcode-id="mark_as_complete"]').on("click",{},e.markLessonEventCallback.bind(e))})))},markLessonEventCallback:function(t){t.preventDefault(),this.allowMarkComplete?this.isCompleted?this.goToNextLesson(t.currentTarget):this.markLesson().then():TCB_Front.notificationElement.toggle(ThriveAppFront.deny_mark_complete_toast,"warning")},markLessonAndGoNextEventCallback:function(t){var e=this;if(t.preventDefault(),this.allowMarkComplete){var a=n(t.currentTarget).closest(".thrv_wrapper.thrv-button");if(a.length&&0===parseInt(a.attr("data-next")))return a.find("a").attr("href","javascript:void(0)"),this.markLesson().then((function(){n(t.currentTarget).attr({href:e.nextLessonUrl})}));this.markLessonAndGoToNext(t.currentTarget)}else TCB_Front.notificationElement.toggle(ThriveAppFront.deny_mark_complete_toast,"warning")},markLesson:function(){var t=this;return new Promise((function(e){if(t.isCompleted)return t.updateMarkLessonCompleteAndNext(),void e();t.isCompleted=!0,wp.apiRequest({type:"POST",data:{lesson_id:parseInt(ThriveAppFront.lesson_page),completed:1},url:ThriveAppFront.routes.frontend+"/mark_lesson/"}).success((function(n){n.message&&TCB_Front.Utils.toast(n.message),n.progress_bar&&t.updateOldProgressBar(n.progress_bar),n.lessons_list&&t.updateOldLessonList(n.lessons_list),n.next_lesson_url&&(t.nextLessonUrl=n.next_lesson_url),n.next_lesson_text&&(t.nextLessonText=n.next_lesson_text),t.updateMarkLessonCompleteAndNext(),e(n)}))}))},updateOldProgressBar:function(t){this.$root.find(".tva-progress-container").html(t)},updateOldLessonList:function(t){this.$root.find(".tva-lessons-container").html(t)},markLessonAndGoToNext:function(t){var e=this;this.markLesson(t).then((function(){return e.goToNextLesson(t)}))},updateMarkLessonCompleteAndNext:function(){var t=this;this.$root.find('[data-shortcode="tva_dynamic_actions_mark_as_complete_next_text"]').each((function(e,a){if(1===parseInt(a.getAttribute("data-attr-link"))){var o=a.querySelector("a");o.textContent=t.nextLessonText,o.href=t.nextLessonUrl,n(a).unbind()}else a.textContent=t.nextLessonText})),this.$root.find('[data-shortcode="tva_dynamic_actions_mark_as_complete_text"]').each((function(t,e){e.closest(".thrv_text_element")&&(e.style.display="none")}))},goToNextLesson:function(t){"A"===t.tagName&&"_blank"===t.target||"DIV"===t.tagName&&"_blank"===t.getAttribute("data-target")?window.open(this.nextLessonUrl,"_blank","noopener"):top.location.href=this.nextLessonUrl}}},310:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,o,s;a=ThriveGlobal.$j,o=TCB_Front,s={allowDownload:!1,title:"",init:function(){ThriveAppFront.certificate?(this.allowDownload=1===Number(ThriveAppFront.certificate.allow_download),this.title=String(ThriveAppFront.certificate.title)):ThriveAppFront.wizard&&(this.allowDownload=!0),tve_frontend_options.is_editor_page||this.frontendInit()},frontendInit:function(t){this.$root=t||o.$document,this.$certificates=this.$root.find('a.tve-dynamic-link[data-shortcode-id="download_certificate"]'),this.allowDownload?this.$certificates.off("click").on("click",{},this.downloadCertificate.bind(this)):this.$certificates.remove()},downloadCertificate:function(t){t&&t.preventDefault();var e=this.title,o=this.$certificates,s=a("body");o.addClass("tar-disabled tve-loading"),a.ajax({url:"".concat(ThriveAppFront.routes.certificate,"/download"),type:"POST",cache:!1,data:{course_id:ThriveAppFront.course.ID},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",ThriveAppFront.nonce)},xhr:function(){var t=new XMLHttpRequest;return t.onreadystatechange=function(){2===t.readyState&&(t.responseType=200===t.status?"blob":"text")},t},success:function(t){var n=new Blob([t],{type:"application/octetstream"}),r=window.URL||window.webkitURL,i=a("<a />").attr({href:r.createObjectURL(n),download:"".concat(e,".pdf")});s.append(i),i[0].click(),s.remove(i),o.removeClass("tar-disabled tve-loading")},error:function(t){o.removeClass("tar-disabled tve-loading");var e="object"===n(t.responseJSON)&&t.responseJSON.message?t.responseJSON.message:t.statusText,a=t.status&&401===t.status?"warning":"error";TCB_Front.notificationElement.toggle(e,a)}})}},t.exports=function(){return s.init()}},311:function(t,e){var n,a,o;n=ThriveGlobal.$j,a=TCB_Front,o={init:function(){var t=this;n(window).on("tcb_after_dom_ready",(function(){t.afterDomReady()}))},afterDomReady:function(){var t=a.queryString.get("tva-show-message");t&&ThriveAppFront.frontend_warnings[t]&&a.notificationElement.toggle(ThriveAppFront.frontend_warnings[t],"warning")}},t.exports=function(){return o.init()}},312:function(t,e){var n;(n=jQuery).fn.extend({tva_collapse:function(t){return this.each((function(){var e=n(this),a=e.parent();e.addClass(t.class_collapsed),e.removeClass(t.class_expanded),!1===e.hasClass("tva_chapter_headline")?(a.find(".tve-chapters-wrapper").slideUp(),0===a.find(".tve-chapters-wrapper").length&&a.find(".tve-lessons-wrapper").slideUp()):e.hasClass("tva_chapter_headline")&&a.find(".tve-lessons-wrapper").slideUp()}))},tva_expand:function(t){return this.each((function(){var e=n(this),a=e.parent();e.removeClass(t.class_collapsed),e.addClass(t.class_expanded),!1===e.hasClass("tva_chapter_headline")?(a.find(".tve-chapters-wrapper").slideDown(),0===a.find(".tve-chapters-wrapper").length&&a.find(".tve-lessons-wrapper").slideDown()):e.hasClass("tva_chapter_headline")&&a.find(".tve-lessons-wrapper").slideDown()}))}}),t.exports=function(t){var e=n.extend({class_expanded:"tva-expanded",class_collapsed:"tva-collapsed",collapse_modules:!1,collapse_chapters:!1},t);return this.each((function(){var t=n(this);t.find(".tva-cm-module .tva-module-header")[e.collapse_modules?"tva_collapse":"tva_expand"](e),t.find("h2.tva_chapter_headline")[e.collapse_chapters?"tva_collapse":"tva_expand"](e),t.find(".tva-cm-module .tva-module-header, h2.tva_chapter_headline").off("click").on("click",(function(t){var a=n(this);"a"!==t.target.tagName.toLowerCase()&&(a.hasClass(e.class_collapsed)?a.tva_expand(e):a.tva_collapse(e))}))}))}},313:function(t,e){var n;n=jQuery,t.exports=function(t){var e=n.extend({class_expanded:"tva-expanded",class_collapsed:"tva-collapsed",slide_time:200,module_tag:"h2",chapter_tag:"h3",current_post_id:null},t);function a(t){var n;return function(t){return t.is(e.module_tag)}(t)?(n=".tva-chapter-lessons",n+=0===t.parent().find("> .tva-chapter-lessons").length?", .tva-lessons-wrapper":""):function(t){return t.is(e.chapter_tag)}(t)&&(n=".tva-lessons-wrapper"),n}function o(){var t=n(this),o=a(t);t.parent().find(o).slideDown(e.slide_time),this.classList.remove(e.class_collapsed),this.classList.add(e.class_expanded)}function s(){var t=n(this),o=a(t),s=t.parent();t.addClass(e.class_collapsed),t.removeClass(e.class_expanded),s.find(o).slideUp(e.slide_time)}return this.each((function(){var t=n(this),a=t.parent().find('.tva-lesson-container[data-id="'+e.current_post_id+'"]');try{e.current_post_id===parseInt(t.data("id"))||a.length>0?o.apply(this):s.apply(this)}catch(t){console.log(t)}t.off("click").on("click",(function(t){if("a"!==t.target.tagName.toLowerCase()){var a=n(this);try{a.hasClass(e.class_collapsed)?o.apply(this):s.apply(this)}catch(t){console.log(t)}}}))}))}}});