!function(e){function t(t){let n=e(t).find(".edit-menu-item-classes").val();const l=e(t).find(".field-url");n=n?n.split(" "):n,n&&"tva-menu-item"===n[0]&&("logout"===n[1]?l.toggleClass("hidden-field",!0):(i(t.find(".tva-link-to")),t.find(".tva-link-to").on("change",(e=>{i(e.target)}))))}function i(t){const i=e(t).find(":selected").val(),n=e(t).closest(".menu-item-settings");let l=n.find(".edit-menu-item-classes").val();if(i&&l&&(l=l.split(" ")[1],links.home_url===links[0][l][i]?(n.find(".notice-error").toggleClass("hidden-field",!1),"page"===i?n.find(".notice-error p").html(`Please note that you have not yet set an Apprentice login-register page, you can set it from <a href="${links.home_url}/wp-admin/admin.php?page=thrive_apprentice#settings/access-restriction"> here </a>`):n.find(".notice-error p").html("This link is unavailable")):(n.find(".notice-error").toggleClass("hidden-field",!0),n.find(".notice-error p").html("")),n.find(".field-url").toggleClass("hidden-field","custom"!==i),"custom"===i&&links.legacy_theme)){const i=n.outerHeight();n.find(".field-url").insertAfter(e(t).closest(".link-to")),n.outerHeight(i>315?i:315)}}function n(t,i=0){const l=e("#ta-link-checklist"),s=l.find(".menu-item-title input:checked").length,o=l.find(".menu-item-title input:checked");if(s){const t=e(o[i]).attr("data-link"),l=e(o[i]).parent().text().trim(),s=e(o[i]).attr("data-slug"),a=e(o[i]),c={"-1":{"menu-item-type":"custom","menu-item-url":t,"menu-item-title":l,"menu-item-classes":`tva-menu-item ${s}`}};wpNavMenu.addItemToMenu(c,wpNavMenu.addMenuItemToBottom,(function(){a.removeAttr("checked"),n()}))}}e(document).on("menu-item-added",((e,i)=>{t(i)})),e((function(){e("#tva_account_links").is(":hidden")&&e("#tva_account_links-hide").click(),e("#submit-ta-links").on("click",(e=>{n(0,0)})),e(".tva-link-to").on("change",(e=>{i(e.target)})),e(".field-url").each((function(i,n){const l=e(n).closest(".menu-item-settings");let s=l.find(".edit-menu-item-classes").val();s=s?s.split(" "):s,s&&"tva-menu-item"===s[0]&&t(l)}))}))}(jQuery);