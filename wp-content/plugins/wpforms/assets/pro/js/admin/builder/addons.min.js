var WPForms=window.WPForms||{};WPForms.Admin=WPForms.Admin||{},WPForms.Admin.Builder=WPForms.Admin.Builder||{},WPForms.Admin.Builder.Addons=WPForms.Admin.Builder.Addons||function(d){const e={},s={isGoogleSheetsVisited:!1,init(){d(s.ready)},ready(){s.setup(),s.events()},setup(){e.$builder=d("#wpforms-builder")},events(){e.$builder.on("click","#wpforms-panel-field-settings-conversational_forms_enable",s.optionCFEnableModal),e.$builder.on("click","#wpforms-panel-field-settings-save_resume_enable",s.optionSaveAndResumeEnableModal),e.$builder.on("click","#wpforms-panel-field-settings-form_abandonment",s.optionFormAbandonmentEnableModal),e.$builder.on("click",".wpforms-panel-sidebar-section-google-sheets",s.optionGoogleSheetsVisitedModal),e.$builder.on("click","#wpforms-panel-field-lead_forms-enable",s.optionLeadFormsEnableModal),e.$builder.on("wpformsFieldAddDragStart wpformsBeforeFieldAddOnClick",s.layoutFieldsCantAddModal)},layoutFieldsCantAddModal(o,r){if(s.isLayoutBasedField(r)){let e="";s.isAddonEnabled("wpforms-conversational-forms")&&(e=wpforms_builder[r].field_add_cf_alert_text,o.preventDefault()),s.isAddonEnabled("wpforms-save-resume")&&"repeater"===r&&!s.isInsideRepeaterAddonAllowed("wpforms-save-resume")&&(e=wpforms_builder.repeater.addons_requirements_alert_text["wpforms-save-resume"]),s.isAddonEnabled("wpforms-form-abandonment")&&"repeater"===r&&!s.isInsideRepeaterAddonAllowed("wpforms-form-abandonment")&&(e=wpforms_builder.repeater.addons_requirements_alert_text["wpforms-form-abandonment"]),d(".wpforms-panel-sidebar-section-google-sheets").hasClass("education-modal")||"repeater"!==r||s.isInsideRepeaterAddonAllowed("wpforms-google-sheets")||(e=wpforms_builder.repeater.addons_requirements_alert_text["wpforms-google-sheets"]),s.isAddonEnabled("wpforms-lead-forms")&&"repeater"===r&&!s.isInsideRepeaterAddonAllowed("wpforms-lead-forms")&&(e=wpforms_builder.repeater.addons_requirements_alert["wpforms-lead-forms"],o.preventDefault()),""!==e&&s.openModal({content:e})}},isAddonEnabled(e){var o={"wpforms-conversational-forms":"#wpforms-panel-field-settings-conversational_forms_enable","wpforms-save-resume":"#wpforms-panel-field-settings-save_resume_enable","wpforms-form-abandonment":"#wpforms-panel-field-settings-form_abandonment","wpforms-lead-forms":"#wpforms-panel-field-lead_forms-enable"};return!!o[e]&&d(o[e]).is(":checked")},isInsideRepeaterAddonAllowed(e){return wpforms_builder.repeater.addons_requirements[e]},isRepeaterAdded(){return 0<d("#wpforms-field-options .wpforms-field-option-repeater").length},optionFormAbandonmentEnableModal(){s.isAddonEnabled("wpforms-form-abandonment")&&!s.isInsideRepeaterAddonAllowed("wpforms-form-abandonment")&&s.isRepeaterAdded()&&s.openModal({content:wpforms_builder.repeater.addons_requirements_alert_text["wpforms-form-abandonment"]})},optionGoogleSheetsVisitedModal(){s.isGoogleSheetsVisited||d(this).hasClass("education-modal")||s.isInsideRepeaterAddonAllowed("wpforms-google-sheets")||s.isRepeaterAdded()&&(s.isGoogleSheetsVisited=!0,s.openModal({content:wpforms_builder.repeater.addons_requirements_alert_text["wpforms-google-sheets"]}))},optionSaveAndResumeEnableModal(){s.isAddonEnabled("wpforms-save-resume")&&!s.isInsideRepeaterAddonAllowed("wpforms-save-resume")&&s.isRepeaterAdded()&&s.openModal({content:wpforms_builder.repeater.addons_requirements_alert_text["wpforms-save-resume"]})},optionCFEnableModal(e){s.isAddonEnabled("wpforms-conversational-forms")&&s.isRepeaterAdded()&&(e.preventDefault(),s.openModal({content:wpforms_builder.repeater.enabled_cf_alert_text}))},optionLeadFormsEnableModal(e){s.isAddonEnabled("wpforms-lead-forms")&&s.isRepeaterAdded()&&(e.preventDefault(),s.openModal({content:wpforms_builder.repeater.addons_requirements_alert_text["wpforms-lead-forms"]}))},openModal(e){e&&e.content&&d.confirm({title:e.title??wpforms_builder.heads_up,content:e.content,icon:e.icon??"fa fa-exclamation-circle",type:e.type??"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})},isLayoutBasedField(e){return!!WPForms.Admin.Builder.FieldLayout&&WPForms.Admin.Builder.FieldLayout.isLayoutBasedField(e)}};return s}((document,window,jQuery)),WPForms.Admin.Builder.Addons.init();