import{a,c as r,m as l}from"./vuex.esm.8fdeb4b6.js";import{W as c}from"./WpTable.e9a9eb34.js";import{n}from"./_plugin-vue2_normalizer.61652a7c.js";import"./index.da77b995.js";import"./SaveChanges.e40a9083.js";import{P as p}from"./PostTypes.9ab32454.js";import{S as u,T as d}from"./Table.a4e25fec.js";import{C as _}from"./ScoreButton.392b731e.js";import{C as f}from"./Table.8c51f443.js";import{C as h}from"./Index.5c05423e.js";import{S as m,a as g,b,c as v}from"./Affiliate.e587b0fd.js";import{S as k}from"./Suggestion.5facc4fd.js";const y={components:{SvgLinkAffiliate:m,SvgLinkExternal:g,SvgLinkInternalInbound:b,SvgLinkInternalOutbound:v,SvgLinkSuggestion:k},data(){return{strings:{links:this.$t.__("Links:",this.$tdPro)}}},props:{row:Object}};var C=function(){var t=this,s=t._self._c;return t.row.postId?s("div",{staticClass:"post-actions"},[this.$addons.isActive("aioseo-link-assistant")&&!this.$addons.requiresUpgrade("aioseo-link-assistant")&&t.row.linkAssistant?s("div",{staticClass:"link-assistant"},[s("div",{staticClass:"title"},[t._v(t._s(t.strings.links))]),s("div",{staticClass:"count"},[s("svg-link-internal-inbound"),s("span",{staticClass:"total"},[t._v(t._s(t.row.linkAssistant.inboundInternal||0))])],1),s("div",{staticClass:"count"},[s("svg-link-internal-outbound"),s("span",{staticClass:"total"},[t._v(t._s(t.row.linkAssistant.outboundInternal||0))])],1),s("div",{staticClass:"count"},[s("svg-link-external"),s("span",{staticClass:"total"},[t._v(t._s(t.row.linkAssistant.external||0))])],1),s("div",{staticClass:"count"},[s("svg-link-affiliate"),s("span",{staticClass:"total"},[t._v(t._s(t.row.linkAssistant.affiliate||0))])],1),s("div",{staticClass:"count"},[s("svg-link-suggestion"),s("span",{staticClass:"total"},[t._v(t._s(t.row.linkAssistant.linkSuggestions||0))])],1)]):t._e()]):t._e()},S=[],P=n(y,C,S,!1,null,null,null,null);const $=P.exports;const w={components:{CoreScoreButton:_,CoreWpTable:f,Cta:h,PostActions:$,Statistic:u},mixins:[p,c,d],data(){return{tableId:"aioseo-search-statistics-post-table",changeItemsPerPageSlug:"searchStatisticsSeoStatistics",showUpsell:!1,strings:{ctaButtonText:this.$t.__("Upgrade to Pro and Unlock Access Control",this.$td),ctaHeader:this.$t.sprintf(this.$t.__("Access Control is only available for licensed %1$s %2$s users.",this.$td),"AIOSEO","Pro")}}},props:{posts:Object,showHeader:{type:Boolean,default(){return!0}},showTableFooter:Boolean,showItemsPerPage:Boolean,disableSorting:Boolean,columns:{type:Array,default(){return["post_title","seo_score","clicks","impressions","position"]}},appendColumns:{type:Object,default(){return{}}},initialFilter:{type:String,default(){return""}}},computed:{...a("search-statistics",["data","loading"]),...r(["isUnlicensed"]),allColumns(){var s,e;const i=this.columns,t=((e=(s=this.posts)==null?void 0:s.filters)==null?void 0:e.find(o=>o.active))||{};return this.appendColumns[t.slug||"all"]&&i.push(this.appendColumns[t.slug||"all"]),i},tableColumns(){return[{slug:"row",label:"#",width:"40px"},{slug:"post_title",label:this.$t.__("Title",this.$td),width:"100%",sortDir:this.orderBy==="post_title"?this.orderDir:"asc",sorted:this.orderBy==="post_title"},{slug:"seo_score",label:this.$t.__("TruSEO Score",this.$td),width:"130px",sortDir:this.orderBy==="seo_score"?this.orderDir:"asc",sorted:this.orderBy==="seo_score"},{slug:"clicks",label:this.$t.__("Clicks",this.$tdPro),width:"80px",sortable:this.isSortable,sortDir:this.orderBy==="clicks"?this.orderDir:"asc",sorted:this.orderBy==="clicks"},{slug:"impressions",label:this.$t.__("Impressions",this.$tdPro),width:"110px",sortable:this.isSortable,sortDir:this.orderBy==="impressions"?this.orderDir:"asc",sorted:this.orderBy==="impressions"},{slug:"position",label:this.$t.__("Position",this.$tdPro),width:"90px",sortable:this.isSortable,sortDir:this.orderBy==="position"?this.orderDir:"asc",sorted:this.orderBy==="position"},{slug:"diffDecay",label:this.$t.__("Diff",this.$tdPro),width:"95px"},{slug:"diffPosition",label:this.$t.__("Diff",this.$tdPro),width:"80px"}].filter(i=>this.allColumns.includes(i.slug))},isSortable(){return this.disableSorting?!1:this.filter==="all"&&this.$isPro&&!this.isUnlicensed}},methods:{...l("search-statistics",{fetchData:"updateSeoStatistics"}),resetSelectedFilters(){this.selectedFilters["post-type"]="",this.processAdditionaFilterOptionSelected({name:"post-type",selectedValue:""})}},mounted(){this.initialFilter&&this.processFilter({slug:this.initialFilter})}};var x=function(){var t=this,s=t._self._c;return s("div",{staticClass:"aioseo-search-statistics-post-table"},[s("core-wp-table",{ref:"table",staticClass:"posts-table",attrs:{id:t.tableId,columns:t.tableColumns,rows:Object.values(t.posts.rows),totals:t.posts.totals,filters:t.posts.filters,"selected-filters":t.selectedFilters,loading:t.loading.seoStatistics,"initial-page-number":t.pageNumber,"initial-search-term":t.searchTerm,"initial-items-per-page":t.$aioseo.settings.tablePagination[t.changeItemsPerPageSlug],"show-header":t.showHeader,"show-bulk-actions":!1,"show-table-footer":t.showTableFooter,"show-items-per-page":t.showItemsPerPage,"show-pagination":"","blur-rows":t.showUpsell},on:{"filter-table":t.processFilter,"process-additional-filters":t.processAdditionalFilters,"additional-filter-option-selected":t.processAdditionaFilterOptionSelected,paginate:t.processPagination,"process-change-items-per-page":t.processChangeItemsPerPage,search:t.processSearch,"sort-column":t.processSort},scopedSlots:t._u([{key:"row",fn:function({index:e}){return[s("div",{staticClass:"post-row"},[t._v(" "+t._s(e+1)+" ")])]}},{key:"post_title",fn:function({row:e}){return[s("div",{staticClass:"post-title"},[e.postId?s("a",{attrs:{href:"#"},on:{click:function(o){return t.openPostDetail(e)}}},[t._v(" "+t._s(e.postTitle)+" ")]):s("span",{staticClass:"post-title"},[t._v(" "+t._s(e.postTitle)+" ")])]),s("post-actions",{attrs:{row:e}}),e.postId?s("div",{staticClass:"row-actions"},[s("span",[s("a",{staticClass:"view",attrs:{href:e.context.permalink,target:"_blank"}},[s("span",[t._v(t._s(t.viewPost(e.context.postType.singular)))])]),t._v(" | ")]),s("span",[s("a",{staticClass:"edit",attrs:{href:e.context.editLink,target:"_blank"}},[s("span",[t._v(t._s(t.editPost(e.context.postType.singular)))])])])]):t._e()]}},{key:"seo_score",fn:function({row:e}){return[e.seoScore?s("core-score-button",{staticClass:"table-score-button",attrs:{score:e.seoScore}}):t._e()]}},{key:"clicks",fn:function({row:e}){return[t._v(" "+t._s(t.$numbers.compactNumber(e.clicks))+" ")]}},{key:"impressions",fn:function({row:e}){return[t._v(" "+t._s(t.$numbers.compactNumber(e.impressions))+" ")]}},{key:"position",fn:function({row:e}){return[t._v(" "+t._s(Math.round(e.position).toFixed(0))+" ")]}},{key:"diffPosition",fn:function({row:e}){return[s("statistic",{attrs:{type:"position","show-original":!1,difference:e.difference.position,"tooltip-offset":"-100px,0"}})]}},{key:"diffDecay",fn:function({row:e}){return[s("statistic",{attrs:{type:"decay","show-original":!1,difference:e.difference.decay,"tooltip-offset":"-100px,0"}})]}},{key:"cta",fn:function(){return[t.showUpsell?s("cta",{attrs:{"cta-link":t.$links.getPricingUrl("search-statistics","search-statistics-upsell"),"button-text":t.strings.ctaButtonText,"learn-more-link":t.$links.getUpsellUrl("search-statistics","search-statistics-upsell","home")},scopedSlots:t._u([{key:"header-text",fn:function(){return[t._v(" "+t._s(t.strings.ctaHeader)+" ")]},proxy:!0}],null,!1,765703614)}):t._e()]},proxy:!0}])})],1)},A=[],T=n(w,x,A,!1,null,null,null,null);const W=T.exports;export{W as P};
