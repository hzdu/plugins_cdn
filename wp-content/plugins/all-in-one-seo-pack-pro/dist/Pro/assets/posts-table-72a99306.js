import{n as o,V as n}from"./js/_plugin-vue2_normalizer.61652a7c.js";import"./js/index.0395bbae.js";import{T as f}from"./js/index.30d09df6.js";import{e as r}from"./js/elemLoaded.9a6eb745.js";import{k as l,h as c,m as a,s as d}from"./js/index.da77b995.js";import{a as u}from"./js/vuex.esm.8fdeb4b6.js";import"./js/WpTable.e9a9eb34.js";import{a as p,b as m}from"./js/Caret.6d7f2e24.js";import{b as w,t as $}from"./js/attachments.506687b9.js";import{t as h}from"./js/html.50126bda.js";import"./js/SaveChanges.e40a9083.js";import{T as g}from"./js/TruSeoScore.339d22e1.js";import{C as T}from"./js/ScoreButton.392b731e.js";import{S as k,a as C,b as P,c as D}from"./js/Affiliate.e587b0fd.js";import"./js/client.e62d6c37.js";import"./js/_commonjsHelpers.f84db168.js";import"./js/translations.c394afe3.js";import"./js/default-i18n.3a91e0e5.js";import"./js/constants.8df4c584.js";import"./js/isArrayLikeObject.75d4eb51.js";import"./js/helpers.871dba46.js";import"./js/portal-vue.esm.98f2e05b.js";import"./js/Index.ffa20ee1.js";import"./js/cleanForSlug.071f7a1a.js";const y={components:{CoreScoreButton:T,SvgCircleCheck:p,SvgCircleClose:m},mixins:[g],props:{post:Object,index:Number},data(){return{postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,strings:{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),imageTitle:this.$t.__("Image Title:",this.$td),imageAltTag:this.$t.__("Image Alt Tag:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)}}},computed:{...u(["options","currentPost"])},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(i=>{this.titleParsed=i.body.title,this.descriptionParsed=i.body.description,this.post.titleParsed=i.body.title,this.post.descriptionParsed=i.body.description;const t=window.aioseo.posts;t[this.index]=this.post,l({posts:t}),this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(i=>{console.error(`Unable to update post with ID ${this.post.id}: ${i}`)})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(i=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${i}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:h,updatePostTitle(i,t){const s=document.getElementById(`post-${i}`);if(!s)return;const e=s.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!e)return;const v=e.getElementsByTagName("span")[0];e.innerText=t,e.prepend(v)}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed},async created(){const{options:i,currentPost:t,tags:s}=await c(this.$http);this.$set(this.$store.state,"options",a({...this.$store.state.options},{...i})),this.$set(this.$store.state,"currentPost",a({...this.$store.state.currentPost},{...t})),this.$set(this.$store.state,"tags",a({...this.$store.state.tags},{...s})),this.showTruSeo=w()}};var E=function(){var t=this,s=t._self._c;return s("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}},[s("div",[this.$root._data.screen.base==="edit"&&t.showTruSeo&&this.$allowed("aioseo_page_analysis")&&!t.isSpecialPage?s("div",{staticClass:"edit-row"},[s("core-score-button",{attrs:{score:this.post.value,postId:t.postId}})],1):t._e(),this.$allowed("aioseo_page_general_settings")?s("div",{staticClass:"edit-row edit-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.title)+" ")]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.postId}-value`}},[t._v(" "+t._s(t.truncate(t.titleParsed,100))+" ")])]):t._e(),t.showEditTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$allowed("aioseo_page_general_settings")?s("div",{staticClass:"edit-row edit-description"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editDescription.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.description)+" ")]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.postId}-value`}},[t._v(" "+t._s(t.truncate(t.descriptionParsed))+" ")])]):t._e(),t.showEditDescription?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postDescription,expression:"postDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.postDescription},on:{input:function(e){e.target.composing||(t.postDescription=e.target.value)}}}),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),t._t("default"),this.$root._data.screen.base==="upload"&&t.post.showMedia?s("div",{staticClass:"edit-row edit-image-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editImageTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.imageTitle)+" ")]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.postId}-value`}},[t._v(" "+t._s(t.imageTitle)+" ")])]):t._e(),t.showEditImageTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageTitle,expression:"imageTitle"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageTitle},on:{input:function(e){e.target.composing||(t.imageTitle=e.target.value)}}}),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.saveImage.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$root._data.screen.base==="upload"&&t.post.showMedia?s("div",{staticClass:"edit-row edit-image-alt"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editImageAlt.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.imageAltTag)+" ")]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.postId}-value`}},[t._v(" "+t._s(t.imageAltTag)+" ")])]):t._e(),t.showEditImageAltTag?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageAltTag,expression:"imageAltTag"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageAltTag},on:{input:function(e){e.target.composing||(t.imageAltTag=e.target.value)}}}),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.saveImage.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()],2)])},I=[],x=o(y,E,I,!1,null,null,null,null);const _=x.exports;const b={components:{CorePostColumn:_,SvgLinkAffiliate:k,SvgLinkExternal:C,SvgLinkInternalInbound:P,SvgLinkInternalOutbound:D},props:{post:Object,index:Number},data(){return{strings:{links:this.$t.__("Links:",this.$tdPro)}}}};var A=function(){var t=this,s=t._self._c;return s("core-post-column",{attrs:{post:t.post,index:t.index}},[[t.post.linkCounts&&t.post.postType!=="attachment"?s("div",{staticClass:"links"},[s("strong",{staticClass:"header"},[t._v(t._s(t.strings.links))]),s("span",[s("svg-link-internal-inbound"),t._v(t._s(t.post.linkCounts.inboundInternal))],1),s("span",[s("svg-link-internal-outbound"),t._v(t._s(t.post.linkCounts.outboundInternal))],1),s("span",[s("svg-link-affiliate"),t._v(t._s(t.post.linkCounts.affiliate))],1),s("span",[s("svg-link-external"),t._v(t._s(t.post.linkCounts.external))],1)]):t._e()]],2)},N=[],S=o(b,A,N,!1,null,null,null,null);const q=S.exports,L={components:{CorePostColumn:_},props:{post:Object,index:Number}};var O=function(){var t=this,s=t._self._c;return s("core-post-column",{attrs:{post:t.post,index:t.index}})},U=[],R=o(L,O,U,!1,null,null,null,null);const j=R.exports,B={components:{PostColumn:q,PostColumnLite:j},props:{post:Object,index:Number}};var F=function(){var t=this,s=t._self._c;return s("div",[t.$isPro?s("PostColumn",{attrs:{post:t.post,index:t.index}}):t._e(),t.$isPro?t._e():s("PostColumnLite",{attrs:{post:t.post,index:t.index}})],1)},M=[],z=o(B,F,M,!1,null,null,null,null);const V=z.exports;const G={components:{SvgCircleCheck:p,SvgCircleClose:m},mixins:[g],props:{term:Object,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,strings:{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)}}},computed:{...u(["options","currentPost"])},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.$http.post(this.$links.restUrl("termscreen")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(i=>{this.titleParsed=i.body.title,this.descriptionParsed=i.body.description,this.term.titleParsed=i.body.title,this.term.descriptionParsed=i.body.description;const t=window.aioseo.terms;t[this.index]=this.term,l({terms:t})}).catch(i=>{console.error(`Unable to update term with ID ${this.term.id}: ${i}`)})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:h},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed},async created(){const{options:i,currentPost:t,tags:s}=await c(this.$http);this.$set(this.$store.state,"options",a({...this.$store.state.options},{...i})),this.$set(this.$store.state,"currentPost",a({...this.$store.state.currentPost},{...t})),this.$set(this.$store.state,"tags",a({...this.$store.state.tags},{...s})),this.showTruSeo=$()}};var H=function(){var t=this,s=t._self._c;return s("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription}},[s("div",[s("div",{staticClass:"edit-row edit-title"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editTitle.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.title)+" ")]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.termId}-value`}},[t._v(" "+t._s(t.truncate(t.titleParsed,100))+" ")])]),t.showEditTitle?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),s("div",{staticClass:"edit-row edit-description"},[s("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(e){return e.preventDefault(),t.editDescription.apply(null,arguments)}}}),s("strong",[t._v(t._s(t.strings.description))]),s("span",{attrs:{id:`aioseo-${t.columnName}-${t.termId}-value`}},[t._v(" "+t._s(t.truncate(t.descriptionParsed))+" ")])]),t.showEditDescription?s("div",{staticClass:"edit-row"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.termDescription,expression:"termDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.termDescription},on:{input:function(e){e.target.composing||(t.termDescription=e.target.value)}}}),t._v(" "),s("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[s("svg-circle-check",{attrs:{width:"20"}})],1),s("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(e){return e.preventDefault(),t.cancel.apply(null,arguments)}}},[s("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()])])},J=[],K=o(G,H,J,!1,null,null,null,null);const Q=K.exports;n.prototype.$truSeo=new f;const W=(i,t)=>{new n({store:d,data:{screen:window.aioseo.screen},render:s=>s(V,{props:{post:i,index:t}})}).$mount(`#${i.columnName}-${i.id}`)};window.aioseo.posts&&window.aioseo.posts.forEach((i,t)=>{r(`#${i.columnName}-${i.id}`,`aioseoPostsTable-${i.id}`),document.addEventListener("animationstart",function(s){`aioseoPostsTable-${i.id}`===s.animationName&&W(i,t)},{passive:!0})});const X=(i,t)=>{new n({store:d,data:{screen:window.aioseo.screen},render:s=>s(Q,{props:{term:i,index:t}})}).$mount(`#${i.columnName}-${i.id}`)};window.aioseo.terms&&window.aioseo.posts.length===0&&window.aioseo.terms.forEach((i,t)=>{r(`#${i.columnName}-${i.id}`,`aioseoTermsTable-${i.id}`),document.addEventListener("animationstart",function(s){`aioseoTermsTable-${i.id}`===s.animationName&&X(i,t)},{passive:!0})});
