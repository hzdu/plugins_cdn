!function(t){var e={};function c(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=e,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(r,a,function(e){return t[e]}.bind(null,a));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c(c.s=6)}([function(t,e){!function(){t.exports=this.wp.i18n}()},function(t,e){!function(){t.exports=this.wp.components}()},function(t,e){!function(){t.exports=this.wp.blocks}()},function(t,e){!function(){t.exports=this.wp.data}()},function(t,e){!function(){t.exports=this.wp.blockEditor}()},function(t,e){!function(){t.exports=this.wp.apiFetch}()},function(t,e,c){"use strict";c.r(e);var r=c(0),a=c(2),o=c(3),n=wp.element.createElement,s=function(){return n("svg",{width:82,height:84,viewBox:"0 0 82 84",id:"tar-logo"},n("defs",{},n("path",{id:"bqp31b3asa",d:"M0.476 0.473L65.942 0.473 65.942 80.475 0.476 80.475z"})),n("g",{fill:"none","fill-rule":"evenodd"},n("g",{},n("g",{},n("g",{transform:"translate(-445 -188) translate(445 188) translate(16)"},n("path",{fill:"#434343",d:"M65.942 80.475h-.932c-10.17 0-19.239-6.417-22.641-16.018L28.638 25.721 20.41 48.926c-2.23.393-4.27.806-5.524 1.078-2.902.607-6.712 1.46-9.536 2.588-1.666.67-3.278 1.335-4.875 2.086L19.687.473h17.9l28.355 80.002z",mask:"url(#chmlltq7cb)"})),n("path",{fill:"#58A245",d:"M48 52.836c-.852.014-1.177.126-1.785.365-.697.26-1.415.74-1.958 1.215l-1.33 1.265c-.126.124-.125.147-.219.267-2.479 3.064-3.035 3.554-4.983 7.434-.907 1.81-1.945 3.502-3.066 5.17-.771 1.136-1.475 2.284-2.349 3.348-.086.11-.146.16-.232.258-.537.665-1.23 1.263-1.872 1.836-.43.385-.964.755-1.457 1.086-.424.269-.831.566-1.304.812l-.694.37c-.15.087-.196.136-.347.207-.111.05-.225.113-.335.163-.135.061-.26.099-.4.162-2.753 1.375-6.385 2.271-9.53 2.644l-1.937.235c-.563.084-2.103.158-3.517.181-1.18.02-2.268 0-2.619-.063l.215-.542c.456-1.025.969-2.027 1.527-2.994.098-.155.144-.288.256-.457l1.134-1.87 2.837-3.884 2.582-2.664c.073-.072.11-.121.185-.196.11-.096.124-.084.224-.17l.603-.513c.087-.059.123-.095.224-.158.16-.122.23-.194.393-.317l2.748-1.876c.919-.602 1.91-1.152 2.854-1.696l2.975-1.593c1.117-.554 3.04-1.552 4.098-2.002l3.106-1.43c-.45.049-1.033.305-1.456.454-.5.167-.935.316-1.435.48l-2.824 1.002c-1.381.468-2.75 1.088-4.09 1.624l-2.6 1.156c-.968.397-2.485 1.18-3.463 1.73-1.103.606-2.142 1.317-3.223 1.955l-3.598 2.51c-.087.065-.174.122-.26.187L9.04 70.244c-.604.62-1.318 1.216-1.885 1.871-.098.121-.098.146-.221.268-.529.538-.992 1.14-1.448 1.735-.671.895-1.294 1.825-1.866 2.778l-.947 1.775C2.3 79.419.758 83.005.687 83.998L.573 84c-.003-.13-.43-1.76-.553-3.165L0 79.671c0-.033.01-.071.008-.117.1-.757.08-1.257.24-2.218.39-2.647 1.544-5.32 3.047-7.572l1.541-2.175c.43-.569 2.099-2.427 2.595-2.803.482-.38.91-.949 1.429-1.33.223-.167.445-.402.692-.586.258-.193.444-.377.704-.562l1.472-1.076c1.496-1.077 3.104-2.034 4.77-2.865 1.777-.879 3.542-1.6 5.394-2.327 2.414-.945 5.668-1.657 8.154-2.166 2.621-.56 9.261-1.804 12.456-1.856l.686-.012c1.655-.028 4.21.003 4.812.83",transform:"translate(-445 -188) translate(445 188)"})))))},i=wp.element.createElement,l=function(){return i("svg",{width:26,height:18,viewBox:"0 0 26 18",id:"thrive-logo"},i("g",{transform:"translate(-398.000000, -80.000000)",fill:"#58a245"},i("path",{d:"M424,80.4527444 C423.538615,80.4604108 423.362362,80.5211525 423.033016,80.6505972 C422.655847,80.7915415 422.266647,81.0516103 421.972793,81.3084356 L421.251841,81.9936963 C421.183866,82.060925 421.184167,82.0733092 421.133637,82.1387687 C419.790687,83.7979606 419.489313,84.0633369 418.434203,86.1651175 C417.943342,87.1452408 417.380897,88.0619686 416.773637,88.9654276 C416.355864,89.5811007 415.974484,90.2026711 415.501369,90.7791275 C415.454749,90.8389846 415.421965,90.8658171 415.375345,90.9188923 C415.084498,91.2789196 414.709134,91.6032684 414.361441,91.913169 C414.128643,92.1222266 413.8393,92.3224383 413.572514,92.5017148 C413.342724,92.6473769 413.122258,92.808077 412.8663,92.9416498 L412.490334,93.1421563 C412.409126,93.1890395 412.383861,93.2155771 412.302051,93.2542041 C412.241896,93.2810366 412.180539,93.3152407 412.120685,93.3423681 C412.047597,93.3753927 411.980224,93.3957382 411.904129,93.4299422 C410.412898,94.1747652 408.445544,94.6604039 406.741667,94.8623848 L405.692572,94.9897654 C405.387589,95.0348794 404.553547,95.0749807 403.78778,95.0876598 C403.148938,95.0982748 402.559123,95.0873649 402.369336,95.0534557 L402.485735,94.7597726 C402.732669,94.2048412 403.010282,93.6619991 403.31286,93.1380283 C403.365796,93.0542873 403.39076,92.9823408 403.451215,92.8906385 L404.065393,91.8780804 L405.602341,89.773646 L407.000633,88.3308833 C407.040335,88.2916666 407.060186,88.265129 407.101091,88.2247328 C407.160944,88.1725421 407.168163,88.1793239 407.222302,88.1330305 L407.549242,87.8549751 C407.596162,87.8228351 407.615713,87.8030793 407.670152,87.7691701 C407.757076,87.702826 407.795274,87.6639041 407.8834,87.59756 L409.371623,86.5814635 C409.869402,86.2553455 410.406582,85.9572394 410.917594,85.6623768 L412.529134,84.7999037 C413.134289,84.4994387 414.176165,83.9589555 414.748836,83.715399 L416.431358,82.9410899 C416.188033,82.9670378 415.871921,83.105918 415.642431,83.1867104 C415.371435,83.2769384 415.136231,83.3580256 414.865235,83.4461895 L413.335806,83.9893264 C412.587484,84.2429082 411.84638,84.5784619 411.120315,84.8689015 L409.711797,85.4951897 C409.187851,85.7104394 408.36614,86.1344518 407.836179,86.432263 C407.238845,86.7604451 406.675798,87.1455357 406.090495,87.4911146 L404.141187,88.8507261 C404.094267,88.8861096 404.047046,88.9170702 404.000125,88.9521588 L402.897192,89.8821554 C402.569951,90.2177091 402.183158,90.5408785 401.87637,90.8955982 C401.822832,90.9613526 401.823133,90.9749162 401.756361,91.0406706 C401.470026,91.3319948 401.219181,91.6581129 400.971946,91.9803977 C400.608613,92.4654467 400.271146,92.9693669 399.96135,93.4853764 L399.448533,94.4466285 C399.245211,94.8520646 398.410567,96.7946194 398.372369,97.3324487 L398.310409,97.3333333 C398.308906,97.263156 398.077311,96.3803374 398.01084,95.6190022 L398,94.9882911 C397.999711,94.9705993 398.005125,94.9499589 398.004524,94.9251905 C398.058061,94.5150366 398.047835,94.2440579 398.133856,93.7236254 C398.3456,92.2897086 398.970906,90.8419332 399.784797,89.6223815 L400.619742,88.4441105 C400.852239,88.1359791 401.756361,87.1296131 402.025252,86.9255682 C402.286022,86.7200489 402.518519,86.4119175 402.79914,86.204924 C402.920051,86.1149909 403.040059,85.9876102 403.174203,85.8876518 C403.313762,85.7832705 403.414521,85.6839018 403.555282,85.5836485 L404.352931,85.0004103 C405.163213,84.417172 406.03425,83.8988036 406.936568,83.4488433 C407.89874,82.972935 408.855197,82.5825369 409.857972,82.1886005 C411.165732,81.676719 412.92856,81.2910388 414.275119,81.0150474 C415.694766,80.7119286 419.291405,80.0381676 421.02175,80.0095659 L421.393505,80.0033738 C422.290108,79.9883358 423.673662,80.005143 424,80.4527444"})))};function b(t){return"".concat(t).concat(t.split("?")[1]?"&":"?","tve_block_preview=1")}window.addEventListener("storage",(function(t){if(t.key&&t.key.includes("thrive_symbol")){var e=t.key.split("-")[1],c=document.getElementsByClassName("architect-block-".concat(e));Array.prototype.forEach.call(c,(function(t){t.setAttribute("src","".concat(t.getAttribute("src"),"?tcb=").concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return((new Date).getTime()+Math.floor(1e5*Math.random())).toString(t)}()))})),localStorage.removeItem(t.key)}}),!1),wp.domReady&&"function"==typeof wp.domReady&&wp.domReady((function(){wp.blocks.updateCategory("thrive",{icon:l})}));var u=c(1),d=c(4),h=wp.element.createElement,p=function(t){var e=t.attributes.previewLink,c=t.posts?t.posts.find((function(e){return Number(e.id)===Number(t.attributes.selectedBlock)})):0;c&&t.setAttributes({previewLink:c.link,editLink:c.edit_url});var a=t.attributes.editLink;return e&&(e=b(e)),[h(d.InspectorControls,null,h(u.PanelBody,{title:Object(r.__)("Block settings","thrive-cb"),initialOpen:!0},h(u.PanelRow,{},h("a",{class:"thrive-architect-edit-link tcb-enable-editor","data-id":t.attributes.selectedBlock,href:a,target:"_blank"},h("div",{class:"thrive-architect-admin-icon-holder"},h("div",{class:"thrive-architect-admin-icon"})),h("div",{class:"thrive-architect-admin-text tve-block-edit"},Object(r.__)("Edit block with Architect","thrive-cb")))))),h("iframe",{src:e,id:"architect-block-".concat(t.attributes.selectedBlock),class:"".concat(t.attributes.className," architect-block-preview architect-block-").concat(t.attributes.selectedBlock),scrolling:"no",onLoad:function(){var e=document.getElementsByClassName("architect-block-".concat(t.attributes.selectedBlock));Array.prototype.forEach.call(e,(function(t){var e=t.contentDocument,c=function(){var c=function(t){if(!t)return 0;var e=t.offsetHeight,c=getComputedStyle(t);return e+=parseInt(c.marginTop)+parseInt(c.marginBottom)}(e.body);t.style.setProperty("height","".concat(c,"px")),t.parentNode.style.setProperty("height","".concat(c,"px"))};t.style.setProperty("pointer-events","none"),c(),setTimeout((function(){c()}),3e3),t.contentWindow.TVE_Dash&&t.contentWindow.TVE_Dash.forceImageLoad(e)}))}})]},v=c(5),f=c.n(v),k=wp.element.createElement,m=function(t){if(!t.posts)return Object(r.__)("Loading â€¦","thrive-cb");var e="No matching results";t.posts&&t.posts.length&&(e=t.attributes.searchBlockSel?"-- ".concat(t.posts.length," blocks found --"):"-- Select a block --");var c=[{value:0,label:Object(r.__)(e,"thrive-cb")}];return t.posts.forEach((function(t){c.push({value:t.id,label:t.title.raw})})),[k("div",{class:"tar-new-block-container"},s(),k("div",{class:"tar-block-title"},k("h2",{},"Thrive Block")),k("div",{class:"tar-new-block-description"},Object(r.__)("Select a template from your Thrive Symbols & Blocks Library or create a new one","thrive-cb")),k("div",{class:"tar-block-content tve-show-saved"},k("div",{class:"tar-block-tabs"},k("a",{class:"tar-block-tab tar-block-tab-saved",href:"javascript:void(0)",onClick:function(t){var e=t.target.closest(".tar-block-content");e.classList.add("tve-show-saved"),e.classList.remove("tve-show-create"),t.stopPropagation(),t.preventDefault()}},Object(r.__)("Saved blocks","thrive-cb")),k("a",{class:"tar-block-tab tar-block-tab-create",href:"javascript:void(0)",onClick:function(t){var e=t.target.closest(".tar-block-content");e.classList.add("tve-show-create"),e.classList.remove("tve-show-saved"),t.stopPropagation(),t.preventDefault()}},Object(r.__)("Create a new block","thrive-cb"))),k("div",{class:"tar-block-tabs-content"},k("div",{class:"tar-block-tabs-content-saved"},k("div",{class:"tar-block-search-container"},k(u.TextControl,{placeholder:Object(r.__)("Filter block list","thrive-cb"),isPressEnterToChange:!0,onChange:function(e){var c={searchText:e};t.setAttributes(c)},onFocus:function(t){!1;var e=t.target.closest(".tar-block-search-container");e.getElementsByClassName("tar-block-clear-button")[0].classList.add("hidden"),e.getElementsByClassName("tar-block-search-button")[0].classList.remove("hidden","opacity")},onBlur:function(e){if(!(e.relatedTarget&&e.relatedTarget.classList.contains("tar-block-search-button"))){var c=e.target.closest(".tar-block-search-container"),r=c.getElementsByClassName("tar-block-clear-button")[0],a=c.getElementsByClassName("tar-block-search-button")[0];r.classList.toggle("hidden",!t.attributes.searchText.length),a.classList.toggle("hidden",t.attributes.searchText.length),a.classList.add("opacity")}},onKeyDown:function(e){13===e.which&&t.setAttributes({searchText:e.target.value,searchBlockSel:e.target.value})},className:"tar-block-search-input",value:t.attributes.searchText}),k("a",{href:"javascript:void(0)",class:"tar-block-search-button  ".concat(t.attributes.searchText?"hidden":"opacity"),onClick:function(){t.setAttributes({searchBlockSel:t.attributes.searchText})}},k(u.Icon,{icon:"search"})),k("a",{href:"javascript:void(0)",className:"tar-block-clear-button ".concat(t.attributes.searchText?"":"hidden"," "),onClick:function(){t.setAttributes({searchText:"",searchBlockSel:""})}},k(u.Icon,{icon:"no-alt"}))),k("div",{class:"tar-block-select-wrapper"},k(u.SelectControl,{options:c,onChange:function(e){t.setAttributes({selectedBlock:parseInt(e)})},value:t.attributes.selectedBlock})),k("div",{class:"tar-block-number-warning ".concat(TCB_Post_Edit_Data.symbols_number<50?"hidden":"")},k(u.Icon,{icon:"info"}),k("span",{},Object(r.__)("Displaying maximum 50 results. Try Filtering the list.","thrive-cb")))),k("div",{class:"tar-block-tabs-content-create"},k("div",{class:"tar-block-create-description"},Object(r.__)("Enter a name for your new block:","thrive-cb")),k("div",{class:"tar-block-create-input"},k(u.TextControl,{type:"text",placeholder:Object(r.__)("Enter new block title","thrive-cb"),onChange:function(e){t.setAttributes({blockTitle:e})},className:"tar-block-create-input",value:t.attributes.blockTitle}),k(u.Button,{className:"tar-create-block-button",type:"button",onClick:function(e){var c,r=e.target.closest(".tar-new-block-container").getElementsByClassName("tar-block-error")[0],a=(c="gutenberg-block",TCB_Post_Edit_Data.symbols_tax_terms.find((function(t){return t.slug===c}))),o=a?a.term_id:"";r.textContent="",r.classList.remove("tve-show-error"),f()({path:"/".concat(TCB_Post_Edit_Data.rest_routes.symbols_short_path),method:"POST",data:{title:t.attributes.blockTitle,tcb_symbols_tax:o,status:"publish"}}).then((function(e){t.setAttributes({selectedBlock:parseInt(e.id),previewLink:b(e.permalink_template),editLink:e.edit_url}),window.open(e.edit_url,"_blank")})).catch((function(t){r.textContent=t.message,r.classList.add("tve-show-error")}))}},Object(r.__)("Create Block","thrive-cb"))),k("span",{className:"tar-block-error tar-block-number-warning"},"Error")))),k("div",{class:"tar-block-go-dash"},Object(r.__)("Go to the ","thrive-cb"),k("a",{href:TCB_Post_Edit_Data.symbols_dash,target:"_blank"},Object(r.__)("Symbols Dashboard","thrive-cb"))))]};Object(a.registerBlockType)("thrive/architect-block",{title:Object(r.__)("Thrive Architect Block","thrive-cb"),icon:s,description:Object(r.__)("Add Thrive templates, symbols and blocks to your content!","thrive-cb"),category:"thrive",attributes:{selectedBlock:{type:"number",default:0},blockTitle:{type:"string",default:""},searchText:{type:"string",default:""},searchBlockSel:{type:"string",default:""},previewImage:{type:"boolean",default:!1}},example:{attributes:{previewImage:!0}},edit:Object(o.withSelect)((function(t,e){var c={per_page:50,search:e.attributes.searchBlockSel,tcb_symbols_tax_exclude:TCB_Post_Edit_Data.sections_tax_terms.map((function(t){return t.term_id}))};return{posts:t("core").getEntityRecords("postType","tcb_symbol",c)}}))((function(t){return t.attributes.previewImage?[wp.element.createElement("img",{src:TAR_Block.block_preview})]:t.attributes.selectedBlock?p(t):m(t)})),save:function(){return null}})}]);