jQuery(function(s){var a={message:null,css:{border:"none",background:"transparent"},overlayCSS:{background:"#fff",opacity:.7},ignoreIfBlocked:!0};yith_wcpsc_params.wc_3_0?s(".yith-wcpsc-select2").select2():s(".yith-wcpsc-select2").chosen();var p=s("#yith-wcpsc-table-style"),o=s("#yith-wcpsc-table-base-color"),c={"default":"#f9f9f9",informal:"#ffd200",casual:"#b37c81",elegant:"#000000"},i=s("#yith-wcpsc-popup-style"),r=s("#yith-wcpsc-popup-base-color"),d={"default":"#ffffff",informal:"#999999",casual:"#b37c81",elegant:"#6d6d6d"};p.on("change",function(){var e=p.children(":selected").val(),t=c[e];o.val(t),o.trigger("keyup")}),i.on("change",function(){var e=i.children(":selected").val(),t=d[e];r.val(t),r.trigger("keyup")});var n={dom:{update:s("#yith-wcpsc-free-to-premium-update"),percentage:s("#yith-wcpsc-free-to-premium-update__progress__percentage"),progress:s("#yith-wcpsc-free-to-premium-update__progress"),progressBar:s("#yith-wcpsc-free-to-premium-update__progress__bar"),messages:s("#yith-wcpsc-free-to-premium-update__messages"),skip:s("#yith-wcpsc-free-to-premium-skip")},updated:0,toUpdate:0,init:function(){this.dom.update.length&&this.dom.skip.length&&this.dom.percentage.length&&(this.toUpdate=this.dom.update.data("to-update"),this.dom.update.on("click",this.update),this.dom.skip.on("click",this.skip))},update:function(e){n.dom.skip.hide(),n.dom.update.block(a),n.dom.progress.show(),n.singleUpdate()},singleUpdate:function(){s.ajax({type:"POST",data:{action:"yith_wcpsc_free_to_premium_update"},url:ajaxurl,success:function(e){if("undefined"!=typeof e.action)if("next"===e.action){if(n.singleUpdate(),"undefined"!=typeof e.toUpdate){var t=parseInt((n.toUpdate-e.toUpdate)/n.toUpdate*100);n.dom.percentage.html(t+" %"),n.dom.progressBar.css({width:t+"%"})}}else"complete"===e.action&&(n.dom.percentage.html("100 %"),n.dom.progressBar.css({width:"100%"}),n.dom.update.remove(),n.dom.skip.remove(),"undefined"!=typeof e.message&&(n.dom.messages.html(e.message),n.dom.progress.fadeOut()))}})},skip:function(e){var t=n.dom.skip.closest("tr");t.block(a),s.ajax({type:"POST",data:{action:"yith_wcpsc_free_to_premium_skip"},url:ajaxurl,success:function(e){t.unblock(),t.fadeOut()}})}};n.init()});