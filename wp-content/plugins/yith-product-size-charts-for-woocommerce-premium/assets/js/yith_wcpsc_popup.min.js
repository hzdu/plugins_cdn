!function(c,u,n){c.fn.yith_wcpsc_popup=function(p){var e=null;self.popup=c(this);var s={popup_class:"yith-wcpsc-popup",overlay_class:"yith-wcpsc-overlay",close_btn_class:"yith-wcpsc-popup-close",position:"center",popup_delay:0,effect:"fade",ajax:!(self.opts={}),url:"",popup_css:{width:"50%"},block_params:{message:null,overlayCSS:{background:"transparent",opacity:.7}}};self.init=function(){self.opts=c.extend({},s,p),"close"!==p?(o(),1==self.opts.ajax?t():self.popup=self.popup.clone(),self.popup.css(self.opts.popup_css).addClass("yith-wcpsc-popup-opened"),c(n.body).append(self.popup),l(self.opts.position),f(),i(self.opts.effect)):a()};var o=function(){0<c(n).find("."+self.opts.overlay_class).length?e=c(n).find("."+self.opts.overlay_class).first():(e=c("<div />").addClass(self.opts.overlay_class),c(n.body).append(e))},t=function(){self.popup=c("<div />").addClass(self.opts.popup_class),c.ajax({url:self.opts.url,success:function(p){self.popup.append(p),self.popup.unblock(),l()}}),c(n.body).append(popup),self.popup.block(self.opts.block_params)},l=function(p){var s=self.popup.outerWidth(),o=self.popup.outerHeight(),e=Math.max(0,(c(u).height()-o)/2),t=Math.max(0,(c(u).width()-s)/2);switch(p){case"center":self.popup.css({position:"fixed",top:e+"px",left:t+"px"});break;case"top-left":self.popup.css({position:"fixed",top:0,left:0});break;case"top-rigth":self.popup.css({position:"fixed",top:0,right:0,left:"auto"});break;case"bottom-left":self.popup.css({position:"fixed",bottom:0,left:0,top:"auto"});break;case"bottom-right":self.popup.css({position:"fixed",bottom:0,right:0,top:"auto",left:"auto"});break;case"top-center":self.popup.css({position:"fixed",top:0,left:t+"px"});break;case"bottom-center":self.popup.css({position:"fixed",bottom:0,left:t+"px",top:"auto"})}},f=function(){c(n).on("click","."+self.opts.overlay_class,function(){a()}),self.popup.on("click","."+self.opts.close_btn_class,function(){a()})},i=function(p){e.fadeIn("fast");var s=self.popup.outerWidth(),o=self.popup.outerHeight();switch(p){case"fade":self.popup.fadeIn("slow",function(){self.popup.css({height:"auto"})});break;case"slide":self.popup.slideDown("slow",function(){self.popup.css({height:"auto"})});break;case"zoomIn":self.popup.css({opacity:0,width:"0",height:"0",top:"50%",left:"50%"}),self.popup.children().hide(),self.popup.show(),self.popup.animate({opacity:1,width:s,height:o,easing:"easeOutBounce"},{duration:400,progress:function(){l(self.opts.position)},complete:function(){self.popup.children().fadeIn("fast"),self.popup.css({height:"auto"})}});break;case"zoomOut":self.popup.css({opacity:0,width:"100%",height:"100%",top:"0",left:"0"}),self.popup.children().hide(),self.popup.show(),self.popup.animate({opacity:1,width:s,height:o,easing:"easeOutBounce"},{duration:400,progress:function(){l(self.opts.position)},complete:function(){self.popup.children().fadeIn("fast"),self.popup.css({height:"auto"})}})}},a=function(){c(n).find("."+self.opts.overlay_class).hide(),self.popup.hide(),self.popup.is(".yith-wcpsc-popup-opened")&&self.popup.remove()};return self.init(),self.popup}}(jQuery,window,document);