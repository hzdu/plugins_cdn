let slides,current_shortcode_id;function shortcode_wcpr_resize_masonry_items(e=!1){e?jQuery(".shortcode-wcpr-grid-item.wcpr-grid-item-init").removeClass("wcpr-grid-item-init"):jQuery(".shortcode-wcpr-grid-item .reviews-videos").length&&setTimeout(function(){shortcode_wcpr_resize_masonry_items(!0)},150);let o=20,t;jQuery(".wcpr-grid-loadmore .shortcode-wcpr-grid-item:not(.wcpr-grid-item-init)").each(function(){if(!jQuery(this).is(":visible"))return!1;o=(t=jQuery(this).closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode"))?parseInt(t.cols_gap||o):o,shortcode_wcpr_resize_masonry_item(jQuery(this),1,o)})}function shortcode_wcpr_resize_masonry_item(e,o,t){e=jQuery(e);let r,i=0;if(e.find(".shortcode-reviews-images-wrap-right .shortcode-reviews-images").length&&0===(i=(r=e.find(".shortcode-reviews-images-wrap-right .shortcode-reviews-images")).outerHeight())){let s=e.find(".shortcode-wcpr-content").outerWidth(),c=r.attr("width")||0,a=r.attr("height")||0;i=0!==a?Math.round(s/c*a):s}let n=e.find(".shortcode-wcpr-content").outerHeight(),d=e.find(".shortcode-review-content-container").outerHeight();n<d+i&&(n=d+i);let h=Math.ceil((n+t)/(o+t));e.addClass("wcpr-grid-item-init").css("grid-row-end","span "+h)}function wcpr_enable_scroll(){"use strict";let e=parseInt(jQuery("html").css("top"));jQuery("html").removeClass("shortcode-wcpr-noscroll"),window.scrollTo({top:-e,behavior:"instant"})}function wcpr_disable_scroll(){"use strict";if(jQuery(document).height()>jQuery(window).height()){let e=jQuery("html").scrollTop()?jQuery("html").scrollTop():jQuery("body").scrollTop();jQuery("html").addClass("shortcode-wcpr-noscroll").css("top",-e)}}jQuery(window).on("elementor/frontend/init",()=>{"use strict";elementorFrontend.hooks.addAction("frontend/element_ready/woocommerce-photo-reviews.default",function(e){if(!window.elementor)return;let o=e.find(".woocommerce-photo-reviews-shortcode"),t=-1,r=0,i=!1;function s(e){r=0,t=e,e>=slides.length&&(t=0),e<0&&(t=slides.length-1),jQuery("#shortcode-reviews-content-left-modal").html(""),jQuery("#shortcode-reviews-content-left-main").html("");let o=jQuery(slides[t]);if(0==o.find(".shortcode-reviews-images-container").length)jQuery(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-no-images");else{jQuery("#shortcode-reviews-content-left-modal").html(o.find(".shortcode-reviews-images-wrap-left").html());let i=o.find(".shortcode-reviews-images-wr-right").html();i&&(jQuery(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-no-images"),jQuery("#shortcode-reviews-content-left-main").html(i)),jQuery("#shortcode-reviews-content-left-modal").find(".shortcode-reviews-images").parent().on("click",function(){r=jQuery(this).data("image_index");let e="",o=jQuery(this).attr("href"),t=jQuery("#shortcode-reviews-content-left-main").find(".shortcode-reviews-images");return jQuery(this).hasClass("reviews-iframe")||jQuery(this).find(".reviews-iframe").length?e=jQuery(`<iframe class="shortcode-reviews-images reviews-iframe" data-original_src="${o}" src="${o}" frameborder="0" allowfullscreen></iframe>`):jQuery(this).hasClass("reviews-videos")||jQuery(this).find(".reviews-videos").length?e=jQuery(`<video class="shortcode-reviews-images reviews-videos" data-original_src="${o}" src="${o}" controls></video>`):(e=jQuery(`<img class="shortcode-reviews-images" data-original_src="${o}" src="${o}">`)).attr("title",t.attr("title")),e.attr({width:t.attr("width"),height:t.attr("width")}),t.replaceWith(e),jQuery("#shortcode-reviews-content-left-main").find(".shortcode-wcpr-review-image-caption").html(jQuery(this).data("image_caption")),!1})}jQuery("#shortcode-reviews-content-right .shortcode-reviews-content-right-meta").html(o.find(".shortcode-review-content-container").html()),jQuery("#shortcode-reviews-content-right .shortcode-wcpr-single-product-summary").html(o.find(".shortcode-wcpr-single-product-summary-content-wrapper").html()),jQuery(".shortcode-wcpr-modal-light-box").fadeIn(200)}(/iPad/i.test(navigator.userAgent)||/Safari/i.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&!/Mobi|Android/i.test(navigator.userAgent))&&(i=!0),o.find(".shortcode-wcpr-grid-item .shortcode-reviews-images").unbind().on("click",function(e){let t=jQuery(this),r=o.data("reviews_shortcode");if(r.hasOwnProperty("masonry_popup")&&"image"===r.masonry_popup){e.stopPropagation();let i=t.closest(".shortcode-reviews-images-container"),s=[];i.find(".shortcode-reviews-images-wrap-left").find("a").map(function(){let e=jQuery(this).find(".shortcode-reviews-images"),o=jQuery(this).data("image_src")?jQuery(this).data("image_src"):e.attr("src"),t=jQuery(this).data("image_caption")?jQuery(this).data("image_caption"):parseInt(jQuery(this).data("image_index"))+1+"/"+i.find(".shortcode-reviews-images-wrap-left").find("a").length;s.push({href:o,title:t})}),0===s.length&&s.push({href:t.data("original_src")?t.data("original_src"):t.attr("src"),title:t.parent().find(".shortcode-wcpr-review-image-caption").html()}),jQuery.swipebox(s,{hideBarsDelay:1e5,initialIndexOnArray:0})}}),i||o.find(".shortcode-wcpr-enable-box-shadow").addClass("shortcode-wcpr-fix-box-shadow"),jQuery(".shortcode-wcpr-modal-light-box").keydown(function(e){!jQuery.swipebox.isOpen&&"none"!=jQuery(".shortcode-wcpr-modal-light-box").css("display")&&(27==e.keyCode&&(jQuery(".shortcode-wcpr-modal-light-box").fadeOut(200),jQuery(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),t=-1),-1!=t&&(37==e.keyCode&&s(t-=1),39==e.keyCode&&s(t+=1)))}),o.find(".shortcode-wcpr-grid-item").unbind().on("click",function(){let e=o.data("reviews_shortcode");if(e.hasOwnProperty("masonry_popup")&&"review"===e.masonry_popup){e.hasOwnProperty("full_screen_mobile")&&"on"===e.full_screen_mobile?jQuery(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-full-screen-mobile"):jQuery(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-full-screen-mobile");let t=(slides=o.find(".shortcode-wcpr-grid-item")).index(jQuery(this));t>=0&&(jQuery(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),current_shortcode_id=o.attr("id"),jQuery(".shortcode-wcpr-modal-light-box").addClass(current_shortcode_id+"-modal"),s(t),wcpr_disable_scroll())}}),o.find(".shortcode-wcpr-read-more").unbind().on("click",function(e){e.stopPropagation();let o=jQuery(this).closest(".shortcode-wcpr-review-content"),t=o.find(".shortcode-wcpr-review-content-full").html();t&&o.html(t),o.closest(".shortcode-wcpr-grid-item").removeClass("wcpr-grid-item-init"),shortcode_wcpr_resize_masonry_items(!0)}),shortcode_wcpr_resize_masonry_items(!0)})}),jQuery(document).ready(function(e){"use strict";let o=!1;function t(){o||e(".shortcode-wcpr-enable-box-shadow").addClass("shortcode-wcpr-fix-box-shadow"),shortcode_wcpr_resize_masonry_items()}(/iPad/i.test(navigator.userAgent)||/Safari/i.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&!/Mobi|Android/i.test(navigator.userAgent))&&(o=!0),t();let r=-1,i=0;function s(){wcpr_enable_scroll(),e(".shortcode-wcpr-modal-light-box").fadeOut(200),r=-1}function c(){}function a(o){var t;i=0,r=o,o>=slides.length&&(r=0),o<0&&(r=slides.length-1);let s=e("#shortcode-reviews-content-left-modal"),c=e("#shortcode-reviews-content-left-main");s.html(""),c.html("");let a=e(slides[r]);if(0===a.find(".shortcode-reviews-images-container").length)e(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-no-images");else{s.html(a.find(".shortcode-reviews-images-wrap-left").html());let n=a.find(".shortcode-reviews-images-wrap-right").html();n&&(e(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-no-images"),c.html(n)),s.find(".shortcode-reviews-images").map(function(){let o=e(this).data("src");o&&e(this).attr("src",o)}),s.find(".shortcode-reviews-images").parent().on("click",function(){i=e(this).data("image_index");let o="",t=jQuery(this).attr("href");return jQuery(this).hasClass("reviews-iframe")||jQuery(this).find(".reviews-iframe").length?o=jQuery(`<iframe class="shortcode-reviews-images reviews-iframe" data-original_src="${t}" src="${t}" frameborder="0" allowfullscreen></iframe>`):jQuery(this).hasClass("reviews-videos")||jQuery(this).find(".reviews-videos").length?o=jQuery(`<video class="shortcode-reviews-images reviews-videos" data-original_src="${t}" src="${t}" controls></video>`):(o=jQuery(`<img class="shortcode-reviews-images" data-original_src="${t}" src="${t}">`)).attr("title",c.find(".shortcode-reviews-images").attr("title")),o.attr({width:c.find(".shortcode-reviews-images").attr("width"),height:c.find(".shortcode-reviews-images").attr("width")}),c.find(".shortcode-reviews-images").replaceWith(o),c.find(".shortcode-wcpr-review-image-caption").html(e(this).data("image_caption")),!1})}e("#shortcode-reviews-content-right .shortcode-reviews-content-right-meta").html(a.find(".shortcode-review-content-container").html()),e("#shortcode-reviews-content-right .shortcode-wcpr-single-product-summary").html(a.find(".shortcode-wcpr-single-product-summary-content-wrapper").html()),e(".shortcode-wcpr-modal-light-box").fadeIn(200),t=a,e(".shortcode-wcpr-single-product-summary").find(".shortcode-wcpr-variations_form").each(function(){e(this).addClass("variations_form vi_wpvs_variation_form"),e(this).find("select").each(function(o,r){e(this).val(jQuery(t).find("select").eq(o).val()).trigger("change")}),e(this).wc_variation_form(),e(document.body).trigger("vi_wpvs_variation_form"),e(document.body).trigger("wc_price_based_country_ajax_geolocation")}),jQuery("img.jetpack-lazy-image:not(.jetpack-lazy-image--handled)").length&&document.querySelector("body").dispatchEvent(new Event("jetpack-lazy-images-load"))}e(".shortcode-wcpr-close").on("click",function(){s()}),e(".shortcode-wcpr-single-product-summary-meta-shop .variations_form").each(function(){e(this).addClass("shortcode-wcpr-variations_form").removeClass("variations_form")}),e(".shortcode-wcpr-modal-light-box .shortcode-wcpr-overlay").on("click",function(){s()}),e("#shortcode-reviews-content-left-main").on("click",".shortcode-reviews-images",function(){let o=e(this),t=[];e("#shortcode-reviews-content-left-modal").find("a").map(function(){let o=e(this).find(".shortcode-reviews-images"),r=e(this).data("image_src")?e(this).data("image_src"):o.attr("src"),i=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("image_index"))+1+"/"+e("#shortcode-reviews-content-left-modal").find("a").length;t.push({href:r,title:i})}),0===t.length&&t.push({href:o.data("original_src")?o.data("original_src"):o.attr("src"),title:o.parent().find(".shortcode-wcpr-review-image-caption").html()}),e.swipebox(t,{hideBarsDelay:1e5,initialIndexOnArray:i})}),c(),e(document).on("keydown",function(o){let t=e(".shortcode-wcpr-modal-light-box");0!==e(".woocommerce-photo-reviews-shortcode").length&&!e.swipebox.isOpen&&"none"!==t.css("display")&&(27===o.keyCode&&s(),-1!==r&&(37===o.keyCode&&a(r-=1),39===o.keyCode&&a(r+=1)))}),e(document).on("click",".shortcode-wcpr-grid-item",function(){let o=e(this).closest(".woocommerce-photo-reviews-shortcode"),t=o.data("reviews_shortcode");if(t.hasOwnProperty("masonry_popup")&&"review"===t.masonry_popup){t.hasOwnProperty("full_screen_mobile")&&"on"===t.full_screen_mobile?e(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-full-screen-mobile"):e(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-full-screen-mobile");let r=(slides=o.find(".shortcode-wcpr-grid-item")).index(e(this));r>=0&&(e(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),current_shortcode_id=o.attr("id"),e(".shortcode-wcpr-modal-light-box").addClass(current_shortcode_id+"-modal"),a(r),wcpr_disable_scroll())}}),e(document).on("click",".shortcode-wcpr-read-more",function(o){o.stopPropagation();let t=e(this).closest(".shortcode-wcpr-review-content"),r=t.find(".shortcode-wcpr-review-content-full").html();r&&t.html(r),t.closest(".shortcode-wcpr-grid-item").removeClass("wcpr-grid-item-init"),shortcode_wcpr_resize_masonry_items(!0)}),e(document).on("click",".shortcode-wcpr-grid-item .shortcode-reviews-images",function(o){let t=e(this),r=t.closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode");if(r.hasOwnProperty("masonry_popup")&&"image"===r.masonry_popup){o.stopPropagation();let i=t.closest(".shortcode-reviews-images-container"),s=[];i.find(".shortcode-reviews-images-wrap-left").find("a").map(function(){let o=e(this).find(".shortcode-reviews-images"),t=e(this).data("image_src")?e(this).data("image_src"):o.attr("src"),r=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("image_index"))+1+"/"+i.find(".shortcode-reviews-images-wrap-left").find("a").length;s.push({href:t,title:r})}),0===s.length&&s.push({href:t.data("original_src")?t.data("original_src"):t.attr("src"),title:t.parent().find(".shortcode-wcpr-review-image-caption").html()}),e.swipebox(s,{hideBarsDelay:1e5,initialIndexOnArray:0})}}),e("body").on("click",".shortcode-wcpr-next",function(){a(r+=1)}),e("body").on("click",".shortcode-wcpr-prev",function(){a(r-=1)});let n=!1,d="",h="",l="";e(document).on("click",".shortcode-wcpr-load-more-reviews-button:not(.wcpr-loading)",function(o){let r=e(this),i=r.closest(".woocommerce-photo-reviews-shortcode");d=i.data("wcpr_image"),h=i.data("wcpr_verified"),l=i.data("wcpr_rating");let s=i.data("reviews_shortcode");if(n)return!1;n=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),r.addClass("wcpr-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",reviews_shortcode:JSON.stringify(s),wcpr_page:r.data("cpage"),wcpr_image:d,wcpr_verified:h,wcpr_rating:l},success:function(e){let o=jQuery('<div class="woocommerce_photo_reviews_shortcode_ajax_get_reviews"></div>');o.css("display","none").html(e.html),s.hasOwnProperty("style")&&"masonry"===s.style?i.find(".shortcode-wcpr-grid").append(o.find(".shortcode-wcpr-grid").html()):i.find(".commentlist").append(o.find(".commentlist").html()),i.find(".wcpr-load-more-reviews-button-container").replaceWith(o.find(".wcpr-load-more-reviews-button-container")),i.data("wcpr_image",d),i.data("wcpr_verified",h),i.data("wcpr_rating",l)},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&"image"===s.masonry_popup&&c(),t(),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),n=!1,r.removeClass("wcpr-loading"),i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})}),e(document).on("click","a.wcpr-page-numbers.wcpr-page-numbers-nav",function(e){let o=jQuery(this).closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode");if(!o.hasOwnProperty("pagination_ajax")||"on"!==o.pagination_ajax)return!0;e.preventDefault(),e.stopPropagation();let t=jQuery(this).closest(".shortcode-wcpr-pagination"),r=t.find(".wcpr-page-numbers").index(t.find(".wcpr-page-numbers.wcpr-current"));if(jQuery(this).hasClass("wcpr-page-numbers-next")?r++:r--,0===r||r===t.find(".wcpr-page-numbers:not(.wcpr-page-numbers-nav)").length)return!1;t.find(".wcpr-page-numbers").eq(r).trigger("click")}),e(document).on("click","a.wcpr-page-numbers:not(.wcpr-page-numbers-nav)",function(o){let r=e(this),i=r.closest(".woocommerce-photo-reviews-shortcode");d=i.data("wcpr_image"),h=i.data("wcpr_verified"),l=i.data("wcpr_rating");let s=i.data("reviews_shortcode");if(!s.hasOwnProperty("pagination_ajax")||"on"!==s.pagination_ajax)return!0;if(n)return!1;let a=parseInt(i.offset().top);window.scrollTo({top:a,behavior:"smooth"}),n=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",reviews_shortcode:JSON.stringify(s),wcpr_page:parseInt(r.html()),wcpr_image:d,wcpr_verified:h,wcpr_rating:l},success:function(e){i.html(e.html),i.data("wcpr_image",d),i.data("wcpr_verified",h),i.data("wcpr_rating",l)},error:function(e){},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&"image"===s.masonry_popup&&c(),t(),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),n=!1,i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})}),e(document).on("click","a.shortcode-wcpr-filter-button",function(o){let r=e(this),i=r.closest(".woocommerce-photo-reviews-shortcode"),s=i.data("reviews_shortcode");if(!s.hasOwnProperty("pagination_ajax")||"on"!==s.pagination_ajax)return;if(n||0===parseInt(r.find(".shortcode-wcpr-filter-button-count").html())&&!r.hasClass("shortcode-wcpr-active"))return!1;d=i.data("wcpr_image"),h=i.data("wcpr_verified"),l=i.data("wcpr_rating");let a=r.data("filter_type");switch(a){case"all":if(r.hasClass("shortcode-wcpr-active"))return!1;l="";break;case"image":d=r.hasClass("shortcode-wcpr-active")?"":1;break;case"verified":h=r.hasClass("shortcode-wcpr-active")?"":1;break;default:if(r.hasClass("shortcode-wcpr-active"))return!1;l=a}let m=parseInt(i.offset().top);window.scrollTo({top:m,behavior:"smooth"}),n=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",reviews_shortcode:JSON.stringify(s),wcpr_image:d,wcpr_verified:h,wcpr_rating:l},success:function(e){i.html(e.html),i.data("wcpr_image",d),i.data("wcpr_verified",h),i.data("wcpr_rating",l)},error:function(e){},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&"image"===s.masonry_popup&&c(),t(),i.hasClass("woocommerce-photo-reviews-slide-init")&&(i.removeClass("woocommerce-photo-reviews-slide woocommerce-photo-reviews-slide-init woocommerce-photo-reviews-slide-none"),viwcpr_flexslider()),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),n=!1,i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})}),e(document).on("scroll",function(e){setTimeout(function(){shortcode_wcpr_resize_masonry_items()},100)}),e(document).on("click","a",function(e){setTimeout(function(){shortcode_wcpr_resize_masonry_items()},100)})}),jQuery(window).on("load",function(){"use strict";setTimeout(function(){shortcode_wcpr_resize_masonry_items()},100)}).on("resize",function(){"use strict";shortcode_wcpr_resize_masonry_items(!0)});