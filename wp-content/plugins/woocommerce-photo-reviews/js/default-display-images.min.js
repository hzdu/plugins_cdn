jQuery(document).ready((function(e){"use strict";let i,a,t;e(document).on("click",".reviews-images-item",(function(){let s=e(this);if(s.closest(".kt-reviews-image-container").hasClass("kt-reviews-image-container-image-popup-below_thumb")){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val());let n=t.find(".big-review-images");if(e(this).hasClass("active-image"))n.hide(),e(this).removeClass("active-image");else{i=e(this).data("index"),a=e(this).parent().find(".reviews-images-item").length,e(this).parent().find(".reviews-images-item").removeClass("active-image"),e(this).addClass("active-image");let s="";s=e(this).find(".reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+e(this).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':e(this).find(".review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+e(this).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+e(this).data("image_src")+'">',t.find(".big-review-images-content").html(s),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(e(this).data("image_caption"))}s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))}else{let i=s.find(".review-images").closest(".kt-wc-reviews-images-wrap-wrap"),a=[];i.find(".reviews-images-item").map((function(){let t=e(this).find(".review-images"),s=e(this).data("image_src")?e(this).data("image_src"):t.attr("src"),r=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("index"))+1+"/"+i.find(".reviews-images-item").length;a.push({href:s,title:r})})),e.swipebox(a,{hideBarsDelay:1e5,initialIndexOnArray:s.data("index")})}})),e(document).on("click",".big-review-images-content-img",(function(){let i=e(this).closest(".kt-reviews-image-container").find(".kt-wc-reviews-images-wrap-wrap"),a=[];i.find(".reviews-images-item").map((function(){let t=e(this).find(".review-images"),s=e(this).data("image_src")?e(this).data("image_src"):t.attr("src"),r=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("index"))+1+"/"+i.find(".reviews-images-item").length;a.push({href:s,title:r})})),e.swipebox(a,{hideBarsDelay:1e5,initialIndexOnArray:i.find(".active-image").data("index")})})),e(document).on("click",".wcpr-next-normal",(function(){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val()),i=t.find(".active-image").data("index"),a=t.find(".reviews-images-item").length,t.find(".reviews-images-item").removeClass("active-image"),i<a-1?i++:i=0,t.find(".reviews-images-item").eq(i).addClass("active-image"),t.find(".big-review-images-content").html("");let n=t.find(".big-review-images"),m="";m=t.find(".active-image .reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':t.find(".active-image .review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'">',n.find(".big-review-images-content").append(m),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(t.find(".reviews-images-item").eq(i).data("image_caption")),s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))})),e(document).on("click",".wcpr-prev-normal",(function(){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val()),i=t.find(".active-image").data("index"),a=t.find(".reviews-images-item").length,t.find(".reviews-images-item").removeClass("active-image"),i>0?i--:i=a-1,t.find(".reviews-images-item").eq(i).addClass("active-image"),t.find(".big-review-images-content").html("");let n=t.find(".big-review-images"),m="";m=t.find(".active-image .reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':t.find(".active-image .review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'">',n.find(".big-review-images-content").append(m),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(t.find(".reviews-images-item").eq(i).data("image_caption")),s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))})),e(document).on("click",".wcpr-close-normal",(function(){t=e(this).parent().parent(),e(this).parent().hide(),t.find(".kt-wc-reviews-images-wrap-wrap").find(".active-image").removeClass("active-image")})),e(document).on("click",".wcpr-rotate-left",(function(){let i,a;t=e(this).parent().parent(),i=parseInt(t.find(".wcpr-rotate-value").val()),a=t.find(".big-review-images-content-container"),i+=-90,t.find(".wcpr-rotate-value").val(i),a.css({transform:"rotate("+i+"deg)"})})),e(document).on("click",".wcpr-rotate-right",(function(){let i,a;t=e(this).parent().parent(),i=parseInt(t.find(".wcpr-rotate-value").val()),a=t.find(".big-review-images-content-container"),i+=90,t.find(".wcpr-rotate-value").val(i),a.css({transform:"rotate("+i+"deg)"})}));let s=woocommerce_photo_reviews_params.hasOwnProperty("comments_container_id")?woocommerce_photo_reviews_params.comments_container_id:"comments",r=e(".wcpr-filter-container");e("#"+s).prepend(r).prepend(e(".wcpr-overall-rating-and-rating-count")).prepend(e(".woocommerce-Reviews-title").eq(0))}));