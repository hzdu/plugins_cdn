function wcpr_pagination_basic(e,o){e=jQuery(e),o=jQuery(o);let r=!1;jQuery(document).on("click",".woocommerce-pagination a",function(t){if(r)return!1;console.log("ajax_pagination_running"),t.preventDefault(),t.stopPropagation();let a="1"===woocommerce_photo_reviews_params.display?e.find(".wcpr-grid"):e.find(woocommerce_photo_reviews_params.container),i=parseInt(a.offset().top)-200;window.scrollTo({top:i,behavior:"smooth"}),r=!0;let n=jQuery(this).attr("href");a.find(".wcpr-grid-overlay").length||a.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>');let c=a.find(".wcpr-grid-overlay");c.removeClass("wcpr-hidden"),jQuery.ajax({url:n,type:"get",success:function(e){if(e){let r=jQuery(e);"1"===woocommerce_photo_reviews_params.display?a.html(r.find(".wcpr-grid").html()):a.html(r.find(woocommerce_photo_reviews_params.container).html()),r.find(".woocommerce-pagination").length&&o.html(r.find(".woocommerce-pagination").html()),jQuery(document.body).trigger("wcpr_ajax_pagination_end")}c.addClass("wcpr-hidden"),r=!1},error:function(e){r=!1,c.addClass("wcpr-hidden")}})});let t=e.find(".wcpr-filter-container");if(!t.length)return!1;jQuery(".et_divi_theme").length?jQuery("a.wcpr-filter-button").on("click",function(a){a.preventDefault(),a.stopPropagation();let i=jQuery(this);if(r||0===parseInt(i.find(".wcpr-filter-button-count").html())&&!i.hasClass("wcpr-active"))return!1;r=!0,a.preventDefault();let n=jQuery(this).attr("href"),c="1"===woocommerce_photo_reviews_params.display?e.find(".wcpr-grid"):e.find(woocommerce_photo_reviews_params.container);if(0===c.length){if("1"===woocommerce_photo_reviews_params.display)e.append('<div class="'+woocommerce_photo_reviews_params.grid_class+'"><div class="wcpr-grid-overlay"></div></div>'),c=e.find(".wcpr-grid");else{"."===woocommerce_photo_reviews_params.container.substr(0,1)?e.append('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'):e.append('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'),c=e.find(woocommerce_photo_reviews_params.container)}e.find(".woocommerce-noreviews").hide()}c.find(".wcpr-grid-overlay").length||c.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>');let s=c.find(".wcpr-grid-overlay");s.removeClass("wcpr-hidden"),t.addClass("wcpr-filter-loading"),jQuery.ajax({url:n,type:"get",data:{wcpr_is_ajax:1},success:function(r){if(r){let a,i;r=r.replace(/(\r\n\t|\n|\r\t)/gm,"");let n=jQuery(r);"1"===woocommerce_photo_reviews_params.display?c.html(n.find(".wcpr-grid").html()):c.html(n.find(woocommerce_photo_reviews_params.container).html()),n.find(".woocommerce-pagination").length?o&&o.length?o.html(n.find(".woocommerce-pagination").html()):(e.append('<nav class="woocommerce-pagination">'+n.find(".woocommerce-pagination").html()+"</nav>"),o=e.find(".woocommerce-pagination")):o&&o.length>0&&(o.remove(),o=null),null!=(i=(a=/<div class="wcpr-filter-container" style="display: none;">([^]+?)<\/div>/gm).exec(r))&&t.html(i[1]),jQuery(document.body).trigger("wcpr_ajax_pagination_end")}},error:function(e){console.log(e)},complete:function(){r=!1,s.addClass("wcpr-hidden"),t.removeClass("wcpr-filter-loading")}})}):jQuery(document).on("click","a.wcpr-filter-button",function(a){a.preventDefault(),a.stopPropagation();let i=jQuery(this);if(r||0===parseInt(i.find(".wcpr-filter-button-count").html())&&!i.hasClass("wcpr-active"))return!1;r=!0,a.preventDefault();let n=jQuery(this).attr("href"),c="1"===woocommerce_photo_reviews_params.display?e.find(".wcpr-grid"):e.find(woocommerce_photo_reviews_params.container);if(0===c.length){if("1"===woocommerce_photo_reviews_params.display)e.append('<div class="'+woocommerce_photo_reviews_params.grid_class+'"><div class="wcpr-grid-overlay"></div></div>'),c=e.find(".wcpr-grid");else{"."===woocommerce_photo_reviews_params.container.substr(0,1)?e.append('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'):e.append('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'),c=e.find(woocommerce_photo_reviews_params.container)}e.find(".woocommerce-noreviews").hide()}c.find(".wcpr-grid-overlay").length||c.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>');let s=c.find(".wcpr-grid-overlay");s.removeClass("wcpr-hidden"),t.addClass("wcpr-filter-loading"),jQuery.ajax({url:n,type:"get",data:{wcpr_is_ajax:1},success:function(r){if(r){let a,i;r=r.replace(/(\r\n\t|\n|\r\t)/gm,"");let n=jQuery(r);"1"===woocommerce_photo_reviews_params.display?c.html(n.find(".wcpr-grid").html()):c.html(n.find(woocommerce_photo_reviews_params.container).html()),n.find(".woocommerce-pagination").length?o&&o.length?o.html(n.find(".woocommerce-pagination").html()):(e.append('<nav class="woocommerce-pagination">'+n.find(".woocommerce-pagination").html()+"</nav>"),o=e.find(".woocommerce-pagination")):o&&o.length>0&&(o.remove(),o=null),null!=(i=(a=/<div class="wcpr-filter-container" style="display: none;">([^]+?)<\/div>/gm).exec(r))&&t.html(i[1]),jQuery(document.body).trigger("wcpr_ajax_pagination_end")}},error:function(e){console.log(e)},complete:function(){r=!1,s.addClass("wcpr-hidden"),t.removeClass("wcpr-filter-loading")}})})}function wcpr_pagination_loadmore(e,o){e=jQuery(e),o=jQuery(o);let r=e.find(".wcpr-filter-container"),t=jQuery(".wcpr-load-more-reviews-cpage").val(),a=jQuery(".wcpr-load-more-reviews-product-id").val(),i=jQuery(".wcpr-load-more-reviews-rating").val(),n=jQuery(".wcpr-load-more-reviews-verified").val(),c=jQuery(".wcpr-load-more-reviews-image").val(),s=e.find(".woocommerce-noreviews"),m="1"===woocommerce_photo_reviews_params.display?e.find(".wcpr-grid"):e.find(woocommerce_photo_reviews_params.container);function p(){if(0===m.length){let o="1"===woocommerce_photo_reviews_params.display?".":woocommerce_photo_reviews_params.container.substr(0,1);m="."===o?"1"===woocommerce_photo_reviews_params.display?jQuery('<div class="'+woocommerce_photo_reviews_params.grid_class+'"></div>'):jQuery('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'):jQuery('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>'),e.append(m)}}if(t&&a){if(t>1){let o=e.find(".wcpr-load-more-reviews-button");jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,data:{action:"wcpr_ajax_load_more_reviews",post_id:a,cpage:t,rating:i,verified:n,image:c,is_shortcode:"",frontend_style:woocommerce_photo_reviews_params.display},type:"POST",beforeSend:function(){o.addClass("wcpr-loading")},success:function(e){e.html&&(p(),m.html(e.html)),jQuery(document.body).trigger("wcpr_ajax_load_more_reviews_end")},complete:function(){o.removeClass("wcpr-loading")}})}jQuery(document).on("click",".wcpr-load-more-reviews-button:not(.shortcode-wcpr-load-more-reviews-button):not(.wcpr-loading)",function(){let e=jQuery(this);return 2==woocommerce_photo_reviews_params.sort?1==++t&&t++:1==--t&&t--,t>-1&&jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,data:{action:"wcpr_ajax_load_more_reviews",post_id:a,cpage:t,rating:i,verified:n,image:c,is_shortcode:"",frontend_style:woocommerce_photo_reviews_params.display},type:"POST",beforeSend:function(o){e.addClass("wcpr-loading")},success:function(o){o.html?(m.append(o.html),0==t&&e.parent().remove()):e.parent().remove(),jQuery(document.body).trigger("wcpr_ajax_load_more_reviews_end")},complete:function(){e.removeClass("wcpr-loading")}}),!1});let l=!1;if(r.length){let d=r.find(".wcpr-filter-button-ul");jQuery(document).on("click","a.wcpr-filter-button",function(w){let _=jQuery(this);if(l||0===parseInt(_.find(".wcpr-filter-button-count").html())&&!_.hasClass("wcpr-active"))return!1;t=0;let u=_.data("filter_type");switch(u){case"all":if(_.hasClass("wcpr-active"))return!1;i="";break;case"image":c=_.hasClass("wcpr-active")?"":1;break;case"verified":n=_.hasClass("wcpr-active")?"":1;break;default:if(_.hasClass("wcpr-active"))return!1;i=parseInt(u)}l=!0,w.preventDefault(),r.addClass("wcpr-filter-loading"),jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,type:"POST",data:{action:"wcpr_ajax_load_more_reviews",post_id:a,cpage:t,rating:i,verified:n,image:c,filter_type:u,is_shortcode:"",frontend_style:woocommerce_photo_reviews_params.display},success:function(a){2==woocommerce_photo_reviews_params.sort?t++:t--,a.html&&(s.hide(),p()),m.html(a.html),t=parseInt(a.cpage),0===o.length&&(e.append('<nav class="woocommerce-pagination"></nav>'),o=e.find(".woocommerce-pagination")),o.html(a.load_more_html);let i=a.update_count;if(i)for(let e in i)i.hasOwnProperty(e)&&r.find('.wcpr-filter-button[data-filter_type="'+e+'"]').find(".wcpr-filter-button-count").html(i[e]);switch(r.find(".wcpr-filter-rating-placeholder .wcpr-filter-button-count").html(i.all),u){case"all":d.find(".wcpr-filter-button").removeClass("wcpr-active"),_.addClass("wcpr-active"),r.find(".wcpr-filter-rating-placeholder").html(_.html());break;case"image":case"verified":_.hasClass("wcpr-active")?_.removeClass("wcpr-active"):_.addClass("wcpr-active");break;default:d.find(".wcpr-filter-button").removeClass("wcpr-active"),_.addClass("wcpr-active")}jQuery(document.body).trigger("wcpr_ajax_load_more_reviews_end")},error:function(e){console.log(e)},complete:function(){l=!1,r.removeClass("wcpr-filter-loading")}})})}}}function viwcpr_flexslider(){"use strict";jQuery(".woocommerce-photo-reviews-shortcode:not(.woocommerce-photo-reviews-slide)").each(function(){let e=jQuery(this);if(e.addClass("woocommerce-photo-reviews-slide"),!jQuery(this).data("wcpr_slide"))return e.addClass("woocommerce-photo-reviews-slide-none"),!0;let o=!1,r=e.data("reviews_shortcode"),t=".shortcode-wcpr-grid .shortcode-wcpr-grid-item";e.closest(".rtl").length&&(o=!0);let a=e.innerWidth()?e.parent().width():0,i=parseInt(r.cols_gap||20),n=parseInt(r.cols||4),c=parseInt(r.cols_mobile||1);a<600&&a>=480&&(n=n>3?3:n),a<480&&(n=c),e.find(".shortcode-wcpr-reviews").length&&(t=".commentlist li"),e.find(t).css({"margin-bottom":"0","margin-top":"0"}),e.addClass("woocommerce-photo-reviews-slide-init");let s=a?(a-i*n)/n:200;e.removeData("flexslider").viwcaio_flexslider({namespace:"villatheme-slider-",selector:t,animation:"slide",animationLoop:1,itemWidth:s,itemMargin:i,controlNav:!1,maxItems:n,reverse:o,rtl:o,move:n,touch:!0,slideshow:!1,end:function(e){let o=parseInt(e.find(".wcpr-reviews-total-pages").html()),a=Math.ceil(e.find(t).length/parseInt(r.comments_per_page||1));if(o>a){let o=e.limit;(async function(){await new Promise(function(o){jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",reviews_shortcode:JSON.stringify(r),wcpr_page:a+1,wcpr_image:e.data("wcpr_image"),wcpr_verified:e.data("wcpr_verified"),wcpr_rating:e.data("wcpr_rating")},beforeSend:function(){e.addClass("woocommerce-photo-reviews-shortcode-loading")},success:function(r){let a=jQuery("<div></div>");a.append(r.html),a.find(t).each(function(o,r){e.addSlide(jQuery(r))}),e.removeClass("woocommerce-photo-reviews-shortcode-loading"),o(e)},error:function(r){o(e),e.removeClass("woocommerce-photo-reviews-shortcode-loading")}})})})().then(function(){e.setProps(o)})}}})}),jQuery(".wcpr-grid .wcpr-grid-item").last().css("display","inline-block"),jQuery(".shortcode-wcpr-grid .shortcode-wcpr-grid-item").last().css("display","inline-block")}function wcpr_helpful_button(){"use strict";jQuery(document).on("click",[".wcpr-single-product-summary .single_add_to_cart_button:not(.vicatna-single-atc-button):not(.vi-wcaio-product-bt-atc-loading)",".shortcode-wcpr-single-product-summary .single_add_to_cart_button:not(.vicatna-single-atc-button):not(.vi-wcaio-product-bt-atc-loading)"].join(","),function(e){if(!woocommerce_photo_reviews_params.ajax_atc)return!0;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();let o=jQuery(this),r=jQuery(this).closest("form.cart");if(o.addClass("vi-wcaio-product-bt-atc-loading"),!r.length||o.hasClass("disabled"))return o.removeClass("vi-wcaio-product-bt-atc-loading"),!1;if(r.hasClass(".variations_form")){let e=parseInt(r.find("input[name=variation_id]").val());if(!e||e<=0)return o.removeClass("vi-wcaio-product-bt-atc-loading"),!1}let t=r.find("input[name=product_id]").val();if(t||(t=r.find("[name=add-to-cart]").val()),!t||r.find('[name="woopb-add-to-cart"]').length)return o.attr("type","submit").trigger("click"),!1;let a={};r.find("select, textarea, input").each(function(){if(jQuery(this).prop("disabled"))return!0;if(["checkbox","radio"].indexOf(jQuery(this).attr("type"))>-1&&!jQuery(this).prop("checked"))return!0;let e=jQuery(this).attr("name");e&&(a[e]=jQuery(this).val())}),a["add-to-cart"]||(a["add-to-cart"]=r.find("[name=add-to-cart]").val()),jQuery(document.body).trigger("adding_to_cart",[o,a]),woocommerce_photo_reviews_params.ajax_atc_event||(woocommerce_photo_reviews_params.ajax_atc_event=[]),woocommerce_photo_reviews_params.ajax_atc_event.push({type:"post",url:woocommerce_photo_reviews_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcpr_add_to_cart"),data:a,beforeSend:function(){o.removeClass("added").addClass("loading")},success:function(e){return e.error?(location.href=window.location.href,!1):"yes"===woocommerce_photo_reviews_params.cart_redirect_after_add&&woocommerce_photo_reviews_params.cart_url?(window.location=woocommerce_photo_reviews_params.cart_url,!1):(jQuery(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,o]),woocommerce_photo_reviews_params.woocommerce_enable_ajax_add_to_cart||jQuery(document.body).trigger("wc_fragment_refresh"),jQuery(document.body).trigger("viwcpr_added_to_cart",[e.fragments,e.cart_hash,o]),woocommerce_photo_reviews_params.ajax_atc_event.shift(),void(woocommerce_photo_reviews_params.ajax_atc_event.length>0&&jQuery.ajax(woocommerce_photo_reviews_params.ajax_atc_event[0])))},complete:function(e){o.removeClass("loading vi-wcaio-product-bt-atc-loading").addClass("added")}}),1===woocommerce_photo_reviews_params.ajax_atc_event.length&&jQuery.ajax(woocommerce_photo_reviews_params.ajax_atc_event[0])}),jQuery(document).on("click",".wcpr-comment-helpful-button",function(e){e.stopPropagation();let o=jQuery(this),r=o.hasClass("wcpr-comment-helpful-button-up-vote")?"up":"down",t=o.closest(".wcpr-comment-helpful-button-container"),a=t.data("comment_id");"up"===r&&t.hasClass("wcpr-comment-helpful-button-voted-up")||"down"===r&&t.hasClass("wcpr-comment-helpful-button-voted-down")||t.hasClass("wcpr-comment-helpful-button-voting")||(t.addClass("wcpr-comment-helpful-button-voting"),jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,data:{action:"wcpr_helpful_button_handle",vote:r,comment_id:a},type:"POST",success:function(e){if("success"===e.status&&(t.find(".wcpr-comment-helpful-button-up-vote-count").html(parseInt(e.up)),t.find(".wcpr-comment-helpful-button-down-vote-count").html(parseInt(e.down)),"up"===r?t.removeClass("wcpr-comment-helpful-button-voted-down").addClass("wcpr-comment-helpful-button-voted-up"):t.removeClass("wcpr-comment-helpful-button-voted-up").addClass("wcpr-comment-helpful-button-voted-down"),t.parent().hasClass("reviews-content-right-meta")||t.parent().hasClass("shortcode-reviews-content-right-meta"))){let o=jQuery('.wcpr-comment-helpful-button-container[data-comment_id="'+a+'"]');o.find(".wcpr-comment-helpful-button-up-vote-count").html(parseInt(e.up)),o.find(".wcpr-comment-helpful-button-down-vote-count").html(parseInt(e.down)),"up"===r?o.removeClass("wcpr-comment-helpful-button-voted-down").addClass("wcpr-comment-helpful-button-voted-up"):o.removeClass("wcpr-comment-helpful-button-voted-up").addClass("wcpr-comment-helpful-button-voted-down")}},error:function(){},complete:function(){t.removeClass("wcpr-comment-helpful-button-voting")}}))})}function viSwipeDetect(e,o){var r,t,a,i,n,c,s=e,m=o||function(e){};s.addEventListener("touchstart",function(e){var o=e.changedTouches[0];r="none",t=o.pageX,a=o.pageY,c=(new Date).getTime()},!1),s.addEventListener("touchmove",function(e){e.preventDefault()},!1),s.addEventListener("touchend",function(e){var o=e.changedTouches[0];i=o.pageX-t,n=o.pageY-a,(new Date).getTime()-c<=300&&(Math.abs(i)>=150&&Math.abs(n)<=100?r=i<0?"left":"right":Math.abs(n)>=150&&Math.abs(i)<=100&&(r=n<0?"up":"down")),m(r)},!1)}jQuery(window).on("elementor/frontend/init",()=>{"use strict";elementorFrontend.hooks.addAction("frontend/element_ready/woocommerce-photo-reviews.default",function(e){window.elementor&&(wcpr_helpful_button(),viwcpr_flexslider())})}),jQuery(window).on("load",function(){viwcpr_flexslider()}),jQuery(document).ready(function(e){"use strict";let o=1==woocommerce_photo_reviews_params.image_caption_enable,r=woocommerce_photo_reviews_params.i18n_image_caption;function t(e,t,a=""){let i,n=`<img title="${t}" src="${e}" class="wcpr-selected-image-preview">`;return e.indexOf("data:video/")>-1&&(n=`<video class="wcpr-selected-image-preview" height="100%" width="100%" src="${e}" controls >${t}</video>`),i=a?`<div class="wcpr-selected-image">${n}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name wcpr-comment-form-error" >${a}</div></div></div>`:o?`<div class="wcpr-selected-image">${n}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${t}">${t}</div><input class="wcpr-selected-image-caption" type="text" name="wcpr_image_caption[]" placeholder="${r}"></div></div>`:`<div class="wcpr-selected-image">${n}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${t}">${t}</div></div></div>`}wcpr_helpful_button();let a=woocommerce_photo_reviews_params.max_files;e("#commentform").on("change",".wcpr_image_upload",function(o){if(e(this).parent().find(".wcpr-selected-image-container").html(""),this.files.length>a)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_max_files),e(this).val(""),!1;this.files.length>0&&(jQuery(".wcpr-comment-form-error-wraps").addClass("wcpr-hidden"),function(o){let r=1024*parseFloat(woocommerce_photo_reviews_params.max_file_size);for(let i=0;i<o.files.length;i++){var a=new FileReader;a.onload=function(a){let n="";o.files[i].size>r?n=woocommerce_photo_reviews_params.warning_max_file_size.replace("%file_name%",o.files[i].name):-1===woocommerce_photo_reviews_params.upload_allow.indexOf(o.files[i].type)&&(n=woocommerce_photo_reviews_params.warning_upload_allow.replace("%file_name%",o.files[i].name)),e(o).parent().find(".wcpr-selected-image-container").append(t(a.target.result,o.files[i].name,n))},a.readAsDataURL(o.files[i])}}(this))}),jQuery(document).on("click",".wcpr_image_upload_button",function(e){e.preventDefault(),e.stopPropagation(),jQuery(this).parent().find(".wcpr_image_upload").trigger("click")}),e("#commentform").find('input[type="submit"]').on("click",function(o){let r=e(this).closest("form"),t=r.find('textarea[id="comment"]')||r.find('textarea[name="comment"]'),i=r.find('input[name="author"]'),n=r.find('input[name="email"]');if(jQuery(".wcpr-comment-form-error-wraps").addClass("wcpr-hidden"),t.length>0){let e=t.val();if(!e&&1!=woocommerce_photo_reviews_params.allow_empty_comment)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_comment_text),o.preventDefault(),t.focus(),!1;let r=parseInt(woocommerce_photo_reviews_params.minimum_comment_length);if(r&&r>e.length)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_minimum_comment_text),o.preventDefault(),t.focus(),!1}if("on"===woocommerce_photo_reviews_params.enable_photo){r.attr("enctype")&&"multipart/form-data"===r.attr("enctype")||r.attr("enctype","multipart/form-data");let e=r.find(".wcpr_image_upload");if(e.length>0){let r=e.get(0).files,t=parseInt(r.length);if("on"===woocommerce_photo_reviews_params.required_image&&0===t)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_required_image),o.preventDefault(),!1;if(t>a)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_max_files),o.preventDefault(),!1;let i=[],n=1024*parseFloat(woocommerce_photo_reviews_params.max_file_size);if(jQuery.each(r,function(e,o){if(o.size>n)return i.push("<p>"+woocommerce_photo_reviews_params.warning_max_file_size.replace("%file_name%",o.name)+"</p>"),!0;-1===woocommerce_photo_reviews_params.upload_allow.indexOf(o.type)&&i.push("<p>"+woocommerce_photo_reviews_params.warning_upload_allow.replace("%file_name%",o.name)+"</p>")}),i.length)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(i.join("")),o.preventDefault(),!1}else if("on"===woocommerce_photo_reviews_params.required_image)return jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_required_image),o.preventDefault(),!1}return i.length>0&&i.attr("required")&&!i.val()?(jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_name_text),o.preventDefault(),i.focus(),!1):n.length>0&&n.attr("required")&&!n.val()?(jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_email_text),o.preventDefault(),n.focus(),!1):!1===r.find('input[name="wcpr_gdpr_checkbox"]').prop("checked")?(jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_gdpr),o.preventDefault(),!1):void 0});let i=woocommerce_photo_reviews_params.hasOwnProperty("comments_container_id")?woocommerce_photo_reviews_params.comments_container_id:"comments",n=e("#"+i);function c(){if(woocommerce_photo_reviews_params.pagination_ajax&&n.length){let e=n.find(".woocommerce-pagination");woocommerce_photo_reviews_params.loadmore_button?(e.html(jQuery(".wcpr-load-more-reviews-button-modal").html()),wcpr_pagination_loadmore(n,n.find(".woocommerce-pagination"))):wcpr_pagination_basic(n,n.find(".woocommerce-pagination"))}else jQuery(".et_divi_theme").length&&jQuery("a.wcpr-filter-button").on("click",function(){location.href=jQuery(this).attr("href")})}function s(){n.prepend(e(".wcpr-filter-container")).prepend(e(".wcpr-overall-rating-and-rating-count")).prepend(e(".woocommerce-Reviews-title").eq(0))}n.length>0?(s(),c()):e(document).on("skeleton-loaded",function(){n=e("#"+i),s(),c()}),e(document).on("click",".reviews_tab",function(){n=e("#"+i),(e(".wcpr-filter-container").length>0&&0===n.find(".wcpr-filter-container").length||e(".wcpr-overall-rating-and-rating-count").length>0&&0===n.find(".wcpr-overall-rating-and-rating-count").length)&&n.prepend(e(".wcpr-filter-container")).prepend(e(".wcpr-overall-rating-and-rating-count")).prepend(e(".woocommerce-Reviews-title").eq(0))})});