"use strict";jQuery(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/woocommerce-photo-reviews-form.default",function(e){if(!window.elementor)return;e.find(".woocommerce-photo-reviews-form-container").find(".wcpr-rating").hide().before('<p class="stars">                    <span>                        <a class="star-1" href="#">1</a>                        <a class="star-2" href="#">2</a>                        <a class="star-3" href="#">3</a>                        <a class="star-4" href="#">4</a>                        <a class="star-5" href="#">5</a>                    </span>                </p>')})}),jQuery(document).ready(function(e){e("body").on("init",".wcpr-rating",function(){e(".wcpr-rating").hide().before('<p class="stars">                        <span>                            <a class="star-1" href="#">1</a>                            <a class="star-2" href="#">2</a>                            <a class="star-3" href="#">3</a>                            <a class="star-4" href="#">4</a>                            <a class="star-5" href="#">5</a>                        </span>                    </p>')}).on("click","#respond p.stars a",function(){var r=e(this),o=e(this).closest("#respond").find("#wcpr-rating"),t=e(this).closest(".stars");return o.val(r.text()),r.siblings("a").removeClass("active"),r.addClass("active"),t.addClass("selected"),!1}).on("click","#respond #submit",function(){var r=e(this).closest("#respond").find("#wcpr-rating"),o=r.val();if(r.length>0&&!o&&"yes"===woocommerce_photo_reviews_form_params.review_rating_required)return window.alert(woocommerce_photo_reviews_form_params.i18n_required_rating_text),!1}),e("#wcpr-rating").trigger("init");let r=woocommerce_photo_reviews_form_params.max_files;e(".wcpr-comment-form").on("change",".wcpr_image_upload",function(o){if(e(this).parent().find(".wcpr-selected-image-container").html(""),this.files.length>r)return alert(woocommerce_photo_reviews_form_params.warning_max_files),e(this).val(""),!1;this.files.length>0&&function(r){for(let t=0;t<r.files.length;t++){var o=new FileReader;o.onload=function(o){e(r).parent().find(".wcpr-selected-image-container").append(a(o.target.result,r.files[t].name))},o.readAsDataURL(r.files[t])}}(this)}).find(".star-5").click();let o=1==woocommerce_photo_reviews_form_params.image_caption_enable,t=woocommerce_photo_reviews_form_params.i18n_image_caption;function a(e,r){let a;return a=o?`<div class="wcpr-selected-image"><img title="${r}" src="${e}" class="wcpr-selected-image-preview"><div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${r}">${r}</div><input class="wcpr-selected-image-caption" type="text" name="wcpr_image_caption[]" placeholder="${t}"></div></div>`:`<div class="wcpr-selected-image"><img title="${r}" src="${e}" class="wcpr-selected-image-preview"><div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${r}">${r}</div></div></div>`}e(".woocommerce-photo-reviews-form-container").find('input[type="submit"]').on("click",function(r){let o=e(this).closest(".woocommerce-photo-reviews-form-container"),t=o.find('textarea[name="comment"]'),a=o.find('input[name="author"]'),i=o.find('input[name="email"]');if(t.length>0&&!t.val()&&1!=woocommerce_photo_reviews_form_params.allow_empty_comment)return alert(woocommerce_photo_reviews_form_params.i18n_required_comment_text),r.preventDefault(),t.focus(),!1;if("on"===woocommerce_photo_reviews_form_params.enable_photo){let e=o.find(".wcpr_image_upload");if(e.length>0){let o=parseInt(e.get(0).files.length);if("on"===woocommerce_photo_reviews_form_params.required_image&&0===o)return alert(woocommerce_photo_reviews_form_params.warning_required_image),!1;if(o>woocommerce_photo_reviews_form_params.max_files)return alert(woocommerce_photo_reviews_form_params.warning_max_files),r.preventDefault(),!1}else if("on"===woocommerce_photo_reviews_form_params.required_image)return alert(woocommerce_photo_reviews_form_params.warning_required_image),!1}return a.length>0&&a.attr("required")&&!a.val()?(alert(woocommerce_photo_reviews_form_params.i18n_required_name_text),r.preventDefault(),a.focus(),!1):i.length>0&&i.attr("required")&&!i.val()?(alert(woocommerce_photo_reviews_form_params.i18n_required_email_text),r.preventDefault(),i.focus(),!1):!1===o.find('input[name="wcpr_gdpr_checkbox"]').prop("checked")?(alert(woocommerce_photo_reviews_form_params.warning_gdpr),r.preventDefault(),!1):void 0}),e(document).on("click",".woocommerce-photo-reviews-form-main,.woocommerce-photo-reviews-form-main-close",function(){e(this).closest(".woocommerce-photo-reviews-form-container").addClass("woocommerce-photo-reviews-form-popup-hide"),wcpr_enable_scroll()}),e(document).on("click",".woocommerce-photo-reviews-form-button-add-review",function(){e(this).closest(".woocommerce-photo-reviews-form-container").removeClass("woocommerce-photo-reviews-form-popup-hide"),wcpr_disable_scroll()}),e(document).on("click",".woocommerce-photo-reviews-form-main-inner",function(e){e.stopPropagation()})});