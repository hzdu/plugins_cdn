!function(t){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=5)}([,,,,,function(t,e,a){t.exports=a(6)},function(t,e,a){jQuery(function(t){Promise.resolve().then(function(){return a(7)}).then(function(){t(document).on("wc_variation_form.inwp",".variations_form:not(.inwp-pro-loaded)",function(e,a){t(this).VebVariationSwatchesPro()})})})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}();function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var s=function(t){var e={},a=function(){function a(i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this._el=i,this._element=t(i),this._config=t.extend({},e,r),this._generated={},this.product_variations=this._element.data("product_variations"),this.is_ajax_variation=!this.product_variations,this.is_loop=this._element.hasClass("inwp-archive-variation-wrapper"),this.is_single_product=!this.is_loop,this._attributeFields=this._element.find(".variations select"),this._wrapper=this._element.closest(veb_variation_swatches_options.archive_product_wrapper),this._cart_button=this._wrapper.find(".inwp_add_to_cart_button"),this._cart_button_ajax=this._wrapper.find(".inwp_ajax_add_to_cart"),this._cart_button_html=this._cart_button.clone().html(),this._image=this._wrapper.find(veb_variation_swatches_options.archive_image_selector),this._price=this._wrapper.find(".price"),this._price_html=this._price.clone().html(),this._product_id=this._cart_button.data("product_id"),this._variation_shown=!1,this._resetVariations=this._element.find(".veb_variation_swatches_archive_reset_variations"),this.is_mobile=t("body").hasClass("veb-variation-swatches-on-mobile"),this.iconic_woothumbs_all_images_wrap=t(".iconic-woothumbs-all-images-wrap"),this.iconic_woothumbs_show_variation_trigger="iconic_woothumbs_show_variation",veb_variation_swatches_options.archive_cart_button_selector.trim()&&(this._cart_button=this._wrapper.find(veb_variation_swatches_options.archive_cart_button_selector),this._cart_button_ajax=this._wrapper.find(veb_variation_swatches_options.archive_cart_button_selector)),this._element.addClass("inwp-pro-loaded"),this.init(),t(document).trigger("veb_variation_swatches_pro",[this._element])}return n(a,[{key:"init",value:function(){this.archiveCatalogHoverEvent(),this.setDefaultTemplate(),this.archiveEvents(),this.clickableVariationURL(),this.variationImagePreview(),this.showStockLabel(),this._element.trigger("veb_variation_swatches_pro_init",[this,this.product_variations]),t(document).trigger("veb_variation_swatches_pro_loaded",[this._element,this.product_variations])}},{key:"variationImagePreview",value:function(){var t=veb_variation_swatches_options.single_variation_preview_attribute;if(this.is_single_product&&veb_variation_swatches_options.enable_single_variation_preview&&veb_variation_swatches_options.single_variation_preview_attribute&&(this._attributeFieldSingle=this._element.find(".variations select#"+t),this.changeSingleAttributeImage(),this._attributeFieldSingle.trigger("change.inwp")),this.is_loop&&veb_variation_swatches_options.enable_single_variation_preview_archive&&veb_variation_swatches_options.enable_single_variation_preview&&veb_variation_swatches_options.single_variation_preview_attribute){var e=this._element.data("single_variation_preview_attribute").trim();t=e||t,this._attributeFieldSingle=this._element.find(".variations select#"+t),this.changeSingleAttributeImage()}}},{key:"clickableVariationURL",value:function(){this.is_single_product&&veb_variation_swatches_options.enable_linkable_variation_url&&this.generateVariationURL()}},{key:"generateVariationURL",value:function(){var e=this,a=new URL(window.location.toString()),i=a.searchParams.toString(),n=a.origin+a.pathname;this._element.on("check_variations.wc-variation-form",function(o){var s=void 0;veb_variation_swatches_options.wc_bundles_enabled?(a=new URL(window.location.toString()),i=a.searchParams.toString(),s=e.getChosenAttributesBundleSupport()):s=e.getChosenAttributes();var _=Object.keys(s).reduce(function(t,e){return s[e]&&(t[e]=s[e]),t},{}),c=[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(new URLSearchParams(i).keys())).reduce(function(t,e){return t[e]=new URLSearchParams(i).get(e),t},{}),l=r({},c,_),h=t.param(l);window.history.pushState({},"",e.addQueryArg(n,h))})}},{key:"setDefaultTemplate",value:function(){if(this.is_single_product)return!1;var t=this._element.data("product_variations"),e=this.getChosenAttributesAll(),a=e.data;if(e.count&&e.count===e.chosenCount){var i=this.findMatchingVariations(t,a).shift();i&&(this.archiveImageUpdate(i),this.archiveTemplateUpdate(i))}}},{key:"archiveCatalogHoverEvent",value:function(){var e=this;this._element.find("ul.variable-items-wrapper.inwp-catalog-variable-wrapper > li:not(.disabled):not(.veb-variation-swatches-variable-item-more)").each(function(a,i){t(this).off("inwp-selected-item.catalog-image-hover"),t(this).off("inwp-selected-item.catalog-image-click"),t(this).off("mouseenter.catalog-image-hover"),t(this).off("mouseleave.catalog-image-hover"),t(this).off("click.linkable"),"hover"===veb_variation_swatches_options.catalog_mode_event&&(t(this).on("mouseenter.catalog-image-hover",function(a){a.stopPropagation(),t(this).trigger("click").trigger("focusin"),e.is_mobile&&t(this).trigger("touchstart")}),veb_variation_swatches_options.linkable_attribute&&t(this).on("click.linkable",function(e){if(void 0!==e.originalEvent){var a=t(this).attr("data-url");a&&(window.location.href=a)}}))})}},{key:"archiveEvents",value:function(){var e=this;if(this.is_single_product)return!1;this._element.off("found_variation.inwp"),this._element.off("reset_data.inwp"),this._element.off("inwp_single_attribute_chosen.inwp"),this._cart_button_ajax.off("click.inwp"),this._element.on("found_variation.inwp",function(t,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.preventDefault(),t.stopPropagation(),e.archiveImageUpdate(a),i&&e.archiveTemplateUpdate(a)}),this._element.on("reset_data.inwp",function(t){t.preventDefault(),t.stopPropagation(),0===e.getChosenAttributesAll().chosenCount&&(e.archiveImageUpdate(),e.archiveTemplateReset())}),this._element.on("inwp_single_attribute_chosen.inwp",function(t,a){e.archiveImageUpdate(a)}),this._cart_button_ajax.on("click.inwp",function(e){var a=t(this);if(veb_variation_swatches_options.enable_catalog_mode)return!0;if(!a.data("variation_id"))return!0;e.preventDefault(),e.stopPropagation(),a.removeClass("added"),a.addClass("loading");var i={action:"inwp_add_variation_to_cart"};t.each(a.data(),function(t,e){_.includes(["selectOptions","addToCart","selectOptionsAriaLabel","addToCartAriaLabel"],t)||(i[t]=e)}),t(document.body).trigger("adding_to_cart",[a,i]),t.post(wc_add_to_cart_variation_params.ajax_url.toString(),i,function(e){e&&(e.error&&e.product_url?window.location=e.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?t(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,a]):window.location=wc_add_to_cart_params.cart_url)})})}},{key:"archiveTemplateReset",value:function(){veb_variation_swatches_options.enable_catalog_mode||(this._cart_button.length>0&&(this._cart_button.data("variation_id",""),this._cart_button.data("variation",""),this._cart_button.attr("aria-label",this._cart_button.data("select-options-aria-label")),this._cart_button.html(this._cart_button.data("select-options")),this._cart_button.removeClass("added"),"no"===wc_add_to_cart_variation_params.enable_ajax_add_to_cart&&this._cart_button.prop("href",this._cart_button.data("product_permalink"))),this._wrapper.find(".price").html(this._price_html),this._wrapper.find(".added_to_cart, .added_to_cart_button").remove())}},{key:"archiveTemplateUpdate",value:function(e){var a=(e&&e.variation_is_visible?wp.template("inwp-variation-template"):wp.template("unavailable-variation-template"))({variation:e,price_html:t(e.price_html).unwrap().html()||this._price_html});if(a=(a=a.replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),!veb_variation_swatches_options.enable_catalog_mode){if(this._cart_button.length>0&&(this._cart_button.data("variation_id",e.variation_id),this._cart_button.data("variation",this.getChosenAttributes()),this._cart_button.attr("aria-label",this._cart_button.data("add-to-cart-aria-label")),this._cart_button.html(this._cart_button.data("add-to-cart")),this._cart_button.removeClass("added"),"no"===wc_add_to_cart_variation_params.enable_ajax_add_to_cart)){var i=t.param(r({},this.getChosenAttributes(),{"add-to-cart":this._product_id,variation_id:e.variation_id}));this._cart_button.prop("href",this.addQueryArg(this._cart_button.data("add_to_cart_url"),i))}this._wrapper.find(".price").html(a),this._wrapper.find(".added_to_cart, .added_to_cart_button").remove()}}},{key:"archiveImageUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&t.image&&t.image.thumb_src&&t.image.thumb_src.length>1?(this._image.wc_set_variation_attr("src",t.image.thumb_src),this._image.wc_set_variation_attr("height",t.image.thumb_src_h),this._image.wc_set_variation_attr("width",t.image.thumb_src_w),this._image.wc_set_variation_attr("srcset",t.image.thumb_srcset),this._image.wc_set_variation_attr("sizes",t.image.thumb_sizes),this._image.wc_set_variation_attr("title",t.image.title),this._image.wc_set_variation_attr("alt",t.image.alt)):(this._image.wc_reset_variation_attr("src"),this._image.wc_reset_variation_attr("width"),this._image.wc_reset_variation_attr("height"),this._image.wc_reset_variation_attr("srcset"),this._image.wc_reset_variation_attr("sizes"),this._image.wc_reset_variation_attr("title"),this._image.wc_reset_variation_attr("alt"))}},{key:"getChosenAttributesBundleSupport",value:function(){var e={};return this._attributeFields.each(function(){var a=t(this).attr("name"),i=t(this).val()||"";i.length>0&&0,0,e[a]=i}),e}},{key:"getChosenAttributes",value:function(){var e={};return this._attributeFields.each(function(){var a=t(this).data("attribute_name")||t(this).attr("name"),i=t(this).val()||"";i.length>0&&0,0,e[a]=i}),e}},{key:"addQueryArg",value:function(t,e){if(e){e=(e=e.trim().replace(/^(\?|#|&)/,"").replace(/(\?|#|&)$/,""))?"?"+e:e;var a=t.split(/[\?\#]/)[0];e&&/\:\/\/[^\/]*$/.test(a)&&(a+="/");var i=t.match(/(\#.*)$/);t=a+e,i&&(t+=i[0])}return t}},{key:"eventReAttach",value:function(t,e,a){for(var i in a)if(a.hasOwnProperty(i)){var r=a[i],n=r.namespace?"."+r.namespace:"",o=r.data?r.data:{},s=r.handler?r.handler:function(){};t.on(""+e+n,o,s)}}},{key:"changeSingleAttributeImage",value:function(){var e=this,a=t._data(this._el,"events"),i=jQuery.extend(!0,{},a.reset_data);this._attributeFieldSingle.on("change.inwp",function(t){var a=e.getChosenAttributesAll(),r=e.getChosenAttributesSingle(),n=r.data;if(r.count>0)if(a.count>1&&1===a.chosenCount){var o=e._element.data("product_variations"),s=e.findMatchingVariations(o,n).shift();s&&(e._element.off("reset_data"),e._element.wc_variations_image_update(s),e._element.trigger("inwp_pro_single_preview_found_variation",[e,s]),e._element.trigger("inwp_single_attribute_chosen",[s,e]),e._element.trigger(veb_variation_swatches_options.single_variation_preview_js_event,[s,!1]),e._element.find(".single_add_to_cart_button").removeClass("wc-variation-is-unavailable").addClass("disabled wc-variation-selection-needed"))}else e.eventReAttach(e._element,"reset_data",i)})}},{key:"findStockLabelVariation",value:function(t,e){var a=[],r=!0,n=!1,s=void 0;try{for(var c,l=Object.entries(e.data)[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var h=c.value,u=i(h,2),v=u[0];if(0===u[1].length){var d=this._element.find("ul[data-attribute_name='"+v+"']").data("attribute_values")||[],f=!0,m=!1,w=void 0;try{for(var p,g=d[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var b=p.value,y=_.extend(e.data,o({},v,b)),k=this.findMatchingVariations(t,y);if(k.length>0){var C=k.shift(),A={};A.attribute_name=v,A.attribute_value=b,A.variation=C,a.push(A)}}}catch(t){m=!0,w=t}finally{try{!f&&g.return&&g.return()}finally{if(m)throw w}}}}}catch(t){n=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw s}}return a}},{key:"resetStockLabel",value:function(){this._element.find(".variable-item").removeClass("inwp-show-stock-left-info"),this._element.find(".inwp-stock-left-info").attr("data-inwp-stock-info","")}},{key:"showStockLabel",value:function(){var t=this;if(this.is_single_product&&veb_variation_swatches_options.show_variation_stock_info){this._element.off("inwp-selected-item.wc-variation-form"),this._element.off("reset_data.inwp");var e=parseInt(veb_variation_swatches_options.stock_label_display_threshold),a=this._element.data("product_variations");this.getChosenAttributesAll();this._element.on("inwp-selected-item.wc-variation-form","li.variable-item:not(.radio-variable-item):not(.veb-variation-swatches-variable-item-more)",function(i){var r=t.getChosenAttributesAll();(r.count>1&&r.count===r.chosenCount&&t.resetStockLabel(),r.count>1&&r.count===r.mayChosenCount)&&t.findStockLabelVariation(a,r).forEach(function(a){var i='[data-attribute_name="'+a.attribute_name+'"] > [data-value="'+a.attribute_value+'"]';a.variation.is_in_stock&&a.variation.max_qty&&a.variation.inwp_stock_left&&a.variation.max_qty<=e?(t._element.find(i+" .inwp-stock-left-info").attr("data-inwp-stock-info",a.variation.inwp_stock_left),t._element.find(i).addClass("inwp-show-stock-left-info")):(t._element.find(i).removeClass("inwp-show-stock-left-info"),t._element.find(i+" .inwp-stock-left-info").attr("data-inwp-stock-info",""))})}),this._element.on("reset_data.inwp",function(e){e.stopImmediatePropagation();var a=t.getChosenAttributesAll();a.count>1&&a.chosenCount<1&&t.resetStockLabel()})}}},{key:"getChosenAttributesAll",value:function(){var e={},a=0,i=0;return this._attributeFields.each(function(){var r=t(this).data("attribute_name")||t(this).attr("name"),n=t(this).val()||"";n.length>0&&i++,a++,e[r]=n}),{count:a,chosenCount:i,mayChosenCount:i+1,data:e}}},{key:"getChosenAttributesSingle",value:function(){var e={},a=0,i=0;return this._attributeFieldSingle.each(function(){var r=t(this).data("attribute_name")||t(this).attr("name"),n=t(this).val()||"";n.length>0&&i++,a++,e[r]=n}),{count:a,chosenCount:i,data:e}}},{key:"findMatchingVariations",value:function(t,e){for(var a=[],i=0;i<t.length;i++){var r=t[i];this.isMatch(r.attributes,e)&&a.push(r)}return a}},{key:"isMatch",value:function(t,e){var a=!0;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],n=e[i];void 0!==r&&void 0!==n&&0!==r.length&&0!==n.length&&r!==n&&(a=!1)}return a}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){new a(this,t)})}}]),a}();return t.fn.VebVariationSwatchesPro=a._jQueryInterface,t.fn.VebVariationSwatchesPro.Constructor=a,t.fn.VebVariationSwatchesPro.noConflict=function(){return t.fn.VebVariationSwatchesPro=t.fn.VebVariationSwatchesPro,a._jQueryInterface},a}(jQuery);e.default=s}]);