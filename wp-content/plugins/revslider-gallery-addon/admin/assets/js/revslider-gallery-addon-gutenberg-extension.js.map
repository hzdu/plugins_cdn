{"version":3,"sources":["slider-control.js","revslider-gallery-addon-gutenberg-extension.js"],"names":["createHigherOrderComponent","wp","compose","Fragment","element","InspectorControls","editor","components","PanelBody","SelectControl","addFilter","hooks","RevSliderGalleryAddOnBlocks","RevSliderGalleryAddOnAddControl","settings","name","includes","attributes","jQuery","extend","slider","type","default","RevSliderGalleryAddOnOptions","RevSliderGalleryAddOn","BlockEdit","props","className","sliders","selectedSliderOption","setAttributes","addRevSliderExtraProps","saveElementProps","blockType"],"mappings":";AAEQA,IAAAA,EAA+BC,GAAGC,QAAlCF,2BACAG,EAAaF,GAAGG,QAAhBD,SACAE,EAAsBJ,GAAGK,OAAzBD,kBAC6BJ,EAAAA,GAAGM,WAAhCC,EAAAA,EAAAA,UAAWC,EAAAA,EAAAA,cACXC,EAAcT,GAAGU,MAAjBD,UAIFE,EAA8B,CACnC,gBAWKC,EAAkC,SAAEC,EAAUC,GAE9C,OAAEH,EAA4BI,SAAUD,IAI7CD,EAASG,WAAaC,OAAOC,QAAO,EAAML,EAASG,WAAY,CAC9DG,OAAQ,CACPC,KAAM,SACNC,QAASC,6BAA6BD,WAIjCR,GAVCA,GAaTJ,EAAW,2BAA4B,+DAAgEG,GAKvG,IAAMW,EAAwBxB,EAA4B,SAAEyB,GACpD,OAAA,SAAEC,GAEH,IAAEd,EAA4BI,SAAUU,EAAMX,MAEjD,OAAA,MAAC,cAAA,EAAeW,GAIVN,IAAAA,EAAWM,EAAMT,WAAjBG,OAQP,OALIA,IACJM,EAAMT,WAAWU,UAAkCP,qBAAAA,OAAAA,IAInD,MAAC,cAAA,EACA,KAAA,MAAC,cAAA,EAAeM,GAChB,MAAC,cAAA,EACA,KAAA,MAAC,cAAA,EAAD,CACC,MAAQ,4BACR,aAAc,GAEd,MAAC,cAAA,EAAD,CACC,MAAQ,gBACR,MAAQN,EACR,QAAUG,6BAA6BK,QACvC,SAAW,SAAEC,GACZH,EAAMI,cAAe,CACpBV,OAAQS,YASd,yBAEHnB,EAAW,mBAAoB,kEAAmEc,GAWlG,IAAMO,EAAyB,SAAEC,EAAkBC,EAAWhB,GAExD,OAAEL,EAA4BI,SAAUiB,EAAUlB,OAIvDG,OAAOC,QAAO,EAAMa,EAAkB,CAAEZ,OAAQ,CAAWH,MAAAA,EAAWG,UAC/DY,GAJCA,GAOTtB,EAAW,mCAAoC,2EAA4EqB;;ACzG3H,aAAA,QAAA","file":"revslider-gallery-addon-gutenberg-extension.js","sourceRoot":"..\\assets\\js","sourcesContent":["// import assign from 'lodash.assign';\n\nconst { createHigherOrderComponent } = wp.compose;\nconst { Fragment } = wp.element;\nconst { InspectorControls } = wp.editor;\nconst { PanelBody, SelectControl } = wp.components;\nconst { addFilter } = wp.hooks;\n// const { __ } = wp.i18n;\n\n// Enable slider control on the following blocks\nconst RevSliderGalleryAddOnBlocks = [\n\t'core/gallery',\n];\n\n/**\n * Add slider control attribute to block.\n *\n * @param {object} settings Current block settings.\n * @param {string} name Name of block.\n *\n * @returns {object} Modified block settings.\n */\nconst RevSliderGalleryAddOnAddControl = ( settings, name ) => {\n\t// Do nothing if it's another block than our defined ones.\n\tif ( ! RevSliderGalleryAddOnBlocks.includes( name ) ) {\n\t\treturn settings;\n\t}\n\n\tsettings.attributes = jQuery.extend(true, settings.attributes, {\n\t\tslider: {\n\t\t\ttype: 'string',\n\t\t\tdefault: RevSliderGalleryAddOnOptions.default,\n\t\t},\n\t} );\n\n\treturn settings;\n};\n\naddFilter( 'blocks.registerBlockType', 'revslider-gallery-addon-gutenberg-extension/attribute/slider', RevSliderGalleryAddOnAddControl );\n\n/**\n * Add Slider Option to Block\n */\nconst RevSliderGalleryAddOn = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's another block than our defined ones.\n\t\tif ( ! RevSliderGalleryAddOnBlocks.includes( props.name ) ) {\n\t\t\treturn (\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t);\n\t\t}\n\n\t\tconst { slider } = props.attributes;\n\n\t\t// add revslider-gallery-addon-alias prefix class name\n\t\tif ( slider ) {\n\t\t\tprops.attributes.className = `revslider-gallery-${ slider }`;\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\ttitle={ 'Slider Revolution Gallery' }\n\t\t\t\t\t\tinitialOpen={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ 'Select Slider' }\n\t\t\t\t\t\t\tvalue={ slider }\n\t\t\t\t\t\t\toptions={ RevSliderGalleryAddOnOptions.sliders }\n\t\t\t\t\t\t\tonChange={ ( selectedSliderOption ) => {\n\t\t\t\t\t\t\t\tprops.setAttributes( {\n\t\t\t\t\t\t\t\t\tslider: selectedSliderOption,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</Fragment>\n\t\t);\n\t};\n}, 'RevSliderGalleryAddOn' );\n\naddFilter( 'editor.BlockEdit', 'revslider-gallery-addon-gutenberg-extension/with-slider-control', RevSliderGalleryAddOn );\n\n/**\n * Assign alias to block class name\n *\n * @param {object} saveElementProps Props of save element.\n * @param {Object} blockType Block type information.\n * @param {Object} attributes Attributes of block.\n *\n * @returns {object} Modified props of save element.\n */\nconst addRevSliderExtraProps = ( saveElementProps, blockType, attributes ) => {\n\t// Do nothing if it's another block than our defined ones.\n\tif ( ! RevSliderGalleryAddOnBlocks.includes( blockType.name ) ) {\n\t\treturn saveElementProps;\n\t}\n\t\n\tjQuery.extend(true, saveElementProps, { slider: { 'alias': attributes.slider } } );\n\treturn saveElementProps;\n};\n\naddFilter( 'blocks.getSaveContent.extraProps', 'revslider-gallery-addon-gutenberg-extension/get-save-content/extra-props', addRevSliderExtraProps );\n","import './slider-control';\n"]}