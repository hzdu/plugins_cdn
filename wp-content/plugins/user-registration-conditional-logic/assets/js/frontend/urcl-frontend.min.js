jQuery(document).ready(function(d){var o={init:function(){d(document).on("user_registration_frontend_before_form_submit user_registration_frontend_before_edit_profile_submit",function(e,i,r,t){var n=d("#urcl_hide_fields");null!=n&&0<n.length&&(i.urcl_hide_fields=n.val())}),d(".urcl-hide-field").closest(".ur-field-item").hide(),d(".urcl-hide-field").removeAttr("required"),d("form, .user-registration").each(function(){var e,t,i,r,n;(d(this).is(".register")||d(this).is(".user-registration-EditProfileForm")||d(this).is(".user-registration"))&&(e=d(this).data("form-id"),t=d(e?'form[data-form-id="'+e+'"':this),0===(i=d(this).find(".ur-field-item")).length&&(i=d(this).find(".form-row")),(r=document.createElement("input")).setAttribute("type","hidden"),r.setAttribute("id","urcl_hide_fields"),r.setAttribute("name","urcl_hide_fields"),r.setAttribute("value",""),d(this).is(".register")?n=document.querySelector("#user-registration-form-"+e+" form.register"):d(this).is(".user-registration-EditProfileForm")&&(n=document.querySelector("form.user-registration-EditProfileForm")),n&&n.appendChild(r),i.each(function(){if(d(this).data("conditional-logic-enabled")){var e=d(this).data("conditional-logic-map"),i=(i=d(this).data("field-id"))||d(this).attr("id");if("object"!=typeof e)try{e=JSON.parse(e)}catch(r){}e&&""!==e&&"object"==typeof e&&(o.run(i,e,t),o.delegateRule(e.action,i,e.logic_map,e,t))}}))})},delegateRule:function(i,r,e,t,n){"group"===e.type?Array.isArray(e.conditions)&&e.conditions.forEach(function(e){o.delegateRule(i,r,e,t,n)}):(e='.ur-field-item[data-field-id="'+e.triggerer_id+'"]  .ur-input-checkbox, .ur-frontend-field, .form-row#user_registration_'+e.triggerer_id+'_field .urwc-field-input, .ur-field-item[data-field-id="'+e.triggerer_id+'"] .urwc-field-input, .ur-field-item[data-field-id="'+e.triggerer_id+'"] .ur-edit-profile-field',n.on("change keyup",e,function(){o.run(r,t,n)}))},run:function(e,i,r){var t=o.evaluateCondition(i.logic_map,r),n=r.find('.ur-field-item[data-field-id="'+e+'"]'),d=r.find("#urcl_hide_fields").val(),d=new Set(d?JSON.parse(d):[]);0===n.length&&(n=r.find(".form-row#"+e)),(t?"hide"===i.action?(n.hide(),!0):(n.show(),!1):"hide"===i.action?(n.show(),!1):(n.hide(),!0))?d.add(e):d["delete"](e),r.find("#urcl_hide_fields").val(JSON.stringify(Array.from(d)))},getFieldValue:function(e,i){e=i.find('.ur-field-item[data-field-id="'+e+'"]'),i=e.find(".ur-frontend-field").length?e.find(".ur-frontend-field"):e.find(".ur-edit-profile-field");if(e.find(".urwc-field-input").length&&(i=e.find(".urwc-field-input")),e.is(".field-checkbox")||"checkbox"===i.attr("type")){var r=[];return i.parent().find(":checked").each(function(){r.push(d(this).val())}),r}return e.is(".field-radio")||"radio"===i.attr("type")?i.parent().find(":checked").val():e.is(".field-privacy_policy")||e.is(".field-mailchimp")||e.is(".field-separate_shipping")?i.is(":checked")?"checked":"unchecked":i.val()},evaluateCondition:function(e,i){if("group"===e.type){if(Array.isArray(e.conditions)){e.logic_gate&&""!==e.logic_gate||(e.logic_gate="OR");for(var r=0;r<e.conditions.length;r++){var t=e.conditions[r],t=this.evaluateCondition(t,i);if("OR"===e.logic_gate&&!0===t)return!0;if("AND"===e.logic_gate&&!1===t)return!1;if("NOT"===e.logic_gate&&!0===t)return!1}return"OR"===e.logic_gate?!1:"AND"===e.logic_gate||"NOT"===e.logic_gate}return!0}var n=e.value,d=this.getFieldValue(e.triggerer_id,i);return!!o.resolveOperator(n,d,e.operator)},resolveOperator:function(e,i,r){switch(r){case"is":return Array.isArray(e)&&Array.isArray(i)?o.compareArrays(e,i):Array.isArray(i)?i.includes(e):e===i;case"is_not":return Array.isArray(e)&&Array.isArray(i)?o.compareArrays(e,i):Array.isArray(i)?!i.includes(e):e!==i;default:return!1}},compareArrays:function(e,i){if(e.length!==i.length)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!i.includes(t))return!1}return!0}};o.init(),d(document).on("elementor/popup/show",function(){o.init()})});