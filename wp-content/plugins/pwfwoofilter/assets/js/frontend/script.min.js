!function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=!1,n=n||{};n.filters=n.filters||{},n.add_filter=function(e,t,r){void 0===r&&(r=10),n.filters[e]=n.filters[e]||[],n.filters[e].push({priority:r,callback:t})},n.remove_filter=function(e,t){n.filters[e]=n.filters[e]||[],n.filters[e].forEach((function(r,i){r.callback===t&&n.filters[e].splice(i,1)}))},n.apply_filters=function(e,t,r){var i=[];return void 0!==n.filters[e]&&n.filters[e].length>0&&(n.filters[e].forEach((function(e){i[e.priority]=i[e.priority]||[],i[e.priority].push(e.callback)})),i.forEach((function(e){e.forEach((function(e){t=e(t,r)}))}))),t},n.apply_filters(),function(e){"use strict";var t,r,s={},o={},l="",f="",d={},c="",p=!1,u=!1,g=!0,m=!1,w="numbers",h="page",v=!1,y=function(e){return 0===Object.keys(e).length},b=function(e){return""===e},_={isPretty:function(){return"on"===t.pretty_urls},setNextPageString:function(){var r="",i=t.pagination_selector;if(e(i).find("a").length){var a=e(i).find("a").first().attr("href");if(void 0!==a)null!==a.match(/product-page=\d+/)&&(r="product-page")}if(b(r)){var n=window.location.search;if(!b(n))new URLSearchParams(n).has("product-page")&&(r="product-page")}b(r)||(h="product-page")},setCurrentPageURL:function(){_.isPretty()?x.setCurrentPageURL():k.setCurrentPageURL()},dbQueryIntegrated:function(){"yes"===pwffilterVariables.filter_integrated?y(pwffilterVariables.selected_items)||(C.updateActiveFilterItemsInJS(),C.setOldActiveFilterItems("true"),_.isPretty()||C.UpdateChangeQueryString()):_.isPretty()||C.checkIfPageURLHasActiveFilterItems()},getBrowserUrlQueryString:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _.isPretty()?x.getBrowserUrlQueryString(e,t):k.getBrowserUrlQueryString(e,t)},updateBrowserUrlQueryString:function(){_.isPretty()?x.updateBrowserUrlQueryString():k.updateBrowserUrlQueryString()},updateBrowserHistory:function(e){history.pushState&&window.history.replaceState({path:e},"",e)},getPageLinkURL:function(e){var t=l,r=f,i="";if("product-page"===h){var a=e.match(/\d+/);null!==a&&(i=_.isPretty()?"page/"+parseInt(a[0])+"/":"?product-page="+parseInt(a[0]),t.startsWith("?")&&(t="&"+t.substring(1)))}else i=e.substring(1),!1===g&&(i=i.slice(0,-1));return _.isPretty()?""!==x.get_pretty_urls_prefixed()?r+x.get_pretty_urls_prefixed()+t+i:r+t+i:r+i+t},checkPageLinks:function(){if(_.isPretty()){var r=t.pagination_selector;e(r).find("a").each((function(){e(this).attr("href",x.setPageLinks(e(this).attr("href")))}))}}},k={setCurrentPageURL:function(){var e=!1===g?new RegExp("page/\\d+$"):new RegExp("page/\\d+/$"),t=new RegExp("\\d+"),r=window.location.pathname,i="",a="",n=r.match(e);null!==n?(i=r.split(e)[0],(a=parseInt(n[0].match(t)[0]))&&(o.page=a)):i=r,f=window.location.protocol+"//"+window.location.host+i},getBrowserUrlQueryString:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";if(!y(s)){var i=s;for(var a in d){var n=d[a],c=n.url_key;if(i.hasOwnProperty(c)){var p=i[c].fieldType,u=i[c].values,m=i[c].notices;switch(r=b(r)?"":r+="&",p){case"priceslider":if(i[c].hasOwnProperty("priceUrlKey")){var w=i[c].priceUrlKey.minPrice,v=i[c].priceUrlKey.maxPrice;r+=w+"="+u[0]+"&"+v+"="+u[1]}else r+=c+"="+u[0]+"-"+u[1];break;case"rangeslider":if(i[c].hasOwnProperty("rangeUrlKey")){var _=i[c].rangeUrlKey.minValue,k=i[c].rangeUrlKey.maxValue;r+=_+"="+u[0]+"&"+k+"="+u[1]}else r+=c+"="+u[0]+"-"+u[1];break;case"date":if(i[c].hasOwnProperty("dateUrlKey")){var x=i[c].dateUrlKey.after,C=i[c].dateUrlKey.before;r+=x+"&"+C+"="+u[1]}break;case"search":"s"===c&&pwffilterVariables.hasOwnProperty("add_posttype")&&"true"===pwffilterVariables.add_posttype?r+=c+"="+m[0].slug+"&post_type=product":r+=c+"="+m[0].slug;break;default:r+=c+"=";for(var S=0;S<m.length;S++)r+=m[S].slug,S+1<m.length&&(r+=",")}}}}var I=window.location.search;if(b(I)&&!b(r))r="?"+r;else{var F=new URLSearchParams(I);for(var T in d){var D=d[T];"priceslider"===D.item_type?(F.has(D.url_key_min_price)&&F.delete(D.url_key_min_price),F.has(D.url_key_max_price)&&F.delete(D.url_key_max_price),F.has(D.url_key)&&F.delete(D.url_key)):"rangeslider"===D.item_type?(F.has(D.url_key_range_slider_min)&&F.delete(D.url_key_range_slider_min),F.has(D.url_key_range_slider_max)&&F.delete(D.url_key_range_slider_max),F.has(D.url_key)&&F.delete(D.url_key)):"date"===D.item_type?(F.has(D.url_key_date_after)&&F.delete(D.url_key_date_after),F.has(D.url_key_date_before)&&F.delete(D.url_key_date_before)):"search"===D.item_type&&"s"===D.url_key&&pwffilterVariables.hasOwnProperty("add_posttype")&&"true"===pwffilterVariables.add_posttype?(F.delete(D.url_key),F.has("post_type")&&F.delete("post_type")):F.has(D.url_key)&&F.delete(D.url_key)}F.has("orderby")&&F.delete("orderby"),F.has("product-page")&&F.delete("product-page"),""!=F.toString()&&(r=F.toString()+"&"+r),b(r)||(r="?"+r).endsWith("&")&&(r=r.slice(0,-1))}if(l=r,!y(o)&&(!1===r.includes("orderby")&&o.hasOwnProperty("orderby")&&!b(o.orderby)&&(r=(r=b(r)?"?":r+"&")+"orderby="+o.orderby),o.hasOwnProperty("page")&&!b(o.page)&&(P.enablePaginationHash()||t)))if("product-page"===h)o.page>1&&(r.startsWith("?")&&(r="&"+r.substring(1)),r="?product-page="+o.page+r);else if(o.page>1){var B="/";!1===g&&(B=""),r="page/"+o.page+B+r}var U=f+r;return e||(U=r),U},updateBrowserUrlQueryString:function(){"on"===t.browser_hash&&_.updateBrowserHistory(k.getBrowserUrlQueryString())}},x={get_pretty_urls_prefixed:function(){var e="",t=pwf_woocommerce_filter.pretty_prefixed;return""!==t&&(e=t+"/"),e},setCurrentPageURL:function(){f=pwf_woocommerce_filter.page_url;var e=new RegExp("page/\\d+/$"),t=new RegExp("\\d+"),r=window.location.pathname,i="",a=r.match(e);null===a&&(e=new RegExp("page/\\d+$"),a=r.match(e)),null!==a&&(i=parseInt(a[0].match(t)[0]))&&(o.page=i)},getOptionSeparator:function(e){var t="and";switch(e.item_type){case"checkboxlist":t="featured"===e.source_of_options||"on_sale"===e.source_of_options?"":"or";break;case"radiolist":"orderby"===e.source_of_options&&(t="");break;case"textlist":case"boxlist":case"colorlist":case"dropdownlist":e.hasOwnProperty("query_type")&&(t=e.query_type);break;case"date":case"priceslider":case"rangeslider":t="to";break;case"search":t="for";break;case"rating":"on"===e.up_text&&(t="to")}return t},getPrettyURLs:function(){var e="";if(!y(s)){var t=s;for(var r in d){var i=d[r],a=i.url_key;if(t.hasOwnProperty(a)){var n=t[a].fieldType,o=t[a].values,l=t[a].notices,f=x.getOptionSeparator(i);if(b(f)||(f="-"+f+"-"),b(e)||(e+="/"),e+=a+"-","priceslider"===n||"rangeslider"===n||"date"===n)e+=o[0].toString()+f+o[1].toString();else if("search"===n){var c=o[0].toString();c.includes(" ")&&(c=c.split(" ").join("-")),e+="for-"+c}else for(var p=0;p<l.length;p++)e+=l[p].slug,p+1<l.length&&(e+=f)}}}return b(e)||(e+="/",""!==x.get_pretty_urls_prefixed()&&(e=x.get_pretty_urls_prefixed()+e)),e},getBrowserUrlQueryString:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=x.getPrettyURLs();l=r;var i=x.getPageString(t);b(i)||(r.endsWith("/")||b(r)?r+=i:r+="/"+i);var a=x.getHashString();if(b(a)||(r.endsWith("/")||b(r)?r+=a:r+="/"+a),e)if(b(r))r=f;else{var n=f.endsWith("/")?"":"/";r=f+n+r}return r},getPageString:function(e){var t="";return o.hasOwnProperty("page")&&!b(o.page)&&(P.enablePaginationHash()||e)&&o.page>1&&(t="page/"+o.page+"/"),t},getHashString:function(){var e="",t=window.location.search;if(!b(t)){var r=new URLSearchParams(t);r.has("orderby")&&(o.hasOwnProperty("orderby")&&!b(o.orderby)||(o.orderby=r.get("orderby")),r.delete("orderby")),r.has("product-page")&&r.delete("product-page"),e=b(r.toString())?"":r.toString()}if(o.hasOwnProperty("orderby")&&!b(o.orderby)){var i="orderby="+o.orderby;e=b(e)?"?"+i:"?"+e+"&"+i}return e},updateBrowserUrlQueryString:function(){_.updateBrowserHistory(x.getBrowserUrlQueryString())},setPageLinks:function(e){var t=x.getPrettyURLs(),r=/&product-page=\d+/,i=e.match(r);if(null===i&&(r=/product-page=\d+/,i=e.match(r)),""!==t||null!==i){var a=!1===g?new RegExp("page/\\d+"):new RegExp("page/\\d+/"),n=new RegExp("\\d+"),s=e.match(a);null!==s&&(s=parseInt(s[0].match(n)[0]));var o=e.split("?")[1];if(void 0!==o?(null!==i&&null!==(s=S.extractPageNumberFromProductPage(o))&&(o=o.replace(r,"")),""!==o&&(o="?"+o)):o="",null!==s){var l=pwf_woocommerce_filter.page_url;e=(l=l.endsWith("/")?l:l+"/")+t+"page/"+s+"/"+o}}return e}},C={init:function(){if("undefined"==typeof pwffilterVariables)return!1;t=pwffilterVariables.filter_setting,r=pwffilterVariables.filter_id,c=pwf_woocommerce_filter.translated_text,t.hasOwnProperty("pagination_type")&&!b(t.pagination_type)&&(w=t.pagination_type),e(".pwf-note-list").addClass("empty-active-items");var i=pwfFilterJSItems;if(C.setCurrentFilterItems(i),y(d))return!1;e(document.body).trigger("pwf_filter_js_init_start"),I.isMobileView()&&(e(".pwf-woo-filter").hasClass("pwf-hidden")||e(".pwf-woo-filter").addClass("pwf-hidden"),I.displayFilterAsSidebarSlide(),e(".pwf-woo-filter").removeClass("pwf-hidden")),F.targetDoMoreButton(),C.setURLhasSlash(),_.setNextPageString(),C.isShortcodeWoo(),C.setCSSClassForActiveFilterItems(),_.setCurrentPageURL(),_.dbQueryIntegrated(),_.checkPageLinks(),F.initEvent(),F.dateField(),F.wooCatalogSorting(),F.wooCatalogTriggerSorting(),F.noUiSlider(),S.init(),F.setApplyResetButtonStatus(),F.disableApplyButton(),a&&(I.doChanges(),I.setPlaceForActiveFilterItems()),C.setGlobalVariable(),e(document.body).trigger("pwf_filter_js_init_end")},isShortcodeWoo:function(){var e=!1;return"yes"===pwffilterVariables.filter_integrated?e=!1:t.hasOwnProperty("filter_query_type")&&"custom_query"===t.filter_query_type&&(e=!0),e},setCSSClassForActiveFilterItems:function(){var r=t.active_filters_selector;if(!b(r)&&e(r).length>0){var i=e(".pwf-woo-filter-notes");e(".pwf-woo-filter-notes").remove(),e(r).each((function(t,r){0!==t||e(r).append(i)}))}},setCurrentFilterItems:function(e){for(var t in e){var r=e[t];"column"===r.item_type?C.setCurrentFilterItems(e[t].children):"button"!==r.item_type&&(d[t]=r)}},setURLhasSlash:function(){if("undefined"!=typeof pwfSetURLHasSlash)g=pwfSetURLHasSlash;else{var r=window.location.pathname;if(r.length<=1){var i=t.pagination_selector;if(e(i).find("a").length){var a=e(i).find("a").first().attr("href");void 0!==a&&((a=a.split("?")[0]).endsWith("/")||(g=!1))}}else r.endsWith("/")||(g=!1)}},updateActiveFilterItemsInJS:function(){var t=[],i=pwffilterVariables.selected_items,a=e(".filter-id-"+r);if(!(i.length<1)){var n=function(r){var n=i[r],s=[],o=[],l=[];n.forEach((function(e){s.push(e.toString())}));var f=T.getFilterItemDataByUrlKey(r),d=f.item_type;if("priceslider"===d)o.push(e(a).find('[data-item-key="'+r+'"]').find(".pwf-field-item-title").find(".text-title").text());else if("rangeslider"===d)o.push(f.title);else if("checkboxlist"===d)s.forEach((function(t){var i=e(a).find('[data-item-key="'+r+'"]').find('[value="'+t+'"]');l.push(e(i).attr("data-slug")),o.push(e(i).closest(".pwf-checkbox-label").find(".pwf-title-container").first().find(".text-title").text())}));else if("radiolist"===d){var c=e(a).find('[data-item-key="'+r+'"]').find('[value="'+s[0]+'"]').closest(".pwf-item-label");o=[e(c).find(".pwf-title-container").find(".text-title").text()],l=[e(c).find(".pwf-input-container").find("input").attr("data-slug")]}else"dropdownlist"===d?s.forEach((function(t){var i=e(a).find('[data-item-key="'+r+'"]').find("select").find('option[value="'+t+'"]');o.push(e(i).attr("data-title")),l.push(e(i).attr("data-slug"))})):"date"===d?s.forEach((function(e){o.push(e),l.push(e)})):"search"===d?(o=s,l=s):"boxlist"!==d&&"colorlist"!==d&&"textlist"!==d&&"rating"!==d||s.forEach((function(t){var i=e(a).find('[data-item-key="'+r+'"]').find('[data-item-value="'+t+'"]');"boxlist"===d?o.push(e(i).find(".text-title").text()):"colorlist"===d?o.push(e(i).attr("data-item-title")):"textlist"===d?o.push(e(i).find(".text-title").first().text()):"rating"===d&&o.push(e(i).attr("data-item-value")),l.push(e(i).attr("data-slug"))}));var p={item:f,values:s,labels:o,slugs:l};t.push(p)};for(var s in i)n(s);y(t)||(C.doingActiveFilterItemsForPageHasQueryString(t),T.updateNotices())}},checkIfPageURLHasActiveFilterItems:function(){var e=C.getPageURLQueryStrign(),t="";o.hasOwnProperty("page")&&(t=o.page),!1!==e&&C.doingActiveFilterItemsForPageHasQueryString(e),(!1!==e||o.hasOwnProperty("orderby"))&&(!1!==e&&C.setOldActiveFilterItems("true"),b(t)||(o.page=t),D.getProducts("getproducts"))},getPageURLQueryStrign:function(){var e=[],t=window.location.search;if(b(t))return!1;var r=new URLSearchParams(t),i=["boxlist","colorlist","textlist","rating","checkboxlist","radiolist","dropdownlist"],a=function(t){var a=d[t],n=[],s=[],o=[];if(r.has(a.url_key)||"priceslider"===a.item_type||"date"===a.item_type||"rangeslider"===a.item_type){if("priceslider"===a.item_type||"rangeslider"===a.item_type){var l="price_url_format";if("rangeslider"===a.item_type&&(l="range_slider_url_format"),"two"===l){var f="url_key_min_price",c="url_key_max_price";if("rangeslider"===a.item_type&&(f="url_key_range_slider_min",c="url_key_range_slider_max"),r.has(a[f])&&r.has(a[c])){var p=parseInt(r.get(a[f]),10),u=parseInt(r.get(a[c]),10);NaN!==p&&NaN!==u&&(s=o=[p,u],"priceslider"===a.item_type?n.push("priceslider"):n.push("rangeslider")),r.delete(a[f]),r.delete(a[f])}}else if(r.has(a.url_key)){var g=r.getAll(a.url_key).toString().split("-"),m=parseInt(g[0],10),w=parseInt(g[1],10);NaN!==m&&NaN!==w&&(s=o=[m,w],"priceslider"===a.item_type?n.push("priceslider"):n.push("rangeslider")),r.delete(a.url_key)}}else if(i.includes(a.item_type)&&!b(r.get(a.url_key))){var h=r.getAll(a.url_key).toString().split(",");["radiolist","dropdownlist"].includes(a.item_type)?h.forEach((function(e,t){0===t&&(n.push(e),o.push(e),s.push(e))})):h.forEach((function(e){n.push(e),o.push(e),s.push(e)}))}else if("date"===a.item_type){if(r.has(a.url_key_date_before)&&r.has(a.url_key_date_after)){var v=r.get(a.url_key_date_before),y=r.get(a.url_key_date_after);if(!b(v)&&!b(y))[y,v].forEach((function(e){n.push(e),o.push(e)}));r.delete(a.url_key_date_before),r.delete(a.url_key_date_after)}}else if("search"===a.item_type){var _=r.get(a.url_key);b(_)||(s=n=o=[_])}if(["priceslider","date","rangeslider"].includes(a.item_type)||r.delete(a.url_key),o.length>0){var k={item:a,values:o,labels:n,slugs:s};e.push(k)}}};for(var n in d)a(n);return r.has("orderby")&&!b(r.get("orderby"))&&(o.orderby=r.get("orderby")),r.has("product-page")&&parseInt(r.get("product-page"))>1&&(o.page=parseInt(r.get("product-page")),r.delete("product-page")),e.length>0&&(v=!0,e)},doingActiveFilterItemsForPageHasQueryString:function(e){!1!==e&&e.forEach((function(e,t){var r=e.item,i=e.values,a=e.labels,n=e.slugs;"priceslider"===r.item_type||"rangeslider"===r.item_type?T.processingFilterItem(r,i,a,n):"date"===r.item_type?(a[0]=moment(a[0],"YYYY-MM-DD").format("MMM DD,YYYY"),a[1]=moment(a[1],"YYYY-MM-DD").format("MMM DD,YYYY"),a=a[0]+" / "+a[1],T.processingFilterItem(r,i,a,n)):i.forEach((function(e,t){b(a[t])||void 0===a[t]||T.processingFilterItem(r,e,a[t],n[t])}))}))},UpdateChangeQueryString:function(){var e=window.location.href;e.includes("%2C")&&(e=e.replace("%2C",","),window.history.replaceState({path:e},"",e))},setOldActiveFilterItems:function(e){p="true"===e},isFilterStartAuto:function(){var e=t.filtering_starts;return a&&(e=t.responsive_filtering_starts),"auto"===e},getCurrencyTemplate:function(){return'<span class="pwf-currency-symbol">'+pwf_woocommerce_filter.currency_symbol+"</span>"},setGlobalVariable:function(){({getPaginationType:function(){return S.getType()},isMobileView:function(){return I.isMobileView()}})}},P={isDefine:function(){return"undefined"!=typeof pwfWooFilterCustomization&&(!pwfWooFilterCustomization.hasOwnProperty("filterID")||(Array.isArray(pwfWooFilterCustomization.filterID)?pwfWooFilterCustomization.filterID.includes(r):r===pwfWooFilterCustomization.filterID))},getPageLoader:function(){var e="";return b(pwf_woocommerce_filter.customize.pageLoader)||(e=B.decode(pwf_woocommerce_filter.customize.pageLoader)),e},getButtonLoader:function(){var e="";return b(pwf_woocommerce_filter.customize.buttonLoader)||(e=B.decode(pwf_woocommerce_filter.customize.buttonLoader)),e},getInfiniteLoader:function(){var e="";return b(pwf_woocommerce_filter.customize.infiniteLoader)||(e=B.decode(pwf_woocommerce_filter.customize.infiniteLoader)),e},getInfiniteDistance:function(){var e=0;return P.isDefine()&&pwfWooFilterCustomization.hasOwnProperty("infiniteDisatance")&&!b(pwfWooFilterCustomization.infiniteDisatance)&&(e=pwfWooFilterCustomization.infiniteDisatance),e},enablePaginationHash:function(){var e=!0;return"numbers"!==S.getType()&&(e=!(!P.isDefine()||!pwfWooFilterCustomization.hasOwnProperty("enablePaginationHash")||!0!==pwfWooFilterCustomization.enablePaginationHash)),e},responsivePaginationType:function(){var e="";if(P.isDefine()&&pwfWooFilterCustomization.hasOwnProperty("responsivePagination")&&""!==pwfWooFilterCustomization.responsivePagination){var t=pwfWooFilterCustomization.responsivePagination;t.hasOwnProperty("type")&&!b(t.type)&&t.hasOwnProperty("maxScreenWidth")&&""!==t.maxScreenWidth&&window.matchMedia("(max-width: "+parseInt(t.maxScreenWidth)+"px)").matches&&(e=t.type)}return e},filterButtonSpeed:function(){var e=400;if(P.isDefine()&&pwfWooFilterCustomization.hasOwnProperty("filterButtonSpeed")&&""!==pwfWooFilterCustomization.filterButtonSpeed){var t=parseInt(pwfWooFilterCustomization.filterButtonSpeed);NaN!==t&&(e=t)}return e}},S={getType:function(){return b(P.responsivePaginationType())||(w=P.responsivePaginationType()),w},init:function(){var r=t.usecomponents,i=t.pagination_selector;if(r.includes("pagination")&&!b(i)&&e(i).length&&"on"===t.pagination_ajax)if("numbers"===S.getType())S.addAjaxToPagination();else{var a=S.getHTMLLoadMoreButton();e(i).empty().append(a),S.addEventToLoadMoreButton(),"infinite_scroll"===S.getType()&&S.addEventScrollInfinite()}},getHTMLLoadMoreButton:function(){var e="pwf-load-more-button",t="",i=S.getNextPage();b(i)&&(e+=" pwf-disabled-btn",t=' disabled="disabled"');var a='<div class="pwf-wrap-load-more pwf-pagination-type-'+("infinite_scroll"===S.getType()?"infinite-scroll":"load-more")+'">';return a+="infinite_scroll"===S.getType()?S.infiniteLoader():"",a+='<button id="pwf-load-more-button-'+r+'" class="'+e+'"'+t+' data-next-page-num="'+i+'">',a+='<span class="button-text">'+c.load_more+"</span>",a+=S.buttonLoader(),a+="</button>",a+="</div>"},getNextPage:function(){var r=1,i="";if(o.hasOwnProperty("page")&&1<o.page)r=o.page,i=r+1;else{var a=t.pagination_selector,n=e(a).find("a");e(n).each((function(){var t=null;if("product-page"===h){var a=e(this).attr("href");t=S.extractPageNumberFromProductPage(a)}else{var n=e(this).attr("href").split("?")[0];t=S.extractPageNumberFromURL(n)}if(null!==t&&t>r)return i=r+1,!1}))}return i},buttonLoader:function(){var e=P.getButtonLoader(),t=b(e)?'<span class="pwf-loader"></span>':e;return t='<span class="pwf-button-loader">'+t+"</span>"},infiniteLoader:function(){var e='<span class="pwf-infinite-loader"><span class="pwf-bounce pwf-b1"></span><span class="pwf-bounce pwf-b2"></span><span class="pwf-bounce pwf-b3"></span></span>',t=P.getInfiniteLoader();return b(t)||(e=t),e='<div class="pwf-button-loader">'+e+"</div>"},addAjaxToPagination:function(){var r=t.pagination_selector;e("body").on("click",r+" a",(function(t){t.preventDefault();var r=null;null===(r=S.extractPageNumberFromProductPage(e(this).attr("href")))&&(r=S.extractPageNumberFromURL(e(this).attr("href").split("?")[0])),null!==r&&(m=!0,o.page=r,D.getProducts("getproducts"))})),e("body").on("pwfTriggerPageNumber",(function(e,t){b(t)||o.page!==parseInt(t)&&(o.page=t,D.getProducts("getproducts"))}))},addEventToLoadMoreButton:function(){e("body").on("click",".pwf-load-more-button",(function(t){if(t.preventDefault(),!e(this).hasClass("pwf-products-loading")){var r=parseInt(e(this).attr("data-next-page-num"));r>1&&(m=!0,o.page=r,D.getProducts("getproducts","getpagenumber"))}}))},addEventScrollInfinite:function(){e(window).on("scroll",(function(){var t=e(".pwf-load-more-button"),r=P.getInfiniteDistance();I.isOnViewport(t,r)&&e(t).trigger("click")}))},disableLoadMoreButton:function(){var t=".pwf-load-more-button";e(t).attr("data-next-page-num",""),e(t).addClass("pwf-disabled-btn").attr("disabled",!0),e(t).closest(".pwf-wrap-load-more").addClass("pwf-no-products")},enableLoadMoreButton:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!b(t)){var r=".pwf-load-more-button";e(r).attr("data-next-page-num",parseInt(t)),e(r).removeClass("pwf-disabled-btn").prop("disabled",!1),e(r).closest(".pwf-wrap-load-more").removeClass("pwf-no-products")}},addLoadingToLoadMoreButton:function(){e(".pwf-load-more-button").addClass("pwf-products-loading")},removeLoadingToLoadMoreButton:function(){e(".pwf-load-more-button").removeClass("pwf-products-loading")},extractPageNumberFromURL:function(e){var t=e.match(/\/\d+\/$/);return!1===g&&(t=e.match(/\d+$/)),null!==t||null===t&&null!==(t=e.match(/\d+$/))?t=parseInt(t[0].match(/(\d+)/)[0]):null},extractPageNumberFromProductPage:function(e){var t=e.match(/product-page=\d+/);return null!==t?t=parseInt(t[0].match(new RegExp("\\d+"))[0]):null}},I={isMobileView:function(){if("on"!==t.responsive)return!1;var e=parseInt(t.responsive_width);return b(e)&&(e=768),window.matchMedia("(max-width: "+e+"px)").matches?(a=!0,!0):(a=!1,!1)},onResize:function(){if("on"===t.responsive){I.isMobileView()?e(".pwf-filter-container .pwf-woo-filter").children().length>0&&I.onResizeDoingMobileView():!e(".pwf-filter-container .pwf-woo-filter").children().length>0&&I.onResizeDoingDeskTopView()}},onResizeDoingDeskTopView:function(){var i=".pwf-filter-container";e(i).hasClass("pwf-hidden")||e(i).addClass("pwf-hidden"),e("#filter-id-"+r).appendTo(i);var a=t.active_filters_selector;if(!b(a)&&e(a).length>0){var n=e(".pwf-off-canvas .pwf-woo-filter .pwf-woo-filter-notes").clone();e(a).first().append(n),C.setCSSClassForActiveFilterItems()}e(".pwf-sticky-filter, .pwf-off-canvas, .c-offcanvas-bg--overlay").remove(),e(i).removeClass("pwf-hidden"),"button"===t.display_filter_as&&(e(".pwf-woo-filter").addClass("pwf-hidden").hide(),e("body").off("click",".pwf-filter-as-button-title"),F.filterButtonASTitle())},onResizeDoingMobileView:function(){e(".pwf-woo-filter").hasClass("pwf-hidden")||e(".pwf-woo-filter").addClass("pwf-hidden"),I.displayFilterAsSidebarSlide(),e(".pwf-woo-filter").removeClass("pwf-hidden").show(),I.doChanges(),I.setPlaceForActiveFilterItems(),F.canvasApplyResetButton()},displayFilterAsSidebarSlide:function(){var i="",a=!1,n="",s=t.sorting_selector,o="body";(I.filterDisplayAsButton(),b(t.responsive_append_sticky)||"body"===t.responsive_append_sticky||(i+=" pwf-sticky-inside-div",o=t.responsive_append_sticky),!b(s)&&e(s).length)?(a=!0,n='<span class="pwf-sticky-button pwf-form-sort"><span class="pwf-sorting"><span class="pwf-sorting-text">'+e(s).find("select").find("option:selected").text()+"</span></span></span>"):i+=" pwf-sticky-has-filter-button-only";var l='<div class="pwf-sticky-filter'+i+'"><div class="pwf-sticky-filter-inner">';if(l+='<span class="pwf-sticky-button"><button id="pwf-sticky-filter-button" class="pwf-sticky-filter-button">',l+='<span class="pwf-button-text">'+c.filter+"</span>",l+='<span class="pwf-sticky-filter-count"></span></button></span>',l+=a?n:"",l+="</div></div>",e(o).append(l),a){var f=e(s).clone();e(f).appendTo(".pwf-form-sort")}var d='<div class="pwf-off-canvas-header"><div class="pwf-canvas-wrap-title">';d+='<span class="header-text">'+c.filter+"</span>",d+='<span class="pwf-canvas-close-btn"><span class="pwf-canvas-icon"></span></span>',d+="</div></div>";var p='<div class="pwf-canvas-footer"><div class="pwf-footer-inner">';p+='<span class="pwf-field-item-button"><button class="pwf-item pwf-reset-button">',p+='<span class="pwf-button-text">'+c.reset+"</span>",p+="</button></span>",p+='<span class="pwf-field-item-button"><button class="pwf-item pwf-filter-button">',p+='<span class="pwf-button-text">'+c.apply+"</span>",p+="</button></span>";var u='<div class="js-offcanvas pwf-off-canvas" id="pwf-off-canvas" role="complementary"><div class="pwf-canvas-inner-wrap">'+d+'<div class="pwf-off-canvas-content"></div>'+(p+="</div></div>")+"</div></div>";e("body").append(u),e("#"+("filter-id-"+r)).appendTo(".pwf-off-canvas-content");var g="left,overlay";e("body").hasClass("rtl")&&(g="right,overlay"),e("#pwf-off-canvas").offcanvas({modifiers:g,triggerButton:".pwf-sticky-filter-button",closeButtonClass:"pwf-canvas-close-btn"}),e(document).trigger("enhance"),e(".pwf-sticky-filter").hasClass("pwf-sticky-show")||e(".pwf-sticky-filter").addClass("pwf-sticky-show")},onScroll:function(t){if("body"===t){var r=0;e(window).scroll((function(){var t=e(this).scrollTop();if(Math.abs(r-t)>=5){var i=".pwf-sticky-filter",a="pwf-sticky-show";t>r?e(i).hasClass(a)||e(i).addClass(a):e(i).hasClass(a)&&e(i).removeClass(a),r=t}}))}else e(window).scroll((function(){var r="pwf-container-in-viewport";I.isOnViewport(t)?e(".pwf-sticky-filter").addClass(r):e(".pwf-sticky-filter").removeClass(r)}))},isOnViewport:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e(window),a={top:i.scrollTop(),left:i.scrollLeft()};a.right=a.left+i.width(),a.bottom=a.top+i.height();var n=e(t).offset();return n.right=n.left+e(t).outerWidth(),n.bottom=n.top+e(t).outerHeight(),n.top=n.top-r,!(a.right<n.left||a.left>n.right||a.bottom<n.top||a.top>n.bottom)},isTopElementIntoView:function(t){if(!e(t).length)return!1;var r=e(window),i=r.scrollTop(),a=(r.scrollLeft(),e(t).offset());return a.right=a.left+e(t).outerWidth(),a.bottom=a.top+e(t).outerHeight(),!(i>a.top)},doChanges:function(){I.changeResponsiveSortText(),I.addActiveFilterCount()},changeResponsiveSortText:function(){if(e(".pwf-sorting-text").length){var r=t.sorting_selector,i=e(".pwf-sticky-filter").find(r).find("select option:selected").text();e(".pwf-sorting-text").text(i)}},addActiveFilterCount:function(){var t=".pwf-sticky-filter-count";e(t).length&&(y(s)?e(t).text(""):e(t).text(I.countActiveFilterItems()))},countActiveFilterItems:function(){var e=0;for(var t in s){var r=s[t].fieldType,i=s[t].values;["priceslider","date","rangeslider","search"].includes(r)?e++:Array.isArray(i)?e+=i.length:e++}return e},setPlaceForActiveFilterItems:function(){var r=t.active_filters_selector;if(!b(r)&&e(r).length>0){var i=e(r).first().clone();e(".pwf-off-canvas .pwf-woo-filter").prepend(i),e(r).first().empty()}else e(".pwf-woo-filter-notes").prependTo(".pwf-off-canvas .pwf-woo-filter")},filterDisplayAsButton:function(){"button"===t.display_filter_as&&(e(".pwf-filter-as-button-header").hasClass("pwf-btn-opened")&&e(".pwf-filter-as-button-header").removeClass("pwf-btn-opened").addClass("pwf-btn-closed"),"hide"===t.filter_button_state&&e(".pwf-woo-filter").hide().removeClass("pwf-hidden").show(),e("body").off("click",".pwf-filter-as-button-title"),e("body").on("click",".pwf-filter-as-button-title",(function(t){t.preventDefault(),e(".pwf-sticky-filter-button").trigger("click")})))}},F={initEvent:function(){function r(t){var r=e(t).find(".pwf-search-from").val(),i=e(t).attr("data-item-key"),a=!1;if(s.hasOwnProperty(i)){var n=s[i].values;b(n)||(a=!0)}if(!b(r)||b(r)&&a){var o=T.getFilterItemDataByUrlKey(i);T.processingFilterItem(o,r,r,r),D.getProducts(),e(document.body).trigger("pwf_filter_search_field_change",[{searchField:t}])}}F.select2(),F.triggerPostPerPage(),F.checkToggle(),e(window).on("resize",(function(){I.onResize()})),F.canvasApplyResetButton(),e(".pwf-woo-filter").on("click",".pwf-reset-button",(function(e){e.preventDefault(),F.resetFilter("resetButton")})),e(".pwf-woo-filter").on("click",".pwf-filter-button",(function(e){e.preventDefault(),F.submitFilter("submitButton")})),"button"!==t.display_filter_as||I.isMobileView()||("hide"===t.filter_button_state&&e(".pwf-woo-filter").hide().removeClass("pwf-hidden"),F.filterButtonASTitle()),e("body").on("click",".pwf-note-item",(function(t){if(t.preventDefault(),e(this).hasClass("pwf-clear-all-note"))F.resetFilter("clearall");else{var r=e(this),i=e(r).attr("data-item-key"),a="";a=e(r).hasClass("pwf-range-slider-note")||e(r).hasClass("pwf-date-note")||e(r).hasClass("pwf-search-note")?"":e(r).attr("data-item-value"),e(r).slideUp("fast",(function(){e(this).remove()}));var n=T.getFilterItemDataByUrlKey(i);C.isFilterStartAuto()||T.removeSelectedValueFromHTMLFilter(n,a),T.processingFilterItem(n,a,"",""),D.getProducts()}})),e(".pwf-woo-filter").on("click",".pwf-item-label > .pwf-toggle, .pwf-field-item-title",(function(t){t.preventDefault();var r=e(this),i="pwf-collapsed-open",a="pwf-collapsed-close";if(e(r).hasClass("pwf-field-item-title")){var n=e(r).closest(".pwf-field-item");n.hasClass(a)?n.removeClass(a).addClass(i):n.hasClass(i)&&n.removeClass("pwf-collapsed-open").addClass(a),e(n).find(".pwf-field-item-container").slideToggle()}else{var s=e(r).closest(".pwf-item");s.hasClass(a)?s.removeClass(a).addClass(i):s.hasClass(i)&&s.removeClass(i).addClass(a),e(s).find(".pwf-children:first").slideToggle()}})),"ontouchstart"in document.documentElement||(e(document).on("mouseenter",".pwf-checkbox-click-area",(function(t){e(this).closest(".pwf-item-label").hasClass("pwf-ui-state-hover")||e(this).closest(".pwf-item-label").addClass("pwf-ui-state-hover")})),e(document).on("mouseleave",".pwf-checkbox-click-area",(function(t){e(this).closest(".pwf-item-label").hasClass("pwf-ui-state-hover")&&e(this).closest(".pwf-item-label").removeClass("pwf-ui-state-hover")})),e(document).on("mouseenter",".pwf-radiolist-label .pwf-input-container, .pwf-radiolist-label .pwf-title-container",(function(t){e(this).closest(".pwf-item-label").hasClass("pwf-ui-state-hover")||e(this).closest(".pwf-item-label").addClass("pwf-ui-state-hover")})),e(document).on("mouseleave",".pwf-radiolist-label .pwf-input-container, .pwf-radiolist-label .pwf-title-container",(function(t){e(this).closest(".pwf-item-label").hasClass("pwf-ui-state-hover")&&e(this).closest(".pwf-item-label").removeClass("pwf-ui-state-hover")})),e(document).on("mouseenter",".pwf-star-rating-item",(function(t){e(this).hasClass("pwf-ui-state-hover")||e(this).addClass("pwf-ui-state-hover")})),e(document).on("mouseleave",".pwf-star-rating-item",(function(t){e(this).hasClass("pwf-ui-state-hover")&&e(this).removeClass("pwf-ui-state-hover")}))),e(".pwf-woo-filter").on("click",".pwf-checkbox-click-area",(function(t){if(t.preventDefault(),e(this).closest(".pwf-checkboxlist-item").hasClass("pwf-disabled"))return!1;var r=e(this).closest(".pwf-checkbox-label").find(".pwf-input-checkbox"),i=e(r).closest(".pwf-item-label").find(".text-title").text(),a=e(r).val(),n=e(r).attr("name"),s=e(r).attr("data-slug"),o=T.getFilterItemDataByUrlKey(n),l=e(this).closest(".pwf-checkboxlist-item"),f=!1;if(1==e(r).prop("checked")?(e(l).removeClass("checked"),e(r).prop("checked",!1)):(f=!0,e(l).addClass("checked"),e(r).prop("checked",!0)),T.processingFilterItem(o,a,i,s),f){e(r).prop("checked",!0);var d=e(this).parents(".pwf-checkboxlist-item"),c=e(this).closest(".pwf-checkbox-label").next(".pwf-children");if(d.length>0&&e(d).each((function(t,r){if(0!=t){var i=e(r).find(".pwf-item-label").first().find(".pwf-input-checkbox");if(1==e(i).prop("checked")){var a=e(i).closest(".pwf-item-label").find(".text-title").text(),n=e(i).val(),s=e(i).attr("name"),o=T.getFilterItemDataByUrlKey(s);e(i).prop("checked",!1),e(i).closest(".pwf-checkboxlist-item").removeClass("checked"),T.processingFilterItem(o,n,a)}}})),c.length>0){var p=e(c).find(".pwf-input-checkbox");p.length>0&&e(p).each((function(t,r){var i=e(r);if(1==e(i).prop("checked")){var a=e(i).closest(".pwf-item-label").find(".text-title").text(),n=e(i).val(),s=e(i).attr("name"),o=T.getFilterItemDataByUrlKey(s);e(i).prop("checked",!1),e(i).closest(".pwf-checkboxlist-item").removeClass("checked"),T.processingFilterItem(o,n,a)}}))}}D.getProducts()})),e(".pwf-woo-filter").on("click",".pwf-radiolist-label .pwf-input-container, .pwf-radiolist-label .pwf-title-container",(function(t){if(t.preventDefault(),e(this).closest(".pwf-radiolist-item").hasClass("pwf-disabled"))return!1;var r=e(this).closest(".pwf-radiolist-label").find(".pwf-input-radio"),i=e(r).closest(".pwf-item-label").find(".text-title").text(),a=e(r).attr("value"),n=e(r).attr("name"),s=e(r).attr("data-slug"),o=T.getFilterItemDataByUrlKey(n);e(this).closest(".pwf-field-item-radiolist").find(".checked").removeClass("checked"),1==e(r).prop("checked")?e(r).prop("checked",!1):(e(r).prop("checked",!0),e(this).closest(".pwf-radiolist-label").addClass("checked")),T.processingFilterItem(o,a,i,s),D.getProducts()})),e(".pwf-woo-filter").on("click",".pwf-boxlist-item",(function(t){if(t.preventDefault(),e(this).hasClass("pwf-disabled"))return!1;var r=e(this).find(".text-title").text(),i=e(this).attr("data-item-value"),a=e(this).closest(".pwf-field-item-boxlist").attr("data-item-key"),n=e(this).attr("data-slug"),s=T.getFilterItemDataByUrlKey(a);if("on"!==s.multi_select){var o=e('[data-item-key="'+a+'"]');e(this).hasClass("selected")?e(o).find(".pwf-boxlist-item").removeClass("selected"):(e(o).find(".pwf-boxlist-item").removeClass("selected"),e(this).addClass("selected"))}else e(this).toggleClass("selected");T.processingFilterItem(s,i,r,n),D.getProducts()})),e(".pwf-woo-filter").on("click",".pwf-colorlist-item",(function(t){if(t.preventDefault(),e(this).hasClass("pwf-disabled"))return!1;var r=e(this).attr("data-item-title"),i=e(this).attr("data-item-value"),a=e(this).attr("data-slug"),n=e(this).closest(".pwf-field-item-colorlist").attr("data-item-key"),s=T.getFilterItemDataByUrlKey(n);if("on"!==s.multi_select){var o=e('[data-item-key="'+n+'"]');e(this).hasClass("selected")?e(o).find(".pwf-colorlist-item").removeClass("selected"):(e(o).find(".pwf-colorlist-item").removeClass("selected"),e(this).addClass("selected"))}else e(this).toggleClass("selected");T.processingFilterItem(s,i,r,a),D.getProducts()})),e(".pwf-woo-filter").on("click",".pwf-textlist-item .pwf-item-label .pwf-title-container",(function(t){if(t.preventDefault(),e(this).closest(".pwf-textlist-item").hasClass("pwf-disabled"))return!1;var r=e(this).find(".text-title").text(),i=e(this).closest(".pwf-textlist-item"),a=e(i).attr("data-item-value"),n=e(i).attr("data-slug"),s=e(i).closest(".pwf-field-item-textlist").attr("data-item-key"),o=T.getFilterItemDataByUrlKey(s);if("on"!==o.multi_select){var l=e(i).closest(".pwf-field-item-textlist").find(".selected");l.length>0&&e(l).each((function(t,r){var a=e(r).find(".text-title").text(),n=e(r).attr("data-item-value"),o=e(i).attr("data-slug"),l=T.getFilterItemDataByUrlKey(s);e(r).toggleClass("selected"),T.processingFilterItem(l,n,a,o)})),e(i).addClass("selected")}else e(i).toggleClass("selected");if(T.processingFilterItem(o,a,r,n),e(i).closest(".pwf-field-item-textlist").hasClass("pwf-items-hierarchical")&&"on"===o.multi_select){var f=e(this).parents(".pwf-textlist-item"),d=e(this).closest(".pwf-item-label").next(".pwf-children");if(f.length>0&&e(f).each((function(t,r){if(0!=t&&e(r).hasClass("selected")){var a=e(r).find(".text-title").text(),n=e(r).attr("data-item-value"),o=e(i).attr("data-slug"),l=T.getFilterItemDataByUrlKey(s);e(r).toggleClass("selected"),T.processingFilterItem(l,n,a,o)}})),d.length>0){var c=e(d).find(".pwf-textlist-item");c.length>0&&e(c).each((function(t,r){if(e(r).hasClass("selected")){var a=e(r).find(".text-title").text(),n=e(r).attr("data-item-value"),o=e(i).attr("data-slug"),l=T.getFilterItemDataByUrlKey(s);e(r).toggleClass("selected"),T.processingFilterItem(l,n,a,o)}}))}}D.getProducts()})),e(".pwf-woo-filter").on("change",".pwf-dropdownlist-item-default",(function(e){F.ProcessingSelect(this)})),e(".pwf-woo-filter .pwf-more-button-block").length>0&&e(".pwf-woo-filter").on("click",".pwf-more-button",(function(t){if(t.preventDefault(),e(this).hasClass("pwf-status-active")){var r=e(this).closest(".pwf-more-button-block");e(r).addClass("pwf-more-button-extended-active").removeClass("pwf-more-button-less-active"),F.doMoreButton(r),e(this).removeClass("pwf-status-active").addClass("pwf-status-unactive")}else if(e(this).hasClass("pwf-status-unactive")){var i=e(this).closest(".pwf-more-button-block").removeClass("pwf-more-button-extended-active");e(i).addClass("pwf-more-button-less-active"),F.doMoreButton(i),e(this).removeClass("pwf-status-unactive").addClass("pwf-status-active")}})),e(".pwf-woo-filter").on("click",".pwf-click-search-icon",(function(t){r(e(this).closest(".pwf-search-field"))})),e(".pwf-woo-filter").on("keypress",".pwf-search-from",(function(t){13==t.which&&r(e(this).closest(".pwf-search-field"))})),e(".pwf-woo-filter").on("focusin",".pwf-search-from",(function(t){e(this).data("val",e(this).val()),e(this).closest(".pwf-search-field").find(".pwf-icon-css").addClass("pwf-search-focus")})),e(".pwf-woo-filter").on("focusout",".pwf-search-from",(function(t){e(this).closest(".pwf-search-field").find(".pwf-icon-css").removeClass("pwf-search-focus")})),e(".pwf-woo-filter").on("click",".pwf-star-rating-item",(function(t){if(t.preventDefault(),e(this).hasClass("pwf-disabled"))return!1;var r=e(this).closest(".pwf-field-item-rating");e(r).hasClass("pwf-rating-radio-type")?(e(r).find(".checked").removeClass("checked"),e(this).addClass("checked")):e(this).addClass("checked");var i=e(this).attr("data-item-value"),a=e(this).attr("data-item-value"),n=e(r).attr("data-item-key"),s=e(this).attr("data-slug"),o=T.getFilterItemDataByUrlKey(n);T.processingFilterItem(o,a,i,s),D.getProducts()}))},filterButtonASTitle:function(){e("body").on("click",".pwf-filter-as-button-title",(function(t){var r=e(this).closest(".pwf-filter-as-button-header");e(r).hasClass("pwf-btn-opened")?e(r).removeClass("pwf-btn-opened").addClass("pwf-btn-closed"):e(r).removeClass("pwf-btn-closed").addClass("pwf-btn-opened"),e(".pwf-woo-filter").slideToggle(P.filterButtonSpeed())}))},dateField:function(){var t=e(".filter-id-"+r),a=e(t).find(".pwf-field-item-date"),n=!!e("body").hasClass("rtl");function s(t,r){var i;try{i=e.datepicker.parseDate(r,t.value)}catch(e){i=null}return i}e(a).each((function(t,r){var a=e(r).find(".pwf-date-field").attr("data-min-date"),o=e(r).find(".pwf-date-field").attr("data-max-date"),l=e(r).find(".pwf-date-from").attr("data-date-from");if("undefined"!==i(l)&&!1!==l){var f=moment(l,"YYYY-MM-DD");e(r).find(".pwf-date-from").val(f.format("MMM DD,YYYY"))}var d=e(r).find(".pwf-date-to").attr("data-date-to");if("undefined"!==i(d)&&!1!==d){var c=moment(d,"YYYY-MM-DD");e(r).find(".pwf-date-to").val(c.format("MMM DD,YYYY"))}a=moment(a,"YYYY-MM-DD").format("MM DD, YYYY"),o=moment(o,"YYYY-MM-DD").format("MM DD, YYYY");var p=e(r).find(".pwf-date-from").datepicker({isRTL:n,autoSize:!0,dateFormat:"MM dd, yy",minDate:new Date(a),maxDate:new Date(o),beforeShow:function(t,r){e(".ui-datepicker").addClass("pwf-date")},onClose:function(t,r){e(".ui-datepicker").removeClass("pwf-date")}}).on("change",(function(){u.datepicker("option","minDate",s(this,"MM dd, yy")),F.dateFieldChanged(e(this))})),u=e(r).find(".pwf-date-to").datepicker({isRTL:n,autoSize:!0,currentText:"Now",dateFormat:"MM dd, yy",minDate:new Date(a),maxDate:new Date(o),beforeShow:function(t,r){e(".ui-datepicker").addClass("pwf-date")},onClose:function(t,r){e(".ui-datepicker").removeClass("pwf-date")}}).on("change",(function(){p.datepicker("option","maxDate",s(this,"MM dd, yy")),F.dateFieldChanged(e(this))}))}))},checkToggle:function(){var t=[];y(s)||(t=Object.keys(s)),e(".pwf-field-item").each((function(r,i){var a=e(i).attr("data-item-key");e(i).hasClass("pwf-collapsed-close")&&(t.length&&t.includes(a)?e(i).removeClass("pwf-collapsed-close").addClass("pwf-collapsed-open"):e(i).find(".pwf-field-item-container").hide())})),e(".pwf-item").each((function(r,i){if(e(i).hasClass("pwf-collapsed-close")){var a=e(i).closest(".pwf-field-item"),n=e(a).attr("data-item-key");if(t.length&&t.includes(n)){if(e(i).hasClass("pwf-checkboxlist-item")||e(i).hasClass("pwf-radiolist-item")||e(i).hasClass("pwf-textlist-item")){var o=[];if(e(i).hasClass("pwf-checkboxlist-item")){var l=e(i).find(".pwf-checkboxlist-item .pwf-input-checkbox");l.length&&l.each((function(t,r){o.push(e(r).val())}))}else if(e(i).hasClass("pwf-radiolist-item")){var f=e(i).find(".pwf-children").find(".pwf-input-radio:checked");f.length&&f.each((function(t,r){o.push(e(r).val())}))}else if(e(i).hasClass("pwf-textlist-item")){var d=e(i).find(".pwf-textlist-item");d.length&&d.each((function(t,r){o.push(e(r).attr("data-item-value"))}))}var c=!1,p=s[n].values;o.length&&p.every((function(e,t,r){if(o.includes(e))return c=!0,!0})),c?e(i).removeClass("pwf-collapsed-close").addClass("pwf-collapsed-open"):e(i).find(".pwf-item-inner:first").find(".pwf-children:first").hide()}}else e(i).find(".pwf-item-inner:first").find(".pwf-children:first").hide()}}))},wooCatalogSorting:function(){var r=t.usecomponents,i=t.sorting_selector;r.includes("sorting")&&!b(i)&&("on"!=t.sorting_ajax?(e(i).on("submit",(function(e){y(s)||e.preventDefault()})),e(i).on("change","select.orderby",(function(e){y(s)||e.preventDefault()}))):"on"==t.sorting_ajax&&(e(i).on("submit",(function(e){e.preventDefault()})),e(i).on("change","select.orderby",(function(t){t.preventDefault(),F.wooCatalogDoingSorting(e(this).val())}))))},wooCatalogDoingSorting:function(t){if(b(t))return!1;if(e('[data-item-key="orderby"]').length>0){var r=T.getFilterItemDataByUrlKey("orderby");if("radiolist"===r.item_type){var i=e('[data-item-key="orderby"] [name="orderby"]');e('[data-item-key="orderby"] [name="orderby"]').prop("checked",!1);for(var a=0;a<i.length;a++){e(i[a]).attr("value")===t&&(e(i[a]).prop("checked","true"),e(i[a]).closest(".pwf-checkboxlist-item").addClass("checked"))}var n=e('[data-item-key="orderby"] [name="orderby"][value="'+t+'"]').closest(".pwf-input-container");e(n).trigger("click"),e(n).trigger("change")}else"dropdownlist"===r.item_type&&(e('[data-item-key="orderby"] [name="orderby"] option[value="'+t+'"]').prop("selected","true"),e('[data-item-key="orderby"] [name="orderby"]').trigger("change"))}"numbers"!==S.getType()&&o.hasOwnProperty("page")&&1<o.page&&delete o.page,o.orderby=t,D.getProducts("getproducts","sorting")},wooCatalogTriggerSorting:function(){e("body").on("pwfTriggerSorting",(function(e,t){b(t.orderby)||F.wooCatalogDoingSorting(t.orderby)}))},triggerPostPerPage:function(){e("body").on("pwfTriggerPostPerPage",(function(e,t){b(t)||(o.per_page=parseInt(t),D.getProducts("getproducts","per_page"))}))},nouiSiderValidNumber:function(e,t){return"parseInt"===t?parseInt(e):parseFloat(e)},noUiSlider:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(e(".pwf-range-slider").length>0){var t=e("body").hasClass("rtl")?"rtl":"ltr";e(".pwf-range-slider").each((function(){if(!e(this).hasClass("noUi-target")){var r=e(this),a=this,n=e(a).attr("data-current-min"),s=e(a).attr("data-current-max"),o=e(a).attr("data-min"),l=e(a).attr("data-max"),f=e(a).attr("data-tooltip"),d=e(a).attr("data-step"),c="parseInt";(d=d.toString()).includes(".")&&(c="parseFloat"),f="true"===f;var p={step:d=d<=0?1:F.nouiSiderValidNumber(d,c),behaviour:"drag",direction:t,start:[F.nouiSiderValidNumber(n,c),F.nouiSiderValidNumber(s,c)],connect:!0,tooltips:f,range:{min:parseInt(o),max:parseInt(l)},format:{to:function(e){return F.nouiSiderValidNumber(e,c)},from:function(e){return F.nouiSiderValidNumber(e,c)}}},u=e(a).attr("data-limit");"undefined"!==i(u)&&!1!==u&&(p.limit=parseInt(u)),noUiSlider.create(a,p),a.noUiSlider.on("set",(function(t,r,i,n,s,o){var l=e(a).attr("data-current-min"),f=e(a).attr("data-current-max");if(F.nouiSiderValidNumber(l,c)!==t[0]||F.nouiSiderValidNumber(f,c)!==t[1]){var d=e(a).closest(".pwf-field-item").attr("data-item-key"),p=T.getFilterItemDataByUrlKey(d),u=p.title;T.processingFilterItem(p,t,u),D.getProducts()}}));var g=e(r).closest(".pwf-range-slider-wrap"),m=document.getElementById(e(g).find(".pwf-min-value").attr("id")),w=document.getElementById(e(g).find(".pwf-max-value").attr("id")),h=document.getElementById(e(g).find(".pwf-from").attr("id")),v=document.getElementById(e(g).find(".pwf-to").attr("id"));a.noUiSlider.on("update",(function(t,r){0===r?(null!==m&&(m.value=t[r]),null!==h&&e(h).text(t[r])):1===r&&(null!==w&&(w.value=t[r]),null!==v&&e(v).text(t[r]))})),null!==m&&(m.addEventListener("change",(function(){var t=parseInt(e(this).attr("min")),r=parseInt(e(this).attr("max"));this.value<t?this.value=t:this.value>r&&(this.value=r),a.noUiSlider.set([this.value,null])})),w.addEventListener("change",(function(){var t=parseInt(e(this).attr("min")),r=parseInt(e(this).attr("max"));this.value<t?this.value=t:this.value>r&&(this.value=r),a.noUiSlider.set([null,this.value])})))}}))}})),select2:function(){if(e(".pwf-dropdownlist-item-select2").length>0){var t=e(".pwf-dropdownlist-item-select2");e(t).each((function(){F.addSelect2Event(this)}))}},addSelect2Event:function(t){var r=!1,i=[],a=e(t).find("[selected]"),n="";e(a).each((function(){i.push(e(this).val())})),e(t).hasClass("pwf-has-multiple")&&(r=!0,n="Select ..."),e(t).select2({width:"100%",multiple:r,dropdownCssClass:"pwf-customize-select2",placeholder:n}),i.length&&i.length>1&&(e(t).val(i),e(t).trigger("change")),e(t).on("select2:select",(function(e){F.ProcessingSelect2(this,e.params.data)})),e(t).on("select2:unselect",(function(e){F.ProcessingSelect2(this,e.params.data)}))},ProcessingSelect2:function(t,r){var i=r.id,a=e(t).attr("name"),n=e(t).find('option[value="'+i+'"]').attr("data-title"),s=e(t).find('option[value="'+i+'"]').attr("data-slug"),o=T.getFilterItemDataByUrlKey(a);T.processingFilterItem(o,i,n,s),D.getProducts()},ProcessingSelect:function(t){var r=e(t).find("option:selected"),i=e(r).attr("data-title"),a=e(r).attr("data-slug"),n=e(t).val(),s=e(t).attr("name"),o=T.getFilterItemDataByUrlKey(s);T.processingFilterItem(o,n,i,a),D.getProducts()},targetDoMoreButton:function(){var t=e(".pwf-more-button-block");e(t).each((function(e,t){F.doMoreButton(t)}))},doMoreButton:function(t){var r=e(t).attr("data-item-key"),i=T.getFilterItemDataByUrlKey(r);if(!1!==i&&i.hasOwnProperty("height_of_visible_content")){var a=0,n=parseInt(i.height_of_visible_content)-1,s=e(t).find(".pwf-field-item-container > .pwf-item");s.length>0&&(a=F.excuteMoreButton(s,a,n)),a<n&&e(t).find(".pwf-more-button").remove()}},excuteMoreButton:function(t,r,i){return e(t).each((function(t,a){if(r>i?e(a).addClass("pwf-item-hidden"):r++,e(a).hasClass("pwf-collapsed-open")){var n=e(a).find(".pwf-children").first().children();r=F.excuteMoreButton(n,r,i)}})),r},checkFilterItemsHasSortingItem:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=!1,a="";for(var n in s)"orderby"===n&&(i=!0,a=s.orderby.values[0]);if(!1===i&&"default"===r&&(i=!0,a="menu_order"),i){var o=t.usecomponents;if(o.includes("sorting")&&"on"==t.sorting_ajax&&!b(t.sorting_selector)){var l=t.sorting_selector;"showall"===a&&(a="menu_order"),e(l).find('option[value="'+a+'"]').prop("selected","true")}}},submitFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";y(s)&&!0!==p||D.getProducts("getproducts",e)},resetFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(".pwf-note-list").empty().addClass("empty-active-items");var i=e(".filter-id-"+r);for(var a in d){var n=d[a],f=n.item_type,c=e(i).find('[data-item-key="'+n.url_key+'"]');if("checkboxlist"===f){var p=e(c).find(".pwf-item.checked");e(p).each((function(t,r){e(r).removeClass("checked"),e(r).find("input[type=checkbox]").first().prop("checked",!1)}))}else if("radiolist"===f){var g=e(c).find(".checked");e(g).each((function(t,r){e(r).removeClass("checked"),e(r).find("input[type=radio]").first().prop("checked",!1)}));var m=e(c).find('input[data-slug="showall"]');m.length&&(e(m).prop("checked",!0),e(m).closest(".pwf-item-label").addClass("checked"))}else if("dropdownlist"===f){var w=e(c).find("select");w.prop("selectedIndex",0),e(w).hasClass("pwf-dropdownlist-item-select2")&&(e(w).select2("destroy"),F.addSelect2Event(w))}else if("boxlist"===f||"colorlist"===f||"textlist"===f)e(c).find(".pwf-item.selected").removeClass("selected");else if("date"===f)e(".pwf-date-from, .pwf-date-to").val("");else if("priceslider"===f||"rangeslider"===f){var h=e(c).find(".pwf-range-slider");if(e(h).hasClass("noUi-target")){var v=document.getElementById(e(h).attr("id")),y=e(v).attr("data-min"),b=e(v).attr("data-max");v.noUiSlider.updateOptions({start:[parseInt(y),parseInt(b)]},!1)}}}if(s={},l="",u=!0,o.hasOwnProperty("per_page")){var _=o.per_page;(o={}).per_page=_}else o={};F.setApplyResetButtonStatus(),D.getProducts("getproducts",t)},dateFieldChanged:function(t){var r=e(t).closest(".pwf-date-field");if(""!==e(r).find(".pwf-date-from").val()&&""!==e(r).find(".pwf-date-to").val()){var i=e(r).find(".pwf-date-from").val()+" / "+e(r).find(".pwf-date-to").val(),a=moment(e(r).find(".pwf-date-from").val(),"MMM DD,YYYY"),n=moment(e(r).find(".pwf-date-to").val(),"MMM DD,YYYY"),s=[a.format("YYYY-MM-DD"),n.format("YYYY-MM-DD")],o=e(r).attr("data-item-key"),l=T.getFilterItemDataByUrlKey(o),f=s;T.processingFilterItem(l,s,i,f),D.getProducts()}},disableApplyButton:function(){e(".pwf-item-button.filter-button").addClass("pwf-disabled-btn").attr("disabled",!0)},setApplyResetButtonStatus:function(){var t=".pwf-reset-button, .pwf-filter-button";y(s)&&!1===p?e(t).addClass("pwf-disabled-btn").prop("disabled",!0):e(t).removeClass("pwf-disabled-btn").prop("disabled",!1)},canvasApplyResetButton:function(){e(".pwf-off-canvas").on("click",".pwf-reset-button",(function(e){e.preventDefault(),F.resetFilter("canvas-resetButton")})),e(".pwf-off-canvas").on("click",".pwf-filter-button",(function(e){e.preventDefault(),F.submitFilter("canvas-submitButton")}))}},T={getFilterItemDataByUrlKey:function(e){if(y(d))return!1;for(var t in d){var r=d[t];if(r.url_key===e)return r}},processingFilterItem:function(e,t,r,i){var a="",n=e.item_type;if(!["priceslider","date","search","rangeslider","rating"].includes(n)){var s=e.source_of_options;"category"===s?a="product_cat":"attribute"===s?a=e.item_source_attribute:"taxonomy"===s?a=e.item_source_taxonomy:"tag"===s?a="product_tag":"stock_status"===s&&(a="stock_status"),"orderby"===s&&(o.orderby="")}var l={taxonomy:a,url_key:e.url_key,value:t,label:r,fieldType:n,slug:i};"priceslider"===n&&"two"===e.price_url_format&&(l.priceUrlKey={minPrice:e.url_key_min_price,maxPrice:e.url_key_max_price}),"rangeslider"===n&&"two"===e.range_slider_url_format&&(l.rangeUrlKey={minValue:e.url_key_range_slider_min,maxValue:e.url_key_range_slider_max}),"date"===n&&(l.dateUrlKey={after:e.url_key_date_after,before:e.url_key_date_before});["boxlist","colorlist","textlist","rating"].includes(n)&&(l.multi_select=e.multi_select),"rating"===n&&(l.up_text=e.up_text),T.updateActiveFilterItems(l,e),C.isFilterStartAuto()||(T.updateNotices(),F.setApplyResetButtonStatus())},checkTermExistInActiveFilterItems:function(e){for(var t in s)if(t===e.url_key)return!0;return!1},updateActiveFilterItems:function(e,t){delete o.page;var r={taxonomy:e.taxonomy,fieldType:e.fieldType,notices:[{id:e.value,slug:e.slug,label:e.label}]};"priceslider"===e.fieldType||"date"===e.fieldType||"rangeslider"===e.fieldType?r.values=e.value:r.values=[e.value],e.hasOwnProperty("priceUrlKey")&&(r.priceUrlKey=e.priceUrlKey),e.hasOwnProperty("rangeUrlKey")&&(r.rangeUrlKey=e.rangeUrlKey),e.hasOwnProperty("dateUrlKey")&&(r.dateUrlKey=e.dateUrlKey);var i=["priceslider","rangeslider","date","search"];if("rating"===t.item_type&&"on"===e.up_text&&i.push("rating"),i.includes(e.fieldType)&&T.checkTermExistInActiveFilterItems(e)&&b(e.value))delete s[e.url_key];else if("radiolist"!==e.fieldType&&"dropdownlist"!==e.fieldType||"showall"!==e.value)if(0===Object.entries(s).length)s[e.url_key]=r;else if(T.checkTermExistInActiveFilterItems(e)&&"search"!==e.fieldType)if(s[e.url_key].values.includes(e.value)){for(var a=0;a<s[e.url_key].values.length;a++)s[e.url_key].values[a]===e.value&&s[e.url_key].values.splice(a,1);for(var n=0;n<s[e.url_key].notices.length;n++)s[e.url_key].notices[n].id===e.value&&s[e.url_key].notices.splice(n,1);Array.isArray(s[e.url_key].values)&&!s[e.url_key].values.length&&delete s[e.url_key],"orderby"===t.source_of_options&&(delete s[e.url_key],"orderby"===e.url_key&&"orderby"===t.source_of_options&&F.checkFilterItemsHasSortingItem("default"))}else{var l=["radiolist","priceslider","date","search","rangeslider"];"rating"===t.item_type&&"on"===e.up_text&&l.push("rating"),"dropdownlist"===t.item_type&&("orderby"===t.source_of_options||"stock_status"===t.source_of_options||!t.hasOwnProperty("multi_select")||t.hasOwnProperty("multi_select")&&"on"!==t.multi_select)&&l.push("dropdownlist"),l.includes(e.fieldType)&&(s[e.url_key].values=[],s[e.url_key].notices=[]);["colorlist","boxlist","textlist"].includes(e.fieldType)&&e.hasOwnProperty("multi_select")&&"on"!==e.multi_select&&(s[e.url_key].values=[],s[e.url_key].notices=[]),"priceslider"===e.fieldType||"date"===e.fieldType||"rangeslider"===e.fieldType?s[e.url_key].values=e.value:s[e.url_key].values.push(e.value);var f={id:e.value,label:e.label,slug:e.slug};s[e.url_key].notices.push(f)}else s[e.url_key]=r;else T.checkTermExistInActiveFilterItems(e)&&delete s[e.url_key],"orderby"===e.url_key&&"orderby"===t.source_of_options&&F.checkFilterItemsHasSortingItem("default")},setLabels:function(){y(s)||function(){var t=e(".filter-id-"+r),i=["colorlist","textlist","boxlist","rating","checkboxlist"],a=function(r){var a=s[r].fieldType,n=s[r].notices;i.includes(a)?n.forEach((function(i,n){var o=e(t).find('[data-item-key="'+r+'"]').find('[data-slug="'+i.slug+'"]'),l="";"colorlist"===a?l=e(o).attr("data-item-title"):"textlist"===a?l=e(o).find(".text-title").first().text():"boxlist"===a?l=e(o).find(".text-title").text():"rating"===a?l=e(o).attr("data-item-value"):"checkboxlist"===a&&(l=e(o).closest(".pwf-checkbox-label").find(".pwf-title-container").first().find(".text-title").text()),s[r].notices[n].label=l})):"dropdownlist"===a?n.forEach((function(i,a){var n=e(t).find('[data-item-key="'+r+'"]').find("select").find('option[data-slug="'+i.slug+'"]');s[r].notices[a].label=e(n).attr("data-title")})):"radiolist"===a?n.forEach((function(i,a){var n=e(t).find('[data-item-key="'+r+'"]').find('input[data-slug="'+i.slug+'"]');s[r].notices[a].label=e(n).closest(".pwf-item-label").find(".pwf-title-container").find(".text-title").text()})):("rangeslider"===a||"priceslider"===a)&&(s[r].notices[0].label=e(t).find('[data-item-key="'+r+'"]').find(".pwf-field-item-title").find(".text-title").text())};for(var n in s)a(n)}()},updateNotices:function(){v&&(T.setLabels(),v=!1),e(".pwf-note-list").empty(),e(".pwf-note-list").removeClass("empty-active-items");var t="";if(y(s))e(".pwf-note-list").addClass("empty-active-items");else{var r=function(e){var r=s[e].fieldType,i=s[e].notices;if("priceslider"===r){i=i[0];var a=c.price+": "+T.priceNotices(i.id[0],"pwf-from");a+="-"+T.priceNotices(i.id[1],"pwf-to"),t+=T.clearTemplate(e,"",a," pwf-range-slider-note")}else if("rangeslider"===r){i=i[0];var n=T.getFilterItemDataByUrlKey(e).slider_range_unit;n=b(n)?"":" "+n;var o=i.label+': <span class="pwf-from">'+i.id[0]+"</span>";o+=' - <span class="pwf-to">'+i.id[1]+n+"</span>",t+=T.clearTemplate(e,"",o," pwf-range-slider-note")}else"search"===r?i.forEach((function(r){t+=T.clearTemplate(e,r.id,c.search+": "+r.label," pwf-search-note")})):"date"===r?i.forEach((function(r){t+=T.clearTemplate(e,r.id,r.label," pwf-date-note")})):"rating"===r?i.forEach((function(r){t+=T.clearTemplate(e,r.id,c.rate+" "+r.label," pwf-rate-note")})):i.forEach((function(r){t+=T.clearTemplate(e,r.id,r.label)}))};for(var i in s)r(i);if(I.countActiveFilterItems()>1){var a=T.clearTemplate("clearall","clearall",c.clearall," pwf-clear-all-note");t=a+t}e(".pwf-note-list").append(t)}},clearTemplate:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=b(t)?"":' data-item-value="'+t+'"',n='<span class="pwf-note-item'+i+'" data-item-key="'+e+'"'+a+">";return n+='<span class="pwf-remove-filter"><span class="pwf-icon-remove"></span>',n+='<span class="note-text">'+r+"</span></span></span>"},priceNotices:function(e,t){var r="",i='<span class="'+t+'">';switch(pwf_woocommerce_filter.currency_pos){case"left":r+=C.getCurrencyTemplate()+i+e+"</span>";break;case"right":r+=i+e+"</span>"+C.getCurrencyTemplate();break;case"left_space":r+=C.getCurrencyTemplate()+"&nbsp;"+i+e+"</span>";break;case"right_space":r+=i+e+"</span>&nbsp;"+C.getCurrencyTemplate()}return r},removeSelectedValueFromHTMLFilter:function(t,i){var a=e(".filter-id-"+r),n=t.item_type,s=e(a).find('[data-item-key="'+t.url_key+'"]');if("checkboxlist"===n||"radiolist"===n){var o=e(s).find('[value="'+i+'"]'),l=".pwf-checkboxlist-item";"radiolist"===n&&(l=".pwf-radiolist-label"),e(o).prop("checked",!1),e(o).closest(l).removeClass("checked")}else if("dropdownlist"===n){var f=e(s).find("select").find('option[value="'+i+'"]');f.prop("selected",!1),e(f).hasClass("pwf-dropdownlist-item-select2")&&(e(f).select2("destroy"),F.addSelect2Event(f))}else if("boxlist"===n||"colorlist"===n||"textlist"===n){e(s).find('[data-item-value="'+i+'"]').removeClass("selected")}else if("date"===n){var d=e(s);e(d).find(".pwf-date-from").val(""),e(d).find(".pwf-date-to").val("")}else if("priceslider"===n||"rangeslider"===n){var c=e(s).find(".pwf-range-slider");if(e(c).hasClass("noUi-target")){var p=document.getElementById(e(c).attr("id")),u=e(p).attr("data-min"),g=e(p).attr("data-max");p.noUiSlider.updateOptions({start:[parseInt(u),parseInt(g)]},!1)}}else"search"===n&&e(s).find(".pwf-search-from").val("")}},D={getDatabaseQuery:function(){var r={},i={},a=t.usecomponents,n=t.sorting_selector;if(!y(s))for(var l in s){var f=s[l];r[l]=f.values}if(u)u=!1,a.includes("sorting")&&!b(n)&&e(n).length&&e(n).find("select").prop("selectedIndex","");else if(!o.hasOwnProperty("orderby")&&a.includes("sorting")&&!b(n)&&e(n).length){var d=window.location.search;if(!b(d)){var c=new URLSearchParams(d);c.has("orderby")&&!b(c.get("orderby"))&&(o.orderby=c.get("orderby"))}}return y(o)||(i=o),{query_vars:r,attributes:i}},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!1;"sorting"===r||"per_page"===r||"getpagenumber"===r||"clearall"===r?i=!0:a?"canvas-submitButton"===r?(e(".pwf-canvas-close-btn").trigger("click"),i=!0):"canvas-resetButton"===r?p?(e(".pwf-canvas-close-btn").trigger("click"),i=!0):i=!1:("getproducts"===t||b(t)&&C.isFilterStartAuto())&&(e(".pwf-canvas-close-btn").trigger("click"),i=!0):"resetButton"===r?i=!!p:("getproducts"===t||b(t)&&C.isFilterStartAuto())&&(i=!0),i&&D.doingAjax()},prepareAjaxData:function(){var i=D.getDatabaseQuery(),a=t.products_container_selector;if(e(a).is('[class*="columns-"]')){var n=e(a).attr("class").match(/columns-\d+/i);if(null!==n){var s=(n=n[0]).match(/\d+/).join("");null!==s&&(i.attributes.columns=s)}}var o={action:"get_filter_result",nonce:pwf_woocommerce_filter.nonce,filter_id:r,attributes:i.attributes,selected_options:i.query_vars};return"undefined"!=typeof pwffilterVariables&&(o.page_id=pwffilterVariables.page_id,o.is_archive=pwffilterVariables.is_archive,o.page_type=pwffilterVariables.page_type,o.taxonomy_id=pwffilterVariables.taxonomy_id,o.taxonomy_name=pwffilterVariables.taxonomy_name,o.filter_integrated=pwffilterVariables.filter_integrated,pwffilterVariables.hasOwnProperty("rule_hidden_items")&&Array.isArray(pwffilterVariables.rule_hidden_items)&&(o.rule_hidden_items=pwffilterVariables.rule_hidden_items)),m&&i.attributes.hasOwnProperty("page")&&(o.get_products_only="true"),{queryArgs:i,data:o}},doingAjax:function(){var a="on"!==t.use_ajax,s=D.prepareAjaxData(),o=s.data,l=s.queryArgs;o=n.apply_filters("pwf_before_send_ajax_data",o,10);var f=pwf_woocommerce_filter.ajaxurl,d="POST";a&&(d="GET",o="",f=pwf_woocommerce_filter.page_url+_.getBrowserUrlQueryString(!1,a));var c=e.ajax({method:d,dataType:"html",url:f,data:o,beforeSend:function(){D.beforeSendingAjax()}});c.done((function(n){var s,o,f,d,c,p={},u=t.products_container_selector,g=t.result_count_selector,w=t.pagination_selector;if(a?(s=e(n).find(u).html(),o=e(n).find(".pwf-filter-container .pwf-woo-filter-inner").html(),f=e("<div>").append(e(n).find(g).clone()).html(),d=e("<div>").append(e(n).find(w).clone()).html(),"undefined"===i(s)&&(s=e("<div>").append(e(n).find(".woocommerce-info").clone()).html()),"undefined"===i(f)&&(f=""),c=D.getNextPage(d)):(p=(n=JSON.parse(n)).data).hasOwnProperty("message")||(s=p.products,o=p.filter_html,f=p.attributes.html_result_count,d=p.attributes.pagination,c=p.attributes.next_page),p.hasOwnProperty("message"));else{if(s=D.addClassToProduct(s),m?("numbers"===S.getType()&&e(u).empty(),e(u).append(s).slideDown()):(e(u).empty(),e(u).append(s).slideDown()),D.scrollToTop(),!m){var h=e(".filter-id-"+r+" .pwf-woo-filter-inner");e(h).empty(),e(h).append(o),F.checkToggle(),F.targetDoMoreButton(),F.select2(),F.dateField(),F.noUiSlider()}_.updateBrowserUrlQueryString(),T.updateNotices(),F.checkFilterItemsHasSortingItem(),y(l.query_vars)?C.setOldActiveFilterItems("false"):C.setOldActiveFilterItems("true"),F.setApplyResetButtonStatus(),F.disableApplyButton(),D.customizeResultCount(f),D.customizeHTMLPagination(d,c),I.isMobileView()&&I.doChanges(),D.fixBlurImageOnSafari(),e(document.body).trigger("pwf_filter_js_ajax_done",[{filterID:r,paginationType:S.getType(),queryArgs:l}])}})),c.always((function(){D.alwaysAjax(),m=!1,D.removeClassFromProduct()})),c.fail((function(e,t){m=!1,console.log("Request failed: "+t)}))},beforeSendingAjax:function(){m?"numbers"===S.getType()?e("body").prepend(D.getHTMLLoaderTemplate()):(S.addLoadingToLoadMoreButton(),e(".filter-id-"+r).prepend(D.getHTMLLoaderTemplate())):e("body").prepend(D.getHTMLLoaderTemplate()),e(document.body).trigger("pwf_filter_before_sending_ajax",[{filterID:r,paginationType:S.getType()}])},alwaysAjax:function(){m?"numbers"===S.getType()?e("body").find(".pwf-overlay").remove():(S.removeLoadingToLoadMoreButton(),e(".filter-id-"+r).find(".pwf-overlay").remove()):e("body").find(".pwf-overlay").remove(),e(document.body).trigger("pwf_filter_after_ajax_done",[{filterID:r,paginationType:S.getType()}])},getHTMLLoaderTemplate:function(){var e='<span class="pwf-loader"></span>',t=P.getPageLoader();return b(t)||(e=t),'<div class="pwf-overlay pwf-active">'+e+"</div>"},customizeResultCount:function(i){var a=t.result_count_selector;if(t.usecomponents.includes("results_count")&&e(a).length){if("numbers"!==S.getType()){var n=e(a).first().text();null!==n&&null!==(n=n.match(/\d/))&&(i=i.replace(/\d+/,n[0]))}e(a).each((function(){".woocommerce-result-count"===a?b(i)?e(this).empty():e(this).replaceWith(i):b(i)?e(this).empty():e(this).empty().append(i)})),e(document.body).trigger("pwf_filter_js_ajax_done_result_count",[{filterID:r,paginationType:S.getType(),htmlResultCount:i}])}},customizeHTMLPagination:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.pagination_selector;if(t.usecomponents.includes("pagination")&&!b(a)&&e(a).length>0)if("numbers"===S.getType())if(b(r))e(a).empty();else{e(a).each((function(){e(this).replaceWith(r)}));var n="on"!==t.use_ajax;n||e(a).find("a").each((function(){e(this).attr("href",_.getPageLinkURL(e(this).attr("href")))})),_.isPretty()&&n&&e(a).find("a").each((function(){e(this).attr("href",x.setPageLinks(e(this).attr("href")))}))}else b(i)?S.disableLoadMoreButton():S.enableLoadMoreButton(i)},addClassToProduct:function(t){return t=e(e.parseHTML(t)),t=e('<div class="pwf-loading-wrapper"></div>').append(t),e(t).children().addClass("pwf-new-product-added")},removeClassFromProduct:function(){setTimeout((function(){e(t.products_container_selector).find(".pwf-new-product-added").removeClass("pwf-new-product-added")}),3e3)},scrollToTop:function(){var r=t.products_container_selector,i=!1;m?"numbers"===S.getType()&&(i=!0):i=!0,b(t.scroll_to)||(r=t.scroll_to),i&&e(r).length&&(I.isTopElementIntoView(r)||e("html, body").animate({scrollTop:e(r).offset().top-100},800,(function(){})))},getNextPage:function(t){var r=e(t).find("a"),i="",a=1;return o.hasOwnProperty("page")&&1<o.page&&(a=o.page),e(r).each((function(){var t=null;null!==(t="product-page"===h?S.extractPageNumberFromProductPage(e(this).attr("href")):S.extractPageNumberFromURL(e(this).attr("href").split("?")[0]))&&t===a+1&&(i=t)})),i},fixBlurImageOnSafari:function(){if(-1!=navigator.userAgent.indexOf("Safari")){var r=t.products_container_selector;e(r+" .pwf-new-product-added").find("img[srcset]").each((function(e,t){t.outerHTML=t.outerHTML}))}}},B=function(){};B.map={"'":"&apos;","<":"&lt;",">":"&gt;"," ":"&nbsp;","":"&iexcl;","":"&macr;","":"&raquo;","":"&Lambda;","":"&Xi;","":"&mdash;","":"&lsquo;","":"&rsquo;","":"&sbquo;","":"&ldquo;","":"&rdquo;","":"&bdquo;","":"&bull;","":"&hellip;","":"&larr;","":"&uarr;","":"&rarr;","":"&darr;","":"&equiv;","":"&lceil;","":"&rceil;","":"&lfloor;","":"&rfloor;","":"&lang;","":"&rang;"},B.decode=function(e){var t=B.map;for(var r in t){var i=t[r],a=new RegExp(i,"g");e=e.replace(a,r)}return e=(e=e.replace(/&quot;/g,'"')).replace(/&amp;/g,"&")},B.encode=function(e){var t=B.map;for(var r in e=(e=e.replace(/&/g,"&amp;")).replace(/"/g,"&quot;"),t){var i=t[r],a=new RegExp(r,"g");e=e.replace(a,i)}return e},C.init()}(jQuery)}]);