!function(){"use strict";function t(t,i){this.elmt=t,this.settings=Object.assign({},e,i),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.ended=!1,this.$elmt=document.querySelector(t),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.first=!0,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array||(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array||(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:this.isVideoCompatible()},!0===this.settings.shuffle&&this.shuffle(),this.init()}var e={slide:0,delay:5e3,loop:!0,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",firstTransition:null,firstTransitionDuration:null,transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],slidesToKeep:1,init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},n={};t.prototype.init=function(){var t=this;let i=this.settings.overlay,s;i&&(s=document.createElement("div"),s.className="vegas-overlay","string"==typeof i&&(s.style.backgroundImage="url("+i+")",s.style.zIndex="2"),this.$overlay=s,this.$elmt.insertBefore(s,this.$elmt.firstChild)),this.preload(),setTimeout(function(){t.trigger("init"),t.goto(t.slide),t.settings.autoplay&&t.trigger("play")},1)},t.prototype.preload=function(){for(var t=0;t<this.settings.slides.length;t++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[t].src&&((new Image).src=this.settings.slides[t].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[t].video&&(this.settings.slides[t].video instanceof Array?this.video(this.settings.slides[t].video):this.video(this.settings.slides[t].video.src))},t.prototype.video=function(t){var i,s,e=t.toString();return n[e]||(t instanceof Array||(t=[t]),(i=document.createElement("video")).preload=!0,t.forEach(function(t){(s=document.createElement("source")).src=t,i.appendChild(s)}),n[e]=i)},t.prototype.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},t.prototype.shuffle=function(){for(var t,i,s=this.total-1;0<s;s--)i=Math.floor(Math.random()*(s+1)),t=this.settings.slides[s],this.settings.slides[s]=this.settings.slides[i],this.settings.slides[i]=t},t.prototype.play=function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},t.prototype.pause=function(){this.timer(!1),this.paused=!0,this.trigger("pause")},t.prototype.toggle=function(){this.paused?this.play():this.pause()},t.prototype.playing=function(){return!this.paused&&!this.noshow},t.prototype.current=function(t){return t?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},t.prototype.jump=function(t){t<0||t>this.total-1||t===this.slide||(this.slide=t,this.goto(this.slide))},t.prototype.next=function(){if(this.slide++,this.slide>=this.total){if(!this.settings.loop)return this.end();this.slide=0}this.goto(this.slide)},t.prototype.previous=function(){if(this.slide--,this.slide<0){if(!this.settings.loop)return void this.slide++;this.slide=this.total-1}this.goto(this.slide)},t.prototype.end=function(){this.ended=!this.settings.autoplay,this.timer(!1),this.trigger("end")},t.prototype.timer=function(t){var i=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.classList.remove("vegas-timer-running"),this.$timer.querySelector("div").style.transitionDuration="0ms",this.ended||this.paused||this.noshow||t&&setTimeout(function(){i.$timer.classList.add("vegas-timer-running"),i.$timer.querySelector("div").style.transitionDuration=i.settings.delay-100+"ms"},100))},t.prototype.options=function(t,i){var s=this.settings.slides.slice();if("object"==typeof t)this.settings=Object.assign({},e,t);else{if("string"!=typeof t)return this.settings;if(void 0===i)return this.settings[t];this.settings[t]=i}this.settings.slides!==s&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this.preload())},t.prototype.trigger=function(t){var i=[],i="init"===t?[this.settings]:[this.slide,this.settings.slides[this.slide]],s=new CustomEvent("vegas"+t,{detail:i});this.$elmt.dispatchEvent(s),"function"==typeof this.settings[t]&&this.settings[t].apply(this.$elmt,i)},t.prototype.goto=function(t){void 0===this.settings.slides[t]&&(t=0),this.slide=t;var i,s,e,n,o=this.$elmt.querySelectorAll(".vegas-slide"),a=this.settings.slides[t].src,r=this.settings.slides[t].video,l=this.settings.delay,h=this.settings.align,d=this.settings.valign,u=this.settings.cover,g=this.settings.color||this.$elmt.style.backgroundColor,c=this,p=o,m=this.settings.transition.trim(),f=this.settings.transitionDuration,y=this.settings.animation,t=this.settings.animationDuration;function v(){c._timer(!0),setTimeout(function(){m&&(c.support.transition?(o.forEach(function(t){t=t.querySelector("video");t&&(t.volume=1,c._fadeOutSound(t,f))}),i.style.transition="all "+f+"ms",i.classList.add("vegas-transition-"+m+"-in"),o.forEach(function(t){t.classList.add("vegas-transition-"+m+"-out")})):(i.style.display="block",i.style.opacity=1));for(var t=0;t<o.length-c.settings.slidesToKeep;t++)o[t].remove();"function"==typeof walkCallback&&walkCallback(),c._slideShow()},100)}this.settings.firstTransition&&this.first&&(m=this.settings.firstTransition||m),this.settings.firstTransitionDuration&&this.first&&(f=this.settings.firstTransitionDuration||f),this.first&&(this.first=!1),"repeat"!==u&&(!0===u?u="cover":!1===u&&(u="contain")),("random"===m||m instanceof Array)&&(m=m instanceof Array?this._random(m):this._random(this.transitions)),("random"===y||y instanceof Array)&&(y=y instanceof Array?this._random(y):this._random(this.animations)),("auto"===f||l<f)&&(f=l),"auto"===t&&(t=l),(i=document.createElement("div")).classList.add("vegas-slide"),this.support.transition&&m&&i.classList.add("vegas-transition-"+m),this.support.video&&r?((e=r instanceof Array?this._video(r):this._video(r.src)).loop=void 0===r.loop||r.loop,e.muted=void 0===r.mute||r.mute,!1===e.muted?(e.volume=0,this._fadeInSound(e,f)):e.pause(),(s=document.createElement("video")).classList.add("vegas-video"),s.style.backgroundColor=g,this.support.objectFit?(s.style.objectPosition=h+" "+d,s.style.objectFit=u,s.style.width="100%",s.style.height="100%"):"contain"===u&&(s.style.width="100%",s.style.height="100%"),s.appendChild(e),i.appendChild(s)):(n=new Image,(s=document.createElement("div")).classList.add("vegas-slide-inner"),s.style.backgroundImage='url("'+a+'")',s.style.backgroundColor=g,s.style.backgroundPosition=h+" "+d,"repeat"===u?s.style.backgroundRepeat="repeat":s.style.backgroundSize=u,this.support.transition&&y&&(s.classList.add("vegas-animation-"+y),s.style.animationDuration=t+"ms"),i.appendChild(s)),this.support.transition||(i.style.display="none"),0<p?o[p-1].insertAdjacentElement("afterend",i):this.$elmt.appendChild(i),o.forEach(function(t){t.style.transition="all 0ms",t.className="vegas-slide","VIDEO"===t.tagName&&(t.className+=" vegas-video"),m&&(t.className+=" vegas-transition-"+m,t.className+=" vegas-transition-"+m+"-in")}),this._timer(!1),e?(4===e.readyState&&(e.currentTime=0),e.play(),v()):(n.src=a,n.complete?v():n.onload=v)},t.prototype._slideShow=function(t){var i=this;1<this.total&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){i.next()},this.settings.delay))},t.prototype._scale=function(e){var t,n=this,o=this.settings,a=e.querySelector("img");a&&"IMG"===a.tagName&&((t=new Image).onload=function(){var t,i,s;"center"===o.align&&"center"===o.valign||(s=a.width/a.height,n.$elmt.offsetWidth/n.$elmt.offsetHeight<=s?t=(i=n.$elmt.offsetHeight)*s:i=(t=n.$elmt.offsetWidth)/s),e.style.width=t+"px",e.style.height=i+"px",e.style.top="50%",e.style.left="50%",e.style.marginTop=-i/2+"px",e.style.marginLeft=-t/2+"px"},t.src=a.getAttribute("src"))},t.prototype._overlay=function(t){var i,s=this.$elmt.querySelector(".vegas-overlay");!1!==this.settings.overlay&&null!==this.settings.overlay&&(s||"append"!==t||((s=document.createElement("div")).classList.add("vegas-overlay"),this.$elmt.appendChild(s)),"string"==typeof t?s.style.animation="show"===t?"fadeIn "+this.settings.transitionDuration+"ms":"fadeOut "+this.settings.transitionDuration+"ms":(i=this.settings.overlay,this._isVideo(i)&&(i=this._video(i)),s.style.backgroundImage='url("'+i+'")',s.style.backgroundPosition="0 0","append"===t&&(s.style.opacity=this.settings.overlayOpacity,s.style.animation="fadeIn "+this.settings.transitionDuration+"ms")))},t.prototype._timer=function(t,i){var s=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){"function"==typeof t&&t.call(s)},i)},t.prototype._transitionEnd=function(i,s){var e,n=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend"],o=n.length;function a(t){if(t.target===i){for(e=0;e<o;e++)i.removeEventListener(n[e],a,!1);s.call(self)}}for(e=0;e<o;e++)i.addEventListener(n[e],a,!1)},t.prototype._random=function(t){return t[Math.floor(Math.random()*t.length)]},t.prototype._fadeOutSound=function(t,i){void 0===i&&(i=1e3),this.support.transition?this._timer(function(){t.volume=0},i):t.volume=0},t.prototype._fadeInSound=function(t,i){var s,e,n,o=0;void 0===i&&(i=1e3),this.support.transition?(o=t.volume=0,s=Math.max(50,Math.floor(i/20)),e=1/(i/s),n=setInterval(function(){o<1?(o=Math.min(1,o+e),t.volume=Math.round(100*o)/100):clearInterval(n)},s)):t.volume=1},t.prototype.destroy=function(){clearTimeout(this.timeout),this.$elmt.classList.remove("vegas-container"),this.$elmt.innerHTML=this.content.style.cssText,this.$timer&&(this.$timer.innerHTML=""),this.$overlay&&this.$overlay.remove(),this.elmt._vegas=null},window.Vegas=t}();