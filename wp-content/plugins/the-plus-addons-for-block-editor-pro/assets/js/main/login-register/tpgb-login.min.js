document.addEventListener("DOMContentLoaded",function(){tplogin(document)});function tplogin(a){var b=a.querySelectorAll(".tpgb-login-register");b.forEach(function(a){function b(a,b){window.tpgb_onLoadReCaptcha=function(){var c=grecaptcha.render("tpgb-inline-badge-"+a.blockId+"",{sitekey:a.recaptchaKey,badge:a.recaptchaPos,size:"invisible"});grecaptcha.ready(function(){grecaptcha.execute(c,{action:"register"}).then(function(c){b.innerHTML="<input type=\"hidden\" name=\"g-recaptcha-response\" class=\"g-recaptcha-response-"+a.blockId+"\" value=\""+c+"\">"})})}}var c=a.querySelector(".tpgb-register-form"),d=null===c?"":c.querySelector(".tpgb-register-button"),f=JSON.parse(a.getAttribute("data-registermsgHtml")),g=a.querySelector(".tpgb-login-form"),h=a.querySelector(".tpgb-lostpass-form"),i=a.querySelectorAll(".tpgn-socialbtn-wrap"),j=a.querySelector(".tpgb-rp-form"),k=a.querySelector(".tpgb-magic-form");if(null!==a.querySelector(".tpgb-form-tabbtn")){var l=a.querySelector(".tpgb-form-tabbtn"),e=l.querySelectorAll(".tpgb-ftab-btn");e.forEach(function(b){b.addEventListener("click",function(){var b=this.getAttribute("data-tab"),c=l.querySelectorAll(".tpgb-ftab-btn");c.forEach(function(a){a.classList.remove("active"),a.classList.add("inactive")}),this.classList.add("active"),this.classList.remove("inactive");var d=a.querySelectorAll(".tpgb-logintab-content");d.forEach(function(a){a.classList.remove("active"),a.classList.add("inactive")});var e=a.querySelector(".tpgb-logintab-content[data-tab=\""+b+"\"]");e.classList.remove("inactive"),e.classList.add("active")})})}var m=a.querySelector(".tpgb-show-button"),n=a.querySelector(".tpgb-formbtn-hover"),o=null===n?"":n.querySelector(".tpgb-form-wrap");if(null!==m&&(m.classList.contains("tpgb-form-click")||m.classList.contains("tpgb-form-popup")?m.addEventListener("click",function(a){if(a.preventDefault(),this.classList.contains("tpgb-form-click")){var b=window.innerWidth,c=this.nextElementSibling,d=this.getBoundingClientRect(),e=this.closest(".tpgb-container-col")?window.getComputedStyle(this.closest(".tpgb-container-col")).padding:this.closest(".wp-container-5")?window.getComputedStyle(this.closest(".wp-container-5")).padding:"",f=d.x-10;767>=b&&(c.querySelector(".tpgb-form-wrap").style.transform="translateX(-"+f+"px)",c.querySelector(".tpgb-form-wrap").style.left=e&&void 0!==e?e:"15px"),slideToggleP(c.querySelector(".tpgb-form-wrap"),300)}else this.nextElementSibling.classList.add("model-open")}):null!==n&&(o.style.display="none",m.addEventListener("mouseover",function(){this.nextElementSibling.querySelector(".tpgb-form-wrap").style.display="block"}),o.addEventListener("mouseout",function(){n.querySelector(".tpgb-form-wrap").style.display=o.matches(":hover")?"block":"none"}))),null!==a.querySelector(".tpgb-password-show")){var p=a.querySelector(".tpgb-password-show");p.addEventListener("click",function(a){var b=a.currentTarget;id=b.getAttribute("data-id"),sIcon=b.getAttribute("data-sicon"),hIcon=b.getAttribute("data-hicon"),field=b.parentNode.querySelector("input#"+id),"password"==field.getAttribute("type")?(field.setAttribute("type","text"),b.innerHTML="<i class=\""+hIcon+"\"></i>"):(field.setAttribute("type","password"),b.innerHTML="<i class=\""+sIcon+"\"></i>")})}if(null!==a.querySelector(".tpgb-passHint")){var q=a.querySelector(".tpgb-passHint");q.addEventListener("click",function(a){var b=a.currentTarget.parentNode.parentNode,c=b.querySelector(".tpgb-pass-indicator");slideToggleP(c,300)})}if(null!==a.querySelector(".tpgb-form-password")){let b=document.querySelectorAll(".tpgb-form-password");b&&b.forEach(function(a){a.classList.contains("focus")&&["focus","keyup"].forEach(function(b){a.addEventListener(b,function(a){var b=a.currentTarget.parentNode.parentNode,c=b.querySelector(".tpgb-pass-indicator");c.style.display=c.classList.contains("inline")?"flex":"block"})}),a.addEventListener("focusout",function(a){var b=a.currentTarget.parentNode.parentNode,c=b.querySelector(".tpgb-pass-indicator");c.style.display="none"})});var r=a.querySelector(".tpgb-form-password"),s="<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"check-circle\" class=\"svg-inline--fa fa-check-circle fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"></path></svg>",t="<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M175 175C184.4 165.7 199.6 165.7 208.1 175L255.1 222.1L303 175C312.4 165.7 327.6 165.7 336.1 175C346.3 184.4 346.3 199.6 336.1 208.1L289.9 255.1L336.1 303C346.3 312.4 346.3 327.6 336.1 336.1C327.6 346.3 312.4 346.3 303 336.1L255.1 289.9L208.1 336.1C199.6 346.3 184.4 346.3 175 336.1C165.7 327.6 165.7 312.4 175 303L222.1 255.1L175 208.1C165.7 199.6 165.7 184.4 175 175V175zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\"/></svg>";["focus","keyup"].forEach(function(a){r.addEventListener(a,function(){var a=this.value,b=this.closest(".tpgb-field-group").querySelector(".tpgb-pass-indicator"),c=this.closest(".tpgb-field-group").querySelector(".tpgb-passHint"),d=0;if(b.classList.contains("pattern-1")||b.classList.contains("pattern-4")||b.classList.contains("pattern-5")){let c=b.querySelector(".tp-min-eight-character");7<a.length&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-1")||b.classList.contains("pattern-2")||b.classList.contains("pattern-3")){let c=b.querySelector(".tp-one-number");a.match(/[0-9]/)&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-1")||b.classList.contains("pattern-3")){let c=b.querySelector(".tp-low-lat-case");a.match(/[a-zA-Z]/)&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-1")){let c=b.querySelector(".tp-one-special-char");a.match(/[!@#$%^&*?_,~()\-\[\]]/)&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-2")){let c=b.querySelector(".tp-four-eight-character");3<a.length&&9>a.length&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-3")){let c=b.querySelector(".tp-min-six-character");5<a.length&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-4")||b.classList.contains("pattern-5")){let c=b.querySelector(".tp-low-upper-case");a.match(/[a-z].*[A-Z]|[A-Z].*[a-z]/)&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-4")){let c=b.querySelector(".tp-digit-alpha");a.match(/[a-zA-Z]/)||a.match(/[0-9]/)&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}if(b.classList.contains("pattern-5")){let c=b.querySelector(".tp-number-special");(a.match(/[!@#$%^&*?_,~()\-\[\]]/)||a.match(/[0-9]/))&&null!=c?(c.classList.add("tp-pass-success-ind"),c.innerHTML=s,d++):null!=c&&(c.classList.remove("tp-pass-success-ind"),c.innerHTML=t)}var e=document.querySelector(".tpgb-login-register button.tpgb-button");b.classList.contains("pattern-1")&&4===d||b.classList.contains("pattern-2")&&2===d||b.classList.contains("pattern-3")&&3===d||b.classList.contains("pattern-4")&&3===d||b.classList.contains("pattern-5")&&3===d?(null!=c&&c.classList.add("tp-done"),document.querySelector(".tpgb-login-register .tpgb-pass-indicator").classList.add("tp-done"),setTimeout(function(){null!=c&&(c.style.display="none")},1e3),null!=e&&e.removeAttribute("disabled")):(null!=c&&c.classList.remove("tp-done"),document.querySelector(".tpgb-login-register .tpgb-pass-indicator").classList.remove("tp-done"),setTimeout(function(){null!=c&&(c.style.display="block")},1e3),null!=e&&e.setAttribute("disabled",!0)),e&&(!1===a||""===a)&&e.setAttribute("disabled",!0)})})}if(document.body.addEventListener("keyup",function(a){var b=a.target,c=document.querySelector(".tpgb-register-form #repassword"),d=document.querySelector(".tpgb-register-form #confirm-password"),e=document.querySelector("#password-strength"),f=document.querySelector(".tpgb-register-button");null!=e&&(b===c||b===d)&&wdmChkPwdStrength(c,d,e,f,["admin","happy","hello","1234"])}),null!==c){let a=!0;if(null!==c.querySelector("#first-name")){var u=c.querySelector("#first-name");keyUpValidate(u,"firstname",a)}if(null!==c.querySelector("#last-name")){var v=c.querySelector("#last-name");keyUpValidate(v,"lastname",a)}if(null!==c.querySelector("#email")){var w=c.querySelector("#email");keyUpValidate(w,"email",a)}if(null!==c.querySelector("#username")){var x=c.querySelector("#username");keyUpValidate(x,"username",a)}if(null!==c.querySelector("#repassword")){var y=c.querySelector("#repassword");keyUpValidate(y,"repassword",a)}if(null!==c.querySelector("#mobileno")){var y=c.querySelector("#mobileno");keyUpValidate(y,"mobileno",a)}let g={regiAction:f.regaction?f.regaction:"",emailData:f.emailData?f.emailData:"",mailChmpData:f.mailChimpData?f.mailChimpData:"",recaptchEn:f.recaptchEn};null!==d&&c.addEventListener("submit",a=>{function b(a){c.querySelector(".tpgb-regis-noti").classList.add("active"),c.querySelector(".tpgb-regis-noti .tpgb-re-response").innerHTML=a}a.preventDefault(),a.stopPropagation();const d=new FormData(c);Object.entries(g).forEach(([a,b])=>{"emailData"==a||"mailChmpData"==a?Object.entries(b).forEach(([a,b])=>{d.append(a,b)}):d.append(a,b)});var e=null==document.getElementById("first-name")?"":document.getElementById("first-name").value,h=null==document.getElementById("last-name")?"":document.getElementById("last-name").value,i=null==document.getElementById("email")?"":document.getElementById("email").value,j=null==document.getElementById("username")?"":document.getElementById("username").value,k=null==document.getElementById("repassword")?"":document.getElementById("repassword").value,l=null==document.getElementById("confirm-password")?"":document.getElementById("confirm-password").value;if(""===e&&void 0!==e){var m=document.getElementById("firstname");m&&(m.classList.contains("tpgb-error-load")&&m.classList.remove("tpgb-error-load"),m.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+m.dataset.error+"</span>"))}if(""===h&&void 0!==h){var n=document.getElementById("lastname");n&&(n.classList.contains("tpgb-error-load")&&n.classList.remove("tpgb-error-load"),n.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+n.dataset.error+"</span>"))}if(""===i&&void 0!==i){var o=document.getElementById("email");o&&(o&&o.classList.contains("tpgb-error-load")&&o.classList.remove("tpgb-error-load"),o.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+o.dataset.error+"</span>"))}if(""===j&&void 0!==j){var p=document.getElementById("username");p&&(p.classList.contains("tpgb-error-load")&&p.classList.remove("tpgb-error-load"),p.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+p.dataset.error+"</span>"))}if(""===k&&void 0!==k){var q=document.getElementById("repassword");q&&(q.classList.contains("tpgb-error-load")&&q.classList.remove("tpgb-error-load"),q.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+q.dataset.error+"</span>"))}c.querySelector(".tpgb-regis-noti").classList.add("active"),c.querySelector(".tpgb-regis-noti .tpgb-re-response").innerHTML=f.regloadText;var r=new XMLHttpRequest;r.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),r.responseType="json",r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE){if(200===r.status){var a=r.response.data;if(a){var d=a;d.nonceCheck&&!1==d.nonceCheck.registered&&b(d.nonceCheck.message),d.checkRegister&&!1==d.checkRegister.registered&&b(d.checkRegister.message),d.recaptcha&&!1==d.recaptcha.registered&&b(d.recaptcha.message),d.userRegi&&!1==d.userRegi.registered?b(d.userRegi.message):d.fieldmissing&&!1==d.fieldmissing.registered?b(d.fieldmissing.message):d.userRegi&&!0==d.userRegi.registered&&b(f.succMsg),d.regiAction&&d.regiAction.forEach(function(a){("sendemail"==a.action||"autologin"==a.action)&&(!0==a.registered?b(a.message):location.reload(!0)),"redirect"==a.action&&!0==a.registered&&(f.regaction&&f.regaction.includes("redirect")&&f.regredireUrl&&null!=f.regredireUrl?document.location.href=f.regredireUrl:location.reload(!0))}),d.mailscb&&b("Mail Subscribe Successfully"),d.register&&!0==d.register.registered&&b(d.redirect.message)}}else console.error("Error:",r.status);setTimeout(function(){c.querySelector(".tpgb-regis-noti").classList.remove("active")},3e3)}},r.send(d)}),f.recaptchaKey&&void 0!==f.recaptchaKey&&(recapDiv=c.querySelector(".tpgb-recaptch-key"),b(f,recapDiv))}if(null!==g){var z=g.querySelector(".tpgb-login-button"),A=g.querySelector(".tpgb-lostpass-relink"),B=g.querySelector(".tpgb-magic-active"),C=JSON.parse(a.getAttribute("data-loginmsgHtml")),D=a.querySelector(".tpgb-login-lost");if(null!==A){var E=A.querySelector(".tpgb-lost-password"),F=null===D?null:D.querySelector(".tpgb-lpu-back");E.addEventListener("click",function(){D.style.display="none"===D.style.display?"block":"block"}),null!==F&&F.addEventListener("click",function(){D.style.display="none"})}if(null!==B){var G=B.querySelector(".tpgb-magic-tag"),H=null===k?null:k.querySelector(".tpgb-lpu-back");G.addEventListener("click",function(){k.style.display="none"===k.style.display?"block":"block"}),null!==H&&H.addEventListener("click",function(){k.style.display="none"})}null!==z&&g.addEventListener("submit",function(a){a.preventDefault(),a.stopPropagation();var b=new FormData(g);b.append("action","tpgb_login_user");var c=new XMLHttpRequest;c.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),c.setRequestHeader("Accept","application/json");var d=g.querySelector(".tpgb-regis-noti"),e=d.querySelector(".tpgb-re-response");d.classList.add("active"),e.innerHTML=C.loglodTxt,c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){if(200===c.status){var a=JSON.parse(c.responseText);if(!0===a.loggedin){var b=g.querySelector(".tpgb-regis-noti"),d=b.querySelector(".tpgb-re-response");b.classList.add("active"),d.innerHTML=C.losuTxt,C.logdireUrl&&void 0!==C.logdireUrl?document.location.href=C.logdireUrl:location.reload(!0)}else if(!1===a.loggedin){var b=g.querySelector(".tpgb-regis-noti"),d=b.querySelector(".tpgb-re-response");b.classList.add("active"),d.innerHTML=a.message}}else{var b=g.querySelector(".tpgb-regis-noti"),d=b.querySelector(".tpgb-re-response");b.classList.add("active"),d.innerHTML=C.loeroTxt}setTimeout(function(){var a=g.querySelector(".tpgb-regis-noti");a.classList.remove("active")},1500)}},c.send(b)})}if(null!==h){let c=h.querySelector(".tpgb-forgetpassword-button"),d=JSON.parse(a.getAttribute("data-lostPass"));h.addEventListener("submit",function(a){a.preventDefault();var c=new FormData(h);c.append("action","tpgb_ajax_forgot_password"),c.append("tpgbforgotdata",d.cumData);var e=new XMLHttpRequest;e.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),e.responseType="json";var f=h.querySelector(".tpgb-regis-noti"),g=f.querySelector(".tpgb-re-response");f.classList.add("active"),g.innerHTML=d.msgHtml.lostlodTxt,e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){if(200===e.status){var a=e.response,b=h.querySelector(".tpgb-regis-noti"),c=b.querySelector(".tpgb-re-response");"confirm"===a.lost_pass?(b.classList.add("active"),c.innerHTML=d.msgHtml.lostuTxt):"something_wrong"===a.lost_pass?(b.classList.add("active"),c.innerHTML=d.msgHtml.losteroTxt):"could_not_sent"===a.lost_pass&&(b.classList.add("active"),c.innerHTML=a.message)}setTimeout(function(){b.classList.remove("active")},1500)}},e.send(c),d.recaptchaKey&&void 0!==d.recaptchaKey&&(recapDiv=h.querySelector(".tpgb-lorecaptch-key"),b(d,recapDiv)),h.reset()})}if(null!==j){let a=j.querySelector(".tpgb-resetpassword-button"),c=JSON.parse(j.getAttribute("data-lostpassdata"));null!==a&&j.addEventListener("submit",function(a){a.preventDefault();var d=new FormData(j);d.append("action","tpgb_ajax_reset_password"),d.append("tpgbresetdata",c.resetpdata);var e=new XMLHttpRequest;e.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),e.responseType="json";var f=j.querySelector(".tpgb-regis-noti"),g=f.querySelector(".tpgb-re-response");f.classList.add("active"),g.innerHTML="Please Wait...",e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){if(200===e.status){var a=e.response,b=j.querySelector(".tpgb-regis-noti"),d=b.querySelector(".tpgb-re-response");b.classList.add("active"),d.innerHTML="Please Wait...",b.classList.add("active"),d.innerHTML=c.resetHtml.loadingTxt+a.message,"success"===a.reset_pass&&c.resetHtml.redirUrl&&(window.location=c.resetHtml.redirUrl),"empty"===a.reset_pass&&(j.querySelector("#repassword").value="",j.querySelector("#reenpassword").value=""),"mismatch"===a.reset_pass&&void 0!==j.querySelector("#reenpassword").value&&(j.querySelector("#reenpassword").value=""),("expire"===a.reset_pass||"invalid"===a.reset_pass)&&c.resetHtml.redirUrl&&(window.location=c.resetHtml.redirUrl)}setTimeout(function(){b.classList.remove("active")},1500)}},e.send(d),c.recaptchaKey&&void 0!==c.recaptchaKey&&(recapDiv=j.querySelector(".tpgb-resrecaptch-key"),b(c,recapDiv))})}if(null!==i&&i.forEach(function(a){let b=a.querySelector(".tpgb-btn-fb"),c=JSON.parse(a.getAttribute("data-socialIds")),d=a.querySelector(".tpgb-btn-goo-"+c.uniId);if(null!==b&&(function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="https://connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:c.faceAppid,cookie:!0,xfbml:!0,version:"v7.0"})},b.addEventListener("click",function(){FB.login(function(a){a.authResponse&&statusChangeCallback(a,c.formType,c)},{scope:"email"})})),null!==d){(function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="https://accounts.google.com/gsi/client",e.parentNode.insertBefore(d,e))})(document,"script","google-js");let a={};a="standard"==c.gbtnType?Object.assign(a,{type:c.gbtnType,theme:c.goolthem,size:"cutm"==c.gobtnSize?"large":c.gobtnSize,text:c.gobtnTxt,shape:c.gostandshape,width:c.gobctWidth}):Object.assign(a,{type:c.gbtnType,theme:c.goolthem,size:c.goioSize,shape:c.goioshape}),window.onload=function(){google.accounts.id.initialize({client_id:c.googlId,callback:function(a){tpgb_googleLoginEndpoint(a,c.googlId)}}),google.accounts.id.renderButton(d,a)}}"yes"==c.googlepic&&(function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="https://accounts.google.com/gsi/client",e.parentNode.insertBefore(d,e))}(document,"script","google-pic-js"),a.innerHTML="<div id=\"g_id_onload\" data-client_id=\""+c.googlId+"\" data-context=\"signin\"  data-callback=\"tpgb_googleLoginEndpoint\" data-nonce=\""+c.nonce+"\"> </div>")}),null!==k){var G=k.querySelector(".forgetpassword");losmgJson=JSON.parse(a.getAttribute("data-lostPass")),magicData=JSON.parse(k.getAttribute("data-magicdata")),k.addEventListener("submit",function(a){a.preventDefault();var b=new XMLHttpRequest;b.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),b.responseType="json";var c=k.querySelector(".tpgb-regis-noti"),d=c.querySelector(".tpgb-re-response");c.classList.add("active"),d.innerHTML=losmgJson.msgHtml.lostlodTxt;var e=new FormData(k);e.append("action","tpgb_send_magic_link"),e.append("mailData",magicData),b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){if(200===b.status){var a=b.response,c=k.querySelector(".tpgb-regis-noti"),d=c.querySelector(".tpgb-re-response");a.magicMsg&&location.reload(!0),c.classList.add("active"),d.innerHTML=a.message}setTimeout(function(){c.classList.remove("active")},1500)}},b.send(e)})}})}function wdmChkPwdStrength(a,b,c,d,e){var f=null==a?"":a.value,g=null==b?"":b.value;e=e.concat(wp.passwordStrength.userInputDisallowedList()),d.setAttribute("disabled","disabled"),c.classList.remove("short","bad","good","strong");var h=wp.passwordStrength.meter(f,e,g);return 2===h?(c.classList.add("bad"),c.innerHTML=pwsL10n.bad,document.querySelector(".tpgb-login-register .tpgb-password-strength-wrapper").classList.add("show")):3===h?(c.classList.add("good"),c.innerHTML=pwsL10n.good,document.querySelector(".tpgb-login-register .tpgb-password-strength-wrapper").classList.add("show")):4===h?(c.classList.add("strong"),c.innerHTML=pwsL10n.strong,document.querySelector(".tpgb-login-register .tpgb-password-strength-wrapper").classList.add("show")):5===h?(c.classList.add("short"),c.innerHTML=pwsL10n.mismatch,document.querySelector(".tpgb-login-register .tpgb-password-strength-wrapper").classList.add("show")):(c.classList.add("short"),c.innerHTML=pwsL10n.short,document.querySelector(".tpgb-login-register .tpgb-password-strength-wrapper").classList.add("show")),4===h&&g&&""!==g.trim()&&d.removeAttribute("disabled"),h}function keyUpValidate(a,b,c){a.addEventListener("keyup",function(){var a=this.value,d=this.nextElementSibling;if(d&&d.classList.contains("tpgb-error-field")&&d.remove(),this.classList.contains("tpgb-error-load")&&this.classList.remove("tpgb-error-load"),"email"!==b&&(""===a||void 0===a)&&(this.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+this.getAttribute("data-error")+"</span>"),c=!1),"email"===b){c=!1;""===a||void 0===a?this.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+this.getAttribute("data-error")+"</span>"):!a.match(/^w+([.-]?w+)*@w+([.-]?w+)*(.w{2,3})+$/)&&this.insertAdjacentHTML("afterend","<span class=\"tpgb-error-field\">"+this.getAttribute("data-error")+"</span>")}})}function statusChangeCallback(a,b="",c){"connected"===a.status&&facebook_fetch_info(a,b,c)}function facebook_fetch_info(a,b,c){FB.api("/me",{fields:"id, name, first_name, last_name, email, link, gender, locale, picture"},function(b){if(a.authResponse.accessToken&&b.id&&b.email){var d=new FormData;d.append("action","tpgb_facebook_login"),d.append("accessToken",a.authResponse.accessToken),d.append("id",b.id),d.append("name",b.name),d.append("first_name",b.first_name),d.append("last_name",b.last_name),d.append("email",b.email),d.append("link",b.link),d.append("nonce",c.nonce),d.append("appId",c.faceAppid),d.append("secrId",c.faceSecid);var e=new XMLHttpRequest;e.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl),e.responseType="json",e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE&&200===e.status){var a=e.response;(!0===a.loggedin||!0===a.registered)&&(c.redirUrl?window.location=c.redirUrl:location.reload())}},e.send(d)}})}function tpgb_googleLoginEndpoint(a,b){let c="";b?c=b:a.clientId&&(c=a.clientId);var d=new XMLHttpRequest;d.open("POST",tpgb_config&&tpgb_config.ajax_url?tpgb_config.ajax_url:tpgb_load.ajaxUrl);var e=new FormData;e.append("action","tpgb_google_pic"),e.append("googleCre",a.credential),e.append("clientId",c),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE&&200===d.status){var a=JSON.parse(d.responseText);!0===a.loggedin&&location.reload()}},d.send(e)}