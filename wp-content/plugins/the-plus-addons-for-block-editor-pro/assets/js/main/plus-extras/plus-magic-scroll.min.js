'use strict';class TpagMagicScroll{constructor(){this.scene=[],this.controller=[],this.ms=this.eleScrollEvent(),this.getresize()}getresize(){var a=this.viewDevice(),b=this;window.addEventListener("resize",function(){var c=b.viewDevice();if(c&&b.controller&&a!==c){a=c;var d=b.getElements();d&&d.length&&d.forEach(function(a){b.controller[a.className]&&(b.controller[a.className]=b.controller[a.className].destroy(!0),delete b.controller[a.className])}),b.eleScrollEvent()}})}getSelector(){return".tpgb_magic_scroll"}getElements(){const a=this.getSelector();let b=document.querySelectorAll(a);return!!b&&b}viewDevice(){var a="md",b=window.innerWidth;return 1024>=b&&768<=b?a="sm":767>=b&&(a="xs"),a}eleScrollEvent(){var a=this.getElements();if(a){var b=this.viewDevice(),c=this;a.forEach(function(a){var d={};a.dataset&&a.dataset.tpgbMs&&(d=JSON.parse(a.dataset.tpgbMs));var e={};a.dataset&&a.dataset.tpgbMsview&&(e=JSON.parse(a.dataset.tpgbMsview)),d&&d.length&&e&&e.length&&Object.values(e).includes(b)?(c.controller[a.className]=new ScrollMagic.Controller,c.getSceneGenerate(d,e,a,b),a.classList.add("tpgb-ms-loaded")):a.classList.add("tpgb-ms-loaded")})}}checkDevice(a){var b=null;if(a!=null)if("object"==typeof a){var c=""===a[0]?"":+a[0],d=""===a[1]?"":+a[1];""!==c&&""!==d&&(b=[c,d])}else b=""===a?"":+a;return b}getDeviceVal(a,b){var c=null;return"md"==b&&a&&(c=this.checkDevice(a.md)),"sm"==b&&a?(c=this.checkDevice(a.sm),null===c&&(c=this.checkDevice(a.md))):"xs"==b&&a&&(c=this.checkDevice(a.xs),null===c&&(c=this.checkDevice(a.sm)),null===c&&(c=this.checkDevice(a.md))),c}getSceneGenerate(a,b,c,d){var e=c.firstChild;return a&&a.length&&a.forEach(a=>{let b={},f={};if(a){var g=a;if(g.vertical){var h=g.vertical,i=0,j=5;if(h.speed){var k=this.getDeviceVal(h.speed,d);i=""===k[0]?0:50*+k[0],j=""===k[1]?250:50*+k[1]}var l=h.reverse?+j:+i,m=h.reverse?+i:+j;f=Object.assign({y:l},f),b=Object.assign({y:m},b)}if(g.horizontal){var n=g.horizontal,i=0,j=5;if(n.speed){var o=this.getDeviceVal(n.speed,d);i=""===o[0]?0:50*+o[0],j=""===o[1]?250:50*+o[1]}var l=n.reverse?+j:+i,m=n.reverse?+i:+j;f=Object.assign({x:l},f),b=Object.assign({x:m},b)}if(g.opacity){var p=g.opacity,i=0,j=0;if(p.speed){var q=this.getDeviceVal(p.speed,d);i=""===q[0]?0:+q[0]/10,j=""===q[1]?1:+q[1]/10}var l=p.reverse?+j:+i,m=p.reverse?+i:+j;f=Object.assign({opacity:l},f),b=Object.assign({opacity:m},b)}if(g.rotate){var r=g.rotate,s=0,t=0,u=0,v=0,w=0,x=0;if(r.rotateX){var y=this.getDeviceVal(r.rotateX,d);s=""===y[0]?0:50*+y[0],t=""===y[1]?250:50*+y[1]}if(r.rotateY){var z=this.getDeviceVal(r.rotateY,d);u=""===z[0]?0:50*+z[0],v=""===z[1]?250:50*+z[1]}if(r.rotateZ){var A=this.getDeviceVal(r.rotateZ,d);w=""===A[0]?0:50*+A[0],x=""===A[1]?250:50*+A[1]}var B=r.reverse?+t:+s,C=r.reverse?+s:+t,D=r.reverse?+v:+u,E=r.reverse?+u:+v,F=r.reverse?+x:+w,G=r.reverse?+w:+x;f=Object.assign({rotationX:B,rotationY:D,rotationZ:F,transformOrigin:r.position},f),b=Object.assign({rotationX:C,rotationY:E,rotationZ:G,transformOrigin:r.position},b)}if(g.scale){var H=g.scale,s=1,t=1,u=1,v=1,w=1,x=1;if(H.scaleX){var I=this.getDeviceVal(H.scaleX,d);s=""===I[0]?1:+I[0],t=""===I[1]?1:+I[1]}if(H.scaleY){var J=this.getDeviceVal(H.scaleY,d);u=""===J[0]?1:+J[0],v=""===J[1]?1:+J[1]}if(H.scaleZ){var K=this.getDeviceVal(H.scaleZ,d);w=""===K[0]?1:+K[0],x=""===K[1]?1:+K[1]}var B=H.reverse?+t:+s,C=H.reverse?+s:+t,D=H.reverse?+v:+u,E=H.reverse?+u:+v,F=H.reverse?+x:+w,G=H.reverse?+w:+x;f=Object.assign({scaleX:B,scaleY:D,scaleZ:F},f),b=Object.assign({scaleX:C,scaleY:E,scaleZ:G},b)}if(g.skew){var L=g.skew,s=0,t=0,u=0,v=0;if(L.skewX){var M=this.getDeviceVal(L.skewX,d);s=""===M[0]?0:50*+M[0],t=""===M[1]?0:50*+M[1]}if(L.skewY){var N=this.getDeviceVal(L.skewY,d);u=""===N[0]?0:50*+N[0],v=""===N[1]?0:50*+N[1]}var B=L.reverse?+t:+s,C=L.reverse?+s:+t,D=L.reverse?+v:+u,E=L.reverse?+u:+v;f=Object.assign({skewX:B,skewY:D},f),b=Object.assign({skewX:C,skewY:E},b)}if(g.borderR){var O=g.borderR,i=0,j=0;if(O.fromBR){var P=O.fromBR.unit?O.fromBR.unit:"px",Q="md"==d&&O.fromBR[d]?O.fromBR[d]:"";Q="sm"==d&&O.fromBR[d]?O.fromBR[d]:Q,Q="xs"==d&&O.fromBR[d]?O.fromBR[d]:Q,""!==Q&&(Q.top||Q.bottom||Q.left||Q.right)&&(i=Q.top+P+" ",i+=Q.right+P+" ",i+=Q.bottom+P+" ",i+=Q.left+P)}if(O.toBR&&O.toBR.md){var R=O.toBR.unit?O.toBR.unit:"px",S="md"==d&&O.toBR[d]?O.toBR[d]:"";S="sm"==d&&O.toBR[d]?O.toBR[d]:S,S="xs"==d&&O.toBR[d]?O.toBR[d]:S,""!==S&&(S.top||S.bottom||S.left||S.right)&&(j=S.top+R+" ",j+=S.right+R+" ",j+=S.bottom+R+" ",j+=S.left+R)}f=Object.assign({borderRadius:i},f,{overflow:"hidden"}),b=Object.assign({borderRadius:j},b,{overflow:"hidden"})}if(g.bgColor){var T=g.bgColor,i="",j="";T.fromColor&&(i=T.fromColor,f=Object.assign({backgroundColor:i},f)),T.toColor&&(j=T.toColor,b=Object.assign({backgroundColor:j},b))}if(f&&Object.keys(f).length||b&&Object.keys(b).length||null!=g.sticky&&g.sticky){var U=new ScrollMagic.Scene({triggerElement:c}),V=new TimelineMax;if(null!=g.repeat){var W=this.getDeviceVal(g.repeat,d);b=Object.assign({repeat:+W,yoyo:0!==+W},b)}if(null!=g.delay){var X=this.getDeviceVal(g.delay,d),Y=""==+X?"":+X;""!==Y&&(b=Object.assign({delay:+Y},b))}null!=g.easing&&""!=g.easing&&(b=Object.assign({ease:g.easing},b)),f=Object.assign({transition:"none"},f);var Z=1;if(null!=g.timing){var $=this.getDeviceVal(g.timing,d);Z=""==+$?1:+$}var _=e;if(null!=g.selector&&""!=g.selector&&(_=g.selector),V=TweenMax.fromTo(_,Z,f,b),U.setTween(V),g.duration){var aa=this.getDeviceVal(g.duration,d);U.duration(aa+g.duration.unit)}if(g.trigger){var ba=this.getDeviceVal(g.trigger,d);U.triggerHook(ba)}if(g.offset){var ca=this.getDeviceVal(g.offset,d);U.offset(ca+g.offset.unit)}if(null!=g.reverse&&U.reverse(g.reverse),null!=g.sticky&&g.sticky&&U.setPin(e,{pushFollowers:!1,spacerClass:"tpgb-trans-none"}),null!=g.develop&&g.develop){var da={name:g.develop_name&&""!=g.develop_name?g.develop_name:""};U.addIndicators(da)}U.addTo(this.controller[c.className])}}}),!1}}document.addEventListener("DOMContentLoaded",function(){new TpagMagicScroll});