function tppoMetro(t){var s=t.querySelectorAll(".tpgb-metro");0<s.length&&s.forEach(function(t){tpgbMetroLayout(t)}),"function"==typeof tpFilter&&tpFilter(t)}function tpgbMetroLayout(t){var n,c,s,o=t.getAttribute("data-id"),l=JSON.parse(t.getAttribute("data-metroAttr")),m=window.innerWidth,b=1024<=m,r=768<=m&&m<1024,p=m<768,i="",e=window;b&&l.metro_col&&(i=l.metro_col),r&&l.tab_metro_col&&(i=l.tab_metro_col),p&&l.mobile_metro_col&&(i=l.mobile_metro_col),"3"==i&&(c=2*(n=Math.floor(+t.offsetWidth/3)),t.querySelectorAll(".grid-item").forEach(function(t){var s=n,o=n;if(b&&"style-1"==l.metro_style||r&&"style-1"==l.tab_metro_style||p&&"style-1"==l.mobile_metro_style)(b&&(t.classList.contains("tpgb-metro-1")||t.classList.contains("tpgb-metro-7"))||r&&(t.classList.contains("tpgb-tab-metro-1")||t.classList.contains("tpgb-tab-metro-7"))||p&&(t.classList.contains("tpgb-mobile-metro-1")||t.classList.contains("tpgb-mobile-metro-7")))&&(o=s=c),(b&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-9"))||r&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-9"))||p&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-9")))&&(s=c,o=n);else if(b&&"style-2"==l.metro_style||r&&"style-2"==l.tab_metro_style||p&&"style-2"==l.mobile_metro_style)(b&&t.classList.contains("tpgb-metro-2")||r&&t.classList.contains("tpgb-tab-metro-2")||p&&t.classList.contains("tpgb-mobile-metro-2"))&&(s=c,o=n),(b&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-8"))||r&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-8"))||p&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-8")))&&(s=n,o=c),(b&&t.classList.contains("tpgb-metro-7")||r&&t.classList.contains("tpgb-tab-metro-7")||p&&t.classList.contains("tpgb-mobile-metro-7"))&&(o=s=c);else if(b&&"style-3"==l.metro_style||r&&"style-3"==l.tab_metro_style||p&&"style-3"==l.mobile_metro_style)(b&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-15"))||r&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-15"))||p&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-15")))&&(s=c,o=n),(b&&t.classList.contains("tpgb-metro-9")||r&&t.classList.contains("tpgb-tab-metro-9")||p&&t.classList.contains("tpgb-mobile-metro-9"))&&(s=n,o=c),(b&&t.classList.contains("tpgb-metro-10")||r&&t.classList.contains("tpgb-tab-metro-10")||p&&t.classList.contains("tpgb-mobile-metro-10"))&&(o=s=c);else if(b&&"style-4"==l.metro_style||r&&"style-4"==l.tab_metro_style||p&&"style-4"==l.mobile_metro_style)(b&&t.classList.contains("tpgb-metro-1")||r&&t.classList.contains("tpgb-tab-metro-1")||p&&t.classList.contains("tpgb-mobile-metro-1"))&&(o=s=c),(b&&t.classList.contains("tpgb-metro-7")||r&&t.classList.contains("tpgb-tab-metro-7")||p&&t.classList.contains("tpgb-mobile-metro-7"))&&(s=c,o=n);else if(b&&"custom"==l.metro_style||r&&"custom"==l.tab_metro_style||p&&"custom"==l.mobile_metro_style){var i,e=l.customLay;for(i in e){var a=e[i].layout.split(":");(b&&t.classList.contains("tpgb-metro-"+i)||r&&t.classList.contains("tpgb-tab-metro-"+i)||p&&t.classList.contains("tpgb-mobile-metro-"+i))&&(s=n*a[0],o=n*a[1])}}m<768?(t.style.width="100%",t.style.height=2*c+"px"):(t.style.width=s+"px",t.style.height=o+"px")})),"4"==i&&(c=2*(n=Math.floor(+t.offsetWidth/4)),t.querySelectorAll(".grid-item").forEach(function(t){var s=n,o=n;if((b&&"style-1"==l.metro_style||r&&"style-1"==l.tab_metro_style||p&&"style-1"==l.mobile_metro_style)&&((b&&(t.classList.contains("tpgb-metro-3")||t.classList.contains("tpgb-metro-9"))||r&&(t.classList.contains("tpgb-tab-metro-3")||t.classList.contains("tpgb-tab-metro-9"))||p&&(t.classList.contains("tpgb-mobile-metro-3")||t.classList.contains("tpgb-mobile-metro-9")))&&(o=s=c),(b&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-10"))||r&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-10"))||p&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-10")))&&(s=c,o=n)),(b&&"style-2"==l.metro_style||r&&"style-2"==l.tab_metro_style||p&&"style-2"==l.mobile_metro_style)&&((b&&(t.classList.contains("tpgb-metro-1")||t.classList.contains("tpgb-metro-5")||t.classList.contains("tpgb-metro-9")||t.classList.contains("tpgb-metro-10"))||r&&(t.classList.contains("tpgb-tab-metro-1")||t.classList.contains("tpgb-tab-metro-5")||t.classList.contains("tpgb-tab-metro-9")||t.classList.contains("tpgb-tab-metro-10"))||p&&(t.classList.contains("tpgb-mobile-metro-1")||t.classList.contains("tpgb-mobile-metro-5")||t.classList.contains("tpgb-mobile-metro-9")||t.classList.contains("tpgb-mobile-metro-10")))&&(o=s=c),(b&&(t.classList.contains("tpgb-metro-2")||t.classList.contains("tpgb-metro-8"))||r&&(t.classList.contains("tpgb-tab-metro-2")||t.classList.contains("tpgb-tab-metro-8"))||p&&(t.classList.contains("tpgb-mobile-metro-2")||t.classList.contains("tpgb-mobile-metro-8")))&&(s=c,o=n)),b&&"style-3"==l.metro_style||r&&"style-3"==l.tab_metro_style||p&&"style-3"==l.mobile_metro_style)(b&&t.classList.contains("tpgb-metro-5")||r&&t.classList.contains("tpgb-tab-metro-5")||p&&t.classList.contains("tpgb-mobile-metro-5"))&&(s=c,o=n),(b&&t.classList.contains("tpgb-metro-1")||r&&t.classList.contains("tpgb-tab-metro-1")||p&&t.classList.contains("tpgb-mobile-metro-1"))&&(s=n,o=c),(b&&(t.classList.contains("tpgb-metro-3")||t.classList.contains("tpgb-metro-6"))||r&&(t.classList.contains("tpgb-tab-metro-3")||t.classList.contains("tpgb-tab-metro-6"))||p&&(t.classList.contains("tpgb-mobile-metro-3")||t.classList.contains("tpgb-mobile-metro-6")))&&(o=s=c);else if(b&&"custom"==l.metro_style||r&&"custom"==l.tab_metro_style||p&&"custom"==l.mobile_metro_style){var i,e=l.customLay;for(i in e){var a=e[i].layout.split(":");(b&&t.classList.contains("tpgb-metro-"+i)||r&&t.classList.contains("tpgb-tab-metro-"+i)||p&&t.classList.contains("tpgb-mobile-metro-"+i))&&(s=n*a[0],o=n*a[1])}}m<768?(t.style.width="100%",t.style.height=2*c+"px"):(t.style.width=s+"px",t.style.height=o+"px")})),"5"==i&&(c=2*(n=Math.floor(+t.offsetWidth/5)),t.querySelectorAll(".grid-item").forEach(function(t){var s=n,o=n;if(b&&"custom"==l.metro_style||r&&"custom"==l.tab_metro_style||p&&"custom"==l.mobile_metro_style){var i,e=l.customLay;for(i in e){var a=e[i].layout.split(":");(b&&t.classList.contains("tpgb-metro-"+i)||r&&t.classList.contains("tpgb-tab-metro-"+i)||p&&t.classList.contains("tpgb-mobile-metro-"+i))&&(s=n*a[0],o=n*a[1])}}else(b&&(t.classList.contains("tpgb-metro-5")||t.classList.contains("tpgb-metro-15"))||r&&(t.classList.contains("tpgb-tab-metro-5")||t.classList.contains("tpgb-tab-metro-15"))||p&&(t.classList.contains("tpgb-mobile-metro-5")||t.classList.contains("tpgb-mobile-metro-15")))&&(o=s=c),(b&&(t.classList.contains("tpgb-metro-1")||t.classList.contains("tpgb-metro-2")||t.classList.contains("tpgb-metro-9")||t.classList.contains("tpgb-metro-10"))||r&&(t.classList.contains("tpgb-tab-metro-1")||t.classList.contains("tpgb-tab-metro-2")||t.classList.contains("tpgb-tab-metro-9")||t.classList.contains("tpgb-tab-metro-10"))||p&&(t.classList.contains("tpgb-mobile-metro-1")||t.classList.contains("tpgb-mobile-metro-2")||t.classList.contains("tpgb-mobile-metro-9")||t.classList.contains("tpgb-mobile-metro-10")))&&(s=c,o=n),(b&&(t.classList.contains("tpgb-metro-3")||t.classList.contains("tpgb-metro-6")||t.classList.contains("tpgb-metro-14"))||r&&(t.classList.contains("tpgb-tab-metro-3")||t.classList.contains("tpgb-tab-metro-6")||t.classList.contains("tpgb-tab-metro-14"))||p&&(t.classList.contains("tpgb-mobile-metro-3")||t.classList.contains("tpgb-mobile-metro-6")||t.classList.contains("tpgb-mobile-metro-14")))&&(s=n,o=c);m<768?(t.style.width="100%",t.style.height=2*c+"px"):(t.style.width=s+"px",t.style.height=o+"px")})),"6"==i&&(c=2*(n=Math.floor(+t.offsetWidth/6)),t.querySelectorAll(".grid-item").forEach(function(t){var s=n,o=n;if(b&&"custom"==l.metro_style||r&&"custom"==l.tab_metro_style||p&&"custom"==l.mobile_metro_style){var i,e=l.customLay;for(i in e){var a=e[i].layout.split(":");(b&&t.classList.contains("tpgb-metro-"+i)||r&&t.classList.contains("tpgb-tab-metro-"+i)||p&&t.classList.contains("tpgb-mobile-metro-"+i))&&(s=n*a[0],o=n*a[1])}}else(b&&(t.classList.contains("tpgb-metro-1")||t.classList.contains("tpgb-metro-5")||t.classList.contains("tpgb-metro-9")||t.classList.contains("tpgb-metro-10"))||r&&(t.classList.contains("tpgb-tab-metro-1")||t.classList.contains("tpgb-tab-metro-5")||t.classList.contains("tpgb-tab-metro-9")||t.classList.contains("tpgb-tab-metro-10"))||p&&(t.classList.contains("tpgb-mobile-metro-1")||t.classList.contains("tpgb-mobile-metro-5")||t.classList.contains("tpgb-mobile-metro-9")||t.classList.contains("tpgb-mobile-metro-10")))&&(o=s=c),(b&&(t.classList.contains("tpgb-metro-2")||t.classList.contains("tpgb-metro-7")||t.classList.contains("tpgb-metro-14")||t.classList.contains("tpgb-metro-15")||t.classList.contains("tpgb-metro-16"))||r&&(t.classList.contains("tpgb-tab-metro-2")||t.classList.contains("tpgb-tab-metro-7")||t.classList.contains("tpgb-tab-metro-14")||t.classList.contains("tpgb-tab-metro-15")||t.classList.contains("tpgb-tab-metro-16"))||p&&(t.classList.contains("tpgb-mobile-metro-2")||t.classList.contains("tpgb-mobile-metro-7")||t.classList.contains("tpgb-mobile-metro-14")||t.classList.contains("tpgb-mobile-metro-15")||t.classList.contains("tpgb-mobile-metro-16")))&&(s=c,o=n),(b&&(t.classList.contains("tpgb-metro-4")||t.classList.contains("tpgb-metro-6")||t.classList.contains("tpgb-metro-8"))||r&&(t.classList.contains("tpgb-tab-metro-4")||t.classList.contains("tpgb-tab-metro-6")||t.classList.contains("tpgb-tab-metro-8"))||p&&(t.classList.contains("tpgb-mobile-metro-4")||t.classList.contains("tpgb-mobile-metro-6")||t.classList.contains("tpgb-mobile-metro-8")))&&(s=n,o=c);m<768?(t.style.width="100%",t.style.height=2*c+"px"):(t.style.width=s+"px",t.style.height=o+"px")})),t.classList.contains("tpgb-metro")&&(s=document.querySelector(".tpgb-block-"+o).querySelector(".post-loop-inner"),o={itemSelector:".grid-item",layoutMode:"masonry",masonry:{columnWidth:n}},t?(e.innerWidth,new Isotope(s,o)):new Isotope(s,{layoutMode:"masonry",masonry:{columnWidth:n}}),"function"==typeof s.isotope&&s.isotope("layout"),imagesLoaded(s,function(){"function"==typeof s.isotope&&s.isotope("layout").isotope("reloadItems")}))}document.addEventListener("DOMContentLoaded",function(){tppoMetro(document)}),window.addEventListener("resize",function(){tppoMetro(document)}),document.body.addEventListener("post-load",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("resort-isotope",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("tabs-reinited",function(){setTimeout(function(){tppoMetro(document)},800)}),document.body.addEventListener("isotope-sorted",function(){setTimeout(function(){tppoMetro(document)},500)});