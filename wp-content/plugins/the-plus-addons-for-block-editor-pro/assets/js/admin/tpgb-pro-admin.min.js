"use strict";document.addEventListener("DOMContentLoaded",e=>{var t=document.querySelector(".tpgb-fontawesome-kit-pro");t&&t.addEventListener("click",function(e){var t,s=this,a=this.querySelector("span"),o=document.getElementById("fontawesome_pro_kit").value;""!==o&&void 0!==o&&(s.classList.add("check-loading"),a.classList.remove("dashicons","dashicons-image-rotate"),a.classList.add("inner-load"),o="https://kit.fontawesome.com/"+o+".js",(t=new XMLHttpRequest).open("GET",o),t.onload=function(){200==t.status?(s.classList.remove("check-loading"),s.classList.add("check-success"),a.classList.remove("inner-load","dashicons","dashicons-yes"),a.classList.add("dashicons","dashicons-yes")):(s.classList.remove("check-loading"),s.classList.add("check-failed"),a.classList.remove("inner-load","dashicons","dashicons-no-alt"),a.classList.add("dashicons","dashicons-no-alt")),setTimeout(function(){s.classList.remove("check-failed","check-success"),a.classList.remove("inner-load","dashicons","dashicons-saved","dashicons-yes","dashicons-no-alt"),a.classList.add("dashicons","dashicons-image-rotate")},5e3)},t.onerror=function(){s.classList.remove("check-loading"),s.classList.add("check-failed"),a.classList.remove("inner-load","dashicons","dashicons-no-alt"),a.classList.add("dashicons","dashicons-no-alt"),setTimeout(function(){s.classList.remove("check-failed","check-success"),a.classList.remove("inner-load","dashicons","dashicons-saved","dashicons-yes","dashicons-no-alt"),a.classList.add("dashicons","dashicons-image-rotate")},5e3)},t.send())});t=document.querySelectorAll(".tpgb-color-picker");0<t.length&&t.forEach(function(e){e=e.querySelector("input.tpgb-color-picker");e&&wpColorPicker(e)}),document.addEventListener("click",function(s){var a;s.target&&s.target.matches("button.tpgb_upload_image_button")&&(s.preventDefault(),s.stopPropagation(),"undefined"!=typeof wp&&wp.media&&wp.media.editor&&(a||((a=wp.media.frames.select_image=wp.media({title:"Choose an Image",button:{text:"Use Image"},multiple:!1})).on("select",function(){var e,t=a.state().get("selection").first().toJSON();""!==t.id.trim()&&(e=(void 0===t.sizes.thumbnail?t.sizes.full:t.sizes.thumbnail).url,s.target.previousElementSibling.value=t.id,s.target.closest(".tpgb-meta-image-field-wrapper").querySelector("img").src=e,s.target.nextElementSibling.style.display="block")}),a.on("open",function(){var e=a.state().get("selection"),t=s.target.previousElementSibling.value,t=wp.media.attachment(t);t.fetch(),e.add(t?[t]:[])})),a.open()))}),document.addEventListener("click",function(e){if(e.target&&e.target.matches("button.tpgb_remove_image_button")){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".tpgb-meta-image-field-wrapper"),s=t.querySelector("img"),a=s.dataset.placeholder;s.src=a;t=t.querySelector('input[type="hidden"]');return t&&(t.value=""),!(e.target.style.display="none")}});t=document.querySelectorAll(".tpgb-rollback-pro-wrapper");0<t.length&&t.forEach(function(e){var t=e.querySelector(".tpgb-pro-rollback-button"),s=t.dataset.rvProText,a=t.dataset.rvUrl,o=e.querySelector(".tpgb-rollback-pro-list").value;o&&(t.innerHTML=s.replace("{TPGBP_VERSION}",o),t.setAttribute("href",a.replace("TPGBP_VERSION",o))),e.querySelector(".tpgb-rollback-pro-list").addEventListener("change",function(){t.innerHTML=s.replace("{TPGBP_VERSION}",this.value),t.setAttribute("href",a.replace("TPGBP_VERSION",this.value))}),t.addEventListener("click",function(e){e.preventDefault();confirm("Are you sure you want to reinstall the previous version?")&&(location.href=this.getAttribute("href"))})})});