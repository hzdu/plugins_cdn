function setWidgetIconColor(){jQuery(".svg-chat-icon.upload-icons").css("background-color",jQuery(".cht-color").val()),jQuery(".svg-chat-icon.upload-icons i").css("color",jQuery(".cht-icon-color").val())}function check_for_number_chaty(t,e){return!!(""!=t&&("+"==t[0]&&(t=t.substr(1,t.length)),"Phone"==e&&"*"==t[0]&&(t=t.substr(1,t.length)),isNaN(t)))}function setPagesField(t,e,a){jQuery("#"+t).select2({tags:!1,multiple:!0,minimumInputLength:2,minimumResultsForSearch:10,placeholder:a,ajax:{url:ajaxurl,dataType:"json",type:"POST",quietMillis:50,data:function(t){return{action:"search_chaty_field",type:e,search:t.term}},processResults:function(t){return t.length?{results:jQuery.map(t,function(t){return{text:t.title,id:t.id}})}:{results:jQuery.map(t,function(t){return{text:"No results are found",id:0,disabled:!0}})}}}})}jQuery(function(t){"use strict";var e,a=!1,i=!1,n=!1,c=!1,s=!1,o=!1,l=!1;function r(){if(t(".chaty-popup").hide(),0==t("#cht-form .js-chanel-desktop").length||0==t("#cht-form .js-chanel-mobile").length)return t("#no-device-popup").show(),!1;if(0==t("#cht-form .js-chanel-desktop:checked").length&&0==t("#cht-form .js-chanel-mobile:checked").length)return t("#device-popup").show(),!1;if(t("#channels-selected-list > li .cht-input-error").removeClass("cht-input-error"),t("#channels-selected-list > li.has-agent-view").length){var e=0;if(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").each(function(){""==jQuery.trim(t(this).val())&&(e++,t(this).addClass("cht-input-error"))}),t("#channels-selected-list > li.has-agent-view").find(".agent-input-value").each(function(){""==jQuery.trim(t(this).val())&&(e++,t(this).addClass("cht-input-error"))}),e==parseInt(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").length)+parseInt(t("#channels-selected-list > li.has-agent-view").find(".agent-input-value").length)&&!t("#chaty-social-Contact_Us").length)return t("#no-device-value").show(),!1;var a=0;if(t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").each(function(){""==t.trim(t(this).val())&&(a++,t(this).addClass("cht-input-error"))}),a)return t("#agent-value-popup").show(),!1}else{var e=0;if(t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").each(function(){""==jQuery.trim(t(this).val())&&(e++,t(this).addClass("cht-input-error"))}),e==t("#channels-selected-list > li:not(.has-agent-view):not(#chaty-social-close)").find(".channels__input").length&&!t("#chaty-social-Contact_Us").length)return t("#no-device-value").show(),!1}return h()}function h(){return(t(".chaty-popup").hide(),t("#trigger_on_time").is(":checked")||t("#chaty_trigger_on_exit").is(":checked")||t("#chaty_trigger_on_scroll").is(":checked"))?d():(t("#trigger-popup").show(),!1)}function d(){return(t(".chaty-popup").hide(),t(".cht_active").is(":checked"))?(a=!0,t("#cht-form").trigger("submit"),!0):(t("#status-popup").show(),!1)}function p(){if(i){if(n){if(c){if(s){if(o)!l&&(l=!0,t("#channels-selected-list .phone-number").length&&t("#channels-selected-list .phone-number").each(function(){if(""!=jQuery.trim(t(this).val())&&jQuery.trim(t(this).val()).length>13)return t("#custom-message-popup .chaty-popup-header").text(t(this).data("label")+" number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the "+t(this).data("label")+" number you're trying to enter isn't valid. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}));else if(o=!0,t("#cht-form #Viber").length&&""!=t("#cht-form #Viber").val()){var a=jQuery.trim(t("#cht-form #Viber").val());if(e=check_for_number_chaty(a,"Viber"))return t("#custom-message-popup .chaty-popup-header").text("Viber number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the Viber number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else if(s=!0,t("#cht-form #SMS").length&&""!=t("#cht-form #SMS").val()){var a=jQuery.trim(t("#cht-form #SMS").val());if(e=check_for_number_chaty(a,"SMS"))return t("#custom-message-popup .chaty-popup-header").text("SMS number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the SMS number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else if(c=!0,t("#cht-form #Facebook_Messenger").length&&""!=t("#cht-form #Facebook_Messenger").val()){var a=jQuery.trim(t("#Facebook_Messenger").val());if(t("#cht-form #Facebook_Messenger").val(a),!/(?:http:\/\/)?facebook\.com\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*([\w\-]*)/.test(a)&&!/(?:http:\/\/)?m\.me\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*([\w\-]*)/.test(a))return t("#custom-message-popup .chaty-popup-header").text("Facebook page's URL is not valid"),t("#custom-message-popup .chaty-popup-body").text("Please make sure your Facebook page's URL looks like, <br/>https://m.me/YOURPAGE"),t("#custom-message-popup").show(),!1}}else if(n=!0,t("#cht-form #Phone").length&&""!=t("#cht-form #Phone").val()){var a=jQuery.trim(t("#cht-form #Phone").val());if(e=check_for_number_chaty(a,"Phone"))return t("#custom-message-popup .chaty-popup-header").text("Phone number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the phone number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}}else if(i=!0,t("#cht-form #Whatsapp").length&&""!=t("#cht-form #Whatsapp").val()){var a=jQuery.trim(t("#cht-form #Whatsapp").val());if(e=check_for_number_chaty(a,"Whatsapp"))return t("#custom-message-popup .chaty-popup-header").text("Whatsapp number is not valid"),t("#custom-message-popup .chaty-popup-body").text("Seems like the WhatsApp number you're trying to enter isn't in the right syntax. Would you like to publish it anyway?"),t("#custom-message-popup").show(),!1}return r()}t(window).on("load",function(){setTimeout(()=>{t(".wp-editor-container iframe").contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"0px 10px"})},500)}),t(document).ready(function(){t(document).on("click",".select-cta-fa-icon",function(e){t("#chat-image-icon").removeClass("active"),t("#chat-fa-icon").addClass("active"),t(".widget-img-tooltip").removeClass("active"),t(".widget-fa-icon-tooltip").addClass("active"),t("input[name='widget_icon'][value='chat-fa-icon']").prop("checked",!0)}),t("#chat-fa-icon .icon-chat").length&&AestheticIconPicker({selector:"#icon-select-chat",onClick:"#select-cta-fa-icon",iconLibrary:{material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}}}),t(document).on("click",".select-cta-image",function(e){e.preventDefault(),t("#chat-image-icon").addClass("active"),t(".widget-img-tooltip").addClass("active"),t("#chat-fa-icon").removeClass("active"),t(".widget-fa-icon-tooltip").removeClass("active"),t("input[name='widget_icon'][value='chat-image']").prop("checked",!0);var a=wp.media({title:"Select image for channel",multiple:!1,library:{type:"image"}}).open().on("select",function(e){var i=a.state().get("selection").first();i=i.toJSON(),t("#widget_custom_img").val(i.id),t("#chat-image-icon .svg-chat-icon svg").remove(),t("#chat-image-icon .svg-chat-icon img").remove(),t("#chat-image-icon .svg-chat-icon").append("<img src='"+i.url+"' alt='widget-custom-img' />"),t("#chat-image-icon .svg-chat-icon .custom-img").append("<img src='"+i.url+"' alt='widget-custom-img' />"),t("#chat-image-icon").addClass("has-image"),t(".csaas-widget .csaas-svg img").attr("src",i.url)})}),t(document).on("click",".more-btn",function(){t(".cc-bcc-field").hasClass("active")?(t(this).text("CC/BCC"),t(this).append("<i class='fas fa-arrow-down up-down-arrow'></i>"),t(".cc-bcc-field").removeClass("active")):(t(this).text("CC/BCC"),t(this).append("<i class='fas fa-arrow-up up-down-arrow'></i>"),t(".cc-bcc-field").addClass("active"))}),t(document).on("click",".recaptcha-type",function(){t(".recaptcha-input").removeClass("v2-key v3-key"),"v2"==t(this).val()?t(".recaptcha-input").addClass("v2-key"):t(".recaptcha-input").addClass("v3-key")}),t(document).on("change","input[name='cta_type']:checked",function(){"simple-view"==t(this).val()?(t("#simple-view").removeClass("hide-it"),t("#chat-view").addClass("hide-it"),t(".chaty-chat-view-option").removeClass("hide-option"),t("#cta-header-color-setting").addClass("hide-it")):(t("#simple-view").addClass("hide-it"),t("#chat-view").removeClass("hide-it"),t(".chaty-chat-view-option").addClass("hide-option"),t("#cta-header-color-setting").removeClass("hide-it")),change_custom_preview()}),t(document).on("click",".add-properties",function(e){e.preventDefault(),t(this).closest(".properties-box").toggleClass("active")}),t(document).on("click",".properties-list a",function(e){e.preventDefault();var a=t.trim(t(this).data("txt"));if(t(this).closest(".form-horizontal__item").hasClass("has-iframe")){var i=t(this).closest(".form-horizontal__item").find("iframe");i.contents().find("p").length?i.contents().find("p:last-child").append(" "+a):i.contents().find(".mce-content-body").append(" "+a)}else a=t.trim(t.trim(t(this).closest(".form-horizontal__item").find(".add-properties").val())+" "+a),t(this).closest(".form-horizontal__item").find(".add-properties").val(a);change_custom_preview()}),t(".form-fonts").SumoSelect({placeholder:"Select font family",csvDispCount:3}),t("#chaty_attention_effect, #chaty_default_state").SumoSelect({placeholder:"Select font family",csvDispCount:3}),t(document).on("click","#cta_woocommerce_status",function(){t(this).is(":checked")?t(".woocommerce-settings").addClass("active"):t(".woocommerce-settings").removeClass("active")});let e=[];jQuery(".channels-icons > .icon.active").each((t,a)=>{e.push(a.dataset.social)}),wp.hooks.doAction("chaty.channel_update",{channel:e,target:null,action:"added",isExceeded:!1}),t(document).on("click",".chaty-switch-toggle",function(){setTimeout(function(){t(".chaty-field-setting").each(function(){t(this).is(":checked")?t(this).closest(".field-setting-col").find(".field-settings").addClass("active"):t(this).closest(".field-setting-col").find(".field-settings").removeClass("active")})},100)}),t(document).on("change",".chaty-close_form_after-setting",function(){setTimeout(function(){t(".chaty-close_form_after-setting").each(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".close_form_after-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".close_form_after-settings").removeClass("active")})},100)}),t(document).on("change","#save_leads_locally_Contact_Us",function(){t(this).is(":checked")||t("#custom-leads-popup").show()}),t(document).on("click",".aim-insert-icon-button",function(t){t.preventDefault()});var g={material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}};t(".icon-picker-wrap").length&&t(".icon-picker-wrap").each(function(){var e=t(this).data("slug");AestheticIconPicker({selector:"#icon-picker-"+e,onClick:"#select-icon-"+e,iconLibrary:g})}),t("#channel_input_Whatsapp").length&&(cht_settings.channel_settings.Whatsapp=document.querySelector("#channel_input_Whatsapp"),window.intlTelInput(cht_settings.channel_settings.Whatsapp,{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"})),t(".custom-channel-Whatsapp:not(#channel_input_Whatsapp)").length&&t(".custom-channel-Whatsapp:not(#channel_input_Whatsapp)").each(function(){var e=t(this).closest("li.chaty-channel").data("id");void 0!=e&&t("#channel_input_"+e).length&&(cht_settings.channel_settings[e]=document.querySelector("#channel_input_"+e),window.intlTelInput(cht_settings.channel_settings[e],{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"}))}),t(document).on("change",".chaty-redirect-setting",function(){setTimeout(function(){t(".chaty-redirect-setting").each(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".redirect_action-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".redirect_action-settings").removeClass("active")})},100)}),t(document).on("click",".email-setting",function(){setTimeout(function(){t(".email-setting-field").each(function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".email-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".email-settings").removeClass("active")})},100)}),t(document).on("click",".captcha-setting-field",function(){t(this).is(":checked")?t(this).closest(".form-field-setting-col").find(".captcha-settings").addClass("active"):t(this).closest(".form-field-setting-col").find(".captcha-settings").removeClass("active")}),setTimeout(()=>{t(".whatsapp-welcome-message iframe").contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"8px 10px"})},100),t(document).on("click",".chaty-embedded-window",function(){setTimeout(function(){t(".embedded_window-checkbox").each(function(){if(t(this).is(":checked")){t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message").addClass("active");let e=t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message iframe");e.contents().find("body").css({backgroundColor:"#fff",margin:0,padding:"8px 10px"}),e.contents().find("head").append("<style>p {margin:0; padding:0}</style>")}else t(this).closest("li.chaty-channel").find(".whatsapp-welcome-message").removeClass("active")})},300)}),t(document).on("change","#cht-form input",function(){i=!1,n=!1,c=!1,s=!1,o=!1,l=!1}),t(document).on("click",".remove-js-script",function(e){e.preventDefault(),t(this).closest(".channels__input-box").find("input").val(""),t(this).closest(".channels__input-box").find("input").removeClass("cht-input-error").removeClass("cht-js-error"),t(this).closest(".channels__input-box").find(".cht-error-message").remove(),t(this).remove()}),t("#cht-form").on("submit",function(){if(a)return!0;set_social_channel_order(),t("#chaty-page-options .cht-required").removeClass("cht-input-error"),t(".chaty-data-and-time-rules .cht-required").removeClass("cht-input-error"),t(this).find(".cht-error-message").remove(),t(this).find(".remove-js-script").remove();var e=0;return(t("#chaty-page-options .cht-required").length&&t("#chaty-page-options .cht-required").each(function(){""==jQuery.trim(t(this).val())&&(t(this).addClass("cht-input-error"),e++)}),t(".chaty-data-and-time-rules .cht-required").length&&t(".chaty-data-and-time-rules .cht-required").each(function(){""==jQuery.trim(t(this).val())&&(t(this).addClass("cht-input-error"),e++)}),cht_nonce_ajax.has_js_access||t("#channels-selected-list .channels__input").each(function(){""!=t.trim(t(this).val())&&-1!=t.trim(t(this).val()).toLowerCase().indexOf("javascript")&&(t("body, html").scrollTop(0),t("#chaty-social-channel").trigger("click"),t(this).addClass("cht-input-error cht-js-error"),t(this).after("<span class='cht-error-message'>"+cht_nonce_ajax.js_message+"</span><a href='#' class='remove-js-script'>"+cht_nonce_ajax.remove+"</a>"),e++)}),0==e)?p():(t(".cht-input-error:first").focus(),!1)}),t(".close-chaty-popup-btn").on("click",function(e){e.stopPropagation(),t(".chaty-popup").hide(),t(this).hasClass("keep-leads-in-db")?(t("#save_leads_locally_Contact_Us").prop("checked",!0),t("#custom-leads-popup").hide()):t(this).hasClass("channel-setting-btn")||t(this).hasClass("channel-setting-step-btn")?(t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel").addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("body, html").animate({scrollTop:t("#channel-list").offset().top-125},250)):t(this).hasClass("select-trigger-btn")?(t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-triger-targeting").addClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-triger-targeting").addClass("active"),t("body, html").animate({scrollTop:t("#trigger-setting").offset().top-50},250)):t(this).hasClass("next-step-btn")&&(t(".chaty-popup").hide(),t("#chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"))}),t(".chaty-popup-inner").on("click",function(t){t.stopPropagation()}),t(".chaty-popup-outer").on("click",function(e){t(".chaty-popup").hide()}),t(".check-for-numbers").on("click",function(){p()}),t(".check-for-device").on("click",function(){r()}),t(".check-for-triggers").on("click",function(){h()}),t(".fill-agent-value").on("click",function(){t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").removeClass("empty-agent"),t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name").each(function(){""==t.trim(t(this).val())&&t(this).addClass("empty-agent")}),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel").addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("#channels-selected-list > li.has-agent-view .chaty-agent-list .chaty-agent-name.empty-agent:first").focus()}),t(".check-for-status").on("click",function(){d()}),t(".change-status-and-save").on("click",function(){t(".cht_active").prop("checked",!0),a=!0,t(".chaty-popup").hide(),t("#cht-form").trigger("submit")}),t(".status-and-save").on("click",function(){t(".cht_active").prop("checked",!1),a=!0,t(".chaty-popup").hide(),t("#cht-form").trigger("submit")}),t(document).on("click",".preview-section-chaty",function(t){t.stopPropagation()}),t(document).on("change",".cht-color",function(){setWidgetIconColor()}),setWidgetIconColor()})}),function(t){jQuery(window).on("popstate",function(t){window.onbeforeunload=null,window.history&&window.history.pushState&&window.history.back()}),jQuery(document).ready(function(){t(".chaty-table").length||t("body input, body .icon, body textarea, body .btn-cancel:not(.close-btn-set) ").on("click",function(t){window.onbeforeunload=function(t){(t=t||window.event).preventDefault=!0,t.cancelBubble=!0,t.returnValue="Your beautiful goodbye message"}}),t(".country-list").length&&t(".country-list").SumoSelect({placeholder:"Select country",search:!0,selectAll:!0,clearAll:!0}),t(document).on("submit","form",function(t){window.onbeforeunload=null}),t(document).on("change",".channel-select-input",function(e){var a=t(this).closest("li").attr("data-id");jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{social:t(this).val(),channel:a,action:"get_chaty_settings"},success:function(e){1==e.status&&("Whatsapp"==e.data.slug?t("#channel_input_"+e.channel).length&&(cht_settings.channel_settings[e.channel]=document.querySelector("#channel_input_"+e.channel),window.intlTelInput(cht_settings.channel_settings[e.channel],{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"})):t("#chaty-social-"+e.channel+" .channels__input-box").html("<input type='text' class='channels__input' name='cht_social_"+e.channel+"[value]' id='channel_input_"+e.channel+"' />"),t(".custom-icon-"+e.channel+" svg").html(e.data.svg),t("#chaty-social-"+e.channel).attr("data-channel",e.data.slug),t("#chaty-social-"+e.channel).find(".sp-preview-inner").css("background-color",e.data.color),t("#chaty-social-"+e.channel).find(".chaty-color-field").val(e.data.color),t("#chaty-social-"+e.channel).find(".channels__input").attr("placeholder",e.data.placeholder),t("#chaty-social-"+e.channel).find(".channel-example").text(e.data.example),t("#chaty-social-"+e.channel).find(".chaty-title").val(e.data.title),t("#chaty-social-"+e.channel).find(".icon").attr("data-title",e.data.title),t("#chaty-social-"+e.channel).find(".chaty-color-field").trigger("change"),t(".help-section").html(""),""!=e.data.help_link?t(".help-section").html('<div class="viber-help"><a target="_blank" href="'+e.data.help_link+'">'+e.data.help_title+"</a></div>"):""!=e.data.help_text&&t(".help-section").html('<div class="viber-help"><span class="help-text">'+e.data.help_text+'</span><span class="help-title">'+e.data.help_title+"</span></div>"))}})}),t(document).on("blur","#channels-selected-list > li:not(#chaty-social-close) .channels__input",function(){t(this).hasClass("border-red")&&""!=t(this).val()&&t(this).removeClass("border-red")});var e=1000000003;t(".show_up").on("click",function(){e+=10,t("#upgrade-modal").css({"z-index":e,display:"block","margin-left":"-258px"})}),t(".color-picker-btn, .color-picker-btn-close, .color-picker-custom button").on("click",function(e){e.preventDefault(),t(".color-picker-box").toggle(),t(".color-picker-btn").toggle()}),t(document).on("change",'input[name="cht_color"]:checked',function(){var e=t(this);alert(e);var a=e.val(),i=e.prop("title");t(".color-picker-btn .circle").css({backgroundColor:a}),t(".color-picker-btn .text").text(i),t("#chaty-social-close ellipse").attr("fill",a),t(".preview .page #iconWidget svg circle").css({fill:a}),t(".preview .page .chaty-close-icon ellipse").css({fill:a}),t("#cht_custom_color").val(t(this).val()),t(".upload-icons").css("background-color",t(this).val())}),t(document).on("click",".color-field",function(){t(this).is(":checked")&&t(this).spectrum("show")});var a=t(".channels-icons > .icon-sm");t(".social-inputs");var i=0;a.on("click",function(){++i,t("#popover").removeClass("shake-it");var e=t(this),n=e.data("social");if(e.hasClass("active")){icon=t(this).data("social"),t("#channels-selected-list #chaty-social-"+icon).remove(),e.toggleClass("active"),change_custom_preview();let c=[];t(".channels-icons > .icon.active").each((t,e)=>{c.push(e.dataset.social)}),wp.hooks.doAction("chaty.channel_update",{channel:c,target:n,action:"removed",isExceeded:!1});return}if(a.addClass("disabled"),icon=t(this).data("social"),e.toggleClass("active"),t("section").is("#pro"))var s="pro";else var s="free";t.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"choose_social",social:n,nonce_code:cht_nonce_ajax.cht_nonce,version:s,widget_index:t("#widget_index").val()},beforeSend:function(t){},success:function(e){var i=t(e),c=i.find(".icon").data("title");i.data("channel"),a.removeClass("disabled"),!t('.channels-selected div[data-social="'+c+'"]').length&&(t("#chaty-social-close").before(i),t("#chaty-social-"+n+" .chaty-whatsapp-setting-textarea").length&&(editorId=t("#chaty-social-"+n+" .chaty-whatsapp-setting-textarea").attr("id"),tinymce.execCommand("mceAddEditor",!0,editorId)));var s={material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}};t("#icon-picker-"+n).length&&t("#select-icon-"+n).length&&AestheticIconPicker({selector:"#icon-picker-"+n,onClick:"#select-icon-"+n,iconLibrary:s}),t("#icon-picker-agent-"+n).length&&t("#select-icon-agent-"+n).length&&AestheticIconPicker({selector:"#icon-picker-agent-"+n,onClick:"#select-icon-agent-"+n,iconLibrary:s}),t("#chaty-social-"+n+" .agent-list li.agent-info .icon-picker-wrap").length&&t("#chaty-social-"+n+" .agent-list li.agent-info .icon-picker-wrap").each(function(){var e=t(this).data("slug");t("#icon-picker-"+e).length&&t("#select-icon-"+e).length&&AestheticIconPicker({selector:"#icon-picker-"+e,onClick:"#select-icon-"+e,iconLibrary:s})}),"Whatsapp"==n&&t("#channel_input_Whatsapp").length&&(cht_settings.channel_settings.Whatsapp=document.querySelector("#channel_input_Whatsapp"),window.intlTelInput(cht_settings.channel_settings.Whatsapp,{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"})),t(".custom-channel-Whatsapp").length&&t(".custom-channel-Whatsapp").each(function(){if(!t(this).closest(".iti__flag-container").length){var e=t(this).closest("li.chaty-channel").data("id");t("#channel_input_"+e).length&&(cht_settings.channel_settings[e]=document.querySelector("#channel_input_"+e),window.intlTelInput(cht_settings.channel_settings[e],{dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!1,utilsScript:cht_settings.plugin_url+"admin/assets/js/utils.js"}))}}),change_custom_preview(),t(document).trigger("chatyColorPicker/trigger",[{$scope:t(`#chaty-social-${n}`),element:".chaty-color-field"}]);let o=[];t(".channels-icons > .icon.active").each((t,e)=>{o.push(e.dataset.social)}),wp.hooks.doAction("chaty.channel_update",{channel:o,target:n,action:"added",isExceeded:!1})},error:function(t,e,a){}})}),t(".btn-help").on("click",function(t){window.open("https://premio.io/help/chaty/","_blank")}),t("#cht_color_custom").length&&t("#cht_color_custom").spectrum({chooseText:"Submit",preferredFormat:"hex3",cancelText:"Cancel",showInput:!0,showAlpha:!0,move:function(e){t(this).val(e.toRgbString()),t("#chaty-social-close ellipse").attr("fill",e.toRgbString()),t(".preview .page #iconWidget svg circle, .chaty-close-icon svg ellipse").css({fill:e.toRgbString()}),t("#cht_custom_color").val(e.toRgbString())},change:function(e){t(this).val(e.toRgbString()),t("#chaty-social-close ellipse").attr("fill",e.toRgbString()),t(".preview .page #iconWidget svg circle, .chaty-close-icon svg ellipse").css({fill:e.toRgbString()}),t("#cht_custom_color").val(e.toRgbString())}}),t("#analytics_date").length&&t("#analytics_date").datepicker(),t(".select2-box").length&&t("#cht_date_rules_time_zone").SumoSelect({search:!0}),t("#chaty-page-options .page-option-list").length&&t("#chaty-page-options .page-option-list").SumoSelect({search:!1}),t("#chaty-page-options .url-option-list").length&&t("#chaty-page-options .url-option-list").SumoSelect({search:!1}),t("#chaty-page-options .pages-options").length&&t("#chaty-page-options .pages-options").each(function(){setPagesField(t(this).attr("id"),"pages","Select Pages")}),t("#chaty-page-options .posts-options").length&&t("#chaty-page-options .posts-options").each(function(){setPagesField(t(this).attr("id"),"posts","Select Posts")}),t("#chaty-page-options .wp_categories-options").length&&t("#chaty-page-options .wp_categories-options").each(function(){setPagesField(t(this).attr("id"),"categories","Select Categories")}),t("#chaty-page-options .wp_tags-options").length&&t("#chaty-page-options .wp_tags-options").each(function(){setPagesField(t(this).attr("id"),"tags","Select Tags")}),t("#chaty-page-options .wc_products-options").length&&t("#chaty-page-options .wc_products-options").each(function(){setPagesField(t(this).attr("id"),"products","Select Products")}),t("#chaty-page-options .wc_products_on_sale-options").length&&t("#chaty-page-options .wc_products_on_sale-options").each(function(){setPagesField(t(this).attr("id"),"sale_products","Select Products")}),t(document).on("click",".remove-chaty-options",function(e){e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to delete this widget?")&&t.ajax({type:"POST",url:ajaxurl,data:{action:"remove_chaty_widget",widget_nonce:t(this).data("nonce"),widget_index:t("#widget_index").val()},beforeSend:function(t){},success:function(t){window.location=t},error:function(t,e,a){}})}),window.location.href,window.location.href.indexOf("page=chaty-app&widget=")>-1&&t("#toplevel_page_chaty-app .wp-submenu.wp-submenu-wrap li").each(function(){var e=t(this).find("a").attr("href");void 0!==e&&(t(this).removeClass("current"),window.location.href.indexOf(e)>-1&&e.indexOf("&widget=")>-1&&t(this).addClass("current"))})})}(jQuery);var totalPageOptions=0,pageOptionContent="",totalDateAndTimeOptions=0,dateAndTimeOptionContent="",totalTrafficOptions=0,tafficOptionContent="";jQuery(document).ready(function(){if(totalPageOptions=parseInt(jQuery(".chaty-page-option").length),pageOptionContent=jQuery(".chaty-page-options-html").html(),jQuery(".chaty-page-options-html").remove(),totalDateAndTimeOptions=parseInt(jQuery(".chaty-date-time-option").length),dateAndTimeOptionContent=jQuery(".chaty-date-and-time-options-html").html(),jQuery(".chaty-date-and-time-options-html").remove(),totalTrafficOptions=parseInt(jQuery(".custom-traffic-rule").length),tafficOptionContent=jQuery(".custom-traffic-rules-html").html(),jQuery(".custom-traffic-rules-html").remove(),jQuery(document).on("click",".mail-merge-tags span",function(t){var e=jQuery.trim(jQuery(this).closest(".chaty-setting-col").find("input[type='text']").val());e+=" "+jQuery(this).text(),jQuery(this).closest(".chaty-setting-col").find("input[type='text']").val(jQuery.trim(e))}),jQuery("#add-traffic-rule").on("click",function(){appendHtml=tafficOptionContent.replace(/__count__/g,totalTrafficOptions,tafficOptionContent),jQuery(".traffic-custom-rules-box").append(appendHtml),jQuery("#url_option_"+totalTrafficOptions).SumoSelect(),totalTrafficOptions++}),jQuery(document).on("click","#create-date-rule",function(t){jQuery("#date-schedule").addClass("active"),jQuery("#cht_date_rules").val("yes")}),jQuery(document).on("click","#remove-date-rule",function(t){jQuery("#date-schedule").removeClass("active"),jQuery("#cht_date_rules").val("no")}),jQuery("#date_start_time").length&&jQuery("#date_end_time").length&&jQuery("#date_start_time, #date_end_time").timepicker({showLeadingZero:!0}),jQuery("#date_start_date").length&&jQuery("#date_start_date").datepicker({dateFormat:"mm/dd/yy",altFormat:"mm/dd/yy",onSelect:function(t,e){var a=jQuery("#date_start_date").datepicker("getDate");a.setDate(a.getDate()),jQuery("#date_end_date").datepicker("option","minDate",a),jQuery("#date_end_date").val()<=jQuery("#date_start_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val()),""==jQuery("#date_end_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val())}}),jQuery("#date_end_date").length&&jQuery("#date_end_date").datepicker({dateFormat:"mm/dd/yy",altFormat:"mm/dd/yy",onSelect:function(t,e){""==jQuery("#date_start_date").val()&&jQuery("#date_start_date").val(jQuery("#date_end_date").val())}}),jQuery("#date_start_date").length&&""!=jQuery("#date_start_date").val()){var t=jQuery("#date_start_date").datepicker("getDate");t.setDate(t.getDate()),jQuery("#date_end_date").datepicker("option","minDate",t),jQuery("#date_end_date").val()<=jQuery("#date_start_date").val()&&jQuery("#date_end_date").val(jQuery("#date_start_date").val())}jQuery(document).on("click","#update-chaty-traffic-source-rule",function(t){jQuery(".traffic-options-box").addClass("active"),jQuery("#chaty_traffic_source").val("yes")}),jQuery(document).on("click","#remove-traffic-rules",function(t){jQuery(".traffic-options-box").removeClass("active"),jQuery("#chaty_traffic_source").val("no")}),jQuery(document).on("click",".remove-traffic-option",function(t){jQuery(this).closest(".custom-traffic-rule").remove()}),jQuery("#create-country-rule").on("click",function(){let t=jQuery(this).parents(".country-option-box");t.find(".country-list-box").removeClass("hidden"),t.addClass("show-remove-rules-btn")}),jQuery("#remove-country-rules").on("click",function(){let t=jQuery(this).parents(".country-option-box");jQuery("select.country-list")[0].sumo.unSelectAll(),jQuery(".country-list option:selected").prop("selected",!1),jQuery(".country-list").trigger("change"),t.find(".country-list-box").addClass("hidden"),t.removeClass("show-remove-rules-btn")}),jQuery("#create-rule").on("click",function(){appendHtml=pageOptionContent.replace(/__count__/g,totalPageOptions,pageOptionContent),jQuery(".chaty-page-options").append(appendHtml),jQuery(".chaty-page-options .chaty-page-option").removeClass("last"),jQuery(".chaty-page-options .chaty-page-option:last").addClass("last");let t=jQuery(this).parents(".chaty-option-box"),e=t.find(".chaty-page-option").length>0;if(t.toggleClass("show-remove-rules-btn",e),"0"==jQuery("#is_pro_plugin").val())jQuery(".chaty-page-options").find("input").attr("name",""),jQuery(".chaty-page-options").find("select").attr("name",""),jQuery(".chaty-page-options").find("input").removeClass("cht-required"),jQuery(".chaty-page-options").find("select").removeClass("cht-required");else{if(jQuery("#url_shown_on_"+totalPageOptions+"_option").SumoSelect({search:!1}),jQuery("#url_rules_"+totalPageOptions+"_option").SumoSelect({search:!1}),jQuery("#url_rules_"+totalPageOptions+"_page_ids").length){var a="url_rules_"+totalPageOptions+"_page_ids";setPagesField(a,"pages","Select Pages")}if(jQuery("#url_rules_"+totalPageOptions+"_post_ids").length){var a="url_rules_"+totalPageOptions+"_post_ids";setPagesField(a,"posts","Select Posts")}if(jQuery("#url_rules_"+totalPageOptions+"_category_ids").length){var a="url_rules_"+totalPageOptions+"_category_ids";setPagesField(a,"categories","Select Categories")}if(jQuery("#url_rules_"+totalPageOptions+"_tag_ids").length){var a="url_rules_"+totalPageOptions+"_tag_ids";setPagesField(a,"tags","Select Tags")}if(jQuery("#url_rules_"+totalPageOptions+"_products_ids").length){var a="url_rules_"+totalPageOptions+"_products_ids";setPagesField(a,"products","Select Products")}if(jQuery("#url_rules_"+totalPageOptions+"_wc_products_ids").length){var a="url_rules_"+totalPageOptions+"_wc_products_ids";setPagesField(a,"sale_products","Select Products")}}jQuery("#url_"+totalPageOptions+"_option").SumoSelect(),totalPageOptions++}),jQuery(".traffic-url-options").length&&jQuery(".traffic-url-options").SumoSelect(),jQuery("#create-data-and-time-rule").on("click",function(){appendHtml=dateAndTimeOptionContent.replace(/__count__/g,totalDateAndTimeOptions,dateAndTimeOptionContent),jQuery(".chaty-data-and-time-rules").append(appendHtml),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last").addClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("first"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:first").addClass("first"),"0"==jQuery("#is_pro_plugin").val()&&(jQuery(".chaty-data-and-time-rules").find("input").attr("name",""),jQuery(".chaty-data-and-time-rules").find("select").attr("name",""),jQuery(".chaty-data-and-time-rules").find("input").removeClass("cht-required"),jQuery(".chaty-data-and-time-rules").find("select").removeClass("cht-required")),jQuery("#start_time_"+totalDateAndTimeOptions+", #end_time_"+totalDateAndTimeOptions).timepicker({showLeadingZero:!0}),jQuery("#gmt_"+totalDateAndTimeOptions+"_option").SumoSelect({search:!0});let t=jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last"),e=jQuery(this).parents(".chaty-option-box");wp.hooks.doAction("chaty.days_and_hours_add_rule",{$scope:e,$current:t}),jQuery("#url_shown_on_"+totalDateAndTimeOptions+"_option").SumoSelect(),totalDateAndTimeOptions++});let e=jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last"),a=jQuery(".chaty-data-and-time-rules").parents(".chaty-option-box");wp.hooks.doAction("chaty.days_and_hours_add_rule",{$scope:a,$current:e}),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:last").addClass("last"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option").removeClass("first"),jQuery(".chaty-data-and-time-rules .chaty-date-time-option:first").addClass("first"),totalDateAndTimeOptions>0&&(jQuery(".ui-timepicker-input").timepicker({showLeadingZero:!0}),totalDateAndTimeOptions>=1&&jQuery(".chaty-option-box .chaty-date-time-option:last").addClass("last")),jQuery(document).on("change","#chaty_attention_effect",function(){var t=jQuery(this).attr("data-effect");""!=t&&jQuery("#iconWidget").removeClass("chaty-animation-"+t),jQuery("#iconWidget").removeClass("start-now"),jQuery("#iconWidget").addClass("chaty-animation-"+jQuery(this).val()).addClass("start-now"),jQuery(this).attr("data-effect",jQuery(this).val())}),setInterval(function(){var t=jQuery("#chaty_attention_effect").attr("data-effect");""!=t?(jQuery("#iconWidget").removeClass("chaty-animation-"+t),jQuery("#iconWidget").removeClass("start-now"),setTimeout(function(){jQuery("#iconWidget").addClass("chaty-animation-"+jQuery("#chaty_attention_effect").val()).addClass("start-now")},1e3)):jQuery("#chaty_attention_effect").attr("data-effect",jQuery("#chaty_attention_effect").val())},5e3),jQuery(document).on("click",".remove-chaty",function(){let t=jQuery(this).parents(".chaty-option-box");jQuery(this).parents(".chaty-page-option").remove(),t.find(".chaty-page-options .chaty-page-option").removeClass("last"),t.find(".chaty-page-options .chaty-page-option:last").addClass("last");let e=t.find(".chaty-page-option").length>0;e?t.addClass("show-remove-rules-btn"):t.removeClass("show-remove-rules-btn")}),jQuery(document).on("click","#remove-page-rules",function(t){t.preventDefault(),jQuery("#chaty-page-options .chaty-page-option").remove(),jQuery(".chaty-option-box").removeClass("show-remove-rules-btn")}),jQuery(document).on("click",".remove-day-time-rules",function(t){t.preventDefault();let e=jQuery(this).parents(".chaty-option-box"),a=e.find(".chaty-date-time-option");wp.hooks.doAction("chaty.days_and_hours_remove_rule",a,"all"),a.remove(),e.removeClass("show-remove-rules-btn"),e[0].scrollIntoView({behavior:"smooth",block:"center"})}),jQuery(document).on("click",".remove-page-option",function(){let t=jQuery(this).closest(".chaty-date-time-option");wp.hooks.doAction("chaty.days_and_hours_remove_rule",t,"single"),jQuery(this).closest(".chaty-date-time-option").remove()}),jQuery("#image-upload-content .custom-control-label").on("click",function(t){return t.stopPropagation(),jQuery(this).closest(".custom-control").find("input[type=radio]").prop("checked",!0),jQuery(".js-widget-i").trigger("change"),!1}),jQuery(".chaty-color-field").on("change",function(){chaty_set_bg_color()}),jQuery(".remove-chaty-img").on("click",function(t){t.stopPropagation()});var i=!1;function n(){jQuery(".chaty-whatsapp-setting-textarea").length&&jQuery(".chaty-whatsapp-setting-textarea").each(function(){jQuery("#cht_social_embedded_message_"+jQuery(this).data("id")+"_ifr").length&&tinymce.get(jQuery(this).attr("id")).remove(),tinymce.execCommand("mceAddEditor",!0,jQuery(this).attr("id"))})}(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(i=!0),i||jQuery("body").hasClass("theme-utouch-lite")||jQuery("#channels-selected-list").sortable({placeholder:"ui-chaty-state-hl",items:"li.chaty-channel:not(#chaty-social-close)",handle:".move-icon",start:function(){jQuery("body").addClass("hide-agents")},stop:function(){jQuery("body").removeClass("hide-agents"),n()},update:function(t,e){set_social_channel_order(),change_custom_preview(),n()}}),jQuery(document).ready(function(){n(),jQuery(".toast-message").length&&(jQuery(".toast-message").addClass("active"),setTimeout(function(){jQuery(".toast-message").removeClass("active")},5e3)),jQuery(document).on("click",".toast-close-btn a",function(t){t.preventDefault(),jQuery(".toast-message").removeClass("active")}),jQuery("input[name='switchPreview']:checked").trigger("change")}),jQuery(".close-button-img img, .close-button-img .image-upload").on("click",function(){var t=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",function(e){imageData=t.state().get("selection").first().toJSON(),jQuery(".close-button-img").addClass("active"),jQuery(".close-button-img input").val(imageData.id),jQuery(".close-button-img img").attr("src",imageData.url),change_custom_preview()})}),jQuery(".remove-close-img").on("click",function(){default_image=jQuery("#default_image").val(),jQuery(".close-button-img").removeClass("active"),jQuery(".close-button-img input").val(""),jQuery(".close-button-img img").attr("src",default_image),change_custom_preview()}),jQuery(document).on("click",".chaty-widget.click",function(t){t.preventDefault(),jQuery(".chaty-widget").toggleClass("active")}),jQuery(document).on("change","#chaty-page-options .url-options",function(t){thisVal=jQuery(this).val(),newURL=siteURL=jQuery("#chaty_site_url").val(),console.log(thisVal),jQuery(this).closest(".url-content").find(".url-title").hide(),jQuery(this).closest(".url-content").find(".url-title").removeClass("active"),jQuery(this).closest(".url-content").find(".chaty-url").show(),jQuery(this).closest(".url-content").find(".url-setting-option").removeClass("active"),jQuery(this).closest(".url-content").find(".url-default").addClass("active"),jQuery(this).closest(".url-content").find(".items-center").addClass("active"),"home"==thisVal?(newURL=siteURL,jQuery(this).closest(".url-content").find(".url-default").removeClass("active"),jQuery(this).closest(".url-content").find(".items-center").removeClass("active")):"page_has_url"==thisVal?newURL=siteURL:"page_contains"==thisVal?newURL=siteURL:"page_start_with"==thisVal?newURL=siteURL:"page_end_with"==thisVal?newURL=siteURL:(jQuery(this).closest(".url-content").find(".url-title").hide(),jQuery(this).closest(".url-content").find(".chaty-"+thisVal).show(),jQuery(this).closest(".url-content").find(".url-setting-option").removeClass("active"),jQuery(this).closest(".url-content").find("."+thisVal+"-option").addClass("active")),jQuery(this).closest(".url-content").find(".chaty-url").text(newURL)}),jQuery(".chaty-settings.cls-btn a, .close-btn-set").on("click",function(t){t.preventDefault(),jQuery(".cls-btn-settings, .close-btn-set").toggleClass("active")}),0==jQuery("input[name='cht_position']:checked").length&&(jQuery("#right-position").prop("checked",!0),jQuery("input[name='cht_position']:checked").trigger("change")),0==jQuery("input[name='widget_icon']:checked").length&&(jQuery("input[name='widget_icon']:first").prop("checked",!0),jQuery("input[name='widget_icon']:checked").trigger("change")),change_custom_preview()});var selectedsocialSlug="";function upload_chaty_image(t){selectedsocialSlug=t;var e=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",function(t){imageData=e.state().get("selection").first().toJSON(),jQuery("#cht_social_image_"+selectedsocialSlug).val(imageData.id),jQuery(".custom-image-"+selectedsocialSlug+" img").attr("src",imageData.url),jQuery("#chaty_image_"+selectedsocialSlug).addClass("img-active").removeClass("icon-active"),jQuery("#chaty_image_"+selectedsocialSlug+" .fa-icon").val(""),change_custom_preview()})}function upload_chaty_agent_image(t){selectedsocialSlug=t;var e=wp.media({title:"Upload Image",multiple:!1,library:{type:"image"}}).open().on("select",function(t){imageData=e.state().get("selection").first().toJSON(),jQuery("#cht_social_agent_image_"+selectedsocialSlug).length&&(jQuery("#image_agent_data_"+selectedsocialSlug+" img.agent-image").attr("src",imageData.url),jQuery("#image_agent_data_"+selectedsocialSlug).addClass("img-active").removeClass("icon-active"),jQuery("#image_agent_data_"+selectedsocialSlug+" .fa-icon").val(""),jQuery("#image_agent_data_"+selectedsocialSlug+" input.image-id").val(imageData.id),change_custom_preview())})}function toggle_chaty_setting(t){if(jQuery("#chaty-social-"+t).find(".chaty-advance-settings").toggle(),jQuery("#chaty-social-"+t).find(".chaty-advance-settings").toggleClass("active"),"Contact_Us"==t&&jQuery("#Contact_Us-close-btn").length){var e=jQuery("#Contact_Us-close-btn").data("nonce");jQuery("#Contact_Us-close-btn").hasClass("active")||(jQuery("#Contact_Us-close-btn").addClass("active"),jQuery.ajax({type:"POST",url:ajaxurl,data:{nonce:e,action:"update_channel_setting"},success:function(t){}}))}jQuery("#chaty-social-"+t+" .chaty-advance-settings.active").length,change_custom_preview()}function chaty_set_bg_color(){jQuery(".chaty-color-field:not(.button-color)").each(function(){""!=jQuery(this).val()&&"#ffffff"!=jQuery(this).val()&&(jQuery(this).hasClass("agent-bg-color")?(defaultColor=jQuery(this).val(),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".color-element").css("fill",defaultColor),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".custom-agent-image").css("background",defaultColor),jQuery(this).closest(".chaty-agent-form").find(".chaty-agent-setting").find(".facustom-icon").css("background",defaultColor)):jQuery(this).hasClass("agent-icon-color")?(defaultColor=jQuery(this).val(),jQuery(this).closest("li.agent-info").find(".color-element").css("fill",defaultColor),jQuery(this).closest("li.agent-info").find(".custom-chaty-image").css("background",defaultColor),jQuery(this).closest("li.agent-info").find(".facustom-icon").css("background",defaultColor)):("Linkedin"!=jQuery(this).closest("li").data("id")||"Linkedin"==jQuery(this).closest("li").data("id")&&"#ffffff"!=jQuery(this).val())&&(defaultColor=jQuery(this).val(),jQuery(this).closest(".channels-selected__item").find(".color-element").css("fill",defaultColor),jQuery(this).closest(".channels-selected__item").find(".custom-chaty-image").css("background",defaultColor),jQuery(this).closest(".channels-selected__item").find(".facustom-icon").css("background",defaultColor)))}),change_custom_preview()}var activeWeChatChannel="";function upload_qr_code(t){activeWeChatChannel=t;var e=wp.media({title:"Upload QR Image",multiple:!1,library:{type:"image"}}).open().on("select",function(t){imageData=e.state().get("selection").first().toJSON(),jQuery("#upload_qr_code_val-"+activeWeChatChannel).val(imageData.id),jQuery("#cht_social_image_src_"+activeWeChatChannel).attr("src",imageData.url),jQuery(".remove-qr-code-"+activeWeChatChannel).addClass("active"),change_custom_preview()})}function remove_qr_code(t){default_image=jQuery("#default_image").val(),jQuery("#upload_qr_code_val-"+t).val(""),jQuery("#cht_social_image_src_"+t).attr("src",default_image),jQuery(".remove-qr-code-"+t).removeClass("active"),change_custom_preview()}function remove_chaty_image(t){default_image=jQuery("#default_image").val(),jQuery("#cht_social_image_"+t).val(""),jQuery("#cht_social_image_src_"+t).attr("src",default_image),jQuery("#chaty_image_"+t).removeClass("icon-active").removeClass("img-active"),jQuery("#chaty_image_"+t+" .fa-icon").val(""),change_custom_preview()}var baseIcon='<svg version="1.1" id="ch" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve">\n                            <style type="text/css">.st0 {fill: #A886CD;}  .st1 {fill: #FFFFFF;}\n                        </style><g><circle class="st0" cx="-469" cy="534.7" r="27"/></g><path class="st1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/>\n                                                    <path class="st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,530.8-478.2,530.5-477.7,530.5z"/>\n                                                    <path class="st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,533.9-478.2,533.5-477.7,533.5z"/>\n                        </svg>',defaultIcon='<svg version="1.1" id="ch" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-496 507.7 54 54" style="enable-background:new -496 507.7 54 54;" xml:space="preserve">\n                            <style type="text/css">.st0 {fill: #A886CD;}  .st1 {fill: #FFFFFF;}\n                        </style><g><circle class="st0" cx="-469" cy="534.7" r="27"/></g><path class="st1" d="M-459.9,523.7h-20.3c-1.9,0-3.4,1.5-3.4,3.4v15.3c0,1.9,1.5,3.4,3.4,3.4h11.4l5.9,4.9c0.2,0.2,0.3,0.2,0.5,0.2 h0.3c0.3-0.2,0.5-0.5,0.5-0.8v-4.2h1.7c1.9,0,3.4-1.5,3.4-3.4v-15.3C-456.5,525.2-458,523.7-459.9,523.7z"/>\n                                                    <path class="st0" d="M-477.7,530.5h11.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-11.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,530.8-478.2,530.5-477.7,530.5z"/>\n                                                    <path class="st0" d="M-477.7,533.5h7.9c0.5,0,0.8,0.4,0.8,0.8l0,0c0,0.5-0.4,0.8-0.8,0.8h-7.9c-0.5,0-0.8-0.4-0.8-0.8l0,0\n                            C-478.6,533.9-478.2,533.5-477.7,533.5z"/>\n                        </svg>',iconBlock=document.getElementById("iconWidget");function set_social_channel_order(){socialString=[],jQuery("#channels-selected-list > li.chaty-channel").each(function(){socialString.push(jQuery(this).attr("data-id"))}),socialString=socialString.join(","),console.log(socialString),jQuery("#cht_numb_slug").val(socialString)}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){var a="";t(document).ready(function(){if(t(document).on("keyup",".select2-search__field",function(){if(""==t(this).val()&&t(this).closest(".url-setting-option").length){var e=t(this).closest(".url-setting-option").find("select").attr("id");t("#"+e).length&&t("#"+e).select2("close")}}),jQuery("#wp-cta_body_text-wrap").length){var e=jQuery("#wp-cta_body_text-wrap").find("iframe");a=e.contents().find("body").html(),e.contents().find("head").append("<style>p{margin:0; padding:0 }body{padding:10px !important;}</style>"),setInterval(function(){t("#cta-option-chat-view").is(":checked")&&(bodyMsg=jQuery("#wp-cta_body_text-wrap").find("iframe").contents().find("body").html())!=a&&(a=bodyMsg,change_custom_preview())},2e3)}if(t(document).on("click","#image-upload-content .custom-control-radio",function(e){e.preventDefault(),t(".js-upload").prop("checked",!0),change_custom_preview()}),jQuery("#wp-cta_wc_body_text-wrap").length){var e=jQuery("#wp-cta_wc_body_text-wrap").find("iframe");e.contents().find("head").append("<style>p{margin:0; padding:0 }body{padding:10px !important;}</style>")}t(document).on("click",".btn-cancel",function(e){e.preventDefault();var a=t(this).data("social");t(this).closest("li.chaty-channel").remove(),t(".chat-channel-"+a).removeClass("active"),change_custom_preview();let i=[];jQuery(".channels-icons > .icon.active").each((t,e)=>{i.push(e.dataset.social)}),wp.hooks.doAction("chaty.channel_update",{channel:i,target:a,action:"removed",isExceeded:!1})}),t(document).on("click",".js-switch-preview",function(){change_custom_preview()}),t(document).on("click",".channels__view-check, #cht_close_button",function(){change_custom_preview()}),t(document).on("change","input[name='cht_position']:checked",function(){"custom"==t(this).val()?t("#positionPro").show():t("#positionPro").hide(),change_custom_preview()}),t(document).on("click","#aim-modal",function(){t(".aim-cancel-icon-button").trigger("click")}),t(document).on("click",".aim-modal--content",function(t){t.stopPropagation()}),t(document).on("click","#cht_pending_messages",function(){t(this).is(":checked")?t(".pending-message-items").addClass("active"):t(".pending-message-items").removeClass("active"),change_custom_preview()}),t(document).on("change","input[name='positionSide']:checked, input[name='cht_cta_action']:checked, input[name='widget_icon']:checked",function(){change_custom_preview()}),t(document).on("change","#chaty_attention_effect, #cht_number_of_messages, #chaty_icons_view",function(){change_custom_preview()}),t(document).on("change",".form-fonts",function(){jQuery("#custom-font-style, .preview-google-font").remove(),""!=jQuery(".form-fonts").val()&&(jQuery("head").append("<style id='custom-font-style'></style>"),customCSS=".chaty-preview, .chaty-preview *, .chaty-preview *:after { font-family: "+jQuery(".form-fonts").val()+" }",jQuery("#custom-font-style").html(customCSS),"Default"!=jQuery(".form-fonts option:selected").closest("optgroup").attr("label")&&jQuery("head").append('<link class="preview-google-font" rel="preconnect" href="https://fonts.googleapis.com"><link class="preview-google-font" rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link class="preview-google-font" href="https://fonts.googleapis.com/css2?family='+jQuery(".form-fonts").val()+'&display=swap" rel="stylesheet">'))}),t(document).on("change","#chaty_default_state",function(){"open"==t(this).val()?t(".hide-show-button").addClass("active"):t(".hide-show-button").removeClass("active"),change_custom_preview()}),t(document).on("change","input[name='cht_color']:checked",function(){change_custom_preview()}),t(document).on("click",".chaty-preview.click:not(.single) .chaty-preview-cta, .chaty-preview.open:not(.single) .chaty-preview-cta",function(){t(".chaty-preview").toggleClass("active")}),t(document).on("mouseover",".chaty-preview.hover:not(.single):not(.on) .chaty-preview-cta",function(){t(".chaty-preview").addClass("active"),t(".chaty-preview").addClass("on")}),t(document).on("click",".chaty-preview.hover:not(.single) .chaty-preview-cta",function(){t(".chaty-preview").toggleClass("active")}),t(document).on("mouseleave",".chaty-preview.hover:not(.single) .chaty-preview-cta",function(){t(".chaty-preview").removeClass("on")}),t(document).on("keyup",".test_textarea",function(){change_custom_preview()}),t(document).on("click",".trigger-block input[type='checkbox']",function(){t(this).is(":checked")?(t(this).closest(".trigger-option-block").find("input[type='number']").prop("disabled",!1),t(this).closest(".trigger-option-block").find("input[type='text']").prop("disabled",!1)):(t(this).closest(".trigger-option-block").find("input[type='number']").prop("disabled",!0),t(this).closest(".trigger-option-block").find("input[type='text']").prop("disabled",!0))}),t("#trigger_on_time").is(":checked")||t("#chaty_trigger_time").prop("disabled",!0),t("#chaty_trigger_hide").is(":checked")||t("#chaty_trigger_hide_time").prop("disabled",!0),t("#chaty_trigger_on_scroll").is(":checked")||t("#chaty_trigger_on_page_scroll").prop("disabled",!0),jQuery(".form-fonts").trigger("change")})});var imageDataEvent=!1;function loadPreviewFile(t){if(imageDataEvent=t,jQuery(t.target).parents("#image-upload-content").find("#uploadInput").prop("checked",!0),""!=jQuery("#testUpload").val()){var e=document.getElementById("outputImage");e.src=URL.createObjectURL(t.target.files[0]),e.onload=function(){URL.revokeObjectURL(e.src),jQuery("#image-upload").addClass("has-custom-image"),change_custom_preview()}}}!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){t(document).ready(function(){t(document).on("click","#chaty-social-channel",function(){t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t(this).addClass("active"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-social-channel").addClass("active"),t("#current_step").val(1),t(".footer-buttons").removeClass("step-3").removeClass("step-2").addClass("step-1")}),t(document).on("click","#chaty-app-customize-widget",function(){t(".footer-buttons").removeClass("step-3").removeClass("step-1").addClass("step-2"),function e(){if(t(".chaty-popup").hide(),0==t("#cht-form .js-chanel-desktop").length||0==t("#cht-form .js-chanel-mobile").length){t("#no-step-device-popup").show();return}if(0==t("#cht-form .js-chanel-desktop:checked").length&&0==t("#cht-form .js-chanel-mobile:checked").length){t("#device-step-popup").show();return}t("#chaty-app-customize-widget, #chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-3").addClass("step-2"),t("#current_step").val(2)}()}),t(document).on("click","#chaty-triger-targeting",function(){t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t(this).addClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-triger-targeting").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-2").addClass("step-3"),t("#current_step").val(3)}),t(document).on("click","#next-button",function(e){e.preventDefault(),t("#chaty-social-channel").hasClass("active")?t("#chaty-app-customize-widget").trigger("click"):t("#chaty-app-customize-widget").hasClass("active")&&t("#chaty-triger-targeting").trigger("click")}),t(document).on("click","#back-button",function(e){e.preventDefault(),t("#chaty-tab-triger-targeting").hasClass("active")?(t("#chaty-triger-targeting").removeClass("completed"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-app-customize-widget").addClass("active"),t("#chaty-social-channel").addClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-tab-customize-widget").addClass("active"),t(".footer-buttons").removeClass("step-1").removeClass("step-3").addClass("step-2"),t("#current_step").val(2)):t("#chaty-app-customize-widget").hasClass("active")&&(t("#chaty-triger-targeting, #chaty-app-customize-widget").removeClass("completed"),t(".social-channel-tabs").removeClass("active"),t("#chaty-social-channel, #chaty-app-customize-widget, #chaty-triger-targeting").removeClass("active"),t("#chaty-social-channel").addClass("active"),t("#chaty-tab-social-channel").addClass("active"),t(".footer-buttons").removeClass("step-2").removeClass("step-3").addClass("step-1"),t("#current_step").val(1))})})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){var a="";function i(){t("#channels-selected-list > .chaty-channel.has-agent-view").each(function(){var e=t(this).data("id"),a="";t("#agent-list-"+e+" .agent-channel-setting").each(function(){a+=t(this).data("item")+","}),t("#agent_order_"+e).val(a)}),change_custom_preview()}t(document).ready(function(){t(document).on("click",".customize-agent-button",function(){0==t(this).closest("li.chaty-channel").find(".agent-info").length&&t(this).closest("li.chaty-channel").find(".add-agent-button button").trigger("click"),change_custom_preview()}),t(document).on("click",".remove-agent-btn",function(){1==t(this).closest("ul.agent-list").find("li.agent-info").length&&(t(this).closest("li.chaty-channel").removeClass("has-agent-view"),t(this).closest("li.chaty-channel").find(".is-agent-active").val(0),t(this).closest("li.chaty-channel").find(".chaty-advance-settings").show(),t(this).closest("li.chaty-channel").find(".chaty-advance-settings").addClass("active")),t(this).closest("li.agent-info").remove(),change_custom_preview()}),t(document).on("click",".remove-img-icon",function(){var e=t(this).data("slug");t("#image_agent_data_"+e).length&&(t("#image_agent_data_"+e).removeClass("img-active").removeClass("icon-active"),t("#image_agent_data_"+e+" .image-id").val(""),t("#image_agent_data_"+e+" .fa-icon").val(""),change_custom_preview())}),t(document).on("click",".agent-button-action",function(e){e.preventDefault(),t(this).closest("li.chaty-channel").find(".is-agent-active").val(1),t(this).closest("li.chaty-channel").addClass("has-agent-view");var a=t(this).closest("li.chaty-channel").find(".chaty-default-settings").find(".channels__input").val();0==t(this).closest("li.chaty-channel").find(".agent-info").length&&(t(this).closest("li.chaty-channel").find(".add-agent-button button").trigger("click"),t(this).closest("li.chaty-channel").find(".agent-info").find(".agent-input-value").val(a),""!=a&&t(this).closest("li.chaty-channel").find(".add-agent-button button").trigger("click")),change_custom_preview(),t(document).trigger("chatyColorPicker/trigger",[{$scope:t(this).parents("li.chaty-channel"),element:".chaty-color-field"}])}),t(document).on("click",".remove-agents-button",function(){a=t(this).data("id"),t("#remove-agents-popup").show()}),t(".remove-agent-list").on("click",function(){console.log(a),t("#chaty-social-"+a).removeClass("has-agent-view"),t("#chaty-social-"+a+" .is-agent-active").val(0),t("#remove-agents-popup").hide(),change_custom_preview()}),t(".chaty-channel.has-agent-view .agent-list").length&&t(".chaty-channel.has-agent-view .agent-list").each(function(){var e=t(this).attr("id");t("#"+e).sortable({placeholder:"ui-chaty-state-hl",items:t("#"+e+" > li.agent-info"),handle:".move-channel-icon",update:function(t,e){i()}})}),t(document).on("click",".add-agent-button button",function(){var e=parseInt(t(this).closest(".chaty-agents").data("count"));e+=1;var a=t(this).data("slug");t(this).closest(".chaty-agents").data("count",e);var n=t(this).closest(".chaty-agent-advance-setting").find(".default-agent-setting").html();n=(n=(n=(n=n.replace(/__count__/g,e)).replace(/chaty-color-field-agent/g,"chaty-color-field")).replace(/icon-picker-wrap-agent/g,"icon-picker-wrap")).replace(/chaty-whatsapp-phone-alt/g,"chaty-whatsapp-phone"),t(this).closest(".chaty-agents").find("ul.agent-list").append("<li class='agent-info'>"+n+"</li>"),t(this).closest(".chaty-agents").find("ul.agent-list li.agent-info:last-child .agent-input-value ").focus(),t("#agent-icon-picker-"+a+"-"+e).length&&t("#select-agent-icon-"+a+"-"+e).length&&AestheticIconPicker({selector:"#agent-icon-picker-"+a+"-"+e,onClick:"#select-agent-icon-"+a+"-"+e,iconLibrary:{material:{regular:{"list-icon":"","icon-style":"mt-regular",icons:["some","some2"]}}}}),change_custom_preview(),t(document).trigger("chatyColorPicker/trigger",[{$scope:t(this).parents(".chaty-agents"),element:".chaty-color-field"}]);var c="agent-list-"+jQuery(this).closest("li.chaty-channel").data("id");t("#"+c).sortable({placeholder:"ui-chaty-state-hl",items:t("#"+c+" > li.agent-info"),handle:".move-channel-icon",update:function(t,e){i()}})})})});