function buBuyNow(){const t=document.querySelectorAll(".brxe-bu-buy-now");0<t.length&&t.forEach(t=>{doBuyNow(t)})}document.addEventListener("DOMContentLoaded",buBuyNow);let doBuyNow=t=>{let r=t.getAttribute("data-keep-cart"),e=t.getAttribute("data-in-loop");if("no"==e){const i=document.querySelectorAll(".variations_form");if(0<i.length){let t="mouseover";("ontouchstart"in window||window.navigator.msPointerEnabled||"ontouchstart"in document.documentElement)&&(t="touchstart"),i.forEach(i=>{i.addEventListener(t,function(t){var e=i.getAttribute("data-append-fields");void 0!==e&&"yes"==e&&(i.querySelector(".bu-buy-now-inp").remove(),i.querySelector(".bu-kp-cart-inp").remove(),i.querySelector(".bu-rd-url-inp").remove(),i.removeAttribute("data-append-fields"))})})}t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();let n=this.getAttribute("data-product_id"),e=t.target.closest(".brxe-loop-builder-on");const i=(e||document).querySelectorAll(".cart");0<i.length&&i.forEach(a=>{let t=a.querySelector(".single_add_to_cart_button"),e=a.getAttribute("data-append-fields"),i=a.hasAttribute("data-product_id")?a.getAttribute("data-product_id"):t.getAttribute("value");if(t&&t.classList.contains("disabled"))t.classList.contains("wc-variation-is-unavailable")?window.alert(wc_add_to_cart_variation_params.i18n_unavailable_text):t.classList.contains("wc-variation-selection-needed")&&window.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text);else if(parseInt(n)==parseInt(i)){if(!e||"yes"!=e){let t=document.createElement("input"),e=(t.setAttribute("type","hidden"),t.setAttribute("name","bu_buy_now"),t.setAttribute("value","yes"),t.setAttribute("class","bu-buy-now-inp"),a.appendChild(t),document.createElement("input")),i=(e.setAttribute("type","hidden"),e.setAttribute("name","keep_cart_items"),e.setAttribute("value",r),e.setAttribute("class","bu-kp-cart-inp"),a.appendChild(e),document.createElement("input"));if(i.setAttribute("type","hidden"),i.setAttribute("name","bu_redirect_url"),i.setAttribute("value",this.getAttribute("href")),i.setAttribute("class","bu-rd-url-inp"),a.appendChild(i),!1===a.classList.contains("variations_form")){let t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","product_id"),t.setAttribute("value",n),t.setAttribute("class","bu-prd-inp"),a.appendChild(t)}a.setAttribute("data-append-fields","yes")}a.submit()}})})}};