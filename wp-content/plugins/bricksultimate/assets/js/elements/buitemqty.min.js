jQuery(document).ready(function(n){let u=1;n(document.body).on("focusin",".brxe-bu-cart-item-qty .qty",function(t){u=n(t.currentTarget).val()}),n(document.body).on("click tab touchstart",".brxe-bu-cart-item-qty .action",function(t){var a,e,t=n(t.currentTarget),r=t.siblings(".qty");r.length&&(a=u=parseFloat(r.val()),e=parseFloat(r.attr("step")),parseFloat(r.attr("min")),parseFloat(r.attr("max")),t=t.hasClass("plus")?a+e:a-e,r.val(t).trigger("change"))}),n(document.body).on("change",".brxe-bu-cart-item-qty .qty",function(t){if("undefined"==typeof woocommerce_params)return!1;t.preventDefault();var a=n(t.currentTarget),t=parseFloat(a.val()),e=parseFloat(a.attr("step")),r=parseFloat(a.attr("min")),o=parseFloat(a.attr("max")),c=!1;(c=!!(isNaN(t)||t<0||t<r||o<t||t%e!=0)||c)?a.val(u):(($row=a.closest(".woocommerce-mini-cart-item")).block({message:null,overlayCSS:{opacity:.6}}),n.ajax({url:woocommerce_params.ajax_url.toString(),type:"POST",data:{action:"buwoo_update_cart_item_quantity",cart_key:a.closest(".brxe-bu-cart-item-qty").attr("data-cart_item_key"),product_id:a.closest(".brxe-bu-cart-item-qty").attr("data-product_id"),qty:t,security:QTY.nonce},dataType:"json",success:function(t){t.error?a.val(u):(n(document.body).trigger("wc_fragment_refresh",[t.fragments,t.cart_hash,a]),document.dispatchEvent(new Event("bu_update_cart_quantity")))},complete:function(){$row.unblock(),"yes"!==a.closest(".brxe-bu-cart-item-qty").attr("data-cartupdate")&&n(document.body).trigger("wc_update_cart"),n(document.body).trigger("update_checkout")}}))})});