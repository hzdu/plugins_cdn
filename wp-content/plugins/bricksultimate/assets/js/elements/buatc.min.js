function ATCUpdateQty(t){var e=t.value,t=t.closest(".brxe-bu-atc");t&&(atcBtn=t.querySelector(".add_to_cart_button")||null)&&atcBtn.setAttribute("data-quantity",e)}function buWooQuantityTriggers(){bricksQuerySelectorAll(document,".action").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();t=this.closest(".quantity").querySelector(".qty");(t&&!(parseFloat(t.value)<=0)||document.querySelector(".grouped_form")&&document.querySelector("li.mnm_item"))&&ATCUpdateQty(t)})}),bricksQuerySelectorAll(document,".brxe-bu-atc .qty").forEach(function(t){let d=1;t.addEventListener("focusin",function(t){d=this.value}),t.addEventListener("change",function(t){var e=this,a=parseFloat(e.value),r=parseFloat(e.getAttribute("step")),n=parseFloat(e.getAttribute("min")),o=parseFloat(e.getAttribute("max")),c=!1;(isNaN(a)||a<0||a<n||o<a||a%r!=0)&&(c=!0),e.value=c?d:a,ATCUpdateQty(this)})})}function buatcdoajax(u){u(".brxe-bu-atc").each(function(){var t=this.getAttribute("data-adtcajax"),d=this.getAttribute("data-redirect")||"",a=JSON.parse(this.getAttribute("data-atc-config"))||"",e=u(this).children(".button"),r=this.querySelector(".single_add_to_cart_button.alt")||!1;a&&e.on("click",function(t){let e=u(t.currentTarget);u(document.body).on("added_to_cart",function(){e.hasClass("added")&&e.text(a.addedText)})}),r&&void 0!==t&&"yes"==t&&!u(this).hasClass("product-type-external")&&r.addEventListener("click",function(t){if(t.preventDefault(),!this.classList.contains("disabled")){var e,a=u(t.currentTarget),r=a.closest("form.cart"),n=r.serializeArray(),o=!1,t=r.find("input[name=variation_id]").val()||0;if(u.each(n,function(t,e){if(("productID"===e.name||"add-to-cart"===e.name)&&e.value)return!(o=!0)}),o||(e=!!(e=r.attr("action").match(/add-to-cart=([0-9]+)/))&&e[1]),(e=a.attr("name")&&"add-to-cart"==a.attr("name")&&a.attr("value")?a.attr("value"):e)&&(n.push({name:"add-to-cart",value:e}),n.push({name:"product_id",value:e})),n.push({name:"action",value:"bu_ajax_add_to_cart"}),n.push({name:"variation_id",value:t}),r.hasClass("variations_form")&&n.push({name:"product_type",value:"variable"}),r.hasClass("grouped_form")){const c={};for(const t of n.entries())-1<t[1].name.indexOf("quantity")&&0<t[1].value&&(c[t[1].name.replace("quantity[","").replace("]","")]=t[1].value);if(0===Object.keys(c).length)return;n.push({name:"product_type",value:"grouped"}),n.push({name:"products",value:c})}u(document.body).trigger("adding_to_cart",[a,n]),u.ajax({type:"post",url:("undefined"!=typeof wc_add_to_cart_params?wc_add_to_cart_params:woocommerce_params).wc_ajax_url.toString().replace("%%endpoint%%",""),data:u.param(n),beforeSend:function(){a.removeClass("added").addClass("loading")},complete:function(){a.addClass("added").removeClass("loading")},success:function(t){t.error&&t.product_url?window.location=t.product_url:(u("body").trigger("updated_wc_div"),u(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]),u(".added_to_cart").remove(),d?window.location=d:r[0].reset())}})}})})}document.addEventListener("DOMContentLoaded",t=>{bricksQuerySelectorAll(document,".bu-sticky-button").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),jQuery("html, body").animate({scrollTop:jQuery("form.cart").offset().top-75},750,"swing",function(){const t=e.target.closest(".brxe-bu-off-canvas");t&&t.classList.add("bu-hide-panel")})})}),buWooQuantityTriggers()}),jQuery(document).ready(function(e){buatcdoajax(e),window.WP_Grid_Builder&&WP_Grid_Builder.on("init",function(t){t.facets.on("appended",function(t){buatcdoajax(e)})})});