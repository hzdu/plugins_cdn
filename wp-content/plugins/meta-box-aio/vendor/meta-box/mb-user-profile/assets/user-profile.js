(()=>{var c=jQuery,y=({key:t,success:r,error:e})=>{grecaptcha.ready(()=>grecaptcha.execute(t,{action:"mbup"}).then(r).catch(e))};function x(){var t=c(this).attr("id");c(document).on("tinymce-editor-init",(r,e)=>{e.on("input keyup",()=>e.save())})}c(function(){c(".rwmb-wysiwyg").each(x)});var n=jQuery,w=wp.passwordStrength,v=["very-weak","very-weak","weak","medium","strong","mismatch"];function $(){let t=n(this),r="MBUP_Data_"+t.find('[name^="mbup_key"]').val(),e=window[r];if(typeof e!="object"||!e.hasOwnProperty("strength"))return;typeof window.ajaxurl>"u"&&(window.ajaxurl=e.ajaxUrl);let o=t.find('[name^="rwmb_profile_submit"]'),b=v.indexOf(e.strength),u=t.find("#password-strength"),p=t.find("#user_pass"),m=t.find("#user_pass2"),d=()=>o.prop("disabled",!0),k=()=>o.prop("disabled",!1),g=()=>(n("#rwmb-validation-message").remove(),!n.validator||t.valid());function l(s,i){if(!s||!i){u.hide();return}d(),u.removeClass("very-weak weak medium strong mismatch").show();let a=w.meter(s,w.userInputDisallowedList(),i);if(0>a||5<a)return;let f=v[a];u.addClass(f).html(e[f]),b<=a&&a!==5&&k()}function h(){HTMLFormElement.prototype.submit.call(t[0])}function _(s){e.recaptchaKey&&s.preventDefault(),g()&&(d(),e.recaptchaKey?y({key:e.recaptchaKey,success:i=>{t.find('input[name="mbup_recaptcha_token"]').val(i),h()},error:()=>alert(e.captchaExecuteError)}):h())}o.on("click",_),p.on("keyup",()=>l(p.val(),m.val())),m.on("keyup",()=>l(p.val(),m.val()))}n(()=>n(".rwmb-form").each($));})();
