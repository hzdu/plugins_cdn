var brfCurrentWindowWidth,brfTimeline,brfAnimationData=[],brfPrefix=BRFANIMATIONS.bricksPrefix;async function brfAnimatorInit(){brfCurrentWindowWidth=window.innerWidth,bricksIsFrontend||await brfWait(500);let t=BRFANIMATIONS.pageData;for(let e of t)e.settings&&e.settings.brf_animations_active&&brfAnimationData.push(e);for(let t of brfAnimationData){t.settings.brf_animations_trigger;brfHandleAnimation(t)}}function brfIsAnimationAllowed(t){let e=t.settings.brf_disable_for_breakpoints,r=!0;return e&&brfCurrentWindowWidth&&(r=brfCurrentWindowWidth>parseInt(e)),r}function brfHandleAnimation(t){let e,r=t.id,o="#"+brfPrefix+r,i=o,n=t.settings.brf_animations_trigger,a=t.settings.brf_animations_method,s=t.settings.brf_animations_object,f=t.settings.brf_animations_object_fromto,m=t.settings.brf_animations_fromto_duration,b=t.settings.brf_animations_fromto_delay,_=t.settings.brf_animations_click_target,c=t.settings.brf_animations_click_target_custom,l=t.settings.brf_animations_scrub,u=t.settings.brf_animations_markers,g=t.settings.brf_animations_start,d=t.settings.brf_animations_end,p=t.settings.brf_animations_motionpath,h=t.settings.brf_animations_motionpath_helper,j=t.settings.brf_animations_motionpath_autorotate,y=t.settings.brf_animations_motionpath_ignore_parent,w=t.settings.brf_animations_motionpath_position_absolute;if((document.querySelector(o)||(o="."+brfPrefix+r,document.querySelector(o)))&&brfIsAnimationAllowed(t)&&(bricksIsFrontend||document.querySelector(i))&&(s||f||"motionPath"==a)&&("custom"==_&&c&&(i=c),"click"!=n&&"mouseenter"!=n||document.querySelector(i).addEventListener(n,(function(t){t.preventDefault(),e=brfGetInlineStyle(document.querySelector(o));let r=[];if("fromTo"==a&&f&&f.length>=2){let t=brfTransformAnimationObject(f[0].brf_animations_object_fromto_transform,f[0].brf_animations_object_fromto_filters),e=brfTransformAnimationObject(f[1].brf_animations_object_fromto_transform,f[1].brf_animations_object_fromto_filters),i=f[0].brf_animations_object_fromto_custom,s=f[0].brf_animations_object_fromto_custom_object,_=i&&s&&brfIsParsable(s)?JSON.parse(s):{},c=f[1].brf_animations_object_fromto_custom,l=f[1].brf_animations_object_fromto_custom_object,u=c&&l&&brfIsParsable(l)?JSON.parse(l):{};_&&(t={..._,...t}),u&&(e={...u,...e}),r=[t,e],brfAnimate(o,a,n,r,m||1,b||0)}else if("motionPath"==a){p||(p="M 0,-70 h 500"),gsap.registerPlugin(MotionPathPlugin),h&&gsap.registerPlugin(MotionPathHelper),brfAnimate(o,a,n,!1,m||1,b||0,!1,!1,!1,!1,p,h,j||!1,y||!1,w||!1)}else{brfTimeline=gsap.timeline();for(let t of s){let e=brfTransformAnimationObject(t.brf_animations_object_transform,t.brf_animations_object_filters),r=t.brf_animations_object_custom,i=t.brf_animations_object_custom_object,s=r&&i&&brfIsParsable(i)?JSON.parse(i):{};s&&(e={...s,...e});let f=t.brf_animations_object_duration?t.brf_animations_object_duration:1,m=t.brf_animations_object_delay?t.brf_animations_object_delay:0;brfAnimate(o,a,n,e,f,m)}}})),"viewport"==n)){gsap.registerPlugin(ScrollTrigger);let t=[];if("fromTo"==a&&f&&f.length>=2){let e=brfTransformAnimationObject(f[0].brf_animations_object_fromto_transform,f[0].brf_animations_object_fromto_filters),r=brfTransformAnimationObject(f[1].brf_animations_object_fromto_transform,f[1].brf_animations_object_fromto_filters),i=f[0].brf_animations_object_fromto_custom,s=f[0].brf_animations_object_fromto_custom_object,_=i&&s&&brfIsParsable(s)?JSON.parse(s):{},c=f[1].brf_animations_object_fromto_custom,p=f[1].brf_animations_object_fromto_custom_object,h=c&&p&&brfIsParsable(p)?JSON.parse(p):{};_&&(e={..._,...e}),h&&(r={...h,...r}),t=[e,r];let j=m||1,y=b||0;t={scrollTrigger:{trigger:o,scrub:l,start:g||"top bottom",end:d||"bottom top",markers:u},...t},brfAnimate(o,a,n,t,j,y,l,g,d,u)}else if("motionPath"==a){p||(p="M 0,-70 h 500"),gsap.registerPlugin(MotionPathPlugin),h&&gsap.registerPlugin(MotionPathHelper),brfAnimate(o,a,n,!1,m||1,b||0,l,g||"top bottom",d||"bottom top",u,p,h,j||!1,y||!1,w||!1)}else{brfTimeline=gsap.timeline();for(let t of s){let e=brfTransformAnimationObject(t.brf_animations_object_transform,t.brf_animations_object_filters),r=t.brf_animations_object_custom,i=t.brf_animations_object_custom_object,s=r&&i&&brfIsParsable(i)?JSON.parse(i):{};s&&(e={...s,...e});let f=t.brf_animations_object_duration?t.brf_animations_object_duration:1,m=t.brf_animations_object_delay?t.brf_animations_object_delay:0;brfAnimate(o,a,n,e,f,m,l,g,d,u)}}}}function brfTransformAnimationObject(t,e){if(!t&&!e)return{};let r={};t&&(r={...t});let o="";if(e){for(let t in e)if("opacity"===t)o=e[t]/100,e.opacity;else e[t]=`${t}(${e[t]/100})`;let t=Object.keys(e).map((function(t){return e[t]})).join(" ");r.filter=t,r.opacity=o}return r}function brfWait(t=2e3){return new Promise((async e=>{setTimeout((()=>e()),t)}))}function brfIsParsable(t){try{JSON.parse(t)}catch(t){return!1}return!0}function brfGetInlineStyle(t){return Array.from(t.style).reduce(((e,r)=>(e[r]=t.style[r],e)),{})}function brfAnimate(t,e="from",r,o={},i,n,a=!1,s,f,m,b=!1,_=!1,c=!1,l=!1,u=!1){switch(e){case"from":"viewport"==r?gsap.from(t,{duration:i,delay:n,...o,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}):brfTimeline.from(t,{duration:i,delay:n,...o});break;case"to":"viewport"==r?gsap.to(t,{duration:i,delay:n,...o,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}):brfTimeline.to(t,{duration:i,delay:n,...o});break;case"fromTo":"viewport"==r?gsap.timeline({scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}).fromTo(t,{duration:i,delay:n,...o[0]},{duration:i,delay:n,...o[1]}):gsap.fromTo(t,{duration:i,delay:n,...o[0]},{duration:i,delay:n,...o[1]});break;case"motionPath":const e=document.querySelector(t),g="brf-motionpath-"+t.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"").toLowerCase(),d="."+g,p=document.createElementNS("http://www.w3.org/2000/svg","svg"),h=document.createElementNS("http://www.w3.org/2000/svg","path");if(p.style.overflow="visible",p.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("class",g),h.setAttribute("fill","none"),h.setAttribute("d",b),p.appendChild(h),1==u&&(p.style.position="absolute"),document.querySelector(d)||e.parentNode.appendChild(p),!l){let t=document.querySelector(d).getBBox(),e=t.x+" "+t.y+" "+t.width+" "+t.height;t.height>5&&(document.querySelector(d).closest("svg").setAttribute("viewBox",e),document.querySelector(d).closest("svg").style.padding=75)}let j;j="hover"==r||"click"==r?gsap.to(e,{duration:i,delay:n,motionPath:{path:d,align:d,autoRotate:c,ease:"power1.inOut",alignOrigin:[.5,.5]}}):gsap.to(e,{duration:i,delay:n,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m},motionPath:{path:d,align:d,autoRotate:c,ease:"power1.inOut",alignOrigin:[.5,.5]}}),document.querySelector(".motion-path-helper")||1!=_||MotionPathHelper.create(t,{})}}document.addEventListener("DOMContentLoaded",(function(){brfCurrentWindowWidth=window.innerWidth,brfAnimatorInit()})),window.addEventListener("resize",(function(){brfCurrentWindowWidth=window.innerWidth}));