import{r as g,ap as zn,j as E,F as Re,f as d,_ as b,a2 as Wn,a3 as Hn,a4 as $n,a5 as Vn,m as ee,c as Q,n as Ne,U as Kn,e as Gn,i as qn,d as Xn,R as ne,t as Yn,P as gt,T as Jn,a as se,b as Qn,al as Zn,ah as er}from"./PopConfirm-e59cedbe.js";/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}var K;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(K||(K={}));const Wt="popstate";function tr(e){e===void 0&&(e={});function t(a,o){let{pathname:l="/",search:i="",hash:s=""}=ce(a.location.hash.substr(1));return He("",{pathname:l,search:i,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let l=a.document.querySelector("base"),i="";if(l&&l.getAttribute("href")){let s=a.location.href,u=s.indexOf("#");i=u===-1?s:s.slice(0,u)}return i+"#"+(typeof o=="string"?o:Ve(o))}function r(a,o){Se(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return rr(t,n,r,e)}function j(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Se(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nr(){return Math.random().toString(36).substr(2,8)}function Ht(e,t){return{usr:e.state,key:e.key,idx:t}}function He(e,t,n,r){return n===void 0&&(n=null),H({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ce(t):t,{state:n,key:t&&t.key||r||nr()})}function Ve(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ce(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rr(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,i=K.Pop,s=null,u=m();u==null&&(u=0,l.replaceState(H({},l.state,{idx:u}),""));function m(){return(l.state||{idx:null}).idx}function v(){i=K.Pop;let _=m(),k=_==null?null:_-u;u=_,s&&s({action:i,location:w.location,delta:k})}function y(_,k){i=K.Push;let L=He(w.location,_,k);n&&n(L,_),u=m()+1;let F=Ht(L,u),f=w.createHref(L);try{l.pushState(F,"",f)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(f)}o&&s&&s({action:i,location:w.location,delta:1})}function D(_,k){i=K.Replace;let L=He(w.location,_,k);n&&n(L,_),u=m();let F=Ht(L,u),f=w.createHref(L);l.replaceState(F,"",f),o&&s&&s({action:i,location:w.location,delta:0})}function S(_){let k=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof _=="string"?_:Ve(_);return j(k,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,k)}let w={get action(){return i},get location(){return e(a,l)},listen(_){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Wt,v),s=_,()=>{a.removeEventListener(Wt,v),s=null}},createHref(_){return t(a,_)},createURL:S,encodeLocation(_){let k=S(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:D,go(_){return l.go(_)}};return w}var q;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(q||(q={}));const ar=new Set(["lazy","caseSensitive","path","id","index","children"]);function or(e){return e.index===!0}function xt(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,o)=>{let l=[...n,o],i=typeof a.id=="string"?a.id:l.join("-");if(j(a.index!==!0||!a.children,"Cannot specify children on an index route"),j(!r[i],'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),or(a)){let s=H({},a,t(a),{id:i});return r[i]=s,s}else{let s=H({},a,t(a),{id:i,children:void 0});return r[i]=s,a.children&&(s.children=xt(a.children,t,l,r)),s}})}function Pe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ce(t):t,a=Ke(r.pathname||"/",n);if(a==null)return null;let o=fn(e);ir(o);let l=null;for(let i=0;l==null&&i<o.length;++i)l=mr(o[i],vr(a));return l}function fn(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,l,i)=>{let s={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};s.relativePath.startsWith("/")&&(j(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let u=be([r,s.relativePath]),m=n.concat(s);o.children&&o.children.length>0&&(j(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fn(o.children,t,m,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:hr(u,o.index),routesMeta:m})};return e.forEach((o,l)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,l);else for(let s of hn(o.path))a(o,l,s)}),t}function hn(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=hn(r.join("/")),i=[];return i.push(...l.map(s=>s===""?o:[o,s].join("/"))),a&&i.push(...l),i.map(s=>e.startsWith("/")&&s===""?"/":s)}function ir(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pr(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lr=/^:\w+$/,sr=3,cr=2,dr=1,ur=10,fr=-2,$t=e=>e==="*";function hr(e,t){let n=e.split("/"),r=n.length;return n.some($t)&&(r+=fr),t&&(r+=cr),n.filter(a=>!$t(a)).reduce((a,o)=>a+(lr.test(o)?sr:o===""?dr:ur),r)}function pr(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function mr(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let l=0;l<n.length;++l){let i=n[l],s=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",m=gr({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},u);if(!m)return null;Object.assign(r,m.params);let v=i.route;o.push({params:r,pathname:be([a,m.pathname]),pathnameBase:_r(be([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=be([a,m.pathnameBase]))}return o}function gr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=br(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,m,v)=>{if(m==="*"){let y=i[v]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}return u[m]=yr(i[v]||"",m),u},{}),pathname:o,pathnameBase:l,pattern:e}}function br(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Se(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,i)=>(r.push(i),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function vr(e){try{return decodeURI(e)}catch(t){return Se(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yr(e,t){try{return decodeURIComponent(e)}catch(n){return Se(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ke(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wr(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ce(e):e;return{pathname:n?n.startsWith("/")?n:xr(n,t):t,search:Sr(r),hash:Rr(a)}}function xr(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bt(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mt(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pn(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ce(e):(a=H({},e),j(!a.pathname||!a.pathname.includes("?"),bt("?","pathname","search",a)),j(!a.pathname||!a.pathname.includes("#"),bt("#","pathname","hash",a)),j(!a.search||!a.search.includes("#"),bt("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,i;if(r||l==null)i=n;else{let v=t.length-1;if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}i=v>=0?t[v]:"/"}let s=wr(a,i),u=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||m)&&(s.pathname+="/"),s}const be=e=>e.join("/").replace(/\/\/+/g,"/"),_r=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Pt{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function mn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gn=["post","put","patch","delete"],Er=new Set(gn),Cr=["get",...gn],Dr=new Set(Cr),Mr=new Set([301,302,303,307,308]),Pr=new Set([307,308]),vt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fe={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function Nr(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;j(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let c=e.detectErrorBoundary;a=h=>({hasErrorBoundary:c(h)})}else a=Lr;let o={},l=xt(e.routes,a,void 0,o),i,s=e.basename||"/",u=H({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),m=null,v=new Set,y=null,D=null,S=null,w=e.hydrationData!=null,_=Pe(l,e.history.location,s),k=null;if(_==null){let c=ae(404,{pathname:e.history.location.pathname}),{matches:h,route:p}=Qt(l);_=h,k={[p.id]:c}}let L=!_.some(c=>c.route.lazy)&&(!_.some(c=>c.route.loader)||e.hydrationData!=null),F,f={historyAction:e.history.action,location:e.history.location,matches:_,initialized:L,navigation:vt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},N=K.Pop,O=!1,B,U=!1,W=!1,te=[],he=[],$=new Map,Ce=0,ve=-1,Z=new Map,oe=new Set,de=new Map,re=new Map,ye=new Map,lt=!1;function Dn(){return m=e.history.listen(c=>{let{action:h,location:p,delta:x}=c;if(lt){lt=!1;return}Se(ye.size===0||x!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let T=At({currentLocation:f.location,nextLocation:p,historyAction:h});if(T&&x!=null){lt=!0,e.history.go(x*-1),qe(T,{state:"blocked",location:p,proceed(){qe(T,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),e.history.go(x)},reset(){let M=new Map(f.blockers);M.set(T,Fe),X({blockers:M})}});return}return pe(h,p)}),f.initialized||pe(K.Pop,f.location),F}function Mn(){m&&m(),v.clear(),B&&B.abort(),f.fetchers.forEach((c,h)=>ct(h)),f.blockers.forEach((c,h)=>Ft(h))}function Pn(c){return v.add(c),()=>v.delete(c)}function X(c){f=H({},f,c),v.forEach(h=>h(f))}function Oe(c,h){var p,x;let T=f.actionData!=null&&f.navigation.formMethod!=null&&le(f.navigation.formMethod)&&f.navigation.state==="loading"&&((p=c.state)==null?void 0:p._isRedirect)!==!0,M;h.actionData?Object.keys(h.actionData).length>0?M=h.actionData:M=null:T?M=f.actionData:M=null;let P=h.loaderData?Jt(f.loaderData,h.loaderData,h.matches||[],h.errors):f.loaderData,C=f.blockers;C.size>0&&(C=new Map(C),C.forEach((z,J)=>C.set(J,Fe)));let R=O===!0||f.navigation.formMethod!=null&&le(f.navigation.formMethod)&&((x=c.state)==null?void 0:x._isRedirect)!==!0;i&&(l=i,i=void 0),U||N===K.Pop||(N===K.Push?e.history.push(c,c.state):N===K.Replace&&e.history.replace(c,c.state)),X(H({},h,{actionData:M,loaderData:P,historyAction:N,location:c,initialized:!0,navigation:vt,revalidation:"idle",restoreScrollPosition:Bt(c,h.matches||f.matches),preventScrollReset:R,blockers:C})),N=K.Pop,O=!1,U=!1,W=!1,te=[],he=[]}async function Lt(c,h){if(typeof c=="number"){e.history.go(c);return}let p=_t(f.location,f.matches,s,u.v7_prependBasename,c,h==null?void 0:h.fromRouteId,h==null?void 0:h.relative),{path:x,submission:T,error:M}=Vt(u.v7_normalizeFormMethod,!1,p,h),P=f.location,C=He(f.location,x,h&&h.state);C=H({},C,e.history.encodeLocation(C));let R=h&&h.replace!=null?h.replace:void 0,z=K.Push;R===!0?z=K.Replace:R===!1||T!=null&&le(T.formMethod)&&T.formAction===f.location.pathname+f.location.search&&(z=K.Replace);let J=h&&"preventScrollReset"in h?h.preventScrollReset===!0:void 0,A=At({currentLocation:P,nextLocation:C,historyAction:z});if(A){qe(A,{state:"blocked",location:C,proceed(){qe(A,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),Lt(c,h)},reset(){let V=new Map(f.blockers);V.set(A,Fe),X({blockers:V})}});return}return await pe(z,C,{submission:T,pendingError:M,preventScrollReset:J,replace:h&&h.replace})}function Tn(){if(st(),X({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){pe(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}pe(N||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function pe(c,h,p){B&&B.abort(),B=null,N=c,U=(p&&p.startUninterruptedRevalidation)===!0,An(f.location,f.matches),O=(p&&p.preventScrollReset)===!0;let x=i||l,T=p&&p.overrideNavigation,M=Pe(x,h,s);if(!M){let V=ae(404,{pathname:h.pathname}),{matches:Y,route:we}=Qt(x);dt(),Oe(h,{matches:Y,loaderData:{},errors:{[we.id]:V}});return}if(f.initialized&&!W&&Fr(f.location,h)&&!(p&&p.submission&&le(p.submission.formMethod))){Oe(h,{matches:M});return}B=new AbortController;let P=Ie(e.history,h,B.signal,p&&p.submission),C,R;if(p&&p.pendingError)R={[Te(M).route.id]:p.pendingError};else if(p&&p.submission&&le(p.submission.formMethod)){let V=await Ln(P,h,p.submission,M,{replace:p.replace});if(V.shortCircuited)return;C=V.pendingActionData,R=V.pendingActionError,T=Ye(h,p.submission),P=new Request(P.url,{signal:P.signal})}let{shortCircuited:z,loaderData:J,errors:A}=await Nn(P,h,M,T,p&&p.submission,p&&p.fetcherSubmission,p&&p.replace,C,R);z||(B=null,Oe(h,H({matches:M},C?{actionData:C}:{},{loaderData:J,errors:A})))}async function Ln(c,h,p,x,T){T===void 0&&(T={}),st();let M=Wr(h,p);X({navigation:M});let P,C=Rt(x,h);if(!C.route.action&&!C.route.lazy)P={type:q.error,error:ae(405,{method:c.method,pathname:h.pathname,routeId:C.route.id})};else if(P=await Ae("action",c,C,x,o,a,s),c.signal.aborted)return{shortCircuited:!0};if(Le(P)){let R;return T&&T.replace!=null?R=T.replace:R=P.location===f.location.pathname+f.location.search,await ke(f,P,{submission:p,replace:R}),{shortCircuited:!0}}if(We(P)){let R=Te(x,C.route.id);return(T&&T.replace)!==!0&&(N=K.Push),{pendingActionData:{},pendingActionError:{[R.route.id]:P.error}}}if(_e(P))throw ae(400,{type:"defer-action"});return{pendingActionData:{[C.route.id]:P.data}}}async function Nn(c,h,p,x,T,M,P,C,R){let z=x||Ye(h,T),J=T||M||tn(z),A=i||l,[V,Y]=Kt(e.history,f,p,J,h,W,te,he,de,oe,A,s,C,R);if(dt(I=>!(p&&p.some(ie=>ie.route.id===I))||V&&V.some(ie=>ie.route.id===I)),ve=++Ce,V.length===0&&Y.length===0){let I=Ut();return Oe(h,H({matches:p,loaderData:{},errors:R||null},C?{actionData:C}:{},I?{fetchers:new Map(f.fetchers)}:{})),{shortCircuited:!0}}if(!U){Y.forEach(ie=>{let ge=f.fetchers.get(ie.key),mt=Be(void 0,ge?ge.data:void 0);f.fetchers.set(ie.key,mt)});let I=C||f.actionData;X(H({navigation:z},I?Object.keys(I).length===0?{actionData:null}:{actionData:I}:{},Y.length>0?{fetchers:new Map(f.fetchers)}:{}))}Y.forEach(I=>{$.has(I.key)&&me(I.key),I.controller&&$.set(I.key,I.controller)});let we=()=>Y.forEach(I=>me(I.key));B&&B.signal.addEventListener("abort",we);let{results:xe,loaderResults:Ue,fetcherResults:ut}=await Ot(f.matches,p,V,Y,c);if(c.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",we),Y.forEach(I=>$.delete(I.key));let ue=Zt(xe);if(ue){if(ue.idx>=V.length){let I=Y[ue.idx-V.length].key;oe.add(I)}return await ke(f,ue.result,{replace:P}),{shortCircuited:!0}}let{loaderData:fe,errors:Xe}=Yt(f,p,V,Ue,R,Y,ut,re);re.forEach((I,ie)=>{I.subscribe(ge=>{(ge||I.done)&&re.delete(ie)})});let ft=Ut(),ht=jt(ve),pt=ft||ht||Y.length>0;return H({loaderData:fe,errors:Xe},pt?{fetchers:new Map(f.fetchers)}:{})}function Nt(c){return f.fetchers.get(c)||Tr}function On(c,h,p,x){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(c)&&me(c);let T=i||l,M=_t(f.location,f.matches,s,u.v7_prependBasename,p,h,x==null?void 0:x.relative),P=Pe(T,M,s);if(!P){Ge(c,h,ae(404,{pathname:M}));return}let{path:C,submission:R,error:z}=Vt(u.v7_normalizeFormMethod,!0,M,x);if(z){Ge(c,h,z);return}let J=Rt(P,C);if(O=(x&&x.preventScrollReset)===!0,R&&le(R.formMethod)){kn(c,h,C,J,P,R);return}de.set(c,{routeId:h,path:C}),Un(c,h,C,J,P,R)}async function kn(c,h,p,x,T,M){if(st(),de.delete(c),!x.route.action&&!x.route.lazy){let G=ae(405,{method:M.formMethod,pathname:p,routeId:h});Ge(c,h,G);return}let P=f.fetchers.get(c),C=Hr(M,P);f.fetchers.set(c,C),X({fetchers:new Map(f.fetchers)});let R=new AbortController,z=Ie(e.history,p,R.signal,M);$.set(c,R);let J=Ce,A=await Ae("action",z,x,T,o,a,s);if(z.signal.aborted){$.get(c)===R&&$.delete(c);return}if(Le(A))if($.delete(c),ve>J){let G=Me(void 0);f.fetchers.set(c,G),X({fetchers:new Map(f.fetchers)});return}else{oe.add(c);let G=Be(M);return f.fetchers.set(c,G),X({fetchers:new Map(f.fetchers)}),ke(f,A,{submission:M,isFetchActionRedirect:!0})}if(We(A)){Ge(c,h,A.error);return}if(_e(A))throw ae(400,{type:"defer-action"});let V=f.navigation.location||f.location,Y=Ie(e.history,V,R.signal),we=i||l,xe=f.navigation.state!=="idle"?Pe(we,f.navigation.location,s):f.matches;j(xe,"Didn't find any matches after fetcher action");let Ue=++Ce;Z.set(c,Ue);let ut=Be(M,A.data);f.fetchers.set(c,ut);let[ue,fe]=Kt(e.history,f,xe,M,V,W,te,he,de,oe,we,s,{[x.route.id]:A.data},void 0);fe.filter(G=>G.key!==c).forEach(G=>{let je=G.key,zt=f.fetchers.get(je),Bn=Be(void 0,zt?zt.data:void 0);f.fetchers.set(je,Bn),$.has(je)&&me(je),G.controller&&$.set(je,G.controller)}),X({fetchers:new Map(f.fetchers)});let Xe=()=>fe.forEach(G=>me(G.key));R.signal.addEventListener("abort",Xe);let{results:ft,loaderResults:ht,fetcherResults:pt}=await Ot(f.matches,xe,ue,fe,Y);if(R.signal.aborted)return;R.signal.removeEventListener("abort",Xe),Z.delete(c),$.delete(c),fe.forEach(G=>$.delete(G.key));let I=Zt(ft);if(I){if(I.idx>=ue.length){let G=fe[I.idx-ue.length].key;oe.add(G)}return ke(f,I.result)}let{loaderData:ie,errors:ge}=Yt(f,f.matches,ue,ht,void 0,fe,pt,re);if(f.fetchers.has(c)){let G=Me(A.data);f.fetchers.set(c,G)}let mt=jt(Ue);f.navigation.state==="loading"&&Ue>ve?(j(N,"Expected pending action"),B&&B.abort(),Oe(f.navigation.location,{matches:xe,loaderData:ie,errors:ge,fetchers:new Map(f.fetchers)})):(X(H({errors:ge,loaderData:Jt(f.loaderData,ie,xe,ge)},mt||fe.length>0?{fetchers:new Map(f.fetchers)}:{})),W=!1)}async function Un(c,h,p,x,T,M){let P=f.fetchers.get(c),C=Be(M,P?P.data:void 0);f.fetchers.set(c,C),X({fetchers:new Map(f.fetchers)});let R=new AbortController,z=Ie(e.history,p,R.signal);$.set(c,R);let J=Ce,A=await Ae("loader",z,x,T,o,a,s);if(_e(A)&&(A=await wn(A,z.signal,!0)||A),$.get(c)===R&&$.delete(c),z.signal.aborted)return;if(Le(A))if(ve>J){let Y=Me(void 0);f.fetchers.set(c,Y),X({fetchers:new Map(f.fetchers)});return}else{oe.add(c),await ke(f,A);return}if(We(A)){let Y=Te(f.matches,h);f.fetchers.delete(c),X({fetchers:new Map(f.fetchers),errors:{[Y.route.id]:A.error}});return}j(!_e(A),"Unhandled fetcher deferred data");let V=Me(A.data);f.fetchers.set(c,V),X({fetchers:new Map(f.fetchers)})}async function ke(c,h,p){let{submission:x,replace:T,isFetchActionRedirect:M}=p===void 0?{}:p;h.revalidate&&(W=!0);let P=He(c.location,h.location,H({_isRedirect:!0},M?{_isFetchActionRedirect:!0}:{}));if(j(P,"Expected a location on the redirect navigation"),bn.test(h.location)&&n){let z=e.history.createURL(h.location),J=Ke(z.pathname,s)==null;if(t.location.origin!==z.origin||J){T?t.location.replace(h.location):t.location.assign(h.location);return}}B=null;let C=T===!0?K.Replace:K.Push,R=x||tn(c.navigation);if(Pr.has(h.status)&&R&&le(R.formMethod))await pe(C,P,{submission:H({},R,{formAction:h.location}),preventScrollReset:O});else if(M)await pe(C,P,{overrideNavigation:Ye(P),fetcherSubmission:R,preventScrollReset:O});else{let z=Ye(P,R);await pe(C,P,{overrideNavigation:z,preventScrollReset:O})}}async function Ot(c,h,p,x,T){let M=await Promise.all([...p.map(R=>Ae("loader",T,R,h,o,a,s)),...x.map(R=>R.matches&&R.match&&R.controller?Ae("loader",Ie(e.history,R.path,R.controller.signal),R.match,R.matches,o,a,s):{type:q.error,error:ae(404,{pathname:R.path})})]),P=M.slice(0,p.length),C=M.slice(p.length);return await Promise.all([en(c,p,P,P.map(()=>T.signal),!1,f.loaderData),en(c,x.map(R=>R.match),C,x.map(R=>R.controller?R.controller.signal:null),!0)]),{results:M,loaderResults:P,fetcherResults:C}}function st(){W=!0,te.push(...dt()),de.forEach((c,h)=>{$.has(h)&&(he.push(h),me(h))})}function Ge(c,h,p){let x=Te(f.matches,h);ct(c),X({errors:{[x.route.id]:p},fetchers:new Map(f.fetchers)})}function ct(c){let h=f.fetchers.get(c);$.has(c)&&!(h&&h.state==="loading"&&Z.has(c))&&me(c),de.delete(c),Z.delete(c),oe.delete(c),f.fetchers.delete(c)}function me(c){let h=$.get(c);j(h,"Expected fetch controller: "+c),h.abort(),$.delete(c)}function kt(c){for(let h of c){let p=Nt(h),x=Me(p.data);f.fetchers.set(h,x)}}function Ut(){let c=[],h=!1;for(let p of oe){let x=f.fetchers.get(p);j(x,"Expected fetcher: "+p),x.state==="loading"&&(oe.delete(p),c.push(p),h=!0)}return kt(c),h}function jt(c){let h=[];for(let[p,x]of Z)if(x<c){let T=f.fetchers.get(p);j(T,"Expected fetcher: "+p),T.state==="loading"&&(me(p),Z.delete(p),h.push(p))}return kt(h),h.length>0}function jn(c,h){let p=f.blockers.get(c)||Fe;return ye.get(c)!==h&&ye.set(c,h),p}function Ft(c){f.blockers.delete(c),ye.delete(c)}function qe(c,h){let p=f.blockers.get(c)||Fe;j(p.state==="unblocked"&&h.state==="blocked"||p.state==="blocked"&&h.state==="blocked"||p.state==="blocked"&&h.state==="proceeding"||p.state==="blocked"&&h.state==="unblocked"||p.state==="proceeding"&&h.state==="unblocked","Invalid blocker state transition: "+p.state+" -> "+h.state);let x=new Map(f.blockers);x.set(c,h),X({blockers:x})}function At(c){let{currentLocation:h,nextLocation:p,historyAction:x}=c;if(ye.size===0)return;ye.size>1&&Se(!1,"A router only supports one blocker at a time");let T=Array.from(ye.entries()),[M,P]=T[T.length-1],C=f.blockers.get(M);if(!(C&&C.state==="proceeding")&&P({currentLocation:h,nextLocation:p,historyAction:x}))return M}function dt(c){let h=[];return re.forEach((p,x)=>{(!c||c(x))&&(p.cancel(),h.push(x),re.delete(x))}),h}function Fn(c,h,p){if(y=c,S=h,D=p||null,!w&&f.navigation===vt){w=!0;let x=Bt(f.location,f.matches);x!=null&&X({restoreScrollPosition:x})}return()=>{y=null,S=null,D=null}}function It(c,h){return D&&D(c,h.map(x=>zr(x,f.loaderData)))||c.key}function An(c,h){if(y&&S){let p=It(c,h);y[p]=S()}}function Bt(c,h){if(y){let p=It(c,h),x=y[p];if(typeof x=="number")return x}return null}function In(c){o={},i=xt(c,a,void 0,o)}return F={get basename(){return s},get state(){return f},get routes(){return l},initialize:Dn,subscribe:Pn,enableScrollRestoration:Fn,navigate:Lt,fetch:On,revalidate:Tn,createHref:c=>e.history.createHref(c),encodeLocation:c=>e.history.encodeLocation(c),getFetcher:Nt,deleteFetcher:ct,dispose:Mn,getBlocker:jn,deleteBlocker:Ft,_internalFetchControllers:$,_internalActiveDeferreds:re,_internalSetRoutes:In},F}function Or(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _t(e,t,n,r,a,o,l){let i,s;if(o!=null&&l!=="path"){i=[];for(let m of t)if(i.push(m),m.route.id===o){s=m;break}}else i=t,s=t[t.length-1];let u=pn(a||".",Mt(i).map(m=>m.pathnameBase),Ke(e.pathname,n)||e.pathname,l==="path");return a==null&&(u.search=e.search,u.hash=e.hash),(a==null||a===""||a===".")&&s&&s.route.index&&!Tt(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:be([n,u.pathname])),Ve(u)}function Vt(e,t,n,r){if(!r||!Or(r))return{path:n};if(r.formMethod&&!Br(r.formMethod))return{path:n,error:ae(405,{method:r.formMethod})};let a=()=>({path:n,error:ae(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),i=yn(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!le(l))return a();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((D,S)=>{let[w,_]=S;return""+D+w+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!le(l))return a();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return a()}}}j(typeof FormData=="function","FormData is not available in this environment");let s,u;if(r.formData)s=St(r.formData),u=r.formData;else if(r.body instanceof FormData)s=St(r.body),u=r.body;else if(r.body instanceof URLSearchParams)s=r.body,u=Xt(s);else if(r.body==null)s=new URLSearchParams,u=new FormData;else try{s=new URLSearchParams(r.body),u=Xt(s)}catch{return a()}let m={formMethod:l,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(le(m.formMethod))return{path:n,submission:m};let v=ce(n);return t&&v.search&&Tt(v.search)&&s.append("index",""),v.search="?"+s,{path:Ve(v),submission:m}}function kr(e,t){let n=e;if(t){let r=e.findIndex(a=>a.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Kt(e,t,n,r,a,o,l,i,s,u,m,v,y,D){let S=D?Object.values(D)[0]:y?Object.values(y)[0]:void 0,w=e.createURL(t.location),_=e.createURL(a),k=D?Object.keys(D)[0]:void 0,F=kr(n,k).filter((N,O)=>{if(N.route.lazy)return!0;if(N.route.loader==null)return!1;if(Ur(t.loaderData,t.matches[O],N)||l.some(W=>W===N.route.id))return!0;let B=t.matches[O],U=N;return Gt(N,H({currentUrl:w,currentParams:B.params,nextUrl:_,nextParams:U.params},r,{actionResult:S,defaultShouldRevalidate:o||w.pathname+w.search===_.pathname+_.search||w.search!==_.search||vn(B,U)}))}),f=[];return s.forEach((N,O)=>{if(!n.some(he=>he.route.id===N.routeId))return;let B=Pe(m,N.path,v);if(!B){f.push({key:O,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let U=t.fetchers.get(O),W=Rt(B,N.path),te=!1;u.has(O)?te=!1:i.includes(O)?te=!0:U&&U.state!=="idle"&&U.data===void 0?te=o:te=Gt(W,H({currentUrl:w,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:S,defaultShouldRevalidate:o})),te&&f.push({key:O,routeId:N.routeId,path:N.path,matches:B,match:W,controller:new AbortController})}),[F,f]}function Ur(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function vn(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gt(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function qt(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];j(a,"No route found in manifest");let o={};for(let l in r){let s=a[l]!==void 0&&l!=="hasErrorBoundary";Se(!s,'Route "'+a.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!s&&!ar.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,H({},t(a),{lazy:void 0}))}async function Ae(e,t,n,r,a,o,l,i){i===void 0&&(i={});let s,u,m,v=S=>{let w,_=new Promise((k,L)=>w=L);return m=()=>w(),t.signal.addEventListener("abort",m),Promise.race([S({request:t,params:n.params,context:i.requestContext}),_])};try{let S=n.route[e];if(n.route.lazy)if(S)u=(await Promise.all([v(S),qt(n.route,o,a)]))[0];else if(await qt(n.route,o,a),S=n.route[e],S)u=await v(S);else if(e==="action"){let w=new URL(t.url),_=w.pathname+w.search;throw ae(405,{method:t.method,pathname:_,routeId:n.route.id})}else return{type:q.data,data:void 0};else if(S)u=await v(S);else{let w=new URL(t.url),_=w.pathname+w.search;throw ae(404,{pathname:_})}j(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(S){s=q.error,u=S}finally{m&&t.signal.removeEventListener("abort",m)}if(Ir(u)){let S=u.status;if(Mr.has(S)){let k=u.headers.get("Location");if(j(k,"Redirects returned/thrown from loaders/actions must have a Location header"),!bn.test(k))k=_t(new URL(t.url),r.slice(0,r.indexOf(n)+1),l,!0,k);else if(!i.isStaticRequest){let L=new URL(t.url),F=k.startsWith("//")?new URL(L.protocol+k):new URL(k),f=Ke(F.pathname,l)!=null;F.origin===L.origin&&f&&(k=F.pathname+F.search+F.hash)}if(i.isStaticRequest)throw u.headers.set("Location",k),u;return{type:q.redirect,status:S,location:k,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(i.isRouteRequest)throw{type:s||q.data,response:u};let w,_=u.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?w=await u.json():w=await u.text(),s===q.error?{type:s,error:new Pt(S,u.statusText,w),headers:u.headers}:{type:q.data,data:w,statusCode:u.status,headers:u.headers}}if(s===q.error)return{type:s,error:u};if(Ar(u)){var y,D;return{type:q.deferred,deferredData:u,statusCode:(y=u.init)==null?void 0:y.status,headers:((D=u.init)==null?void 0:D.headers)&&new Headers(u.init.headers)}}return{type:q.data,data:u}}function Ie(e,t,n,r){let a=e.createURL(yn(t)).toString(),o={signal:n};if(r&&le(r.formMethod)){let{formMethod:l,formEncType:i}=r;o.method=l.toUpperCase(),i==="application/json"?(o.headers=new Headers({"Content-Type":i}),o.body=JSON.stringify(r.json)):i==="text/plain"?o.body=r.text:i==="application/x-www-form-urlencoded"&&r.formData?o.body=St(r.formData):o.body=r.formData}return new Request(a,o)}function St(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Xt(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function jr(e,t,n,r,a){let o={},l=null,i,s=!1,u={};return n.forEach((m,v)=>{let y=t[v].route.id;if(j(!Le(m),"Cannot handle redirect results in processLoaderData"),We(m)){let D=Te(e,y),S=m.error;r&&(S=Object.values(r)[0],r=void 0),l=l||{},l[D.route.id]==null&&(l[D.route.id]=S),o[y]=void 0,s||(s=!0,i=mn(m.error)?m.error.status:500),m.headers&&(u[y]=m.headers)}else _e(m)?(a.set(y,m.deferredData),o[y]=m.deferredData.data):o[y]=m.data,m.statusCode!=null&&m.statusCode!==200&&!s&&(i=m.statusCode),m.headers&&(u[y]=m.headers)}),r&&(l=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:l,statusCode:i||200,loaderHeaders:u}}function Yt(e,t,n,r,a,o,l,i){let{loaderData:s,errors:u}=jr(t,n,r,a,i);for(let m=0;m<o.length;m++){let{key:v,match:y,controller:D}=o[m];j(l!==void 0&&l[m]!==void 0,"Did not find corresponding fetcher result");let S=l[m];if(!(D&&D.signal.aborted))if(We(S)){let w=Te(e.matches,y==null?void 0:y.route.id);u&&u[w.route.id]||(u=H({},u,{[w.route.id]:S.error})),e.fetchers.delete(v)}else if(Le(S))j(!1,"Unhandled fetcher revalidation redirect");else if(_e(S))j(!1,"Unhandled fetcher deferred data");else{let w=Me(S.data);e.fetchers.set(v,w)}}return{loaderData:s,errors:u}}function Jt(e,t,n,r){let a=H({},t);for(let o of n){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(a[l]=t[l]):e[l]!==void 0&&o.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}return a}function Te(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Qt(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ae(e,t){let{pathname:n,routeId:r,method:a,type:o}=t===void 0?{}:t,l="Unknown Server Error",i="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&n&&r?i="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?i="defer() is not supported in actions":o==="invalid-body"&&(i="Unable to encode submission body")):e===403?(l="Forbidden",i='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",i='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",a&&n&&r?i="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(i='Invalid request method "'+a.toUpperCase()+'"')),new Pt(e||500,l,new Error(i),!0)}function Zt(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Le(n))return{result:n,idx:t}}}function yn(e){let t=typeof e=="string"?ce(e):e;return Ve(H({},t,{hash:""}))}function Fr(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _e(e){return e.type===q.deferred}function We(e){return e.type===q.error}function Le(e){return(e&&e.type)===q.redirect}function Ar(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Ir(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Br(e){return Dr.has(e.toLowerCase())}function le(e){return Er.has(e.toLowerCase())}async function en(e,t,n,r,a,o){for(let l=0;l<n.length;l++){let i=n[l],s=t[l];if(!s)continue;let u=e.find(v=>v.route.id===s.route.id),m=u!=null&&!vn(u,s)&&(o&&o[s.route.id])!==void 0;if(_e(i)&&(a||m)){let v=r[l];j(v,"Expected an AbortSignal for revalidating fetcher deferred result"),await wn(i,v,a).then(y=>{y&&(n[l]=y||n[l])})}}}async function wn(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:q.data,data:e.deferredData.unwrappedData}}catch(a){return{type:q.error,error:a}}return{type:q.data,data:e.deferredData.data}}}function Tt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function zr(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Rt(e,t){let n=typeof t=="string"?ce(t).search:t.search;if(e[e.length-1].route.index&&Tt(n||""))return e[e.length-1];let r=Mt(e);return r[r.length-1]}function tn(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:o,json:l}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ye(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wr(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Be(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function Hr(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function Me(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}const tt=g.createContext(null),xn=g.createContext(null),nt=g.createContext(null),rt=g.createContext(null),Ee=g.createContext({outlet:null,matches:[],isDataRoute:!1}),_n=g.createContext(null);function at(){return g.useContext(rt)!=null}function ot(){return at()||j(!1),g.useContext(rt).location}function Sn(e){g.useContext(nt).static||g.useLayoutEffect(e)}function $r(){let{isDataRoute:e}=g.useContext(Ee);return e?aa():Vr()}function Vr(){at()||j(!1);let e=g.useContext(tt),{basename:t,navigator:n}=g.useContext(nt),{matches:r}=g.useContext(Ee),{pathname:a}=ot(),o=JSON.stringify(Mt(r).map(s=>s.pathnameBase)),l=g.useRef(!1);return Sn(()=>{l.current=!0}),g.useCallback(function(s,u){if(u===void 0&&(u={}),!l.current)return;if(typeof s=="number"){n.go(s);return}let m=pn(s,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:be([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,a,e])}const Kr=g.createContext(null);function Gr(e){let t=g.useContext(Ee).outlet;return t&&g.createElement(Kr.Provider,{value:e},t)}function qr(e,t,n){at()||j(!1);let{navigator:r}=g.useContext(nt),{matches:a}=g.useContext(Ee),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let s=ot(),u;if(t){var m;let w=typeof t=="string"?ce(t):t;i==="/"||(m=w.pathname)!=null&&m.startsWith(i)||j(!1),u=w}else u=s;let v=u.pathname||"/",y=i==="/"?v:v.slice(i.length)||"/",D=Pe(e,{pathname:y}),S=Zr(D&&D.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:be([i,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?i:be([i,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n);return t&&S?g.createElement(rt.Provider,{value:{location:Qe({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:K.Pop}},S):S}function Xr(){let e=ra(),t=mn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:a},n):null,o)}const Yr=g.createElement(Xr,null);class Jr extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(Ee.Provider,{value:this.props.routeContext},g.createElement(_n.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qr(e){let{routeContext:t,match:n,children:r}=e,a=g.useContext(tt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ee.Provider,{value:t},r)}function Zr(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var a;if((a=n)!=null&&a.errors)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let i=o.findIndex(s=>s.route.id&&(l==null?void 0:l[s.route.id]));i>=0||j(!1),o=o.slice(0,Math.min(o.length,i+1))}return o.reduceRight((i,s,u)=>{let m=s.route.id?l==null?void 0:l[s.route.id]:null,v=null;n&&(v=s.route.errorElement||Yr);let y=t.concat(o.slice(0,u+1)),D=()=>{let S;return m?S=v:s.route.Component?S=g.createElement(s.route.Component,null):s.route.element?S=s.route.element:S=i,g.createElement(Qr,{match:s,routeContext:{outlet:i,matches:y,isDataRoute:n!=null},children:S})};return n&&(s.route.ErrorBoundary||s.route.errorElement||u===0)?g.createElement(Jr,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:D(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):D()},null)}var Et;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Et||(Et={}));var $e;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})($e||($e={}));function ea(e){let t=g.useContext(tt);return t||j(!1),t}function ta(e){let t=g.useContext(xn);return t||j(!1),t}function na(e){let t=g.useContext(Ee);return t||j(!1),t}function Rn(e){let t=na(),n=t.matches[t.matches.length-1];return n.route.id||j(!1),n.route.id}function ra(){var e;let t=g.useContext(_n),n=ta($e.UseRouteError),r=Rn($e.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function aa(){let{router:e}=ea(Et.UseNavigateStable),t=Rn($e.UseNavigateStable),n=g.useRef(!1);return Sn(()=>{n.current=!0}),g.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Qe({fromRouteId:t},o)))},[e,t])}const oa="startTransition",nn=zn[oa];function ia(e){let{fallbackElement:t,router:n,future:r}=e,[a,o]=g.useState(n.state),{v7_startTransition:l}=r||{},i=g.useCallback(v=>{l&&nn?nn(()=>o(v)):o(v)},[o,l]);g.useLayoutEffect(()=>n.subscribe(i),[n,i]);let s=g.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,y,D)=>n.navigate(v,{state:y,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(v,y,D)=>n.navigate(v,{replace:!0,state:y,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),u=n.basename||"/",m=g.useMemo(()=>({router:n,navigator:s,static:!1,basename:u}),[n,s,u]);return g.createElement(g.Fragment,null,g.createElement(tt.Provider,{value:m},g.createElement(xn.Provider,{value:a},g.createElement(ca,{basename:u,location:a.location,navigationType:a.historyAction,navigator:s},a.initialized?g.createElement(la,{routes:n.routes,state:a}):t))),null)}function la(e){let{routes:t,state:n}=e;return qr(t,void 0,n)}function sa(e){return Gr(e.context)}function ca(e){let{basename:t="/",children:n=null,location:r,navigationType:a=K.Pop,navigator:o,static:l=!1}=e;at()&&j(!1);let i=t.replace(/^\/*/,"/"),s=g.useMemo(()=>({basename:i,navigator:o,static:l}),[i,o,l]);typeof r=="string"&&(r=ce(r));let{pathname:u="/",search:m="",hash:v="",state:y=null,key:D="default"}=r,S=g.useMemo(()=>{let w=Ke(u,i);return w==null?null:{location:{pathname:w,search:m,hash:v,state:y,key:D},navigationType:a}},[i,u,m,v,y,D,a]);return S==null?null:g.createElement(nt.Provider,{value:s},g.createElement(rt.Provider,{children:n,value:S}))}var rn;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(rn||(rn={}));new Promise(()=>{});function da(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function Ct(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function ua(e,t){let n=Ct(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)});return n}function fa(e,t){return Nr({basename:t==null?void 0:t.basename,future:Ze({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:tr({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ha(),routes:e,mapRouteProperties:da}).initialize()}function ha(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ze({},t,{errors:pa(t.errors)})),t}function pa(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new Pt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var an;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(an||(an={}));var on;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(on||(on={}));function ma(e){let t=g.useRef(Ct(e)),n=g.useRef(!1),r=ot(),a=g.useMemo(()=>ua(r.search,n.current?null:t.current),[r.search]),o=$r(),l=g.useCallback((i,s)=>{const u=Ct(typeof i=="function"?i(a):i);n.current=!0,o("?"+u,s)},[o,a]);return[a,l]}const{license:ga,deactivate_license_nonce:ba}=window.fbv_data,va=()=>{const[e,t]=g.useState(!1),n=()=>{jQuery.ajax({url:window.ajaxurl,method:"POST",data:{action:"fbv_deactivate_license",nonce:ba},beforeSend:()=>{t(!0)},cache:!1}).done(()=>{t(!1),location.reload()}).fail(()=>{t(!1),Q.error(b("deactivate_license_try_again"))})};return E(Re,{children:[d("div",{children:E("h1",{className:"fb-mt-0",children:[b("congratulations")," 🎉"]})}),d("p",{children:d("strong",{children:b("activated_license")})}),E("div",{children:[E("span",{children:[b("your_license_is")," ",ga.key,". "]}),E(Wn,{children:[d(Hn,{asChild:!0,children:d("span",{className:"fb-cursor-pointer fb-text-[#b32d2e] fb-underline",children:b("deactivated_license")})}),d($n,{sideOffset:5,children:d(Vn,{title:d("span",{children:b("deactivate_license_confirm_title")}),content:d("span",{dangerouslySetInnerHTML:{__html:b("deactivate_license_confirm_content")}}),confirmText:b("confirm"),onConfirm:n,confirmButtonClassName:ee({"updating-message":e})})})]})]}),E("div",{className:"fb-mx-0 fb-my-5 fb-max-w-[500px] fb-rounded fb-border fb-border-solid fb-border-[#e4dbb9] fb-bg-[#fff3ce] fb-px-[10px] fb-py-1 fb-text-sm fb-text-[#88670a]",children:[E("strong",{children:[b("note"),": "]}),b("license_note")," ",d("a",{href:"https://ninjateam.gitbook.io/filebird/introduction/license",target:"_blank",rel:"noreferrer",className:"fb-font-bold fb-text-[#ff9b37] fb-no-underline",children:b("learn_more")})]}),d("hr",{}),d("div",{children:E("span",{children:[b("starting_new_site")," ",d("a",{href:"https://1.envato.market/Get-FileBird",children:b("buy_another_license")})]})})]})},ya=Ne.a.attrs({href:"#"})`fb-items-center fb-bg-[#81b441] fb-rounded fb-text-white fb-inline-flex fb-font-medium fb-leading-none fb-py-3 fb-px-5 fb-no-underline fb-outline-none fb-cursor-pointer fb-mt-[10px]
  focusin:fb-text-white focusin:fb-shadow-none focusin:fb-outline-none
  active:fb-text-white active:fb-shadow-none active:fb-outline-none
  hover:fb-shadow-none hover:fb-text-white hover:fb-outline-none hover:fb-bg-[#74a13a]
`,wa=[b("feature_1"),b("feature_2"),b("feature_3"),b("feature_4")],xa=({buynow:e})=>E(Re,{children:[E("div",{children:[d("h1",{className:"fb-mt-0",children:b("active_your_license")}),d("p",{children:b("active_your_license_desc")})]}),d("strong",{children:b("active_features")}),d("ul",{className:"fb-my-3 fb-mx-0",children:wa.map(t=>E("li",{className:"fb-flex fb-items-center",children:[d("svg",{className:"fb-text-[#4caf50] fb-mr-2",width:20,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"})}),t]},t))}),E(ya,{onClick:e,children:[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",className:"fb-mr-[10px] fb-text-base",children:d("path",{d:"M26.2,2.1C22-2.8,8.4,6.7,8.5,19c0,0.3-0.3,0.6-0.6,0.6c-0.2,0-0.4-0.1-0.5-0.3c-1.4-3-1.6-6.5-0.5-9.6C7.1,9.4,6.9,9.1,6.6,9C6.4,8.9,6.2,9,6.1,9.1c-2.3,2.4-3.5,5.6-3.5,8.9c-0.1,7.2,5.7,13.1,12.8,13.1c0.1,0,0.2,0,0.3,0C34.2,30.7,29.9,6.5,26.2,2.1z"})}),d("span",{children:b("login_with_envato")})]})]}),it=({children:e,title:t,footer:n})=>d(Re,{children:E("div",{className:"fb-bg-white fb-rounded fb-p-6",children:[t&&d("h3",{className:"fb-font-bold fb-pb-4 fb-m-0",children:t}),e,n&&d("div",{className:"fb-flex fb-justify-end fb-mt-6",children:n})]})}),{asset_url:_a,login_envato_url:Sa,license:Ra}=window.fbv_data,Ea=Ne.div`fb-max-w-[250px] fb-w-[250px] fb-h-[250px] fb-mb-4 fb-bg-no-repeat fb-object-cover fb-shrink-0 fb-grow-0`,ln=()=>{const[e,t]=g.useState(Ra.status),n=()=>{const a=window.open(Sa,"","width=500,height=500"),o=setInterval(async function(l){a.closed&&(clearInterval(o),location.reload())},100)},r=`${_a}img/${e?"happy-bird.svg":"sad-bird.svg"}`;return d(it,{children:E("div",{className:"fb-flex fb-items-center fb-justify-center",children:[d(Ea,{style:{backgroundImage:`url(${r})`}}),d("div",{children:e?d(va,{}):d(xa,{buynow:n})})]})})},Ca=()=>{const e=ot();return g.useEffect(()=>{let t=e.pathname;e.pathname==="/"&&(t="/activation"),jQuery(".filebird-admin-menu-item").removeClass("selected"),jQuery(`.filebird-admin-menu-item:has(a[href*="${t}"])`).addClass("selected")},[e.pathname]),E(Re,{children:[d("div",{className:"fb-max-w-[750px] fb-m-auto",children:d(sa,{})}),d(Kn,{containerStyle:{top:40}})]})},Da=()=>d("h3",{children:" There is not available"}),ze=Ne.div`fb-flex fb-clear-both fb-w-full fb-min-w-full fb-border-solid fb-border-t fb-border-0 fb-border-[rgba(5,5,5,0.06)] fb-mt-4 fb-mb-4`,{enabled_post_types:Ma}=window.fbv_admin,sn=Gn(qn(e=>({postTypes:{enabledSlugs:Ma},setEnabledPostTypes:t=>e(n=>{n.postTypes.enabledSlugs=t})}))),{post_types:En}=window.fbv_admin,Pa=Object.keys(En),Ta=g.forwardRef((e,t)=>{const n=sn(l=>l.postTypes.enabledSlugs),r=sn(l=>l.setEnabledPostTypes);g.useImperativeHandle(t,()=>({onSave:a}),[n]);const a=async()=>await Xn.updateSetting({action:"fbv_save_post_type_settings",post_types:n}),o=l=>{const{value:i}=l.target,s=n.indexOf(i),u=[...n];s===-1?u.push(i):u.splice(s,1),r(u)};return d("div",{className:"fb-flex fb-flex-col fb-gap-3",children:Pa.map(l=>E("div",{className:"fb-gap-3 fb-flex fb-items-center",children:[d("input",{className:"fb-m-0",defaultChecked:n.indexOf(l)!==-1,type:"checkbox",value:l,id:l,onChange:o}),d("label",{htmlFor:l,children:En[l]})]},l))})});function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}var La=ne.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},ne.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),Na=ne.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},ne.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function cn(e){if(e.length===7)return e;for(var t="#",n=1;n<4;n+=1)t+=e[n]+e[n];return t}function dn(e,t,n,r,a){return function(o,l,i,s,u){var m=(o-i)/(l-i);if(m===0)return s;if(m===1)return u;for(var v="#",y=1;y<6;y+=2){var D=parseInt(s.substr(y,2),16),S=parseInt(u.substr(y,2),16),w=Math.round((1-m)*D+m*S).toString(16);w.length===1&&(w="0"+w),v+=w}return v}(e,t,n,cn(r),cn(a))}var Cn=function(e){function t(n){e.call(this,n);var r=n.height,a=n.width,o=n.checked;this.t=n.handleDiameter||r-2,this.i=Math.max(a-r,a-(r+this.t)/2),this.o=Math.max(0,(r-this.t)/2),this.state={h:o?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(n){n.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(n){this.H.focus(),this.setState({R:n,j:!0,B:Date.now()})},t.prototype.L=function(n){var r=this.state,a=r.R,o=r.h,l=(this.props.checked?this.i:this.o)+n-a;r.N||n===a||this.setState({N:!0});var i=Math.min(this.i,Math.max(this.o,l));i!==o&&this.setState({h:i})},t.prototype.U=function(n){var r=this.state,a=r.h,o=r.N,l=r.B,i=this.props.checked,s=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var u=Date.now()-l;(!o||u<250||i&&a<=s||!i&&a>=s)&&this.A(n),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(n){n.preventDefault(),typeof n.button=="number"&&n.button!==0||(this.I(n.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(n){n.preventDefault(),this.L(n.clientX)},t.prototype.g=function(n){this.U(n),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(n){this.X=null,this.I(n.touches[0].clientX)},t.prototype.m=function(n){this.L(n.touches[0].clientX)},t.prototype.M=function(n){n.preventDefault(),this.U(n)},t.prototype.$=function(n){Date.now()-this.l>50&&(this.A(n),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(n){this.H=n},t.prototype.T=function(n){n.preventDefault(),this.H.focus(),this.A(n),this.W&&this.setState({j:!1})},t.prototype.A=function(n){var r=this.props;(0,r.onChange)(!r.checked,n,r.id)},t.prototype.render=function(){var n=this.props,r=n.checked,a=n.disabled,o=n.className,l=n.offColor,i=n.onColor,s=n.offHandleColor,u=n.onHandleColor,m=n.checkedIcon,v=n.uncheckedIcon,y=n.checkedHandleIcon,D=n.uncheckedHandleIcon,S=n.boxShadow,w=n.activeBoxShadow,_=n.height,k=n.width,L=n.borderRadius,F=function(Z,oe){var de={};for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&oe.indexOf(re)===-1&&(de[re]=Z[re]);return de}(n,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),f=this.state,N=f.h,O=f.N,B=f.j,U={position:"relative",display:"inline-block",textAlign:"left",opacity:a?.5:1,direction:"ltr",borderRadius:_/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},W={height:_,width:k,margin:Math.max(0,(this.t-_)/2),position:"relative",background:dn(N,this.i,this.o,l,i),borderRadius:typeof L=="number"?L:_/2,cursor:a?"default":"pointer",WebkitTransition:O?null:"background 0.25s",MozTransition:O?null:"background 0.25s",transition:O?null:"background 0.25s"},te={height:_,width:Math.min(1.5*_,k-(this.t+_)/2+1),position:"relative",opacity:(N-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:O?null:"opacity 0.25s",MozTransition:O?null:"opacity 0.25s",transition:O?null:"opacity 0.25s"},he={height:_,width:Math.min(1.5*_,k-(this.t+_)/2+1),position:"absolute",opacity:1-(N-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:O?null:"opacity 0.25s",MozTransition:O?null:"opacity 0.25s",transition:O?null:"opacity 0.25s"},$={height:this.t,width:this.t,background:dn(N,this.i,this.o,s,u),display:"inline-block",cursor:a?"default":"pointer",borderRadius:typeof L=="number"?L-1:"50%",position:"absolute",transform:"translateX("+N+"px)",top:Math.max(0,(_-this.t)/2),outline:0,boxShadow:B?w:S,border:0,WebkitTransition:O?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:O?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:O?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},Ce={height:this.t,width:this.t,opacity:Math.max(2*(1-(N-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:O?null:"opacity 0.25s",MozTransition:O?null:"opacity 0.25s",transition:O?null:"opacity 0.25s"},ve={height:this.t,width:this.t,opacity:Math.max(2*((N-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:O?null:"opacity 0.25s",MozTransition:O?null:"opacity 0.25s",transition:O?null:"opacity 0.25s"};return ne.createElement("div",{className:o,style:U},ne.createElement("div",{className:"react-switch-bg",style:W,onClick:a?null:this.T,onMouseDown:function(Z){return Z.preventDefault()}},m&&ne.createElement("div",{style:te},m),v&&ne.createElement("div",{style:he},v)),ne.createElement("div",{className:"react-switch-handle",style:$,onClick:function(Z){return Z.preventDefault()},onMouseDown:a?null:this.p,onTouchStart:a?null:this.k,onTouchMove:a?null:this.m,onTouchEnd:a?null:this.M,onTouchCancel:a?null:this.O},D&&ne.createElement("div",{style:Ce},D),y&&ne.createElement("div",{style:ve},y)),ne.createElement("input",Dt({},{type:"checkbox",role:"switch","aria-checked":r,checked:r,disabled:a,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},F,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(g.Component);Cn.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:La,checkedIcon:Na,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};const yt=({checked:e,onChange:t})=>d(Cn,{handleDiameter:16,checked:e,height:20,width:40,onChange:t}),{asset_url:wt,license:Oa}=window.fbv_data,ka={default:{img:`${wt}img/default.svg`,title:b("default"),needActive:!1},windows:{img:`${wt}img/windows.svg`,title:"Windows",needActive:!0},dropbox:{img:`${wt}img/dropbox.svg`,title:"Dropbox",needActive:!0}},Ua=Ne.div`fb-flex fb-gap-[10px] fb-w-full`,un=Yn.img`hover:fb-border-primary fb-flex-grow fb-flex-shrink-0 fb-basis-0 fb-p-[10px] fb-rounded fb-border-[2px] fb-border-[#ddd] fb-border-solid fb-duration-200 fb-transition-colors fb-ease-in-out`,ja=()=>{const e=gt(i=>i.settings),t=gt(i=>i.setSettings),n=gt(i=>i.updateSetting),[r,a]=g.useState(!1),o=g.useRef(null),l=async()=>{a(!0);try{await n(e),await o.current.onSave()}catch(i){Q.error(b("set_setting_fail")),console.log({error:i})}finally{a(!1)}};return d(Re,{children:E(it,{title:b("settings"),footer:d("button",{className:ee("button button-primary",{"updating-message":r}),onClick:l,children:b("save_changes")}),children:[d("h3",{children:b("general")}),E("div",{className:"fb-flex fb-flex-col fb-gap-[10px]",children:[E("div",{className:"fb-flex fb-gap-[10px]",children:[d(yt,{checked:!!e.USER_MODE,onChange:i=>t("USER_MODE",i)}),E("span",{children:[b("each_user_has_own_folder"),"?"]})]}),E("div",{className:"fb-flex fb-gap-[10px]",children:[d(yt,{checked:!!e.SHOW_BREAD_CRUMB,onChange:i=>t("SHOW_BREAD_CRUMB",i)}),d("span",{children:b("show_breadcrumb")})]}),E("div",{className:"fb-flex fb-gap-[10px]",children:[d(yt,{checked:!!e.SVG_SUPPORT,onChange:i=>t("SVG_SUPPORT",i)}),d("span",{children:b("svg_upload_desc")})]})]}),d(ze,{}),d("h3",{children:b("folder_counter")}),E("div",{className:"fb-flex fb-flex-col fb-gap-[10px]",children:[E("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d("input",{id:"counter_file_in_folder",checked:e.FOLDER_COUNTER_TYPE=="counter_file_in_folder",type:"radio",name:"counter_type",onChange:()=>t("FOLDER_COUNTER_TYPE","counter_file_in_folder")}),d("label",{htmlFor:"counter_file_in_folder",children:b("count_in_folder")})]}),E("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d("input",{id:"counter_file_in_folder_and_sub",checked:e.FOLDER_COUNTER_TYPE=="counter_file_in_folder_and_sub",type:"radio",name:"counter_type",onChange:()=>t("FOLDER_COUNTER_TYPE","counter_file_in_folder_and_sub")}),d("label",{htmlFor:"counter_file_in_folder_and_sub",children:b("count_nested")})]})]}),d(ze,{}),d("h3",{children:b("theme")}),d(Ua,{children:Object.entries(ka).map(([i,s])=>d(g.Fragment,{children:s.needActive&&!Oa.status?d(Jn,{sideOffset:5,content:b("active_to_update"),children:()=>E("div",{className:"fb-flex fb-flex-col fb-items-center fb-w-1/3 fb-cursor-pointer",children:[d(un,{className:i===e.THEME.name&&"fb-border-primary",src:s.img,alt:s.title}),d("span",{className:"fb-mt-3",children:s.title})]},i)}):E("div",{className:"fb-flex fb-flex-col fb-items-center fb-w-1/3 fb-cursor-pointer",onClick:()=>t("THEME",{...e.THEME,name:i}),children:[d(un,{className:i===e.THEME.name&&"fb-border-primary",src:s.img,alt:s.title}),d("span",{className:"fb-mt-3",children:s.title})]},i)},i))}),d(ze,{}),d("h3",{children:b("which_post_types_do_you_want")}),d(Ta,{ref:o}),d(ze,{})]})})},{fbv_data:Je}=window,et={async exportCSV(){return se("GET","/export-csv")},async importCSV(e){return jQuery.ajax({url:Je.json_url+"/import-csv",method:"POST",processData:!1,contentType:!1,cache:!1,data:e,headers:{"X-WP-Nonce":Je.rest_nonce}})},async getCSVDetail(e){return jQuery.ajax({url:Je.json_url+"/import-csv-detail",method:"POST",processData:!1,contentType:!1,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",Je.rest_nonce)},data:e})},async importPlugin(e){try{return await se("GET",`/import/get-folders/${e}`),await se("GET",`/import/get-attachments/${e}`),await se("GET",`/import/run/${e}`)}catch(t){console.log({error:t})}}};function Fa(e){const t=e.data;if(!t||!t.length)return;const n=e.columnDelimiter||",",r=e.lineDelimiter||`
`,a=Object.keys(t[0]);let o="";return o+=a.join(n),o+=r,t.forEach(l=>{let i=0;a.forEach(s=>{i>0&&(o+=n),o+=l[s],i++}),o+=r}),o}const Aa=e=>{const t=Fa({data:e.data}),n=new Blob([t],{type:"text/csv;charset=utf-8;"});if(!t)return;const r=e.filename||"export.csv",a=document.createElement("a");a.setAttribute("href",URL.createObjectURL(n)),a.setAttribute("download",r),a.click()};async function Ia(e){const t=new FormData;if(!e.length)return Promise.reject("There is no file!");if(e.length){t.append("file",e[0]);const n=await et.getCSVDetail(t);let r={"":"","-1":b("all_folders"),0:b("common_folders")};return Object.entries(n).length&&(r={...r,...n}),r}return null}const Ba=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[a,o]=g.useState(""),[l,i]=g.useState(!1),[s,u]=g.useState(null),[m,v]=g.useState([]),y=g.useRef(new FormData),D=async()=>{t(!0),v([]),await Q.promise(et.exportCSV(),{loading:b("loading"),success:L=>(t(!1),v(L.folders),b("successfully_exported")),error:()=>(v([]),b("please_try_again"))})},S=()=>{Aa({filename:"filebird.csv",data:m})},w=async L=>{const F=L.target.files,f=await Ia(F);u(f),F.length&&y.current.append("file",F[0])},_=L=>{const F=L.target.value;y.current.append("userId",F),o(F?F==="-1"?b("all_folders_description"):F==="0"?b("common_folders_description"):`${b("user_folders_description")} ${L.target.options[L.target.selectedIndex].text}.`:"")},k=async()=>{r(!0);try{const L=await et.importCSV(y.current);if(r(!1),L.success)i(!0),Q.success(b("successfully_imported"));else{if(L.message){Q.error(L.message);return}Q.error(b("please_try_again"))}}catch{r(!1),Q.error(b("please_try_again"))}};return E(Re,{children:[d("h3",{children:b("export")}),d("table",{className:"form-table",children:E("tbody",{children:[E("tr",{children:[d("th",{children:b("export_csv")}),E("td",{children:[E("div",{className:"fb-flex fb-items-center fb-gap-3",children:[d("button",{disabled:e,className:ee("button button-primary",{"updating-message":e}),onClick:()=>D(),children:b("export_csv_now")}),d("a",{href:"javascript:;",className:ee({hidden:!m.length}),onClick:()=>S(),children:b("download_file")})]}),d("p",{className:"description",children:b("export_csv_desc")})]})]}),E("tr",{children:[d("th",{children:b("import_csv")}),E("td",{children:[d("div",{className:"flex-item-center",children:d("input",{type:"file",accept:".csv",name:"csv_file",onChange:w})}),s&&E("p",{className:ee({hidden:!s}),children:[d("span",{children:b("choose_user_folder")})," ",d("select",{onChange:_,children:Object.entries(s).sort().map(([L,F])=>d("option",{value:L,children:F},L))})," ",d("button",{disabled:!a||n||l,className:ee("button button-large",{hidden:!s,"updating-message":n}),type:"button",onClick:k,children:l?b("imported"):b("update_noti_btn")})]}),d("p",{children:a}),d("p",{className:"description",children:d("span",{dangerouslySetInnerHTML:{__html:b("import_csv_desc")}})})]})]})]})})]})},{data_import:za}=window.fbv_data,Wa=Ne.a(({$disabled:e})=>["fb-mt-1",e&&"disabled fb-text-[rgba(0,0,0,0.25)] fb-pointer-events-none"]),Ha=()=>{const[e,t]=g.useState(za.plugins),[n,r]=g.useState(!1),[a,o]=g.useState(""),l=async i=>{r(!0),o(i);try{const s=await et.importPlugin(i),u={...e},m='<div class="njt-success-notice notice notice-success is-dismissible"><p>'+s.mess+`</p><button type="button" class="notice-dismiss" onClick="jQuery('.njt-success-notice').remove()"><span class="screen-reader-text">Dismiss this notice.</span></button></div>`;jQuery(".wrap").prepend(m),r(!1),o(""),u[i].completed=!0,t(u)}catch(s){console.log({error:s}),Q.error(b("please_try_again")),r(!1),o("")}};return E(Re,{children:[d("h3",{children:b("import")}),d("p",{className:"description",children:b("import_folders_desc")}),!!Object.keys(e).length&&d("table",{className:"widefat striped",children:d("tbody",{children:Object.values(e).map(i=>E("tr",{className:"importer-item",children:[E("td",{className:ee("import-system",{"fb-border-l-4 fb-border-solid fb-border-0 fb-border-[#72aee6]":i.completed}),children:[d("span",{className:"importer-title",children:d("b",{children:i.name})}),E("span",{children:["(",i.author,")"]}),d("span",{className:"importer-action",children:d(Wa,{onClick:()=>l(i.prefix),className:ee("button button-primary",{"updating-message":i.prefix===a&&n}),$disabled:n&&i.prefix!==a||i.completed,children:i.completed?b("imported"):b("update_noti_btn")})})]}),d("td",{className:"desc",children:d("span",{className:"importer-desc",dangerouslySetInnerHTML:{__html:i.description}})})]},i.prefix))})})]})},$a=()=>E(it,{title:"Import & Export",children:[d(Ha,{}),d(ze,{}),d(Ba,{})]}),De={cleanData(){return se("GET","/wipe-data")},async generateApi(){return se("POST","/fbv-api",{act:"generate-key"})},async wipeData(){return se("POST","/fb-wipe-clear-all-data")},async getOldFolders(){return se("POST","/fb-get-old-data")},async insertOldFolders(e){return se("POST","/fb-insert-old-data",e)},async generateAttachmentSize(e){return se("POST","/generate-attachment-size",e)},async syncWPML(e){return Qn("POST",e)}},{update_database_notice:Va}=window.fbv_data,{rest_api_key:Ka}=window.fbv_admin,Ga=Ne.div`
  fb-text-[#d63638] fb-font-bold fb-relative fb-z-0
before:fb-bg-[#e3e3e3] before:fb-shadow-[0_1px_0_0_#fff] before:fb-content-[""] before:fb-h-[1px] before:fb-absolute before:fb-top-1/2 before:fb-w-full before:-fb-z-[1]
  [&_span]:fb-bg-white [&_span]:fb-pr-5
`,{media_url:qa}=window.fbv_data,{wpml:Xa}=window.fbv_admin,Ya=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[a,o]=g.useState(Ka),[l,i]=g.useState(!1),[s,u]=g.useState(!1),[m,v]=g.useState(!1),[y,D]=g.useState(""),[S]=ma(),w=g.useRef(!1),_=!!S.get("autorun")&&Va,k=()=>{if(!confirm(b("are_you_sure")))return!1;t(!0),Q.promise(De.generateApi(),{loading:b("generating"),success:U=>(t(!1),U.success&&o(U.data.key),b("generated")),error:U=>(t(!1),U.responseJSON.message)})},L=async()=>{if(!confirm(b("are_you_sure")))return!1;r(!0),Q.promise(De.wipeData(),{loading:b("loading"),success:U=>(r(!1),location.reload(),U.data.mess),error:U=>(r(!1),U.data.mess)})},F=async(U,W)=>{if(typeof U[W]<"u")try{await De.insertOldFolders({folders:U[W]}),await F(U,W+1)}catch{w.current=!0,Q.error(b("please_try_again"))}else i(!1)},f=async()=>{w.current=!1;try{i(!0);const U=await De.getOldFolders();if(U.success)try{if(await F(U.data.folders,0),i(!1),w.current)return;Q.success(E("span",{children:[b("filebird_db_updated")," ",d("a",{href:qa,children:b("go_to_media")})]}),{style:{minWidth:"365px"}}),jQuery("#njt-fb-update-db-noti .notice-dismiss").trigger("click")}catch(W){console.log({err:W}),i(!1)}}catch{i(!1),Q.error(b("import_failed"))}},N=async()=>{u(!0);try{await O(1),Q.success(b("generated")),u(!1)}catch{Q.error(b("please_try_again")),u(!1)}},O=async U=>{try{const W=await De.generateAttachmentSize({page:U});W.success&&W.next=="1"&&await O(U+1)}catch{Q.error(b("please_try_again"))}},B=async()=>{v(!0);try{const U=await De.syncWPML({action:"fbv_sync_wpml"});D(U.message),v(!1)}catch{v(!1)}};return g.useEffect(()=>{_&&f()},[_]),d(it,{title:"Tools",children:d("table",{className:"form-table",children:E("tbody",{children:[E("tr",{children:[d("th",{children:d("label",{children:b("import_from_old_version")})}),E("td",{children:[d("button",{disabled:l,className:ee({"button button-primary":!0,"updating-message":l}),onClick:()=>f(),children:b("update_now")}),d("p",{className:"description",children:b("update_old_folder_desc")})]})]}),E("tr",{children:[d("th",{children:d("label",{children:b("rest_api_key")})}),E("td",{children:[E("div",{className:"fb-flex fb-gap-[10px]",children:[d("input",{className:ee({hidden:!a,"large-text":!0}),readOnly:!0,value:a,type:"text",autoComplete:"off"}),d("button",{disabled:e,className:ee("button button-primary",{"updating-message":e}),onClick:k,children:b("generate")})]}),d("p",{className:"description",children:d("span",{dangerouslySetInnerHTML:{__html:b("generate_api_desc")}})})]})]}),E("tr",{children:[d("th",{children:d("label",{children:b("attachment_size")})}),E("td",{children:[d("button",{disabled:s,className:ee("button button-primary",{"updating-message":s}),onClick:N,children:s?b("generating"):b("generate")}),d("p",{className:"description",children:d("span",{dangerouslySetInnerHTML:{__html:b("generate_attachment_size_desc")}})})]})]}),Xa.display_sync&&E("tr",{children:[d("th",{scope:"row",children:d("label",{htmlFor:"",children:b("sync_wpml")})}),E("td",{children:[E("div",{className:"fb-flex fb-gap-[10px] fb-items-center",children:[d("button",{onClick:B,type:"button",className:ee("button button-primary",{"updating-message":m}),children:b("sync")}),d("span",{children:y})]}),d("p",{className:"description",children:b("sync_wpml_desc")})]})]}),d("tr",{children:d("th",{colSpan:2,children:d(Ga,{children:d("span",{children:b("danger_zone")})})})}),E("tr",{children:[d("th",{children:d("label",{children:b("clear_all_data")})}),E("td",{children:[d("button",{disabled:n,className:ee("button button-primary",{"updating-message":n}),onClick:L,children:b("clear")}),d("p",{className:"description",children:b("clear_all_data_desc")})]})]})]})})})},Ja=fa([{path:"/",element:d(Ca,{}),errorElement:d(Da,{}),children:[{index:!0,element:d(ln,{})},{path:"activation/",element:d(ln,{})},{path:":tools",element:d(Ya,{})},{path:"import-export/",element:d($a,{})},{path:"settings/",element:d(ja,{})}]}]);document.addEventListener("DOMContentLoaded",()=>{Zn();const e=document.getElementById("filebird-setting");e&&er.createRoot(e).render(d(ne.StrictMode,{children:d(ia,{router:Ja})}))});
