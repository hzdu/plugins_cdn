(()=>{var e,t={656:(e,t,n)=>{"use strict";const o=window.wp.element,a=window.wp.i18n,r=(0,o.createContext)({}),l=window.wp.components,s=window.wp.primitives,i=(0,o.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(s.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),c=function({icon:e,size:t=24,...n}){return(0,o.cloneElement)(e,{width:t,height:t,...n})},d=(0,o.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,o.createElement)(s.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),u=()=>{const[e,t]=(0,o.useState)(!1),{value:n,updateHeader:s,currentHeader:u,toggleAdding:m,adding:p,addLayout:v,deleteLayout:h}=(0,o.useContext)(r),[w,g]=(0,o.useState)(""),f=()=>`hfgcl_${w.trim().toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")}`,{headers:_}=n,y=Object.keys(_).includes(f());return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("label",{htmlFor:"nv-custom-header-selector",className:"customize-control-title"},(0,a.__)("Select Header","neve")),(0,o.createElement)("div",{className:"select-wrap layout-selector"},(0,o.createElement)("select",{id:"nv-custom-header-selector",disabled:p||e,value:u,onChange:e=>{const n=e.target.value;t(!0),s(n),t(!1)}},Object.keys(_).map((e=>(0,o.createElement)("option",{value:e,key:e},_[e].label)))),"default"!==u&&!e&&(0,o.createElement)(l.Button,{type:"button",isSecondary:!0,isDestructive:!0,disabled:p,className:"remove-layout",onClick:h,icon:i},(0,a.__)("Remove","neve")),e&&(0,o.createElement)(l.Spinner,null)),!p&&(0,o.createElement)(l.Button,{isSecondary:!0,isLink:!0,className:"layout-add-button",onClick:e=>{e.preventDefault(),m()}},"+ ",(0,a.__)("Add New Header","neve")),p&&(0,o.createElement)("div",null,(0,o.createElement)("form",{className:"add-layout-form",onSubmit:e=>{e.preventDefault(),t(!0);const n=f();v(n,w),g(""),m(),t(!1)}},(0,o.createElement)("input",{name:"layout-slug",value:w,onChange:e=>{g(e.target.value)},type:"text",placeholder:(0,a.__)("Header Name","neve")}),(0,o.createElement)(l.Button,{isSecondary:!0,onClick:()=>{m(),g("")}},(0,a.__)("Cancel","neve")),(0,o.createElement)(l.Button,{className:"add",type:"submit",disabled:w.length<1||y,isPrimary:!0},(0,a.__)("Add","neve"))),y&&(0,o.createElement)("small",{style:{display:"flex",alignItems:"center"}},(0,o.createElement)(c,{icon:d,size:18}),(0,a.__)("A header with this name already exists.","neve"))))};var m=n(184),p=n.n(m);const v=window.wp.neve.components,h=({optionGroups:e,root:t,noGroups:n,parseEndGroups:r,name:l,selected:s,onChange:i,isMultiple:c})=>{const d=p()([l,"select-wrap"]);return(0,o.createElement)("div",{className:d},!c&&(0,o.createElement)("select",{value:s,className:"conditional-select",onChange:e=>{i(e.target.value)}},"condition"!==l&&(0,o.createElement)("option",{value:""},(0,a.__)("Select","neve")),r?(()=>{const n="archive_taxonomy"===t;return Object.keys(e).map((t=>e[t].map(((e,a)=>{const{nicename:r,name:s,terms:i}=e;let c=i;return!(!c||c.length<1)&&("object"==typeof c&&(c=Object.values(c)),n?(0,o.createElement)("option",{value:s,label:`${r} (${t} - ${s})`,key:`${t}-${l}-${a}`}):(0,o.createElement)("optgroup",{label:`${r} (${t} - ${s})`,key:`${t}-${s}-${a}`},c.map(((e,n)=>(0,o.createElement)("option",{value:`${s}|${e.slug}`,key:`${s}|${e.slug}|${t}|${n}`},e.name)))))}))))})():n?Object.keys(e).map(((t,n)=>0!==e[t].length&&(0,o.createElement)("option",{value:t,key:`${t}-${n}`},e[t]))):Object.keys(e).map(((t,n)=>(0,o.createElement)("optgroup",{label:e[t].label,key:`${t}-${n}`},Object.keys(e[t].choices).map(((n,a)=>(0,o.createElement)("option",{value:n,key:`${n}-${a}`},e[t].choices[n]))))))),c&&void 0!==e&&(0,o.createElement)("div",{className:"module-option neve-multiselect"},(0,o.createElement)(v.MultiSelect,{choices:e,currentValue:s||[],onChange:e=>{i(e)}})))},w=(0,o.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(s.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),g=({ruleset:e,isLast:t,isFirst:n,canAddMore:r,updateRoot:s,updateCondition:c,updateEnd:d,addRuleSet:u,removeRuleSet:m})=>{const p=NeveProReactCustomize.conditionalRules,v=()=>{const{root:t}=e;if(!t)return[];const{map:n,end:o}=p;return o[Object.keys(n).filter((e=>n[e].includes(t)))[0]]};return(()=>{const{root:g,condition:f,end:_}=e,y=NeveProReactCustomize.multiSelectRules;let E=NeveProReactCustomize.conditionTextMap[g];E||(E=NeveProReactCustomize.conditionTextMap.default);const b=["post_taxonomy","archive_term","archive_taxonomy"].includes(g);return(0,o.createElement)("div",{className:"rule-set"},(0,o.createElement)(h,{name:"root",className:"root",optionGroups:p.root,selected:g,onChange:e=>s(e)}),g&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(h,{name:"condition",className:"condition",optionGroups:E,selected:f,noGroups:!0,onChange:e=>c(e)}),(0,o.createElement)(h,{name:"end",className:"end",optionGroups:v(),root:g,selected:_,parseEndGroups:b,noGroups:!b,onChange:e=>d(e),isMultiple:y.includes(g)})),(0,o.createElement)(l.ButtonGroup,{className:"rule-actions"},(0,o.createElement)(l.Button,{label:(0,a.__)("Remove Rule","neve"),icon:i,isSecondary:!0,isDestructive:!0,className:"remove-rule",disabled:t&&n,onClick:m}),(0,o.createElement)(l.Button,{label:(0,a.__)("Add Rule","neve"),icon:w,isSecondary:!0,className:"add-rule",disabled:!r,onClick:u})),!t&&(0,o.createElement)("span",{className:"chainer"},(0,a.__)("and","neve")))})()},f=({group:e,isFirst:t,isLast:n,canAddMore:r,onChange:s,addRuleSet:i,addRuleGroup:c,removeRuleSet:d,removeRuleGroup:u})=>{const m=(e,t,n)=>{s(e,t,n),"root"===t&&s([],"end",n)};return e.length<1?null:(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"rule-group"},e.map(((t,n)=>(0,o.createElement)(g,{key:n,ruleset:t,isLast:n===e.length-1,isFirst:0===n,canAddMore:e.length<3,updateRoot:e=>{m(e,"root",n)},updateCondition:e=>{m(e,"condition",n)},updateEnd:e=>{m(e,"end",n)},addRuleSet:()=>{i(n)},removeRuleSet:()=>{d(n)}}))),(0,o.createElement)("div",{className:"actions"},(0,o.createElement)(l.Button,{isSecondary:!0,isSmall:!0,disabled:!r,className:"add-group",onClick:c},(0,a.__)("Add Rule Group","neve")),!(n&&t)&&(0,o.createElement)(l.Button,{isLink:!0,isDestructive:!0,isSmall:!0,className:"remove-group",onClick:u},(0,a.__)("Remove Rule Group","neve")))),!n&&(0,o.createElement)("span",{className:"chainer"},(0,a.__)("or","neve")))},_=()=>{const{value:e,currentHeader:t,updateRules:n}=(0,o.useContext)(r),{headers:l}=e,s=(()=>{let e=l[t].rules||[[{root:"",condition:"===",end:""}]];return(!Array.isArray(e[0])||0===e[0].length)&&(e=[[{root:"",condition:"===",end:""}]]),e})();return(0,o.createElement)("div",{className:"nv-conditional-selector-control"},(0,o.createElement)("label",{htmlFor:"neve-custom-header-rules",className:"customize-control-title"},(0,a.__)("Display this header if","neve")),s.map(((t,a)=>(0,o.createElement)(f,{id:"neve-custom-header-rules",key:a,group:t,isLast:a===s.length-1,isFirst:0===a,canAddMore:s.length<3,onChange:(t,o,r)=>{((t,o,a,r)=>{const l=[...s];l[r][a][o]=t,"root"!==o||e||(l[r][a].end=""),n(l)})(t,o,r,a)},addRuleSet:e=>{((e,t)=>{const o=[...s];o[t].splice(e+1,0,{root:"",condition:"===",end:""}),n(o)})(e,a)},removeRuleSet:e=>{((e,t)=>{const o=[...s];o[t].splice(e,1),n(o)})(e,a)},addRuleGroup:()=>{(e=>{const t=[...s];t.splice(e+1,0,[{root:"",condition:"===",end:""}]),n(t)})(a)},removeRuleGroup:()=>{(e=>{const t=[...s];t.splice(e,1),n(t)})(a)}}))))},y=e=>{if("string"!=typeof e)return e;try{JSON.parse(e)}catch(t){return e}return JSON.parse(e)},E=({control:e})=>{const{headerControls:t}=window.NeveProReactCustomize,n=()=>{const e={};return t.forEach((t=>{if(!window.wp.customize.control(t))return!1;e[t]=y(window.wp.customize.control(t).setting())})),e},[l,s]=(0,o.useState)(n()),i={default:{label:(0,a.__)("Default","neve"),mods:{}}},c={headers:{...e.setting().headers}||{...i},add:{},delete:[],currentHeader:"default"},[d,m]=(0,o.useState)("default"),[p,v]=(0,o.useState)(c),[h,w]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),E=()=>!wp.customize.control("neve_global_header").setting.get()&&"default"!==e.setting.get().currentHeader,b=()=>{wp.customize.notifications.remove("neve-conditional-notification")},z=()=>{const t=e.setting.get().currentHeader,n=p.headers[t].label,o=(0,a.__)("You are customizing the","neve")+' <a href="#">'+n+"</a> "+(0,a.__)("Header","neve");wp.customize.notifications.add(new wp.customize.Notification("neve-conditional-notification",{message:o,type:"info",code:"neve-conditional-notification",render(){const e=wp.customize.Notification.prototype.render.call(this);return e.find("a").on("click",(function(e){e.preventDefault(),wp.customize.control("neve_header_conditional_selector").focus()})),e}}))};(0,o.useEffect)((()=>{let e=null;"default"!==d&&(e=p.headers[d].label),document.dispatchEvent(new window.CustomEvent("nv-change-conditional-header",{detail:e}))}),[d]),(0,o.useEffect)((()=>{window.wp.customize.bind("change",(o=>{if(["neve_global_header",e.id].includes(o.id)&&(E()?(b(),z()):b()),"neve_global_header"===o.id&&!0===o.get())return C("default"),!1;if(!t.includes(o.id))return!1;const a=e.setting().currentHeader,r=y(o.get());if("default"===a){const e={...n(),[o.id]:r};s(e)}const l={...p};l.currentHeader=a,l.headers[a].mods[o.id]=r,N(l)}))}),[]),(0,o.useEffect)((()=>{window.wp.customize.state("expandedPanel").bind((e=>e.id&&"hfg_header"===e.id&&E()?void z():(b(),!1)))}),[]);const N=t=>{v(t),e.setting.set({...t,trigger:g}),e.setting._dirty=!0,f(!g)},C=(e,t=null)=>{const n=t?{...t}:{...p};n.currentHeader=e,N(n);const{newBuilder:o}=window.NeveProReactCustomize;let a=n.headers[e].mods;if("default"===e&&(a={...l}),m(e),!a)return;const r=o?"hfg_header_layout_v2":"hfg_header_layout";a[r]&&window.document.dispatchEvent(new window.CustomEvent("neve-changed-builder-value",{detail:{value:a[r],id:"header"}})),Object.keys(a).forEach((e=>{if(["hfg_header_layout","hfg_header_layout_v2"].includes(e))return!1;if(!window.wp.customize.control(e))return!1;const{type:t}=wp.customize.control(e).params;return["text","textarea","select"].includes(t)?(wp.customize.control(e).setting.set(a[e]),!1):(window.document.dispatchEvent(new window.CustomEvent("neve-changed-customizer-value",{detail:{value:a[e]||"",id:e}})),e)}))},S={value:p,setValue:v,adding:h,toggleAdding:()=>{w(!h)},currentHeader:d,updateHeader:C,updateRules:e=>{const t={...p};t.headers[d].rules=e,N(t)},deleteLayout:()=>{const e={...p};e.add[d]&&delete e.add[d],delete e.headers[d],e.delete.push(d),C("default",e)},addLayout:(e,t)=>{const n={...p};n.delete.includes(e)&&(n.delete=n.delete.filter((t=>e!==t))),n.add[e]=t,n.headers[e]={label:t,rules:[[{root:"",condition:"===",end:""}]],mods:{...l}},n.currentHeader=e,C(e,n)}};return(0,o.createElement)(r.Provider,{value:S},(0,o.createElement)(u,null),!h&&"default"!==d&&(0,o.createElement)(_,null),(0,o.createElement)((()=>(0,o.createElement)("p",null,(0,a.__)("You can create new headers and set them on a particular page/post, taxonomy, post types and more with display rules.","neve"))),null))},b=wp.customize.Control.extend({renderContent:function(){wp.customize.bind("ready",(()=>(0,o.render)((0,o.createElement)(E,{control:this}),this.container[0])))}}),z=window.wp.api;wp.customize.controlConstructor.neve_context_conditional_selector=b;const N=()=>{const e=window.wp.customize.panel("woocommerce");void 0!==e&&""!==NeveProReactCustomize.sparksNotice&&e.notifications.add(new window.wp.customize.Notification("neve-pro-sparks-notice",{type:"warning",message:NeveProReactCustomize.sparksNotice,dismissible:!0,render(){const e=wp.customize.Notification.prototype.render.call(this);return e.find(".notice-dismiss").on("click",(()=>{((e,t)=>{const n=new z.models.Settings({[e]:true});new Promise((t=>{n.save().then((n=>{n&&true!=!n[e]||t({success:!1}),t({success:!0})}))}))})("nv_pro_hide_sparks_customizer_notice")})),e}}))};window.wp.customize.bind("ready",(()=>{wp.customize.control("neve_featured_post_image_align",(e=>((e,t)=>{window.wp.customize("neve_featured_post_image_position").bind((function(t){e.active.set("top"===t)}))})(e))),N()}))},184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var l=a.apply(null,n);l&&e.push(l)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var s in n)o.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,a,r)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||l>=r)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={960:0,470:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,l=n[0],s=n[1],i=n[2],c=0;if(l.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var d=i(o)}for(t&&t(n);c<l.length;c++)r=l[c],o.o(e,r)&&e[r]&&e[r][0](),e[l[c]]=0;return o.O(d)},n=self.webpackChunkneve_pro_addon=self.webpackChunkneve_pro_addon||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[470],(()=>o(656)));a=o.O(a)})();