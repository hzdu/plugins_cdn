!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t,n){"use strict";var a,o,r,l,i,s,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};a=wp.hooks,o=wp.blocks,r=wp.compose,l=a.addFilter,i=o.hasBlockSupport,s=r.createHigherOrderComponent,c=["core/paragraph","core/heading"],l("blocks.registerBlockType","advgb/registerCoreBlocksCustomClass",(function(e){return c.includes(e.name)&&void 0===e.attributes.advgbClass&&(e.attributes=u(e.attributes,{advgbClass:{type:"string",default:""}})),e})),l("blocks.getSaveContent.extraProps","advgb/loadFrontendCoreBlocks",(function(e,t,n){return i(t,"fontFamily",!0)&&n.fontFamily&&(void 0===e.className?e.className=n.advgbClass:(e.className+=" "+n.advgbClass,e.className=e.className.trim())),e})),l("editor.BlockListBlock","advgb/setCoreBlockClass",s((function(e){return function(t){return c.includes(t.name)&&i(t.name,"fontFamily",!0)||void 0!==t.attributes.advgbClass?React.createElement(e,u({},t,{className:t.attributes.advgbClass})):React.createElement(e,t)}}),"coreBlockClass"))},function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(3);!function(e,t,n,r,l){n=wp.blockEditor||wp.editor;var i=t.addFilter,s=e.__,c=n.InspectorControls,u=r.PanelBody,d=(r.SelectControl,r.ToggleControl),f=l.Fragment,g=["core/paragraph","core/heading"];i("blocks.registerBlockType","advgb/registerCoreBlocksFontClass",(function(e){return g.includes(e.name)&&(e.attributes=a(e.attributes,{fontFamily:{type:"string"},fontVariation:{type:"string"},styleForce:{type:"boolean",default:!1}})),e})),i("editor.BlockEdit","advgb/coreBlocks",(function(e){return function(t){return React.createElement(f,null,React.createElement(e,a({key:"block-edit-fonts"},t)),t.isSelected&&g.includes(t.name)&&React.createElement(c,null,React.createElement(u,{title:s("Font Settings","advanced-gutenberg"),initialOpen:!0,className:"advgb-pro-icon"},React.createElement(o.AdvFontControl,{familyValue:t.attributes.fontFamily,familyOnChange:function(e){return t.setAttributes({fontFamily:e,fontVariation:"",advgbClass:advgb_blockCustomClass()})},variationValue:t.attributes.fontVariation,variationOnChange:function(e){return t.setAttributes({fontVariation:e,advgbClass:advgb_blockCustomClass()})}}),t.attributes.fontFamily&&React.createElement(d,{label:s("Force styling","advanced-gutenberg"),help:s("This adds !important to CSS in frontend to avoid your font being overridden","advanced-gutenberg"),checked:t.attributes.styleForce,onChange:function(){return t.setAttributes({styleForce:!t.attributes.styleForce})}}))),g.includes(t.name)&&t.attributes.advgbClass&&React.createElement("div",null,React.createElement("style",null,React.createElement(o.AdvSetGoogleFontStyle,{fontFamily:t.attributes.fontFamily,fontVariation:t.attributes.fontVariation,cssSelector:"#block-"+t.clientId})),React.createElement(o.AdvLoadGoogleStylesheet,{fontFamily:t.attributes.fontFamily,fontVariation:t.attributes.fontVariation})))}}))}(wp.i18n,wp.hooks,wp.blockEditor,wp.components,wp.element)},function(e,t,n){"use strict";function a(e){if(void 0!==e&&e.length>0&&"undefined"!=typeof advgbFonts&&advgbFonts.google_fonts){var t=advgbFonts.google_fonts.find((function(t){return t.f===e})),n="undefined"!==t&&t.v.length>0?t.v.map((function(e){return{label:o(e),value:e}})):{};return[{label:"Default",value:""}].concat(n)}}function o(e){return e.length>6&&-1!==e.indexOf("italic")?e.split("italic",1)[0]+" + italic":""+e}function r(e,t){return"advgb_google_font_"+e.replace(/\s/g,"_").toLowerCase()+(t.length>0?"_"+t:"")}function l(e,t){if(void 0!==e&&e.length>0&&!document.getElementById(r(e,t))){var n=document.createElement("link");n.media="all",n.rel="stylesheet",n.id=r(e,t),n.href=function(e,t){if(t.length>0){var n=void 0;if(-1!==t.indexOf("italic")){var a=t.split("italic",1);n="undefined"!==a[0]&&a[0].length>0?":ital,wght@1,"+a[0]:":ital@1"}else n=":wght@"+t;return"https://fonts.googleapis.com/css2?family="+e.replace(/\s/g,"+")+n}return"https://fonts.googleapis.com/css2?family="+e.replace(/\s/g,"+")}(e,t),document.head.appendChild(n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdvFontControl=function(e){var t=wp.components,n=(t.PanelBody,t.SelectControl),o=wp.element.Fragment,r=wp.i18n.__,l=e.familyValue,i=e.familyOnChange,s=e.variationValue,c=e.variationOnChange,u=e.transformValue,d=e.transformOnChange,f="undefined"!=typeof advgbFonts&&advgbFonts.google_fonts_names?advgbFonts.google_fonts_names.map((function(e){return{label:e,value:e}})):{},g=[{label:"Default",value:""}].concat(f);return React.createElement(o,null,React.createElement(n,{label:r("Font Family","advanced-gutenberg"),value:l,options:g,onChange:i}),React.createElement(n,{label:r("Font Weight + Style","advanced-gutenberg"),value:s,options:a(l),onChange:c}),void 0!==u&&React.createElement(n,{label:r("Text Transform","advanced-gutenberg"),value:u,options:[{label:"Default",value:""},{label:"Capitalize",value:"capitalize"},{label:"Uppercase",value:"uppercase"},{label:"Lowercase",value:"lowercase"}],onChange:d}))},t.AdvLoadGoogleStylesheet=function(e){var t=e.fontFamily,n=e.fontVariation;return[l(t,void 0!==n&&n.length>0?n:""),null]},t.AdvSetGoogleFontStyle=function(e){var t=e.fontFamily,n=e.fontVariation,a=e.textTransform,o=e.cssSelector,r="";return void 0!==t&&t.length>0&&(r+='font-family: "'+t+'" !important;'),void 0!==n&&n.length>0&&(-1!==n.indexOf("italic")&&n.length>6?r+="font-weight:"+n.split("italic",1)[0]+"; font-style:italic;":r+="font-weight:"+n+";"),void 0!==a&&a.length>0&&(r+="text-transform:"+a+";"),void 0!==r&&r.length>0?o+" {\n            "+r+"\n        }":null}}]);
//# sourceMappingURL=core-blocks.js.map