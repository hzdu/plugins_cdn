import{_ as r}from"./fetch.js";import{o,e as n,f as s,F as u,g as _,h as i,t as l}from"./vendor.js";const m={name:"MyWorkOrder",inject:["reload"],components:{},data(){return{items:[],isLoaded:!1,status:1,total:1,num:10,page:1,cnf:{}}},mounted(){const t=this;t.status=t.$route.query.status?t.$route.query.status:0,t._getData()},methods:{_getData(){const t=this;t.$api.getData({action:"wb_ocw_api",op:"my_wo",status:t.status}).then(a=>{t.items=a.data.items,t.total=a.data.total,t.cnf=a.data.cnf,t.isLoaded=!0})},loadData(t){const a=this;a.$api.getData({action:"wb_ocw_api",do:"my_wo",status:a.status,page:t}).then(d=>{a.items=d.data.items,a.total=d.data.total,a.page=t})},switchStatus(t){this.status=t,this._getData()},getStatus(t){return t.status==2?'<span class="wb-status-tag done">已关闭</span>':t.is_new==1?'<span class="wb-status-tag wk">待回复</span>':'<span class="wb-status-tag new">新消息</span>'},goDetail(t){this.$router.push({path:"/detail",query:{id:t.id}})}}},h=s("div",{class:"wbm-hd"},[s("h1",null,"我的咨询")],-1),p={key:0,class:"mb-content-table"},w={key:0,class:"table-data-list"},b=s("thead",null,[s("tr",null,[s("th",null,"咨询类型"),s("th",null,"联系人"),s("th",null,"联系方式"),s("th",null,"时间")])],-1),y={class:"wbm-rec-type"},g={class:"wbm-rec-subject"},f={class:"wbm-pd-title"},k={key:0},D={key:1},q={key:2},x={key:3},L={class:"wbm-wk"},$={key:1,class:"com-empty-rec"},B=s("div",{class:"cer-inner"},[s("svg",{class:"wb-icon wbm-sico-nodata"},[s("use",{"xlink:href":"#wbm-sico-nodata"})]),s("p",null,"暂无记录")],-1),S=[B];function j(t,a,d,v,c,F){return o(),n(u,null,[h,c.isLoaded?(o(),n("div",p,[c.items.length?(o(),n("table",w,[b,s("tbody",null,[(o(!0),n(u,null,_(c.items,e=>(o(),n("tr",{key:"wo"+e.sn},[s("td",null,[s("span",y,l(c.cnf.type[e.type]),1)]),s("td",null,[s("div",g,l(e.name),1)]),s("td",null,[s("div",f,[e.qq?(o(),n("div",k,"QQ: "+l(e.qq),1)):i("",!0),e.mobile?(o(),n("div",D,"手机: "+l(e.mobile),1)):i("",!0),e.wx?(o(),n("div",q,"微信: "+l(e.wx),1)):i("",!0),e.email?(o(),n("div",x,"邮箱: "+l(e.email),1)):i("",!0)])]),s("td",null,[s("span",L,l(e.update_time),1)])]))),128))])])):i("",!0),c.items.length?i("",!0):(o(),n("div",$,S))])):i("",!0)],64)}const V=r(m,[["render",j]]);export{V as default};
