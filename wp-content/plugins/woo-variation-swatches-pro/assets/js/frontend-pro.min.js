!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function a(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?e(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function o(t,e,a){return(e=r(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(e){var a=function(e,a){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,a||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"===t(a)?a:String(a)}!function(e){"use strict";var r,n=(r=jQuery,function(){function t(e,a,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"defaults",{}),o(this,"onInit",(function(t){n.initFetch()})),o(this,"onAjaxAddToCart",(function(t){if(r(t.target).is(".loading"))return!1;r(t.target).is(".wvs_ajax_add_to_cart")&&(t.preventDefault(),t.stopPropagation(),n.AjaxAddToCart(t.target))})),o(this,"onExpandVariableItems",(function(t){t.preventDefault(),n.expandVariableItems(t)})),o(this,"onPreviewChange",(function(t){t.preventDefault(),n.$element.off("reset_data.wc-variation-form"),n.fetchPreviewChange(t.currentTarget)})),o(this,"onChange",(function(t){n.$element.trigger("woocommerce_variation_select_change"),n.$element.trigger("check_variations"),n.$element.trigger("woocommerce_variation_has_changed")})),o(this,"onReset",(function(t){t.preventDefault(),n.reset()})),o(this,"onResetDisplayedVariation",(function(t){n.resetDisplayedVariation()})),o(this,"onUpdateAttributes",(function(t){n.updateAttributes(t)})),o(this,"onCheckVariations",(function(t){n.checkVariations()})),o(this,"onVariationChanged",(function(t){n.setupSwatchesItems()})),o(this,"onFoundVariation",(function(t,e,a){n.foundVariation(e,a)})),this.name=i,this.element=e,this.$element=r(e),this.settings=r.extend(!0,{},this.defaults,a),this.product_variations=this.$element.data("product_variations")||[],this.is_ajax_variation=this.product_variations.length<1,this.product_id=parseInt(this.$element.data("product_id"),10),this.threshold_min=parseInt(this.$element.data("threshold_min"),10),this.threshold_max=parseInt(this.$element.data("threshold_max"),10),this.total_children=parseInt(this.$element.data("total_children"),10),this.total_attribute=parseInt(this.$element.data("total_attribute"),10),this.xhr=!1,this.previewXhr=!1,this.loading=!0,this.$information=this.$element.find(".wvs-archive-information"),this.$wrapper=this.$element.closest(woo_variation_swatches_pro_options.archive_product_wrapper),this.$image=this.$wrapper.find(woo_variation_swatches_pro_options.archive_image_selector),this.$cart_button=this.$wrapper.find(woo_variation_swatches_pro_options.archive_cart_button_selector),this.$is_block=this.$wrapper.find(".wvs-has-block-enabled").length>0,this.$view_cart_link=this.$is_block?this.$wrapper.find(".wvs-has-block-enabled"):this.$wrapper.find(".added_to_cart"),this.$price=this.$wrapper.find(".price:first"),this.$firstUL=this.$element.find(".variations ul:first"),this.is_cart_button_available=this.$cart_button.length>0,this.$price_html=this.$price.clone().html(),this.$attributeFields=this.$element.find(".variations select"),this.$resetVariations=this.$element.find(".wvs_archive_reset_variations");var s=!1;if(woo_variation_swatches_pro_options.enable_single_variation_preview&&woo_variation_swatches_pro_options.enable_single_variation_preview_archive){var c=this.$firstUL.data("preview_attribute_name")?this.$firstUL.data("preview_attribute_name"):this.$attributeFields.first().data("attribute_name");s=".variations select[data-attribute_name='".concat(c,"']")}this.$element.off(".wc-variation-form"),this.$element.addClass("wvs-pro-loaded"),this.$element.on("click.wc-variation-form",".wvs_archive_reset_variations > a",this.onReset),this.$element.on("change.wc-variation-form",".variations select",this.onChange),this.$element.on("check_variations.wc-variation-form",this.onCheckVariations),this.$element.on("update_variation_values.wc-variation-form",this.onUpdateAttributes),this.$element.on("found_variation.wc-variation-form",this.onFoundVariation),this.$element.on("reset_data.wc-variation-form",this.onResetDisplayedVariation),this.$element.on("woocommerce_variation_has_changed.wc-variation-form",this.onVariationChanged),this.is_cart_button_available&&this.$cart_button.on("click.wc-variation-form",this.onAjaxAddToCart),this.haveSingleVariationPreview()&&(this.$element.on("click.wc-variation-form",".wvs_archive_reset_variations > a",this.onResetDisplayedVariation),this.$element.on("change.wc-variation-form",s,this.onPreviewChange)),woo_variation_swatches_pro_options.enable_catalog_mode&&"expand"===woo_variation_swatches_pro_options.catalog_mode_behaviour&&this.$element.on("click.wc-variation-form",".woo-variation-swatches-variable-item-more",this.onExpandVariableItems),!woo_variation_swatches_pro_options.enable_catalog_mode&&woo_variation_swatches_pro_options.enable_archive_display_limit&&this.$element.on("click.wc-variation-form",".woo-variation-swatches-variable-item-more",this.onExpandVariableItems),this.$element.on("woo_variation_swatches_pro_loaded.wc-variation-form",this.onInit),this.$element.trigger("woo_variation_swatches_pro_loaded",this)}var n,s,c;return n=t,s=[{key:"start",value:function(){var t=this;setTimeout((function(){t.$element.trigger("check_variations"),t.$element.trigger("woo_variation_swatches_pro",t),t.swatchInit()}),100)}},{key:"haveSingleVariationPreview",value:function(){return!woo_variation_swatches_pro_options.enable_catalog_mode&&woo_variation_swatches_pro_options.enable_single_variation_preview&&woo_variation_swatches_pro_options.enable_single_variation_preview_archive}},{key:"AjaxAddToCart",value:function(t){var i=this,o=r(t),n=o.data("quantity"),s=this.getQueryArgs(o.attr("href")),c=this.getAttributes(s),l=s.variation_id,_=a(a({},c),{},{quantity:n,product_id:l});o.removeClass("added"),o.addClass("loading"),r(document.body).trigger("adding_to_cart",[o,_]),r.ajax({dataType:"json",global:!1,url:woo_variation_swatches_pro_params.wc_ajax_url.toString().replace("%%endpoint%%","woo_add_to_cart_variation"),method:"POST",data:_}).fail((function(t,e){console.error("product cart data not available.",_,e)})).done((function(t){t&&(t.error&&t.product_url?e.location=t.product_url:"yes"!==woo_variation_swatches_pro_options.cart_redirect_after_add?(r(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o]),i.$is_block&&(i.$view_cart_link.removeClass("wvs-hide-view-cart-link"),o.removeClass("loading"),o.addClass("added"))):e.location=woo_variation_swatches_pro_options.cart_url)})).always((function(){}))}},{key:"getAttributes",value:function(t){var e={};for(var a in t)"attribute_"===a.substring(0,10)&&(e[a]=t[a]);return e}},{key:"expandVariableItems",value:function(t){r(t.currentTarget).parent().removeClass("enabled-display-limit-mode enabled-catalog-display-limit-mode enabled-archive-display-limit-mode"),r(t.currentTarget).remove()}},{key:"init",value:function(){var t=this,e=this.threshold_max,a=this.total_children;this.defaultImage(),this.defaultCartButton(),this.isAjaxVariation()&&e>=a?(this.xhr&&this.xhr.abort(),woo_variation_swatches_pro_options.enable_archive_preloader&&this.$element.block({message:null,overlayCSS:{background:"#FFFFFF",opacity:.6}}),this.xhr=r.ajax({global:!1,cache:!0,url:woo_variation_swatches_pro_params.wc_ajax_url.toString().replace("%%endpoint%%","woo_get_variations"),method:"POST",data:{product_id:this.product_id,is_archive:!0}}),this.xhr.fail((function(e,a){console.error("product archive variations not available on: ".concat(t.product_id,"."),a)})),this.xhr.done((function(e){e&&(t.$element.data("product_variations",e),t.product_variations=t.$element.data("product_variations"),t.is_ajax_variation=!1,t.start())})),this.xhr.always((function(){woo_variation_swatches_pro_options.enable_archive_preloader&&t.$element.unblock()}))):this.start()}},{key:"initFetch",value:function(){var t=this,e=this.threshold_max,a=this.total_children;this.defaultImage(),this.defaultCartButton(),this.isAjaxVariation()&&e>=a?(woo_variation_swatches_pro_options.enable_archive_preloader&&this.$element.block({message:null,overlayCSS:{background:"#FFFFFF",opacity:.6}}),wp.apiFetch({path:"woo-variation-swatches/v1/archive-product/".concat(this.product_id)}).then((function(e){t.$element.data("product_variations",e),t.product_variations=t.$element.data("product_variations"),t.is_ajax_variation=!1,t.start()})).catch((function(e){console.error("archive product variations fetching failed: ".concat(t.product_id,"."),e)})).finally((function(){woo_variation_swatches_pro_options.enable_archive_preloader&&t.$element.unblock()}))):this.start()}},{key:"fetchPreviewChange",value:function(t){var e=this,a=r(t).data("attribute_name")||r(t).attr("name"),i=r(t).val()||"",o={},n=this.getChosenAttributes();i&&n.count&&n.count>n.chosenCount&&(o.product_id=this.product_id,o[a]=i,wp.apiFetch({path:wp.url.addQueryArgs("/woo-variation-swatches/v1/archive-product-preview",o)}).then((function(t){e.updatePreviewImage(t)})).catch((function(t){console.error("archive product variation preview fetching failed: ".concat(e.product_id,"."),t)})).finally((function(){})))}},{key:"previewChange",value:function(t){var e=this,a=r(t).data("attribute_name")||r(t).attr("name"),i=r(t).val()||"",o={},n=this.getChosenAttributes();i&&n.count&&n.count>n.chosenCount&&(o.product_id=this.product_id,o[a]=i,this.previewXhr=r.ajax({global:!1,url:woo_variation_swatches_pro_params.wc_ajax_url.toString().replace("%%endpoint%%","woo_get_preview_variation"),method:"POST",data:o}),this.previewXhr.fail((function(t,i){console.error("archive product preview not available on ".concat(e.product_id,"."),a,i)})),this.previewXhr.done((function(t){e.updatePreviewImage(t)})))}},{key:"getAvailableVariations",value:function(){return this.$element.data("product_variations")||[]}},{key:"toggleResetLink",value:function(t){t?this.$resetVariations.removeClass("show hide").addClass("show"):this.$resetVariations.removeClass("show hide").addClass("hide")}},{key:"reset",value:function(){this.$attributeFields.val("").trigger("change"),this.$element.trigger("reset_data")}},{key:"getChosenAttributes",value:function(){var t={},e=0,a=0;return this.$attributeFields.each((function(){var i=r(this).data("attribute_name")||r(this).attr("name"),o=r(this).val()||"";o.length>0&&a++,e++,t[i]=o})),{count:e,chosenCount:a,data:t}}},{key:"isMatch",value:function(t,e){var a=!0;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],r=e[i];void 0!==o&&void 0!==r&&0!==o.length&&0!==r.length&&o!==r&&(a=!1)}return a}},{key:"findMatchingVariations",value:function(t,e){for(var a=[],i=0;i<t.length;i++){var o=t[i];this.isMatch(o.attributes,e)&&a.push(o)}return a}},{key:"updateAttributes",value:function(t){var e=this,a=this.getChosenAttributes(),i=a.data;this.isAjaxVariation()||(this.$attributeFields.each((function(t,o){var n,s=r(o),c=s.data("attribute_name")||s.attr("name"),l=r(o).data("show_option_none"),_=":gt(0)",h=r("<select/>"),d=s.val()||"",u=!0;if(!s.data("attribute_html")){var v=s.clone();v.find("option").prop("disabled",!1).prop("selected",!1).removeAttr("attached").removeClass("out-of-stock"),s.data("attribute_html",v.html())}h.html(s.data("attribute_html"));var p=r.extend(!0,{},i);p[c]="";var m=e.findMatchingVariations(e.getAvailableVariations(),p),f={};for(var w in m)if(void 0!==m[w]){var g=m[w].attributes;for(var b in g)if(b===c){var $=g[b];m[w].is_in_stock&&(f[$]=!0)}}for(var y in m)if(void 0!==m[y]){var k=m[y].attributes;for(var C in k)if(k.hasOwnProperty(C)){var x=k[C],j="";if(C===c)if(m[y].variation_is_active&&(j="enabled"),m[y].is_in_stock,x){x=r("<div/>").html(x).text();var P=h.find("option");if(P.length)for(var A=0,V=P.length;A<V;A++){var S=r(P[A]);if(x===S.val()){S.addClass("attached "+j),f.hasOwnProperty(x)||S.addClass("out-of-stock"),a.count>1&&a.chosenCount,a.count>1&&(a.chosenCount,a.count),!woo_variation_swatches_pro_options.enable_clickable_out_of_stock_archive&&a.count;break}}}else h.find("option:gt(0)").addClass("attached "+j)}}n=h.find("option.attached").length,d&&(u=!1,0!==n&&h.find("option.attached.enabled").each((function(){var t=r(this).val();if(d===t)return u=!0,!1}))),n>0&&d&&u&&"no"===l&&(h.find("option:first").remove(),_=""),h.find("option"+_+":not(.attached)").remove(),s.html(h.html()),s.find("option"+_+":not(.enabled)").prop("disabled",!0),d?u?s.val(d):s.val("").trigger("change"):s.val("")})),this.$element.trigger("woocommerce_update_variation_values"))}},{key:"checkVariations",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e||this.getChosenAttributes(),i=a.data;if(a.count&&a.count===a.chosenCount)if(this.isAjaxVariation())this.xhr&&this.xhr.abort(),this.$element.block({message:null,overlayCSS:{background:"#FFFFFF",opacity:.6}}),i.product_id=this.product_id,i.custom_data=this.$element.data("custom_data"),this.xhr=r.ajax({global:!1,url:woo_variation_swatches_pro_params.wc_ajax_url.toString().replace("%%endpoint%%","woo_get_variation"),method:"POST",data:i}),this.xhr.fail((function(e,a){console.error("product variations not available on ".concat(t.product_id,"."),a)})),this.xhr.done((function(e){e?t.$element.trigger("found_variation",[e,!0]):(t.$element.trigger("reset_data"),a.chosenCount=0)})),this.xhr.always((function(){t.$element.unblock()}));else{this.$element.trigger("update_variation_values");var o=this.getAvailableVariations(),n=this.findMatchingVariations(o,i).shift();n?this.$element.trigger("found_variation",[n,!1]):(this.$element.trigger("reset_data"),a.chosenCount=0)}else this.$element.trigger("update_variation_values"),this.$element.trigger("reset_data");this.toggleResetLink(a.chosenCount>0),this.$element.trigger("woo_variation_swatches_pro_check_variations",[a])}},{key:"isAjaxVariation",value:function(){return this.is_ajax_variation}},{key:"swatchInit",value:function(){this.setupSwatchesItems(),this.setupSwatchesEvents()}},{key:"setupSwatchesItems",value:function(){var t=this;this.$element.find("ul.variable-items-wrapper").each((function(e,a){var i="",o=r(a).parent().prev().find(".woo-selected-variation-item-name"),n=r(a).parent().find("select.woo-variation-raw-select"),s=n.find("option"),c=n.find("option:disabled"),l=n.find("option.enabled.out-of-stock"),h=n.find("option:selected"),d=n.find("option").eq(1),u=[],v=[],p=[];s.each((function(){""!==r(this).val()&&(u.push(r(this).val()),i=0===h.length?d.val():h.val())})),c.each((function(){""!==r(this).val()&&v.push(r(this).val())})),l.each((function(){""!==r(this).val()&&p.push(r(this).val())}));var m=_.difference(u,v);t.setupSwatchesItem(a,i,m,p,o)}))}},{key:"setupSwatchesItem",value:function(t,e,a,i,o){var n=this;r(t).find("li.variable-item").each((function(t,s){var c=r(s).attr("data-value"),l=r(s).attr("data-title");r(s).removeClass("selected disabled no-stock").addClass("disabled"),r(s).attr("aria-checked","false"),r(s).attr("tabindex","-1"),r(s).attr("data-wvstooltip-out-of-stock",""),r(s).find("input.variable-item-radio-input:radio").prop("disabled",!0).prop("checked",!1),e.length<1&&woo_variation_swatches_pro_options.show_archive_attribute_label&&o.text(""),n.isAjaxVariation()?(r(s).find("input.variable-item-radio-input:radio").prop("disabled",!1),r(s).removeClass("selected disabled no-stock"),c===e&&(r(s).addClass("selected"),r(s).attr("aria-checked","true"),r(s).attr("tabindex","0"),r(s).find("input.variable-item-radio-input:radio").prop("disabled",!1).prop("checked",!0),woo_variation_swatches_pro_options.show_archive_attribute_label&&woo_variation_swatches_pro_options.show_archive_variation_label&&o.text("".concat(woo_variation_swatches_pro_options.archive_variation_label_separator," ").concat(l)),r(s).trigger("wvs-item-updated",[e,c]))):(_.includes(a,c)&&(r(s).removeClass("selected disabled"),r(s).removeAttr("aria-hidden"),r(s).attr("tabindex","0"),r(s).find("input.variable-item-radio-input:radio").prop("disabled",!1),c===e&&(r(s).addClass("selected"),r(s).attr("aria-checked","true"),r(s).find("input.variable-item-radio-input:radio").prop("checked",!0),woo_variation_swatches_pro_options.show_archive_attribute_label&&woo_variation_swatches_pro_options.show_archive_variation_label&&o.text("".concat(woo_variation_swatches_pro_options.archive_variation_label_separator," ").concat(l)),r(s).trigger("wvs-item-updated",[e,c]))),_.includes(i,c)&&woo_variation_swatches_pro_options.clickable_out_of_stock&&(r(s).removeClass("disabled").addClass("no-stock"),r(s).attr("data-wvstooltip-out-of-stock",woo_variation_swatches_pro_options.out_of_stock_tooltip_text)))}))}},{key:"setupSwatchesEvents",value:function(){var t=this,a=this;this.$element.find("ul.variable-items-wrapper").each((function(i,o){var n=r(o).parent().find("select.woo-variation-raw-select");if(woo_variation_swatches_pro_options.clear_on_reselect?(r(o).on("click.wc-variation-form","li.variable-item:not(.selected):not(.radio-variable-item)",(function(t){t.preventDefault(),t.stopPropagation();var e=r(this).data("value");n.val(e).trigger("change"),n.trigger("click"),woo_variation_swatches_pro_options.is_mobile,r(this).trigger("wvs-selected-item",[e,n,a.$element])})),r(o).on("click.wc-variation-form","li.variable-item.selected:not(.radio-variable-item)",(function(t){t.preventDefault(),t.stopPropagation();var e=r(this).val();if(woo_variation_swatches_pro_options.enable_catalog_mode&&"hover"===woo_variation_swatches_pro_options.catalog_mode_trigger)return!1;n.val("").trigger("change"),n.trigger("click"),r(this).trigger("wvs-unselected-item",[e,n,a.$element])})),r(o).on("click.wc-variation-form","input.variable-item-radio-input:radio",(function(t){t.stopPropagation(),r(this).trigger("change.wc-variation-form",{radioChange:!0})})),r(o).on("change.wc-variation-form","input.variable-item-radio-input:radio",(function(t,e){if(t.preventDefault(),t.stopPropagation(),e&&e.radioChange){var i=r(this).val();r(this).parent("li.radio-variable-item").hasClass("selected")?(n.val("").trigger("change"),r(this).parent("li.radio-variable-item").trigger("wvs-unselected-item",[i,n,a.$element])):(n.val(i).trigger("change"),r(this).parent("li.radio-variable-item").trigger("wvs-selected-item",[i,n,a.$element])),n.trigger("click"),woo_variation_swatches_pro_options.is_mobile}}))):(r(o).on("click.wc-variation-form","li.variable-item:not(.radio-variable-item)",(function(t){t.preventDefault(),t.stopPropagation();var e=r(this).data("value");n.val(e).trigger("change"),n.trigger("click"),woo_variation_swatches_pro_options.is_mobile,r(this).trigger("wvs-selected-item",[e,n,a._element])})),r(o).on("change.wc-variation-form","input.variable-item-radio-input:radio",(function(t){t.preventDefault(),t.stopPropagation();var e=r(this).val();n.val(e).trigger("change"),n.trigger("click"),woo_variation_swatches_pro_options.is_mobile,r(this).parent("li.radio-variable-item").removeClass("selected disabled no-stock").addClass("selected"),r(this).parent("li.radio-variable-item").trigger("wvs-selected-item",[e,n,a.$element])}))),r(o).on("keydown.wvs","li.variable-item:not(.disabled)",(function(t){(t.keyCode&&32===t.keyCode||t.key&&" "===t.key||t.keyCode&&13===t.keyCode||t.key&&"enter"===t.key.toLowerCase())&&(t.preventDefault(),r(this).trigger("click"))})),woo_variation_swatches_pro_options.enable_catalog_mode&&"hover"===woo_variation_swatches_pro_options.catalog_mode_trigger&&(t.threshold_max<t.total_children?r(o).on("mouseenter.wvs","li.variable-item:not(.radio-variable-item)",(function(){r(this).trigger("click"),r(o).off("mouseenter.wvs")})):r(o).on("mouseenter.wvs","li.variable-item:not(.radio-variable-item)",(function(t){r(this).trigger("click")})),woo_variation_swatches_pro_options.linkable_attribute)){if(woo_variation_swatches_pro_options.is_mobile&&!woo_variation_swatches_pro_options.linkable_attribute_mobile)return!0;r(o).on("click.linkable","li.variable-item:not(.radio-variable-item)",(function(t){if(void 0!==t.originalEvent){var a=r(this).attr("data-url");a&&(e.location.href=a)}}))}})),this.$element.find("[data-wvstooltip]").each((function(t,a){r(a).on("mouseenter",(function(t){var i=a.getBoundingClientRect(),o=e.getComputedStyle(a,":before"),r=e.getComputedStyle(a,":after"),n=parseInt(r.getPropertyValue("border-top-width"),10),s=parseInt(o.getPropertyValue("height"),10),c=parseInt(o.getPropertyValue("width"),10),l=s+n+2;a.classList.toggle("wvs-tooltip-position-bottom",i.top<l);var _=c/2,h=i.left+i.width/2,d=_-h,u=_>h,v=_+h,p=document.body.clientWidth<v,m=document.body.clientWidth-v;a.style.setProperty("--horizontal-position","0px"),u&&a.style.setProperty("--horizontal-position","".concat(d+2,"px")),p&&a.style.setProperty("--horizontal-position","".concat(m-2,"px"))}))}))}},{key:"resetDisplayedVariation",value:function(){this.resetPrice(),this.resetImage(),this.resetAvailabilityInfo(),this.resetCartButton()}},{key:"foundVariation",value:function(t,e){var a=!0;this.updateImage(t),this.reAttachCatalogModeHover(),woo_variation_swatches_pro_options.enable_catalog_mode||(this.updateAvailabilityInfo(t),this.updatePrice(t)),t.is_purchasable&&t.is_in_stock&&t.variation_is_visible||(a=!1),a&&!woo_variation_swatches_pro_options.enable_catalog_mode?this.updateCartButton(t):this.resetCartButton(),1===this.total_attribute&&woo_variation_swatches_pro_options.enable_catalog_mode&&woo_variation_swatches_pro_options.disable_catalog_mode_on_single_attribute&&(this.updateAvailabilityInfo(t),this.updatePrice(t),a?this.updateCartButton(t):this.resetCartButton()),this.$element.trigger("show_variation",[t,a])}},{key:"reAttachCatalogModeHover",value:function(){!woo_variation_swatches_pro_options.is_mobile&&this.threshold_max<this.total_children&&woo_variation_swatches_pro_options.enable_catalog_mode&&"hover"===woo_variation_swatches_pro_options.catalog_mode_trigger&&this.$element.find("ul.variable-items-wrapper").each((function(t,e){r(e).one("mouseenter.wc-variation-form","li.variable-item:not(.radio-variable-item):not(.selected)",(function(){r(this).trigger("click")}))}))}},{key:"updateCartButton",value:function(t){if(this.is_cart_button_available){this.$cart_button.removeClass("added"),this.$is_block?this.$view_cart_link.addClass("wvs-hide-view-cart-link"):this.$wrapper.find(".added_to_cart").remove();var e=a(a({},this.getChosenAttributes().data),{},{"add-to-cart":this.product_id,variation_id:t.variation_id});this.$cart_button.attr("href",this.addQueryArgs(this.$cart_button.attr("href"),e)),this.$cart_button.html(t.add_to_cart_text),this.$cart_button.attr("aria-label",t.add_to_cart_description),"yes"===woo_variation_swatches_pro_options.enable_ajax_add_to_cart&&this.$cart_button.addClass("wvs_ajax_add_to_cart")}}},{key:"resetCartButton",value:function(){this.is_cart_button_available&&(this.$cart_button.data("variation_id",""),this.$cart_button.data("variations",""),this.$cart_button.html(this.$cart_button.attr("data-o_html")),this.$cart_button.attr("data-product_id",this.$cart_button.attr("data-o_product_id")),this.$cart_button.attr("href",this.$cart_button.attr("data-o_href")),this.$cart_button.attr("aria-label",this.$cart_button.attr("data-o_aria-label")),this.$cart_button.removeClass("wvs_ajax_add_to_cart"),this.$cart_button.removeClass("added"),this.$is_block?this.$view_cart_link.addClass("wvs-hide-view-cart-link"):this.$wrapper.find(".added_to_cart").remove())}},{key:"addQueryArgs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(t);for(var i in e)a.searchParams.set(i,e[i]);return a.href}},{key:"getQueryArgs",value:function(t){var e=new URL(t);return Object.fromEntries(e.searchParams)}},{key:"updateAvailabilityInfo",value:function(t){var e;woo_variation_swatches_pro_options.archive_show_availability&&(e=(e=(e=(t.variation_is_visible?wp.template("wvs-variation-template"):wp.template("wvs-unavailable-variation-template"))({variation:t})).replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),this.$information.html(e))}},{key:"resetAvailabilityInfo",value:function(){this.$information.html("")}},{key:"updatePrice",value:function(t){t&&t.price_html&&t.price_html.length>1&&this.$price.html(t.price_html)}},{key:"resetPrice",value:function(){this.$price.html(this.$price_html)}},{key:"defaultImage",value:function(){this.$image.attr("data-o_src",this.$image.attr("src")),this.$image.attr("srcset")&&this.$image.attr("data-o_srcset",this.$image.attr("srcset")),this.$image.attr("sizes")&&this.$image.attr("data-o_sizes",this.$image.attr("sizes"))}},{key:"defaultCartButton",value:function(){this.is_cart_button_available&&(this.$cart_button.attr("data-o_html",this.$cart_button.html()),this.$cart_button.attr("href")&&this.$cart_button.attr("data-o_href",this.$cart_button.attr("href")),this.$cart_button.attr("aria-label")&&this.$cart_button.attr("data-o_aria-label",this.$cart_button.attr("aria-label")))}},{key:"updateImage",value:function(t){t&&t.image&&t.image.src&&t.image.src.length>1&&(this.$image.attr("src",t.image.src),t.image.srcset&&t.image.srcset.length>1&&this.$image.attr("srcset",t.image.srcset),t.image.sizes&&t.image.sizes.length>1&&this.$image.attr("sizes",t.image.sizes))}},{key:"updatePreviewImage",value:function(t){t&&t.image&&t.image.thumb_src&&t.image.thumb_src.length>1&&(this.$image.attr("src",t.image.thumb_src),t.image.srcset&&t.image.srcset.length>1&&this.$image.attr("srcset",t.image.srcset),t.image.sizes&&t.image.sizes.length>1&&this.$image.attr("sizes",t.image.sizes))}},{key:"resetImage",value:function(){this.$image.attr("src",this.$image.attr("data-o_src")),this.$image.attr("data-o_srcset")&&this.$image.attr("srcset",this.$image.attr("data-o_srcset")),this.$image.attr("data-o_sizes")&&this.$image.attr("sizes",this.$image.attr("data-o_sizes"))}},{key:"destroy",value:function(){this.$element.off(".wc-variation-form"),this.$element.removeClass("wvs-pro-loaded"),this.$element.removeData(this.name)}}],s&&i(n.prototype,s),c&&i(n,c),Object.defineProperty(n,"prototype",{writable:!1}),t}()),s=function(e){return function(a,i){e.fn[a]=function(o){for(var r=this,n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];return this.each((function(n,c){var l=e(c),_=l.data(a);if(_||(_=new i(l,e.extend({},o),a),l.data(a,_)),"string"==typeof o){if("object"===t(_[o]))return _[o];var h;if("function"==typeof _[o])return(h=_)[o].apply(h,s)}return r}))},e.fn[a].Constructor=i,e[a]=function(t){for(var i,o=arguments.length,r=new Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return(i=e({}))[a].apply(i,[t].concat(r))},e.fn[a].noConflict=function(){return e.fn[a]}}}(jQuery);s("WooVariationSwatchesPro",n)}(window)}(),jQuery((function(t){try{t(document).on("woo_variation_swatches_pro_init",(function(){t(".wvs-archive-variations-wrapper:not(.wvs-pro-loaded)").WooVariationSwatchesPro()})).trigger("woo_variation_swatches_pro_init")}catch(t){window.console.log("Variation Swatches Pro:",t)}t(document).on("jet-filter-content-rendered.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("yith_infs_added_elem.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("astraInfinitePaginationLoaded.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).ajaxComplete((function(t,e,a){_.delay((function(){}),100)})),t(document.body).on("post-load.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("yith-wcan-ajax-filtered.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("yith_wcwl_reload_fragments",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("berocket_ajax_products_loaded.wvs berocket_ajax_products_infinite_loaded.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t(".shop-container .products, .infinite-scroll-wrap").on("append.infiniteScroll",(function(e,a,i){t(document).trigger("woo_variation_swatches_pro_init")})),t(document).on("facetwp-loaded.wvs",(function(){t(document.body).trigger("woo_variation_swatches_pro_init")})),t(document).on("nm_infload_after.wvs nm_ajax_shop_update_content.wvs",(function(){t(document).trigger("woo_variation_swatches_pro_init")})),t("body").on("aln_reloaded.wvs",(function(){_.delay((function(){t(document).trigger("woo_variation_swatches_pro_init")}),100)}))}));