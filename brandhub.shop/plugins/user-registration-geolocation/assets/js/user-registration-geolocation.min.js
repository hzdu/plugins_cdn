jQuery(function(d){var a={init:function(){d("input[data-autocomplete-address='1']").each(function(e){var o=d(this),t=o.data("address-style");o.data("current-location")&&navigator.geolocation.getCurrentPosition(a.currentPosition),"address"===t?a.autoAddressfield(o):"map"===t&&a.gmapAddressfield(o)})},autoAddressfield:function(e){e.data("address-style"),new google.maps.places.SearchBox(document.getElementById(e.attr("id")))},gmapAddressfield:function(t){var e;""!=t.val()?(new google.maps.Geocoder).geocode({address:t.val()},function(e){var o=e[0].geometry.location.lat(),e=e[0].geometry.location.lng();a.setDefaultMapPosition({lat:o,lng:e},t)}):(e=new google.maps.LatLng(38.897696,-77.036519),a.setDefaultMapPosition(e,t))},currentPosition:function(g){d("input[data-autocomplete-address='1']").each(function(e){var n,s,a=d(this),o=a.data("address-style"),t=new google.maps.LatLng(g.coords.latitude,g.coords.longitude);"map"==o&&(o={zoom:8,center:t,disableDefaultUI:!1,scrollWheel:!0,draggable:!0},map=new google.maps.Map(document.getElementById("ur-geolocation-map"),o),n=new google.maps.Marker({position:o.center,map:map,draggable:!0}),s=new google.maps.places.SearchBox(document.getElementById(a.attr("id"))),google.maps.event.addListener(n,"dragend",function(e){var t;n.getPosition().lat(),n.getPosition().lng();(new google.maps.Geocoder).geocode({latLng:n.getPosition()},function(e,o){"OK"===o&&(t=e[0].formatted_address,component=e[0].address_components,a.val(t).trigger("change"))})}),google.maps.event.addListener(s,"places_changed",function(){for(var e,o=s.getPlaces(),t=new google.maps.LatLngBounds,a=(o[0].formatted_address,0);e=o[a];a++)t.extend(e.geometry.location),n.setPosition(e.geometry.location);map.fitBounds(t),map.setZoom(15),n.getPosition().lat(),n.getPosition().lng()})),(new google.maps.Geocoder).geocode({latLng:t},function(e,o){"OK"===o&&(address=e[0].formatted_address,a.val(address).trigger("change"))})})},setDefaultMapPosition:function(e,a){var e={zoom:8,center:e,disableDefaultUI:!1,scrollWheel:!0,draggable:!0},n=(map=new google.maps.Map(document.getElementById("ur-geolocation-map"),e),new google.maps.Marker({position:e.center,map:map,draggable:!0})),s=new google.maps.places.SearchBox(document.getElementById(a.attr("id")));google.maps.event.addListener(n,"dragend",function(e){var t;n.getPosition().lat(),n.getPosition().lng();(new google.maps.Geocoder).geocode({latLng:n.getPosition()},function(e,o){"OK"===o&&(t=e[0].formatted_address,component=e[0].address_components,a.val(t).trigger("change"))})}),google.maps.event.addListener(s,"places_changed",function(){for(var e,o=s.getPlaces(),t=new google.maps.LatLngBounds,a=(o[0].formatted_address,0);e=o[a];a++)t.extend(e.geometry.location),n.setPosition(e.geometry.location);map.fitBounds(t),map.setZoom(15),n.getPosition().lat(),n.getPosition().lng()})}};a.init(jQuery)});