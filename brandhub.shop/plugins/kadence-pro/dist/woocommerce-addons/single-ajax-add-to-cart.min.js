(function(a){a.fn.serializeArrayAll=function(){var a=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(b,c){var d=jQuery(this).val();return null==d?null==d:"checkbox"==this.type&&!1==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(d)?jQuery.map(d,function(b){return{name:c.name,value:b.replace(a,"\r\n")}}):{name:c.name,value:d.replace(a,"\r\n")}}).get()},a(document).on("click",".single_add_to_cart_button:not(.disabled)",function(b){var c=a(this),d=c.closest("form.cart"),e=d.find("input:not([name=\"product_id\"]):not([type=\"radio\"]):not([type=\"button\"]), input[type=\"radio\"]:checked, select, button, textarea").serializeArrayAll()||0,f={action:"kadence_pro_add_to_cart"};return a.each(e,function(a,b){"add-to-cart"==b.name?(b.name="product_id",b.value=d.find("input[name=variation_id]").val()||c.val(),f.product_id=d.find("input[name=variation_id]").val()||c.val()):b.name&&(f[b.name]=b.value)}),b.preventDefault(),a(document.body).trigger("adding_to_cart",[c,e]),a.ajax({type:"POST",url:woocommerce_params.ajax_url,data:f,beforeSend:function(){c.removeClass("added").addClass("loading")},complete:function(){c.addClass("added").removeClass("loading")},success:function(b){return b.error&&b.product_url?void location.reload():void a(document.body).trigger("added_to_cart",[b.fragments,b.cart_hash,c])}}),!1})})(jQuery);