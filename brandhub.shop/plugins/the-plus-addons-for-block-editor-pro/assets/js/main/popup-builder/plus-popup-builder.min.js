let tpPopupData=new Map;document.addEventListener("DOMContentLoaded",function(){document.body.classList.contains("block-editor-page")||tppopup(document)});function tppopup(a){var b=a.querySelectorAll(".tpgb-offcanvas-wrapper");b.forEach(function(b){showuserRest(b);var c=b.querySelector(".scroll-view"),d=b.querySelector(".offcanvas-toggle-btn.position-fixed");b.classList.contains("scroll-view")&&d&&window.addEventListener("scroll",function(){var b=window.pageYOffset||document.documentElement.scrollTop,d=parseInt(c.getAttribute("data-scroll-view")),e=c.getAttribute("data-canvas-id"),f=a.querySelector("."+e);b>d?f.classList.add("show"):f.classList.remove("show")})})}function PlusOffcanvas(b){"use strict";this.wrap=b,this.content=b.querySelector(".tpgb-canvas-content-wrap"),this.button=b.querySelector(".offcanvas-toggle-btn"),this.settings=JSON.parse(this.wrap.dataset.settings),this.id=this.settings.content_id,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.direction=this.settings.direction,this.trigger=this.settings.trigger,this.onpageLoad=this.settings.onpageLoad,this.onpageloadDelay=this.settings.onpageloadDelay,this.onScroll=this.settings.onScroll,this.onpageviews=this.settings.onpageviews,this.exitinlet=this.settings.exitInlet,this.inactivity=this.settings.inactivity,this.extraclick=this.settings.extraclick,this.prevurl=this.settings.prevurl,this.scrollHeight=this.settings.scrollHeight,this.previousUrl=this.settings.previousUrl,this.extraId=this.settings.extraId,this.inactivitySec=this.settings.inactivitySec,this.showuseRes=this.settings.showuseRes,this.noXTimes=this.settings.noXTimes,this.tpgbXdays=this.settings.days,this.duration=500,this.time=0,this.flag=!0,this.ele=document.querySelector(".tpgb-block-"+this.id+"-canvas"),this.animSetting=this.ele&&this.ele.dataset&&this.ele.dataset.animationsetting?JSON.parse(this.ele.dataset.animationsetting):"",this.destroy(),this.init(),tpPopupData.set(this.id,this.settings)}PlusOffcanvas.prototype={id:"",wrap:"",content:"",button:"",settings:{},transition:"",delaytimeout:"",ele:"",duration:400,initialized:!1,animSetting:{},animations:["slide","slide-along","reveal","push","popup"],init:function(){var a="yes"===this.body_click_close?"":"tpgb-pop-outer-none";if(null!=this.wrap){if(document.documentElement.classList.add("tpgb-offcanvas-content-widget"),0===document.querySelectorAll(".tpgb-offcanvas-container").length){var b=document.createElement("div");for(b.className="tpgb-offcanvas-container "+a;document.body.firstChild;)b.appendChild(document.body.firstChild);document.body.appendChild(b)}var c=this.wrap.querySelector(".tpgb-canvas-content-wrap");if(c){var d=document.querySelectorAll(".tpgb-offcanvas-container > .tpgb-block-"+this.id+"-canvas");d.forEach(function(a){a.parentNode.removeChild(a)});var e=document.querySelectorAll("body > .tpgb-block-"+this.id+"-canvas");e.forEach(function(a){a.parentNode.removeChild(a)}),document.body.insertBefore(c,document.body.firstChild)}this.bindEvents()}var f=this;document.addEventListener("wpcf7mailsent",function(){f.destroy()},!1)},destroy:function(){this.close(),this.animations.forEach(function(a){document.documentElement.classList.contains("tpgb-"+a)&&document.documentElement.classList.remove("tpgb-"+a)});document.querySelectorAll(".tpgb-block-"+this.id+"-canvas").length},bindEvents:function(){this.button&&this.trigger&&"yes"===this.trigger&&this.button.addEventListener("click",this.toggleContent.bind(this)),"yes"==this.extraclick&&this.extraId&&""!==this.extraId&&document.querySelectorAll("."+this.extraId).forEach(function(a){a.addEventListener("click",this.toggleContent.bind(this))}.bind(this)),("yes"===this.onpageLoad||"yes"===this.inactivity||"yes"===this.prevurl||"yes"===this.onpageviews)&&this.loadShow(),window.addEventListener("scroll",this.scrollShow.bind(this)),document.addEventListener("mouseleave",this.exitInlet.bind(this)),document.body.addEventListener("click",function(a){let b=document.querySelector(".tpgb-offcanvas-close-"+this.id);b&&a.target!=this.button&&a.target!=this.content&&a.target==b&&this.close()}.bind(this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick()},triggerClick:function(){if("yes"==this.extraclick&&this.extraId&&""!==this.extraId&&this.flag){var a=document.querySelectorAll("."+this.extraId);a.forEach(function(a){a.addEventListener("click",this.toggleContent.bind(this))},this)}},toggleContent:function(a){var b=this;"yes"==b.extraclick&&b.extraId&&""!==b.extraId&&a.preventDefault();var c=document.documentElement;c.classList.contains("tpgb-open")?b.close():b.flag&&b.show()},exitInlet:function(){"yes"==this.exitinlet&&this.flag?(this.show(),this.flag=!1):""},loadShow:function(){if(("yes"==this.onpageLoad||"yes"==this.onpageviews)&&this.flag&&setTimeout(()=>{this.show(),this.flag=!1},"yes"==this.onpageLoad?this.onpageloadDelay:500),"yes"==this.inactivity&&this.flag&&this.inactivitySec&&""!=this.inactivitySec){var a;if(this.flag){}document.onmousemove=resetTimer(this),document.onkeypress=resetTimer(this)}"yes"==this.prevurl&&this.previousUrl&&document.referrer&&this.previousUrl==document.referrer&&this.flag&&setTimeout(()=>{this.show()},500)},scrollShow:function(){var a=this.scrollHeight,b=window.pageYOffset;"yes"===this.onScroll&&this.flag&&b>=a&&(this.show(),this.flag=!1)},AnimIn:function(){!this.ele.classList.contains("tpgb_animated")&&this.animSetting&&this.animSetting.anime!==void 0&&(this.ele.classList.remove("tpgb-view-animation-out","tpgb_animated_out","tpgb_"+this.animSetting.animeOut),this.ele.classList.add("tpgb_animated","tpgb_"+this.animSetting.anime))},AnimOut:function(){var a=document.querySelector(".tpgb-block-"+this.id+"-canvas");a.classList.contains("tpgb-visible")&&!this.ele.classList.contains("tpgb_animated_out")&&this.animSetting&&this.animSetting.animeOut!==void 0&&(this.ele.classList.remove("tpgb_animated","tpgb_"+this.animSetting.anime),this.ele.classList.add("tpgb_"+this.animSetting.animeOut,"tpgb-view-animation-out","tpgb_animated_out"))},show:function(){var a=document.querySelector(".tpgb-block-"+this.id+"-canvas"),b=document.documentElement;a.classList.add("tpgb-visible"),b.classList.add("tpgb-"+this.transition),b.classList.add("tpgb-"+this.direction),b.classList.add("tpgb-open"),b.classList.add("tpgb-block-"+this.id+"-canvas-open"),b.classList.add("tpgb-reset"),this.button&&this.button.classList.add("tpgb-is-active"),this.AnimIn()},close:function(){var a=document.querySelector(".tpgb-block-"+this.id+"-canvas"),b=document.documentElement,c=this.button?this.button:"";a.classList.contains("tpgb-slide-along")?(this.delaytimeout=0,a.classList.remove("tpgb-visible")):this.delaytimeout=this.animSetting&&this.animSetting.custoutDur?this.animSetting.custoutDur:500,setTimeout(function(){b.classList.remove("tpgb-block-"+this.id+"-canvas-open"),b.classList.remove("tpgb-open"),b.classList.remove("tpgb-reset"),b.classList.remove("tpgb-"+this.transition),b.classList.remove("tpgb-"+this.direction),a.classList.contains("tpgb-slide-along")||a.classList.remove("tpgb-visible")}.bind(this),this.delaytimeout),this.button&&c.classList.remove("tpgb-is-active"),this.AnimOut()},closeESC:function(){var a=this;""!==a.settings.esc_close&&document.addEventListener("keydown",function(b){27===b.keyCode&&a.close()})},closeClick:function(){var a=this;document.addEventListener("click",function(b){var c=[];tpPopupData.forEach(function(b){b.extraclick&&"yes"==b.extraclick&&b.extraId&&""!==b.extraId&&a.flag&&c.push("."+b.extraId)});var d=b.target,e=d.matches(".tpgb-canvas-content-wrap")||d.closest(".tpgb-canvas-content-wrap"),f=d.matches(".off-can-img-svg"),g=d.matches(".close-custom_img"),h=d.matches(".offcanvas-toggle-btn"),i=c.some(function(a){return d.matches(a)||d.closest(a)});(e||f||h||i)&&!g||a.close()})}};function showuserRest(a){var b=JSON.parse(a.getAttribute("data-settings")),c="tpgbXTimeView-"+b.content_id,d=!0;if(b.showuseRes&&"yes"==b.showuseRes&&""!=b.noXTimes&&""!=b.days){var e=JSON.parse(localStorage.getItem(c));if(e!=null&&e.xtimeView!=null){var f=+e.xtimeView+1;localStorage.setItem(c,JSON.stringify(Object.assign({},e,{xtimeView:f})))}else localStorage.setItem(c,"{ \"xtimeView\": 1 }");if(+JSON.parse(localStorage.getItem(c)).xtimeView<=+b.noXTimes)d=!0;else{var g=new Date,h=new Date,i=h.setDate(g.getDate()+ +b.days),e=localStorage.getItem(c);e=JSON.parse(e);var j=Object.assign({},e,{Xdate:i});null!=e&&null==e.Xdate&&localStorage.setItem(c,JSON.stringify(j)),d=!1;var k=localStorage.getItem(c);k=JSON.parse(k),null!=k&&null!=k.Xdate&&new Date(+g)>new Date(+k.Xdate)&&(localStorage.removeItem(c),d=!0)}}else localStorage.getItem(c)&&localStorage.removeItem(c);return!!d&&void new PlusOffcanvas(a)}