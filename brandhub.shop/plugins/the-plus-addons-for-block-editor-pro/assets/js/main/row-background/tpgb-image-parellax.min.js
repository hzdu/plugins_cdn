function tpgbimageParellax(t){t.querySelectorAll(".tpgb-section:not(.tpgb-section-editor), .tpgb-container-row:not(.tpgb-container-row-editor)").forEach(function(t){var e,a,r,o,l=t.querySelector(".tpgb-deep-layer");l&&l.classList.contains("tpgb-img-parallax-hover")&&(r=l.getAttribute("data-opacity"),e=l.getAttribute("data-amount"),o=l.getAttribute("data-perspective"),a=l.getAttribute("data-scale"),t=l.getAttribute("data-type"),l.style.opacity=r,r=0,r="tilt"===t?.6*-parseInt(e)+"%":-parseInt(e)+"px",l.style.top=r,l.style.left=r,l.style.right=r,l.style.bottom=r,l.style.transform="scale("+a+") perspective("+o+"px)",o=document.querySelectorAll(".tpgb-img-parallax-mouse"),Array.prototype.forEach.call(o,function(t,e){t.parentNode.classList.add("image_parallax_row")}),o=document.querySelectorAll(".image_parallax_row"),Array.prototype.forEach.call(o,function(t,e){t.addEventListener("mousemove",function(t){for(var e=t.target.parentNode;!e.classList.contains("image_parallax_row");){if("HTML"===e.tagName)return;e=e.parentNode}var a=e.getBoundingClientRect(),p=t.pageY-(a.top+window.pageYOffset),c=t.pageX-(a.left+window.pageXOffset);p/=e.clientHeight,c/=e.clientWidth;a=e.querySelectorAll(".tpgb-img-parallax-hover");Array.prototype.forEach.call(a,function(t,e){var a,r,o,l=parseFloat(t.getAttribute("data-amount")),i=parseFloat(t.getAttribute("data-perspective")),n=parseFloat(t.getAttribute("data-scale")),s="true"===t.getAttribute("data-inverted");"tilt"===t.getAttribute("data-type")?(r=c*l-l/2,o=(1-p)*l-l/2,s&&(r=(1-c)*l-l/2,o=p*l-l/2),a="scale("+n+") perspective("+i+"px) ",a+="rotateY("+r+"deg) ",a+="rotateX("+o+"deg) "):(o=c*l-l/2,l=p*l-l/2,s&&(o*=-1,l*=-1),a="scale("+n+") translate3D("+o+"px, "+l+"px, 0) "),t.style.transition="all 0s",t.style.webkitTransform=a,t.style.transform=a})}),t.addEventListener("mouseout",function(t){for(var e=t.target.parentNode;!e.classList.contains("image_parallax_row");){if("HTML"===e.tagName)return;e=e.parentNode}t=e.querySelectorAll(".tpgb-img-parallax-hover");Array.prototype.forEach.call(t,function(t,e){parseFloat(t.getAttribute("data-amount"));var a=parseFloat(t.getAttribute("data-scale")),r=parseFloat(t.getAttribute("data-perspective"));t.style.transition="all 3s ease-in-out","tilt"===t.getAttribute("data-type")?(t.style.webkitTransform="scale("+a+") perspective("+r+"px) rotateY(0) rotateX(0)",t.style.transform="scale("+a+") perspective("+r+"px) rotateY(0) rotateX(0)"):(t.style.webkitTransform="scale("+a+") translate3D(0, 0, 0)",t.style.transform="scale("+a+") translate3D(0, 0, 0)")})})}))})}document.addEventListener("DOMContentLoaded",function(){tpgbimageParellax(document)});