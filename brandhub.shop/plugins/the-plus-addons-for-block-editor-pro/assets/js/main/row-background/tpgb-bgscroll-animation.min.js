tpgbbgScroll(document);function tpgbbgScroll(){let a=document.querySelectorAll(".tpgb-section:not(.tpgb-section-editor), .tpgb-container-row:not(.tpgb-container-row-editor)");a&&a.forEach(function(a){if(a.querySelector(".tpgb-row-bg-gradient")){var b=a.querySelector(".tpgb-row-bg-gradient"),c=b.dataset.position,d=b.dataset.fullPage;"yes"===d&&(a.closest(".site-content").prepend(b),a.closest(".site-content").style.position=c)}if(a.querySelector(".tpgb-row-scrollbg")){var e=a.querySelector(".tpgb-row-scrollbg"),f=e.querySelector(".tpgb-section-bg-scrolling");if(a.closest(".site-content").prepend(e),a.closest(".site-content").style.position=e.style.position,"yes"===e.dataset.scrollingEffect){var g=e.dataset.bgcolors;if(g=JSON.parse(g),g){var h=e.closest(".site-content"),j=0,k=g.length,l=document.querySelectorAll(".tpgb-section").length?h.querySelectorAll(".tpgb-section"):h.querySelectorAll(".tpgb-container-row");document.querySelectorAll(".tpgb-row-scrollbg").forEach(function(a){a.style.backgroundColor=g[0],l.forEach(function(a){var b,c;k>j?(b=j,c=j+1):(j=0,b=j,c=j+1),""!==g[b]&&void 0!==g[b]&&(b=g[b]),""!==g[c]&&void 0!==g[c]?c=g[c]:(j=0,c=j,c=g[c]),rowTransitionalColor(a,new Color(b),new Color(c)),j++})})}}else if(e){var g=e.dataset.bgcolors,m=document.querySelectorAll(".tpgb-section"),n=m.length?Array.from(document.querySelectorAll(".tpgb-section")):Array.from(document.querySelectorAll(".tpgb-container-row")),o=e.querySelectorAll(".tpgb-section-bg-scrolling"),p=n.length,q=0,c=0;n.forEach(function(a,b){var d=b?n[b]:n[b];b=b?b:p;var f=scrollMonitor.create(d,{top:-300});f.enterViewport(function(){q=b,c=p>=o.length&&b+1>o.length?0:b,e.querySelector(".tpgb-section-bg-scrolling.active").classList.remove("active"),e.querySelectorAll(".tpgb-section-bg-scrolling")[c].classList.add("active")}),f.exitViewport(function(){var a=f.isAboveViewport?b+1:b-1;a<=p&&q!==a&&(q=a,c=p>o.length&&a+1>o.length?0:a,e.querySelector(".tpgb-section-bg-scrolling.active").classList.remove("active"),e.querySelectorAll(".tpgb-section-bg-scrolling")[c].classList.add("active"))})})}}})}function rowTransitionalColor(a,b,c){var d,e,f,g,h,i=0,j=a,k=b,l=c;document.addEventListener("scroll",function(){var a=j.offsetTop,b=800>j.offsetHeight?j.offsetHeight/4:window.innerHeight,c=a+j.offsetHeight-b;i=window.scrollY,i>=a&&i<=c&&(d=(i-a)/(j.offsetHeight-b),e=Math.abs(k.red()+(l.red()-k.red())*d),f=Math.abs(k.green()+(l.green()-k.green())*d),g=Math.abs(k.blue()+(l.blue()-k.blue())*d),h="rgb("+Math.round(e)+","+Math.round(f)+","+Math.round(g)+")",document.querySelector(".tpgb-row-scrollbg").style.backgroundColor=h.toString())})}