var bootbox=window.bootbox||function(m,k){var w=!0,y="static",g="javascript:;",x="",d={},s={};function f(o){return o}return s.setIcons=function(o){"object"==typeof(d=o)&&null!=d||(d={})},s.alert=function(){var o="",e=f("Ok"),a=null;switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0],"function"==typeof arguments[1]?a=arguments[1]:e=arguments[1];break;case 3:o=arguments[0],e=arguments[1],a=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return s.dialog(o,{label:e,icon:d.OK,callback:a},{onEscape:a||!0})},s.confirm=function(){var o="",e=f("Cancel"),a=f("Confirm"),n=null;switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0],"function"==typeof arguments[1]?n=arguments[1]:e=arguments[1];break;case 3:o=arguments[0],e=arguments[1],"function"==typeof arguments[2]?n=arguments[2]:a=arguments[2];break;case 4:o=arguments[0],e=arguments[1],a=arguments[2],n=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}var t=function(){"function"==typeof n&&n(!1)};return s.dialog(o,[{label:e,icon:d.CANCEL,callback:t},{label:a,icon:d.CONFIRM,callback:function(){"function"==typeof n&&n(!0)}}],{onEscape:t})},s.prompt=function(){var o="",e=f("Cancel"),a=f("Confirm"),n=null,t="";switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0],"function"==typeof arguments[1]?n=arguments[1]:e=arguments[1];break;case 3:o=arguments[0],e=arguments[1],"function"==typeof arguments[2]?n=arguments[2]:a=arguments[2];break;case 4:o=arguments[0],e=arguments[1],a=arguments[2],n=arguments[3];break;case 5:o=arguments[0],e=arguments[1],a=arguments[2],n=arguments[3],t=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5")}var c=o,l=k("<form></form>");l.append("<input autocomplete=off type=text value='"+t+"' />");var r=function(){"function"==typeof n&&n(null)},i=s.dialog(l,[{label:e,icon:d.CANCEL,callback:r},{label:a,icon:d.CONFIRM,callback:function(){"function"==typeof n&&n(l.find("input[type=text]").val())}}],{header:c,show:!1,onEscape:r});return i.on("shown",function(){l.find("input[type=text]").focus(),l.on("submit",function(o){o.preventDefault(),i.find(".button-primary").click()})}),i.modal("show"),i.fadeIn(),i},s.dialog=function(o,t,e){var a="",c=[];e=e||{};null==t?t=[]:void 0===t.length&&(t=[t]);for(var n=t.length;n--;){var l=null,r=null,i="",d=null;if(void 0===t[n].label&&void 0===t[n].class&&void 0===t[n].callback){var s=0,f=null;for(var u in t[n])if(f=u,1<++s)break;1==s&&"function"==typeof t[n][u]&&(t[n].label=f,t[n].callback=t[n][u])}"function"==typeof t[n].callback&&(d=t[n].callback),t[n].class?r=t[n].class:n==t.length-1&&t.length<=2&&(r="button-primary"),l=t[n].label?t[n].label:"Option "+(n+1),t[n].icon&&(i="<i class='"+t[n].icon+"'></i> "),a="<a data-handler='"+n+"' class='button "+r+"' href='"+(t[n].href?t[n].href:g)+"'>"+i+l+"</a>"+a,c[n]=d}var b=["<div class='bootbox modal' tabindex='-1' style='overflow:hidden;'>"];if(e.header){var p="";(void 0===e.headerCloseButton||e.headerCloseButton)&&(p="<a href='"+g+"' class='close'>&times;</a>"),b.push("<div class='modal-header'>"+p+"<h3>"+e.header+"</h3></div>")}b.push("<div class='modal-body'></div>"),a&&b.push("<div class='modal-footer'>"+a+"</div>"),b.push("</div>");var h=k(b.join("\n"));(void 0===e.animate?w:e.animate)&&h.addClass("fade");var v=void 0===e.classes?x:e.classes;return v&&h.addClass(v),h.find(".modal-body").html(o),h.on("hidden",function(){h.remove()}),h.on("keyup.dismiss.modal",function(o){27==o.which&&e.onEscape&&("function"==typeof e.onEscape&&e.onEscape(),h.modal("hide"))}),h.on("shown",function(){h.find("a.button-primary:first").focus()}),h.on("click",".modal-footer a, a.close",function(o){var e=k(this).data("handler"),a=c[e],n=null;void 0!==e&&void 0!==t[e].href||(o.preventDefault(),"function"==typeof a&&(n=a()),!1!==n&&(h.modal("hide"),k(".modal-backdrop").remove()))}),k("#wpfd-core").append(h),h.modal({backdrop:void 0===e.backdrop?y:e.backdrop,keyboard:!1,show:!1}),h.on("show",function(o){k(m).off("focusin.modal")}),void 0!==e.show&&!0!==e.show||(h.modal("show"),h.addClass("in")),h},s.modal=function(){var o,e,a,n={onEscape:null,keyboard:!0,backdrop:y};switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0],"object"==typeof arguments[1]?a=arguments[1]:e=arguments[1];break;case 3:o=arguments[0],e=arguments[1],a=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return n.header=e,a="object"==typeof a?k.extend(n,a):n,s.dialog(o,[],a)},s.hideAll=function(){k(".bootbox").modal("hide")},s.animate=function(o){w=o},s.backdrop=function(o){y=o},s.classes=function(o){x=o},s}(document,window.jQuery);window.bootbox=bootbox;