!function(c){var e={dom:{colorpickerShow:".option-colorpicker-show"},conditions:{defaultColorpicker:".default-colorpicker",colorpickerPlaceholder:".colorpicker-placeholder"},init:function(){var t=e;c(document).on("change",t.dom.colorpickerShow,function(e){t.handle(c(e.target).closest(".fields").find(t.conditions.defaultColorpicker),"default_color"===c(e.target).val()),t.handle(c(e.target).closest(".fields").find(t.conditions.colorpickerPlaceholder),"placeholder"===c(e.target).val())})},handle:function(e,t){e=c(e);t?e.show():e.hide()}};function t(e,t){return t.children().each(function(){c(this).width(c(this).width())}),t}e.init(),c("#option-price-type").on("change",function(){let e=c(this),t=e.parents(".option-cost"),i=t.find("div.option-price-sale");"multiplied"===e.val()?i.fadeOut():i.fadeIn()}),c("#sortable-blocks").on("change",".active .yith-plugin-fw-onoff-container input",function(){var e=c(this).attr("id").replace("yith-wapo-active-block-",""),t=0,t=c(this).is(":checked")?1:0;c.post(ajaxurl,{action:"enable_disable_block",block_id:e,block_vis:t},function(e){console.log("[YITH.LOG] - Block visibility updated")})}),c("#sortable-addons").on("change",".addon-onoff input",function(){var e=c(this).attr("id").replace("yith-wapo-active-addon-",""),t=0,t=c(this).is(":checked")?1:0;c.post(ajaxurl,{action:"enable_disable_addon",addon_id:e,addon_vis:t},function(e){console.log("[YITH.LOG] - Addon visibility updated")})}),c("#sortable-blocks").sortable({containment:"parent",helper:t,revert:!0,axis:"y",update:function(e,t){var i=t.item.data("id"),a=parseFloat(t.item.prev().data("priority")),t=parseFloat(t.item.next().data("priority"));c.post(ajaxurl,{action:"sortable_blocks",moved_item:i,prev_item:a,next_item:t},function(e){var e=e.split("-"),t=e[0],e=parseFloat(e[1]);c("#sortable-blocks #block-"+t).attr("data-priority",e)})}}),c("#sortable-addons").sortable({containment:"#block-addons-container",revert:!0,axis:"y",update:function(e,t){var i=t.item.data("id"),a=parseFloat(t.item.prev().data("priority")),t=parseFloat(t.item.next().data("priority"));c.post(ajaxurl,{action:"sortable_addons",moved_item:i,prev_item:a,next_item:t},function(e){var e=e.split("-"),t=e[0],e=parseFloat(e[1]);c("#sortable-addons #addon-"+t).attr("data-priority",e)})}}),c("#addon_options").sortable({helper:t,revert:!0,axis:"y",delay:150}),c("ul, li, tbody, tr, td").disableSelection();var i=c("#block-rules #yith-wapo-block-rule-show-in"),a=c(".field-wrap.yith-wapo-block-rule-show-in-products"),o=c(".field-wrap.yith-wapo-block-rule-show-in-categories"),n=i.val(),r=c("#block-rules #yith-wapo-block-rule-exclude-products"),d=c(".field-wrap.yith-wapo-block-rule-exclude-products-products"),l=c(".field-wrap.yith-wapo-block-rule-exclude-products-categories");function s(e){e.is(":checked")?c(".enabled-by-"+e.attr("id")).fadeIn():c(".enabled-by-"+e.attr("id")).fadeOut()}i.change(function(){"products"===(n=c(this).val())?(a.fadeIn(),o.hide()):(a.fadeOut(),o.fadeOut())}),r.change(function(){"yes"==c(this).val()?(d.fadeIn(),"all"==n&&l.fadeIn()):(d.fadeOut(),l.fadeOut())}),c(".yith-wapo").on("change",".enabler input",function(){s(c(this))}),c(".yith-wapo .enabler input").each(function(){s(c(this))}),c(".yith-wapo").on("change","#option-separator-style",function(){"empty_space"==c(this).val()?c(".field-wrap.option-separator-color").fadeOut():c(".field-wrap.option-separator-color").fadeIn()}),c(".yith-wapo").on("change","#addon-custom-style",function(){!c(this).is(":checked")&&c("#addon-image-equal-height").is(":checked")&&c(".addon-image-equal-height .yith-plugin-fw-onoff").click()}),c("#tab-options-list").on("click",".option .title",function(){var e=c(this).parent().find(".fields");e.toggle(),e.is(":visible")?c(this).parent().removeClass("close").addClass("open"):c(this).parent().removeClass("open").addClass("close")}),c("#add-new-option").click(function(){var e=c(this).parent().find(".option").length,e=(c(".yith-plugin-fw-upload-container button").off(),wp.template("new-option-"+e));c("#add-new-option").before(e()),c("body").trigger("yith_fields_init")}),c("#tab-options-list").on("change",".option-price-method",function(){var e=c(this).parent().parent().parent().parent();"free"!=c(this).val()&&"product"!=c(this).val()&&"value_x_product"!=c(this).val()?(e.find(".option-cost").fadeIn(),"increase"==c(this).val()?(e.find(".option-cost .option-price-method-increase").fadeIn(),e.find(".option-cost .option-price-method-decrease").fadeOut()):(e.find(".option-cost .option-price-method-increase").fadeOut(),e.find(".option-cost .option-price-method-decrease").fadeIn())):e.find(".option-cost").fadeOut()}),c("#tab-options-list").on("change",".option-selectable-dates",function(){var e=c(this).parent().parent().parent().parent();"days"==c(this).val()?(e.find(".option-selectable-days-ranges").fadeIn(),e.find(".option-selectable-date-ranges").hide()):"date"==c(this).val()?(e.find(".option-selectable-days-ranges").hide(),e.find(".option-selectable-date-ranges").fadeIn()):(e.find(".option-selectable-days-ranges").hide(),e.find(".option-selectable-date-ranges").hide())}),c("#tab-options-list").on("click",".yith-plugin-fw__action-button--delete-action",function(){c(this).parent().parent().remove()}),c("#tab-options-list").on("change",".color-show-as select",function(){var e=c(this).parent().parent().parent().parent().parent();"double"==c(this).val()?(e.find(".color").fadeIn(),e.find(".color_b").fadeIn(),e.find(".color_image").hide()):"image"==c(this).val()?(e.find(".color").hide(),e.find(".color_b").hide(),e.find(".color_image").fadeIn()):(e.find(".color").fadeIn(),e.find(".color_b").hide(),e.find(".color_image").hide())}),c("#tab-options-list").on("click",".option .title",function(){c(this).parent().find(".color-show-as select").change()}),c("#tab-options-list").find(".color-show-as select").change(),c(".yith-wapo").on("change",".option-date-default",function(){var e=c(this).parent().parent().parent().parent();"specific"==c(this).val()?(e.find(".option-date-default-day").fadeIn(),e.find(".option-date-default-interval").hide()):"interval"==c(this).val()?(e.find(".option-date-default-day").hide(),e.find(".option-date-default-interval").fadeIn()):(e.find(".option-date-default-day").fadeOut(),e.find(".option-date-default-interval").fadeOut())}),c(document).on("click",".add-date-rule a",function(){let e=c(this).parents(".date-rules"),t=e.find(".date-rules-container"),i=t.find(".rule:first-child"),a=i.clone(!0);var o=Math.floor(1e5*Math.random());let n=a.find(".yith-plugin-fw-datepicker"),d=a.find(".field.daysweek select.select2-hidden-accessible"),l=a.find(".field.months select.select2-hidden-accessible"),s=a.find(".field.years select.select2-hidden-accessible"),r=(n.datepicker("destroy").removeClass("yith-plugin-fw-datepicker--initialized"),n.attr("id","date-rule-value-days-"+o),d.attr("id","date-rule-value-daysweek-0-"+o),l.attr("id","date-rule-value-months-0-"+o),s.attr("id","date-rule-value-years-0-"+o),a.appendTo(t));return r.find("select.select2-hidden-accessible").each(function(e,t){c(t).removeClass("enhanced"),c(t).select2();let i=c(t).parents(".yith-plugin-fw-field-wrapper").find("span.select2");i.not(":first").remove()}),i.find(".field:not(.what) select").select2(),r.find(".field.what select.select_what").change(),c(document).trigger("yith_fields_init"),!1}),c(".date-rules").on("change",".select_what",function(){var e=c(this).parent().parent().parent();e.find(".field:not(.what)").hide(),("years"==c(this).val()?e.find(".field.years"):"months"==c(this).val()?e.find(".field.months"):"daysweek"==c(this).val()?e.find(".field.daysweek"):e.find(".field.days")).fadeIn()}),c(".date-rules").on("click",".delete-rule",function(){c(this).parent().remove()}),c(document).on("click",".add-time-slot a",function(){let e=c(this).parent(),t=c(this).parent().parent(),i=t.find(".slot:first-child"),a=i.clone();Math.floor(1e5*Math.random());return a.find(".delete-slot").show(),e.before(a),!1}),c(".time-slots").on("click",".delete-slot",function(){c(this).parent().remove()}),c(document).on("select2:open",function(e){c(".select2-results").closest(".select2-container").addClass("yith-addons-select2-container")})}(jQuery);