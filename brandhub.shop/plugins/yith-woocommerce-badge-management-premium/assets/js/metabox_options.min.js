jQuery(function(i){var e=i("#yith-wcbm-badge-type").data("type"),t=i(".tab-container"),a=i("#preview-badge"),c=i("#btn-text"),o=i("#btn-image"),h=i("#yith-wcbm-image-url"),l=i(".half-left"),s=i(".half-right"),n=i("#yith-wcbm-url-for-images").val(),r=0,g=function(){l.removeAttr("style"),s.removeAttr("style"),l.css({"min-height":"450px"}),s.height()>l.height()?l.height(s.height()):s.height(l.height())},m=function(){if("image"!==e)a.html(i("#yith-wcbm-text").val()),a.css({color:i("#yith-wcbm-txt-color").val(),"background-color":i("#yith-wcbm-bg-color").val(),width:i("#yith-wcbm-width").val()+"px",height:i("#yith-wcbm-height").val()+"px","line-height":i("#yith-wcbm-height").val()+"px"});else{a.removeAttr("style");var t=h.val();a.html('<img src="'+n+t+'" />')}switch(i("#yith-wcbm-position").val()){case"top-right":a.css({top:"0",bottom:"auto",left:"auto",right:"0"});break;case"bottom-left":a.css({top:"auto",bottom:"0",left:"0",right:"auto"});break;case"bottom-right":a.css({top:"auto",bottom:"0",left:"auto",right:"0"});break;default:a.css({top:"0",bottom:"auto",left:"0",right:"auto"})}};m(),i("input.update-preview").on("change paste keyup input focus",function(){m()}),i("select.update-preview").on("change focus",function(){m()}),i(".yith-wcbm-color-picker").wpColorPicker({change:m}),i(".iris-palette").on("click",function(){setTimeout(m,1)});var b=i("#yith-wcbm-badge-type"),u=i(".yith-wcbm-select-image-btn");switch(c.on("click",function(){b.val("text"),e="text",g(),m()}),o.on("click",function(){b.val("image"),e="image",g(),m()}),t.tabs(),e){case"image":t.tabs("option","active",1)}u.on("click",function(t){var e=i(this).data("badge_image_url");h.val(e),m(),u.removeClass("yith-wcbm-select-image-btn-selected"),i(this).addClass("yith-wcbm-select-image-btn-selected")}),u.each(function(){i(this).data("badge_image_url")===h.val()&&(i(this).addClass("yith-wcbm-select-image-btn-selected"),r=1)}),r||h.val()||u.first().trigger("click"),g(),i("#view-post-btn").hide()});