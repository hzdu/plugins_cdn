((u,t)=>{var w={cache(){w.els={},w.vars={},w.vars.swatch_group_class=".iconic-was-swatches",w.vars.swatch_class=".iconic-was-swatch",w.vars.selected_class="iconic-was-swatch--selected",w.vars.li_selected_class="iconic-was-swatches__item--selected",w.vars.disabled_class="iconic-was-swatch--disabled",w.vars.follow_class="iconic-was-swatch--follow",w.vars.variations_form_class=".variations_form",w.vars.attribute_labels_class=".variations .label",w.vars.chosen_attribute_class=".iconic-was-chosen-attribute",w.vars.no_selection='<span class="iconic-was-chosen-attribute__no-selection">'+iconic_was_vars.i18n.no_selection+"</span>",w.vars.attribute_selects_selector=".variations select",w.vars.change_image_links_class=".iconic-was-swatch--change-image",w.vars.widget_class=".iconic-was-swatches--widget ul",w.vars.widget_group_item=".iconic-was-swatch[data-group]",w.vars.window_size=u(window).width()},on_ready(){w.cache(),w.setup_swatches(),w.setup_change_image_links(),w.setup_fees(),w.setup_filter_groups()},setup_swatches(){u(t.body).on("click",w.vars.swatch_class,function(e){let a=u(this),t=a.closest(w.vars.variations_form_class),s=a.closest("table"),i=a.closest(w.vars.swatch_group_class),c=i.data("attribute"),n=a.data("attribute-value"),o=s.find('select[id="'+c.replace("attribute_","")+'"]'),l=(0===o.length&&a.closest(".bundled_item_cart_content")&&(t=a.closest(".bundled_item_cart_content"),o=s.find('select[id="'+c.replace("attribute_","")+"_"+t.data("bundled_item_id")+'"]')),o.attr("name")),r=a.closest(".value"),_=r.prev(".label").find(w.vars.chosen_attribute_class),d=(a.hasClass("iconic-was-swatch--colour-swatch")||a.hasClass("iconic-was-swatch--image-swatch"),w.get_current_values(t)),h=!1;if(a.hasClass(w.vars.follow_class))return!0;if(a.hasClass(w.vars.disabled_class)&&(w.reset_form(e,t),delete d[l],h=!0),o.trigger("focusin"),a.hasClass(w.vars.selected_class))w.deselect_swatch(a),w.select_value(o,""),_.html(w.vars.no_selection);else{let e=!1===u(w.vars.variations_form_class).data("product_variations"),s='[value="'+w.esc_double_quotes(n)+'"]';e||(s=".enabled"+s),0<o.find(s).length&&(w.deselect_swatch_group(t,c),w.select_swatch(a),w.select_value(o,n),h)&&w.select_values(t,d)}}),u(t).on("mouseenter mouseleave",w.vars.swatch_class,function(e){var s=u(this).closest(w.vars.swatch_group_class).next("div").find("select");s.length<=0||s.trigger("focusin")}),u(t).on("woocommerce_update_variation_values",w.vars.variations_form_class,function(){let c=u(this),e=c.find("select");e.each(function(e){let s=u(this),a=s.find("option"),t=s.data("attribute_name"),i=c.find(w.vars.swatch_group_class+'[data-attribute="'+w.esc_double_quotes(t)+'"]');i.find(w.vars.swatch_class).not(w.vars.swatch_class+"--dummy").addClass(w.vars.disabled_class),a.each(function(e,s){var s=u(s),a=s.val(),a=i.find('[data-attribute-value="'+w.esc_double_quotes(a)+'"]');s.hasClass("enabled")?a.removeClass(w.vars.disabled_class):w.deselect_swatch(a)})})}),u(t).on("change",w.vars.attribute_selects_selector,function(){w.change_label(u(this))}),u(t.body).on("click",".reset_variations",function(e){var s=u(this).closest(w.vars.variations_form_class);w.reset_form(e,s)}),u(t).on("check_variations","form.variations_form",function(){var e=u(this).find("."+w.vars.disabled_class);e.length<=0||e.hasClass(w.vars.selected_class)&&(e.closest("tr").find(w.vars.chosen_attribute_class).html(w.vars.no_selection),w.deselect_swatch(e))}),w.swatches_on_load()},select_values(c,n){var e=c.find("select");if(e.length<=0)return!1;e.each(function(e,s){var a,t=u(this),i=t.attr("name");void 0===n[i]||(a=t.find('option[value="'+w.esc_double_quotes(n[i])+'"]')).length<=0||a.hasClass("enabled")&&(w.select_value(t,n[i]),c.find(w.vars.swatch_class+'[data-attribute-value="'+w.esc_double_quotes(n[i])+'"]').click())})},reset_form(e,s){e.preventDefault();e=s.find(w.vars.swatch_class);w.deselect_swatch(e),s.find(w.vars.attribute_selects_selector).find("option").prop("selected",!1).end().change().end().find(w.vars.attribute_labels_class+" "+w.vars.chosen_attribute_class).html(w.vars.no_selection).end().trigger("reset_data"),w.deselect_all_swatch_groups(s)},get_current_values(e){let a={},s=e.find("select");return!(s.length<=0)&&(s.each(function(){var e=u(this),s=e.attr("name"),e=e.val();e&&""!==e&&(a[s]=e)}),a)},select_swatch(e){e.addClass(w.vars.selected_class).closest(".iconic-was-swatches__item").addClass(w.vars.li_selected_class)},deselect_swatch(e){e.removeClass(w.vars.selected_class).closest(".iconic-was-swatches__item").removeClass(w.vars.li_selected_class)},deselect_swatch_group(e,s){e=e.find('[data-attribute="'+w.esc_double_quotes(s)+'"] '+w.vars.swatch_class);w.deselect_swatch(e)},deselect_all_swatch_groups(e){e=e.find(w.vars.swatch_class);w.deselect_swatch(e)},swatches_on_load(){var e=u(".variations select").find(":selected");e.length<=0||e.each(function(){var e,s,a,t=u(this).closest("select");t.length&&(e=t.closest("form")).length&&(s=t.data("attribute_name"),a=u(this).val(),w.change_label(t),s)&&a&&(t=e.find('.iconic-was-swatches[data-attribute="'+s+'"] a.iconic-was-swatch[data-attribute-value="'+a+'"]'),w.deselect_swatch_group(e,s),w.select_swatch(t))})},select_value(e,s){e.val(s).change()},change_label(e){var s=e.val(),a=e.closest(".value"),t=a.find(w.vars.swatch_class+"[data-attribute-value="+JSON.stringify(s)+"]"),a=a.prev(".label").find(w.vars.chosen_attribute_class),t=0<t.length?t.data("attribute-value-name"):e.find('option[value="'+w.esc_double_quotes(s)+'"]').text();""!==s&&void 0!==t&&a.text(t)},setup_change_image_links(){u(t.body).on("click",w.vars.change_image_links_class,function(){var e=u(this),s=e.attr("href"),a=e.data("srcset"),t=e.data("sizes"),e=e.closest(".product"),i=e.find("img:first"),e=e.find("picture source");return i.attr("src",s).attr("srcset",a).attr("sizes",t),0<e.length&&e.attr("srcset",a).attr("sizes",t),!1})},esc_double_quotes(e){return String(e).replace(/"/g,'\\"')},setup_fees(){u(t.body).on("change",'input[name="variation_id"]',function(){var s=u(this),a=s.val();if(""!==a){a=s.closest("form");if(!(a.length<=0)){let o=w.get_selected_fee_value(a);if(o&&0!==o.default){s=a.find(".woocommerce-variation-price").find(".amount");if(!(s.length<=0)){let e=a.find(".woocommerce-price-suffix"),i=0<e.length&&w.get_suffix_map(e),c=0,n=0;s.each(function(e,s){let a=u(s),t;0<a.closest(".woocommerce-price-suffix").length?(s=i[c],n=o[s],c++):n=o.default,a.data("was-price")?t=a.data("was-price"):(t=a.text(),a.data("was-price",t));s=accounting.unformat(t,iconic_was_vars.currency.format_decimal_sep),s+=n,s=accounting.formatMoney(s,{symbol:"",decimal:iconic_was_vars.currency.format_decimal_sep,thousand:iconic_was_vars.currency.format_thousand_sep,precision:iconic_was_vars.currency.format_num_decimals,format:""});a.html(a.html().toString().replace(w.get_price_match_regex(),s))})}}}}})},get_price_match_regex(){var e=iconic_was_vars.currency.format_thousand_sep?"\\d{1,3}("+iconic_was_vars.currency.format_thousand_sep+"\\d{3})*":"(\\d+)";return new RegExp(e+"(\\"+iconic_was_vars.currency.format_decimal_sep+"\\d+)?","gm")},get_suffix_map(e){let a=[],s=iconic_was_vars.currency.price_display_suffix,t=s.split("{");return u.each(t,function(e,s){-1!==s.indexOf("price_including_tax")?a.push("price_including_tax"):-1!==s.indexOf("price_excluding_tax")&&a.push("price_excluding_tax")}),a},setup_filter_groups(){u(w.vars.widget_group_item).length<=0||u(w.vars.widget_group_item).each(function(){if(""!==u(this).data("group")){let e=!1;var s,a="iconic-was-group-"+u(this).data("group").toLowerCase().replace(" ","-");0===u("li.iconic-was-swatches__group."+a).length&&((e=t.createElement("li")).classList="iconic-was-swatches__group "+a,(s=t.createElement("div")).classList="iconic-was-swatches__group-label",s.innerHTML=u(this).data("group"),e.appendChild(s)),!1!==e&&u(w.vars.widget_class).append(e),u(this).parent().remove(),u("li.iconic-was-swatches__group."+a).append(u(this))}})},get_selected_fee_value(e){var s=e.find(".iconic-was-fees");if(s.length<=0)return!1;let a={default:0,price_including_tax:0,price_excluding_tax:0},t=JSON.parse(s.text()),i=w.get_attributes_from_form(e);return u.each(i,function(e,s){void 0!==t[e]&&void 0!==t[e][s]&&(a={default:a.default+t[e][s].default,price_including_tax:a.price_including_tax+t[e][s].price_including_tax,price_excluding_tax:a.price_excluding_tax+t[e][s].price_excluding_tax})}),a},get_attributes_from_form(e){let t={},s=e.serializeArray();return s.length<=0||u.each(s,function(e,s){var a;""!==s.value&&s.name.startsWith("attribute_")&&(a=s.name.replace("attribute_",""),t[a]=s.value)}),t},debounce(t,i,c){let n;return function(){let e=this,s=arguments;var a=c&&!n;clearTimeout(n),n=setTimeout(function(){n=null,c||t.apply(e,s)},i),a&&t.apply(e,s)}}},i={on_ready(){u(".iconic-was-accordion.product").length&&u(".iconic-was-accordion.product").find(".iconic-was-swatches").length&&(i.cache(),i.setup_accordion_html(),i.click_handler());var e=w.debounce(i.reset_accordion_height,250);u(window).resize(e)},cache(){i.els={},i.els.$product=u(".iconic-was-accordion.product"),i.els.$table=i.els.$product.find("table.variations"),i.els.$trs=i.els.$table.find(">tbody>tr"),i.els.$td_labels=i.els.$table.find(">tbody>tr>.label")},setup_accordion_html(){i.els.$td_labels.each(function(){var e=u(this),s=e.closest("tr");0<s.find(".single_variation_wrap").length||0<e.find(".iconic-was-accordion__handle").length||(s.addClass("iconic-was-accordion__row"),e.append("<span class='iconic-was-accordion__handle'></span>"))})},click_handler(){i.els.$td_labels.click(function(){let e=u(this).parent(),s=(u(this).find(".iconic-was-accordion__handle"),u(this).siblings(".value"));var a;e.hasClass("iconic-was-accordion--active")?(e.removeClass("iconic-was-accordion--active"),s.css("overflow","hidden"),s.height(0),window.setTimeout(function(){s.css("overflow","visible"),s.hide()},150)):(a=i.get_hidden_elements_height(s),s.show(),s.height(a),e.addClass("iconic-was-accordion--active"),s.css("overflow","hidden"),window.setTimeout(function(){s.css("overflow","visible")},150))})},reset_accordion_height(){var e=u(".iconic-was-accordion--active");e.length<=0||e.each(function(e,s){let a=u(s).find("td.value"),t=a.children(),i=0;0<t.length&&t.each(function(e,s){u(s).is(":visible")&&(i+=u(s).outerHeight(!0))}),a.height(i)})},get_hidden_elements_height(e){e.height("auto").addClass("test");var s=e.height();return e.height(0),s},open_first_swatch(){var e=i.els.$trs&&i.els.$trs.first()&&i.els.$trs.first().find(".label");e&&e.trigger("click")}},l={on_ready(){u("ul.iconic-was-swatches.iconic-was-swatches--loop").not(".iconic-was-swatches--stacked").each(function(){let e=u(this);window.setTimeout(function(){l.handle_adaptive_for_single_ul(e)},1)}),u(t.body).on("click",".iconic-was-swatches__item--dummy",l.show_all_attributes);var e=w.debounce(l.on_window_resize,250);u(window).resize(e)},on_window_resize(){u(".iconic-was-swatches").each(function(){var e=u(this);l.handle_adaptive_for_single_ul(e)})},handle_adaptive_for_single_ul(t){var a=t.data("overflow");if(a&&"stacked"!==a)if(t.removeClass("iconic-was-swatches--loading"),t.css("height","auto"),"slider"===a){let e="iconic-was-swatches--slider-wrapper",s=0<t.parent("."+e).length;s||(t.wrap('<div class="'+e+'"></div>'),s=!0);var a=t.parent().width(),i=t.find("li"),c=i.not(".iconic-was-swatches__label").first(),n=c.outerWidth(!0),c=parseInt(c.css("margin-right")),o=Math.floor(a/n),n=o*n-c,c=o<i.length;!c&&s&&t.unwrap(),t.hasClass("flickity-enabled")?c?(t.width(a<n?n:a),t.flickity("resize")):(t.flickity("destroy"),t.width("")):c?(t.width(n),t.flickity({resize:!1,percentPosition:!1,selectedAttraction:.075,friction:.42,pageDots:!1,cellAlign:"left",groupCells:!0,contain:!0,rightToLeft:!1,arrowShape:{x0:20,x1:55,y1:35,x2:60,y2:30,x3:30}})):t.width("")}else{let e=t.width(),s=0,a=0;t.find(".iconic-was-swatches__item").each(function(){(s+=u(this).outerWidth(!0))<e&&a++}),l.adapt(t,a)}},get_inner_elements_total_width(e){let s=0;return jQuery(e).find(">li").each(function(){jQuery(this).is(":visible")&&(s+=jQuery(this).outerWidth(!0))}),s},adapt(e,s){var a=e.find(">li").not(".iconic-was-swatches__item--dummy"),a=(a.removeClass("iconic-was-swatches__item--hidden"),!(a.length<=s)&&a.slice(s-1));a?(a.addClass("iconic-was-swatches__item--hidden"),e.find(">.iconic-was-swatches__item--dummy a").text("+"+a.length),e.find(">.iconic-was-swatches__item--dummy").removeClass("iconic-was-swatches__item--hidden"),e.addClass("iconic-was-swatches--single-line")):(e.find(">.iconic-was-swatches__item--dummy").addClass("iconic-was-swatches__item--hidden"),e.removeClass("iconic-was-swatches--single-line"))},show_all_attributes(e){e.preventDefault();e=u(this).parent();e.hasClass("iconic-was-swatches--loop")?window.location.href=u(this).find("a").attr("href"):(e.find(".iconic-was-swatches__item--hidden").removeClass("iconic-was-swatches__item--hidden"),u(this).addClass("iconic-was-swatches__item--hidden"),e.removeClass("iconic-was-swatches--single-line"),e.data("overflow","stacked"),e.find(".iconic-was-swatches__item--dummy").hide(),u(t).trigger("iconic_was_reset_accordion_height"))}},n={cache(){n.cache.vars={tooltip:".iconic-was-tooltip",arrow:".iconic-was-tooltip__arrow",anchor:".iconic-was-swatches--tooltips .iconic-was-swatch:not(.iconic-was-swatch--dummy)"}},on_ready(){n.cache(),0===u(".iconic-was-tooltip").length&&(u("body").append('<div class="iconic-was-tooltip"><div class="iconic-was-tooltip__inner_wrap"></div><div class="iconic-was-tooltip__arrow"></div></div>'),u(".iconic-was-tooltip").hide()),u(window).resize(n.on_resize);var e=w.debounce(n.handle_mouseenter,200),s=w.debounce(n.handle_mouseleave,200);iconic_was_vars.is_mobile?(n.mobile_click_handler(),u(window).scroll(n.handle_mouseleave),u(window).on("resize_threshold",n.handle_mouseleave)):(u(t.body).on("mouseenter",n.cache.vars.anchor,e),u(t.body).on("mouseleave",n.cache.vars.anchor,s),u(window).scroll(n.handle_mouseleave).resize(n.handle_mouseleave))},handle_mouseenter(){var e=u(this),s=e.find(".iconic-was-swatch__text").html(),a=u(n.cache.vars.tooltip),s=(a.find(".iconic-was-tooltip__inner_wrap").html(s),a.css({left:"",right:""}),a.find(n.cache.vars.arrow)),t=a.outerWidth(!0),e=e.get(0).getBoundingClientRect(),i=e.left+e.width/2,c=(c=i-t/2)<0?0:c,t=(u(window).width()<t+c?a.css({left:"",right:0}):a.css({left:c,right:""}),a.outerHeight(!0)),c=e.top-t,e=(a.css("top",c).show().addClass("iconic-was-tooltip--animate-opacity iconic-was-tooltip--animate-top iconic-was-tooltip--active"),a.offset());s.css("left",i-e.left)},handle_mouseleave(){u(n.cache.vars.tooltip).removeClass("iconic-was-tooltip--animate-top iconic-was-tooltip--animate-opacity iconic-was-tooltip--active")},mobile_click_handler(){let c=t.querySelectorAll(n.cache.vars.anchor);t.addEventListener("click",function(e){var s,a=e.composedPath();let t=!1;for(s in c){var i=c[s];if(a.includes(i)){t=i;break}}t?n.handle_mouseenter.call(t):n.handle_mouseleave()})},on_resize(){var e=w.vars.window_size,s=u(window).width();10<Math.abs(e-s)&&(w.vars.window_size=s,u(window).trigger("resize_threshold"))}};u(t).ready(w.on_ready),u(t).ready(i.on_ready),u(t).ready(n.on_ready),u(t).ready(l.on_ready),u(t).on("iconic_was_reset_accordion_height",i.reset_accordion_height)})(jQuery,document);