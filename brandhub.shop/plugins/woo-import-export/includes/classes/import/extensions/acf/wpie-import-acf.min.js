"use strict";function wpieSetNameFields(e,i){jQuery.isEmptyObject(e)||jQuery.each(e,function(e,t){if(null===t)return!0;var a=void 0!==t.type&&null!==t.type?jQuery.trim(t.type.toLowerCase()):"";if(""===a||jQuery('[name="acf'+i+"["+e+'][type]"]').length<1)return!0;var r="";switch(a){case"group":case"clone":if("direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):""))wpieSetNameFields(void 0!==t.sub_fields?t.sub_fields:"",i+"["+e+"][sub_fields]");else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"repeater":case"flexible_content":"direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"")?jQuery.each(t,function(t,r){if("type"===jQuery.trim(t.toLowerCase()))return!0;var n=void 0!==r.sub_fields?r.sub_fields:"",p=jQuery('[name="acf'+i+"["+e+'][type]"]').closest(".wpie_acf_field_data_wrapper").children(".wpie_item_act_inner_wrapper");"repeater"===a?wpieAddNewRepeaterField(p.children(".wpie_acf_fc_layout_action_wrapper").find(".wpie_acf_repeater_add_row")):wpieAddNewFcField(p,"wpie_acf_cf_layout_"+(void 0!==r.layout?r.layout:""));wpieSetNameFields(n,i+"["+e+"]["+t+"][sub_fields]")}):(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r));break;case"image":case"file":case"gallery":if(r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r),void 0!==t.search_through_media&&"1"===t.search_through_media?jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!1),void 0!==t.use_upload_dir&&"1"===t.use_upload_dir?jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!1),"gallery"===a){var n=void 0!==t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(n)}break;case"select":case"checkbox":case"radio":case"button_group":case"true_false":case"taxonomy":if("direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"")){if(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="direct"]').prop("checked",!0),r=void 0!==t[e]?t[e]:"","select"===a)jQuery('[name="acf'+i+"["+e+"]["+e+']"]').val(r).trigger("chosen:updated");else if("checkbox"===a||"taxonomy"===a)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+'][]"]'),function(e){-1!==jQuery.inArray(jQuery(this).val(),r)?jQuery(this).prop("checked",!0):jQuery(this).prop("checked",!1)});else if("radio"===a||"button_group"===a)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+']"]'),function(e){if(jQuery(this).val()===r)return jQuery(this).prop("checked",!0),!1});else if("true_false"===a){var p=jQuery('[name="acf['+i+e+"]["+e+']"][type="checkbox"]');p.val()===r?p.prop("checked",!0):p.prop("checked",!1)}}else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"link":var o=void 0!==(r=void 0!==t.value?t.value:"").title?r.title:"";jQuery('[name="acf'+i+"["+e+'][value][title]"]').val(o);var u=void 0!==r.url?r.url:"";jQuery('[name="acf'+i+"["+e+'][value][url]"]').val(u);var l=void 0!==r.target?r.target:"";jQuery('[name="acf'+i+"["+e+'][value][target]"]').val(l);break;case"google_map":var d=void 0!==(r=void 0!==t.value?t.value:"").address?r.address:"";jQuery('[name="acf'+i+"["+e+'][value][address]"]').val(d);var c=void 0!==r.lat?r.lat:"";jQuery('[name="acf'+i+"["+e+'][value][lat]"]').val(c);var s=void 0!==r.lng?r.lng:"";jQuery('[name="acf'+i+"["+e+'][value][lng]"]').val(s);break;case"post_object":case"page_link":case"relationship":case"user":r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r);n=void 0!==t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(n);break;default:r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r)}})}function wpieSetupACFFields(){if(void 0!==wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields&&!0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields)return!0;wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields=!0,void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[]),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData=[],wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData=[],jQuery(".wpie_acf_cf_layout_container").each(function(e){var i=jQuery(this);jQuery(this).find(".wpie_content_data_select").chosen("destroy");var t=jQuery(this).attr("data-container");if(void 0===t)return!0;wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t]=jQuery("<div>").append(i).html(),jQuery(this).remove()}),jQuery(".wpie_acf_repeater_container").each(function(e){var i=jQuery(this);jQuery(this).find(".wpie_content_data_select").chosen("destroy");var t=jQuery(this).attr("data-container");if(void 0===t)return!0;wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t]=jQuery("<div>").append(i).html(),jQuery(this).remove()}),jQuery(".wpie_item_add_on_demand").each(function(e){var i=jQuery(this).attr("data-container");if(jQuery("."+i).length<1)return!0;jQuery("."+i).find(".wpie_content_data_select").chosen("destroy"),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[i]=jQuery("<div>").append(jQuery("."+i)).html(),jQuery("."+i).remove(),jQuery(this).trigger("change")}),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0,wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0}function wpieAddNewFcField(e,i){if(void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[i])return!1;var t=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[i];void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0),e.children(".wpie_acf_fc_layout_wrapper").append(t.replace(/\wpie_row_number/g,wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount)),e.children(".wpie_acf_fc_layout_wrapper").find("select").chosen(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount++,wpieSetToolTip()}function wpieAddNewRepeaterField(e){var i=e.closest(".wpie_repreater_direct_container"),t=e.attr("data-container");if(void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t])return!1;var a=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonSubData[t];void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0),i.children(".wpie_acf_repreater_wrapper").append(a.replace(/\[wpie_row_number\]/g,"["+wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount+"]")),i.children(".wpie_acf_repreater_wrapper").find("select").chosen(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount++,wpieSetToolTip()}jQuery(document).on("wpieAfterChangeTemplate",function(e,i){var t=void 0!==i.is_exported?i.is_exported:0;0===t?jQuery(".wpie_item_acf_group").prop("checked",!1).trigger("change"):jQuery(".wpie_item_acf_group").prop("checked",!0).trigger("change"),jQuery.isEmptyObject(i)||(0===t&&void 0!==i.wpie_item_acf_group&&null!==i.wpie_item_acf_group&&jQuery.each(i.wpie_item_acf_group,function(e,i){jQuery(".wpie_item_acf_group_"+e).prop("checked",!0).trigger("change")}),void 0!==i.acf&&null!==i.acf&&wpieSetNameFields(i.acf,""))}),jQuery(document).on("wpieBeforeChangeConfig",function(){void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[]),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].setupACFFields=!1,wpieSetupACFFields()}),jQuery(document).on("change",".wpie_item_add_on_demand",function(){wpieSetupACFFields(),void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData=[]);var e=jQuery(this).attr("data-container");jQuery(this).is(":checked")?(jQuery("."+e).length&&jQuery("."+e).remove(),void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]=""),jQuery(this).parent().append(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].addonData[e]),jQuery("."+e).find(".wpie_content_data_select").chosen(),wpieSetToolTip()):jQuery("."+e).remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount=0,wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount=0}),jQuery(document).on("click",".wpie_acf_fc_add_layout",function(){var e=jQuery(this).closest(".wpie_fc_direct_container"),i=jQuery(this).closest(".wpie_acf_fc_layout_action_wrapper").find(".wpie_acf_cf_layout_data").val();if(""===i)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieEmptyLayout),!1;wpieAddNewFcField(e,i)}),jQuery(document).on("click",".wpie_acf_fc_remove_layout",function(){jQuery(this).closest(".wpie_fc_direct_container").children(".wpie_acf_fc_layout_wrapper").children(".wpie_acf_cf_layout_container").last().remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].fcFieldsCount--}),jQuery(document).on("click",".wpie_acf_repeater_add_row",function(){wpieAddNewRepeaterField(jQuery(this))}),jQuery(document).on("click",".wpie_acf_repeater_remove_row",function(){jQuery(this).closest(".wpie_repreater_direct_container").children(".wpie_acf_repreater_wrapper").children(".wpie_acf_repeater_container").last().remove(),wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].repeaterFieldsCount--});