import{n as c,q as w,l as $,s as g,_ as r,V as k,h,m as b,v as E}from"./vendor-f0a51a16.min.js";import{S as f}from"./SettingsInfoTooltip-e8ba02d7.min.js";const M={name:"ReportOverviewLineChartApex",props:{chartData:Object,tooltipDescriptor:String,chartStyles:{type:Object,default(){return{foreColor:"#999",borderColor:"#f3f6fa",colors:["#3a93dd"],markersStrokeColor:["#3a93dd"],markersColors:["#ffffff"],markersStrokeColorHover:["#ffffff"],markersColorsHover:["#3a93dd"],fontSize:"12px",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'}}}},components:{apexchart:w},methods:{chartOptions(){const e=this.chartData,t=this.tooltipDescriptor,s=this.$formatNumber,i=this.siteNotes,n=this.chartStyles,a=e.datasets?Math.min(...e.datasets[0].data):1;return{chart:{type:"area",foreColor:n.foreColor,stacked:!0,dropShadow:{enabled:!0,enabledSeries:[0],top:-2,left:2,blur:5,opacity:.06},animations:{enabled:!1},toolbar:{show:!1},width:"100%",height:355,zoom:!1},padding:{left:0},colors:n.colors,stroke:{curve:"straight",width:3},dataLabels:{enabled:!1},markers:{size:4,colors:n.markersColors,strokeColor:n.markersStrokeColor,strokeWidth:1,strokeOpacity:1,fillOpacity:1,hover:{size:5,strokeColor:n.markersStrokeColorHover,colors:n.markersColorsHover}},xaxis:{type:"datetime",axisTicks:{show:!1},labels:{format:"d MMM"},tooltip:{enabled:!1}},yaxis:{tooltip:{enabled:!1},labels:{formatter:function(l){return a>0&&a<1?l.toFixed(1):l.toFixed(0)}}},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},borderColor:n.borderColor,strokeDashArray:0,position:"back",padding:{top:0,right:24,bottom:0,left:20}},tooltip:{custom:function({dataPointIndex:l}){let u=e.datasets[0].labels[l]?e.datasets[0].labels[l]:"0",_=s(e.datasets[0].data[l]),d=l>0?parseInt(e.datasets[0].trend[l-1]):0,m="";d===0?m="0%":d>0?m='<span class="monsterinsights-green"><span class="monsterinsights-arrow monsterinsights-up"></span>'+d+"%</span>":m='<span class="monsterinsights-red"><span class="monsterinsights-arrow monsterinsights-down"></span>'+Math.abs(d)+"%</span>";let v=e.datasets[0].timestamps[l]*1e3,p="";return i[v]&&(i[v].forEach(function(F){p+="<span>"+F.title+"</span><br />"}),p!==""&&(p='<div class="monsterinsights-reports-apex-datagraph-tooltip-sitenotes"><hr />'+p+"</div>")),'<div id="monsterinsights-chartjs-line-apex-tooltip" class="monsterinsights-line-chart-apex-tooltip top"><div class="monsterinsights-reports-datagraph-tooltip-container monsterinsights-reports-tooltip" > <div class="monsterinsights-reports-overview-datagraph-tooltip-title">'+u+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-number">'+_+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-descriptor">'+t+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-trend">'+m+"</div>"+p+"</div></div>"},x:{show:!0,format:"dd MMM yyyy",formatter:void 0},style:{fontSize:n.fontSize,fontFamily:n.fontFamily}},legend:{position:"bottom",horizontalAlign:"center"},fill:{type:"solid",opacity:.15},annotations:{points:this.chartAnnotationsPoints()}}},chartSeries(){const e="Sessions";if(typeof this.chartData.datasets>"u")return[{name:e,data:[]}];const t=[];for(let s=0;s<this.chartData.datasets[0].data.length;s++)t.push([this.chartData.datasets[0].timestamps[s]*1e3,this.chartData.datasets[0].data[s]]);return[{name:e,data:t}]},chartAnnotationsPoints(){let e=[];const t=this.siteNotes;for(let s in t){let i=t[s];if(!i[0])continue;let n=i[0].important,a=i[0].color?i[0].color:"#3a93dd".replace("#",""),o="";n?o='data:image/svg+xml,%3C%3Fxml version="1.0" encoding="utf-8"%3F%3E%3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 25 25" style="enable-background:new 0 0 25 25;" xml:space="preserve"%3E%3Cstyle type="text/css"%3E.st0%7Bfill:%23'+a+';%7D.st1%7Bfill:%23FFFFFF;%7D.st2%7Bfill:%23FFD74B;%7D%3C/style%3E%3Cg%3E%3Cg%3E%3Cpath class="st0" d="M22.5,0.7H2.5c-0.6,0-1.1,0.5-1.1,1v18.6c0,0.6,0.5,1,1.1,1h6.4c0.2,0,0.4,0.1,0.5,0.2l2.5,2.6 c0.3,0.3,0.8,0.3,1.1,0l2.5-2.6c0.1-0.1,0.3-0.2,0.5-0.2h6.4c0.6,0,1.1-0.5,1.1-1V1.7C23.6,1.1,23.1,0.7,22.5,0.7z"/%3E%3Cpath class="st1" d="M12.5,24.6C12.5,24.6,12.5,24.6,12.5,24.6c-0.3,0-0.6-0.1-0.8-0.3l-2.5-2.6c-0.1-0.1-0.2-0.1-0.3-0.1H2.5 c-0.8,0-1.4-0.6-1.4-1.3V1.7c0-0.7,0.6-1.3,1.4-1.3h19.9c0.8,0,1.4,0.6,1.4,1.3v18.6c0,0.7-0.6,1.3-1.4,1.3h-6.4 c-0.1,0-0.2,0-0.3,0.1l-2.5,2.6C13.1,24.5,12.8,24.6,12.5,24.6z M2.5,1C2.1,1,1.7,1.3,1.7,1.7v18.6c0,0.4,0.4,0.7,0.8,0.7h6.4 c0.3,0,0.6,0.1,0.8,0.3l2.5,2.6c0.1,0.1,0.2,0.1,0.3,0.1c0,0,0,0,0,0c0.1,0,0.2,0,0.3-0.1l2.5-2.6c0.2-0.2,0.5-0.3,0.8-0.3h6.4 c0.4,0,0.8-0.3,0.8-0.7V1.7c0-0.4-0.4-0.7-0.8-0.7H2.5z"/%3E%3C/g%3E%3Cpath class="st2" d="M13.1,4.9l1.7,3.2c0.1,0.2,0.3,0.3,0.5,0.3L19.1,9c0.6,0.1,0.8,0.7,0.4,1.1l-2.7,2.5c-0.2,0.1-0.2,0.4-0.2,0.6 l0.6,3.5c0.1,0.5-0.5,0.9-1,0.7l-3.4-1.7c-0.2-0.1-0.4-0.1-0.6,0l-3.4,1.7c-0.5,0.2-1.1-0.2-1-0.7l0.6-3.5c0-0.2,0-0.4-0.2-0.6 l-2.7-2.5C5.1,9.7,5.3,9,5.9,9l3.8-0.5c0.2,0,0.4-0.2,0.5-0.3l1.7-3.2C12.1,4.4,12.9,4.4,13.1,4.9L13.1,4.9z"/%3E%3C/g%3E%3C/svg%3E%0A':o="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2042.4%2047.9%22%20style%3D%22enable-background%3Anew%200%200%2042.4%2047.9%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E.st0%7Bfill%3A%23"+a+"%3B%7D.st1%7Bfill%3A%23FFFFFF%3B%7D%3C%2Fstyle%3E%3Cg%3E%3Cg%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M38.9%2C1.6H3.5c-1.1%2C0-1.9%2C0.9-1.9%2C1.9V39c0%2C1.1%2C0.9%2C1.9%2C1.9%2C1.9h12.8l4.9%2C5.1l4.9-5.1h12.8c1.1%2C0%2C1.9-0.9%2C1.9-1.9V3.6C40.9%2C2.5%2C40%2C1.6%2C38.9%2C1.6z%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M21.2%2C46.6l-5.1-5.3H3.5c-1.3%2C0-2.3-1-2.3-2.3V3.6c0-1.3%2C1-2.3%2C2.3-2.3h35.4c1.3%2C0%2C2.3%2C1%2C2.3%2C2.3V39c0%2C1.3-1%2C2.3-2.3%2C2.3H26.3L21.2%2C46.6z%20M3.5%2C2C2.6%2C2%2C1.9%2C2.7%2C1.9%2C3.6V39c0%2C0.9%2C0.7%2C1.6%2C1.6%2C1.6h12.9l4.8%2C5l4.8-5h12.9c0.9%2C0%2C1.6-0.7%2C1.6-1.6V3.6c0-0.9-0.7-1.6-1.6-1.6H3.5z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C14.6H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C14.6%2C33.1%2C14.6z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C22H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C22%2C33.1%2C22z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C29.4H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C29.4%2C33.1%2C29.4z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",e.push({x:s,y:0,marker:0,image:{path:o}})}return e}},computed:{siteNotes(){let e=this.chartData.datasets?this.chartData.datasets[0].notes:[];if(typeof e>"u")return[];if(e.length==0)return e;let t={...e},s=this.chartData,i=[];return Object.keys(t).forEach(n=>{const a=s.datasets[0].labels.indexOf(n),o=this.chartData.datasets[0].timestamps[a]*1e3;i[o]=[...t[n]]}),i}}};var R=function(){var t=this,s=t._self._c;return s("div",{staticClass:"apexchart-overview apexchart-line-chart"},[s("apexchart",{attrs:{options:t.chartOptions(),series:t.chartSeries(),height:"355"}})],1)},S=[],A=c(M,R,S,!1,null,null,null,null);const Dt=A.exports,z={COLORS:["#2870C8","#489DFF","#BDDEFF","#7AAEE3","#5FB2F2","#9FCAFF","#166BAF","#80B9FF","#007EFF","#DBEDFF","#4CA6BC","#5E2CEC","#CB4CD0","#F164F6","#FDC5FF","#BDE9F3","#B79EFF","#5DC8E2","#FCA4FF","#BDE2FF","#4CA6BC","#5E2CEC","#CB4CD0","#F164F6","#FDC5FF","#BDE9F3","#B79EFF","#5DC8E2","#FCA4FF","#BDE2FF"]},P=null,B=null;var T=c(z,P,B,!1,null,null,null,null);const D=T.exports,L={name:"ReportPieChartApex",props:{chartData:Object,height:{type:Number,required:!0},width:{type:Number,required:!0},size:{type:Number,required:!0},colors:{type:Array,required:!1}},components:{apexchart:w},methods:{chartOptions(){return{chart:{type:"donut"},colors:this.chartColors(),plotOptions:{pie:{donut:{size:this.size+"%"}}},labels:this.chartLabels(),legend:{show:!1},dataLabels:{enabled:!1},grid:{padding:{top:0,bottom:0,left:0,right:0}}}},chartSeries(){let e=[];return typeof this.chartData.values<"u"&&this.chartData.values.forEach(function(t){typeof t<"u"?e.push(t):e.push(0)}),e},chartLabels(){let e=[];return typeof this.chartData.labels<"u"&&this.chartData.labels.forEach(function(t){typeof t<"u"?e.push(t):e.push("")}),e},chartColors(){return this.colors||D.COLORS}}};var Y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"apexchart-overview apexchart-pie-chart"},[s("apexchart",{attrs:{options:t.chartOptions(),series:t.chartSeries(),width:t.width,height:t.height}})],1)},O=[],N=c(L,Y,O,!1,null,null,null,null);const H=N.exports,I={name:"ReportOverviewPieChartApex",components:{SettingsInfoTooltip:f,ReportPieChartApex:H},props:{chartData:[Object,Boolean],title:String,tooltip:String,legend:{type:Boolean,default:!0},id:String,enableTooltips:{type:Boolean,default:!0},cutoutPercentage:Number,width:{type:Number,default:200},height:{type:Number,default:200},size:{type:Number,default:50},icon:{default:"",type:String}},computed:{titleClass(){return"monsterinsights-report-title "+this.icon},tooltipId(){return"monsterinsights-chartjs-pie-"+this.id+"-tooltip"},style(){return"max-width: "+this.width+"px; max-height: "+this.width+"px;"},colors(){return D.COLORS}},methods:{labelBackground(e){return"background-color: "+e+";"},chartClasses(){let e="monsterinsights-reports-pie-chart";return typeof this.chartData.values<"u"&&this.chartData.values.length>7&&(e+=" --long-list"),e}}};var V=function(){var t=this,s=t._self._c;return t.chartData?s("div",{class:t.chartClasses(),attrs:{id:t.id}},[t.title?s("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?s("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),s("div",{staticClass:"monsterinsights-reports-pie-chart-holder"},[s("report-pie-chart-apex",{staticClass:"monsterinsights-pie-chart",style:t.style,attrs:{"chart-data":t.chartData,width:t.width,height:t.height,size:t.size}}),t.legend?s("ul",{staticClass:"monsterinsights-pie-chart-legend"},t._l(t.chartData.values,function(i,n){return s("li",{key:n},[s("span",{staticClass:"monsterinsights-pie-chart-legend-color",style:t.labelBackground(t.colors[n])}),s("span",{staticClass:"monsterinsights-pie-chart-legend-text",domProps:{textContent:t._s(t.chartData.labels[n])}}),s("span",{staticClass:"monsterinsights-pie-chart-legend-value"},[t._v(" "+t._s(i||0)+"% ")])])}),0):t._e(),s("div",{staticClass:"monsterinsights-pie-chart-tooltip",attrs:{id:t.tooltipId}})],1)],1):t._e()},U=[],W=c(I,V,U,!1,null,null,null,null);const yt=W.exports,q={name:"ReportInfobox",components:{SettingsInfoTooltip:f},props:{title:String,value:{default:"0",type:String},id:String,days:Number,tooltip:String,change:Number,color:{default:"green",type:String},direction:{default:"up",type:String}},computed:{compare(){return $("vs. Previous Day",g("vs. Previous %s Days",this.days),this.days,"ga-premium")},changeClass(){let e="monsterinsights-reports-infobox-prev ";return typeof this.change>"u"?e+" monsterinsights-prev-nochange":e+" monsterinsights-"+this.color},changeText(){return this.change?this.direction===""?this.change+"%":'<span class="monsterinsights-arrow monsterinsights-'+this.direction+" monsterinsights-"+this.color+'"></span> '+this.change+"%":r("No change","ga-premium")}}};var j=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-reports-infobox",attrs:{id:t.id}},[t.title?s("div",{staticClass:"monsterinsights-report-title",domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?s("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),t.value!==""?s("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(t.value)}}):t._e(),t.value===""?s("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(0)}}):t._e(),s("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}}),t.days?s("div",{staticClass:"monsterinsights-reports-infobox-compare",domProps:{textContent:t._s(t.compare)}}):t._e()],1)},Z=[],G=c(q,j,Z,!1,null,null,null,null);const Ft=G.exports,K={name:"ReportsPagination",props:{limit:Number,length:Number},data(){return{currentLimit:this.limit,text_show:r("Show","ga-premium"),text_all:r("All","ga-premium")}},methods:{sendUpdate(e){this.currentLimit=e,this.$emit("updated",e)},getButtonClass(e){let t="monsterinsights-button";return e===this.currentLimit&&(t+=" monsterinsights-selected-interval"),t}}};var X=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-table-box-pagination"},[s("span",{domProps:{textContent:t._s(t.text_show)}}),s("div",{staticClass:"monsterinsights-buttons-toggle"},[s("button",{class:t.getButtonClass(10),on:{click:function(i){return t.sendUpdate(10)}}},[t._v(" 10 ")]),t.length>10?s("button",{class:t.getButtonClass(25),on:{click:function(i){return t.sendUpdate(25)}}},[t._v(" 25 ")]):t._e(),t.length>25?s("button",{class:t.getButtonClass(50),on:{click:function(i){return t.sendUpdate(50)}}},[t._v(" 50 ")]):t._e(),t.length>50?s("button",{class:t.getButtonClass(t.length),on:{click:function(i){return t.sendUpdate(t.length)}}},[t._v(" "+t._s(t.text_all)+" ")]):t._e()])])},J=[],Q=c(K,X,J,!1,null,null,null,null);const y=Q.exports,tt={name:"ReportListBox",components:{ReportsPagination:y,SettingsInfoTooltip:f},props:{title:String,id:String,tooltip:String,rows:Array,icon:{default:"",type:String}},data(){return{limit:10}},computed:{titleClass(){let e="monsterinsights-report-title ";return this.icon&&(e+=this.icon),this.paginate&&(e+=" monsterinsights-has-pagination"),e},paginate(){return this.rows.length>10},tableRows(){let e=[...this.rows];if(e.length<10)for(;e.length<10;)e.push({number:"",text:"",right:""});return e=e.slice(0,this.limit),e}},methods:{hasButtonSlot(){return this.$slots.button},changeLimit(e){this.limit=e}}};var et=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-table-box",attrs:{id:t.id}},[t.title?s("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?s("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),s("div",{staticClass:"monsterinsights-table-box-list"},t._l(t.tableRows,function(i,n){return s("div",{key:n,staticClass:"monsterinsights-table-list-item"},[s("span",{staticClass:"monsterinsights-reports-list-count",domProps:{textContent:t._s(i.number)}}),s("span",{staticClass:"monsterinsights-reports-list-text",domProps:{innerHTML:t._s(i.text)}}),s("span",{staticClass:"monsterinsights-reports-list-number",domProps:{innerHTML:t._s(i.number?t.$formatNumber(i.right):"")}})])}),0),t.hasButtonSlot()||t.paginate?s("div",{staticClass:"monsterinsights-table-box-footer"},[t._t("button"),t.paginate?s("reports-pagination",{attrs:{limit:t.limit,length:t.rows.length},on:{updated:t.changeLimit}}):t._e()],2):t._e()],1)},st=[],it=c(tt,et,st,!1,null,null,null,null);const $t=it.exports;k.directive("click-outside",{bind:function(e,t,s){e.clickOutsideEvent=function(i){e===i.target||e.contains(i.target)||s.context[t.expression](i)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}});const x=783;let C=!1;const nt={name:"ReportsDatePicker",data(){const e=this;return{config:{mode:"range",disableMobile:"true",dateFormat:"Y-m-d",disable:[function(t){let s=t,i=h(h().tz(e.$mi.timezone).format("YYYY-MM-DD")),a=h.duration(i.diff(s)).asDays();a=a+1;let l=h(t).tz(e.$mi.timezone).subtract(a,"d").tz(e.$mi.timezone),u=h(),_=l.isBetween(h("01-01-2005","MM-DD-YYYY").tz(e.$mi.timezone),u),d=h(t).isBetween(h("01-01-2005","MM-DD-YYYY").tz(e.$mi.timezone),u);return!_||!d}],static:!0,inline:!0},isMobile:window.innerWidth<x,dropdownVisible:!1,isCalendarOpen:!1}},computed:{...b({date:"$_reports/date",activeReport:"$_reports/activeReport",mobileTableExpanded:"$_reports/mobileTableExpanded"}),selectedIntervalText(){if(this.interval){let s=this.intervals[this.interval];return this.getIntervalFormatted(s.text,s.start,s.end)}let e=h(this.date.start),t=h(this.date.end);return g(r("%1$sCustom dates:%2$s %3$s - %4$s","ga-premium"),'<b class="monsterinsights-custom-dates-label">',"</b>",e.format("MMMM D"),t.format("MMMM D, YYYY"))},text_datepicker_placeholder(){return this.isMobile?r("Custom Date Range","ga-premium"):r("Set Custom Date Range","ga-premium")},text_mobile_details(){return this.mobileTableExpanded?r("Hide Details","ga-premium"):r("Show Details","ga-premium")},interval:{set(e){this.$store.commit("$_reports/UPDATE_INTERVAL",e)},get(){let e=this.date.interval;return(e===30||e==="false")&&(e="last30days"),e===7&&(e="last7days"),e}},local_date:{set(e){this.$store.commit("$_reports/UPDATE_DATE_TEXT",e)},get(){return this.date.text}},dropdownClass(){let e="monsterinsights-reports-intervals-dropdown";return this.isCalendarOpen&&(e+=" monsterinsights-p-0"),this.dropdownVisible||(e+=" monsterinsights-hide"),e},intervals(){let e=this.$mi_intervals();return typeof this.$route<"u"&&this.$route.name==="queries"&&(delete e.today,delete e.yesterday),e}},components:{flatPickr:E},methods:{updateDates(e){const t=this;this.dropdownVisible=!1;let s={};e[0]&&e[1]&&(s.start=this.getFormattedDate(e[0]),s.end=this.getFormattedDate(e[1]),t.$emit("date-changed"),this.interval=!1,document.activeElement.blur(),this.$store.commit("$_reports/UPDATE_DATE",s),this.$store.dispatch("$_reports/getReportData",this.activeReport).then(function(){t.$emit("reports-updated")}))},getFormattedDate(e){if(e instanceof Date){let t=this.addLeadingZero(e.getMonth()+1),s=this.addLeadingZero(e.getDate());e=e.getFullYear()+"-"+t+"-"+s}return e},addLeadingZero(e){return e<10&&e>0?0+e.toString():e},getInterval(e,t,s,i){const n=this;this.dropdownVisible=!1,this.interval=i,n.$emit("date-changed",i),this.$store.commit("$_reports/UPDATE_DATE",{start:e.format("YYYY-MM-DD"),end:t.format("YYYY-MM-DD")}),window.blur(),this.$store.dispatch("$_reports/getReportData",this.activeReport).then(function(){n.$emit("reports-updated")}),this.local_date=""},getIntervalText(e,t){return e.format("YYYYMMDD")===t.format("YYYYMMDD")?e.format("MMMM D, YYYY"):e.format("MMMM D")+" - "+t.format("MMMM D, YYYY")},getIntervalFormatted(e,t,s){return"<b>"+e+'<span class="monsterinsights-datepicker-colon">:</span></b> <span class="monsterinsights-datepicker-interval-dates">'+this.getIntervalText(t,s)+"</span>"},getButtonClass(e){let t="monsterinsights-button";return e===this.interval&&(t+=" monsterinsights-selected-interval"),t},hideMobileTables(){this.mobileTableExpanded&&this.$store.commit("$_reports/CONTRACT_TABLES")},showMobileTables(){this.mobileTableExpanded||this.$store.commit("$_reports/EXPAND_TABLES")},toggleMobileTables(){this.mobileTableExpanded?this.hideMobileTables():this.showMobileTables()},handleResize(){C||(C=!0,window.requestAnimationFrame?window.requestAnimationFrame(this.resizeCallback):setTimeout(this.resizeCallback,66))},resizeCallback(){this.isMobile=window.innerWidth<x,C=!1},openFlatPickr(){this.$refs.datePicker.fp.open(),this.isCalendarOpen=!0},showIfFlatpickr(){return this.$refs.datePicker&&this.isCalendarOpen?"":"monsterinsights-hide"},hideIfFlatpickr(){return this.$refs.datePicker&&this.isCalendarOpen?"monsterinsights-hide":""},maybeHideDropdown(){this.isCalendarOpen=!1,this.dropdownVisible&&(this.dropdownVisible=!1)},intervalButtonClass(e){let t="monsterinsights-button ";return this.interval===e&&(t+=" monsterinsights-interval-active"),t},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible,this.isCalendarOpen=!1}},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}};var rt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-reports-datepicker"},[s("div",{staticClass:"monsterinsights-reports-interval-dropdown-container"},[s("button",{staticClass:"monsterinsights-reports-interval-date-info",on:{click:function(i){return i.stopPropagation(),t.toggleDropdown.apply(null,arguments)}}},[s("span",{domProps:{innerHTML:t._s(t.selectedIntervalText)}}),s("i",{staticClass:"monstericon-calendar-alt"})]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.maybeHideDropdown,expression:"maybeHideDropdown"}],class:t.dropdownClass},[s("div",{class:t.showIfFlatpickr()},[s("flat-pickr",{ref:"datePicker",staticClass:"monsterinsights-datepicker",attrs:{config:t.config},on:{"on-close":t.updateDates},model:{value:t.local_date,callback:function(i){t.local_date=i},expression:"local_date"}})],1),s("div",{class:t.hideIfFlatpickr()},[t._l(t.intervals,function(i,n){return s("div",{key:n},[s("button",{class:t.intervalButtonClass(i.interval),domProps:{innerHTML:t._s(t.getIntervalFormatted(i.text,i.start,i.end))},on:{click:function(a){return t.getInterval(i.start,i.end,i.text,i.interval)}}})])}),t._t("beforeinterval"),s("div",[s("button",{class:t.intervalButtonClass(!1),on:{click:t.openFlatPickr}},[s("i",{staticClass:"monstericon-calendar-alt"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.text_datepicker_placeholder)}})])])],2)])]),s("button",{staticClass:"monsterinsights-button monsterinsights-mobile-details-toggle",domProps:{textContent:t._s(t.text_mobile_details)},on:{click:t.toggleMobileTables}})])},at=[],ot=c(nt,rt,at,!1,null,null,null,null);const kt=ot.exports,lt={name:"ReportTableBox",components:{ReportsPagination:y,SettingsInfoTooltip:f},props:{title:String,tooltip:String,rows:Array,headers:Array,button:Object,emptytext:String,error:String,mobileWidth:{default:783,type:Number},icon:{default:"",type:String}},data(){return{paginate:!1,limit:10,text_show:r("Show","ga-premium"),activeRow:"",isMobile:!1,resizing:!1}},computed:{...b({mobileTableExpanded:"$_reports/mobileTableExpanded"}),mobileHeaders(){let e=[];return this.headers.forEach(function(t,s){s>0&&e.push(t)}),e},emptyTable(){let e=[[this.emptytext]];for(;e.length<10;)e.push(["&nbsp;"]);return e},componentClass(){let e="monsterinsights-table-box";return this.isMobile&&(e+=" monsterinsights-table-box-mobile"),e},tableRows(){let e=this.rows;if(e.length<10){let t=[],s=0;for(;s<this.headers.length;)t.push(""),s++;for(;e.length<10;)e.push(t)}return e=e.slice(0,this.limit),e},titleClass(){let e="monsterinsights-report-title ";return this.icon&&(e+=this.icon),this.paginate&&(e+=" monsterinsights-has-pagination"),e}},methods:{hasButtonSlot(){return this.rows.length>10&&(this.paginate=!0),this.$slots.button},getButtonClass(e){let t="monsterinsights-button";return e===this.limit&&(t+=" monsterinsights-selected-interval"),t},cellText(e,t,s){return e===""?"&nbsp;":t===0?'<span class="monsterinsights-reports-list-count">'+(s+1)+'.</span><span class="monsterinsights-reports-list-title">'+e+"</span>":e},rowClass(e){let t="monsterinsights-table-list-item";return(this.mobileTableExpanded||this.activeRow===e)&&window.innerWidth<this.mobileWidth&&(t+=" monsterinsights-table-list-item-active"),this.tableRows[e][0]===""&&(t+=" monsterinsights-table-list-item-empty"),t},showMobileRow(e,t){return window.innerWidth<this.mobileWidth&&t>0&&(this.mobileTableExpanded||e===this.activeRow)},handleResize(){this.resizing||(this.resizing=!0,window.requestAnimationFrame?window.requestAnimationFrame(this.resizeCallback):setTimeout(this.resizeCallback,66))},resizeCallback(){this.isMobile=window.innerWidth<this.mobileWidth,this.resizing=!1},cellClass(e){return e++,"monsterinsights-table-cell-"+e},toggleMobileTables(e){if(this.mobileTableExpanded)return!1;this.activeRow=this.activeRow===e?"":e},changeLimit(e){this.limit=e}},mounted(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}};var ct=function(){var t=this,s=t._self._c;return s("div",{class:t.componentClass},[t.title?s("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?s("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),s("div",{staticClass:"monsterinsights-table-box-list monsterinsights-table-box-table"},[t.error?s("div",[s("h3",{domProps:{textContent:t._s(t.error)}})]):t.rows.length>0?s("table",[t.headers.length>0?s("thead",[s("tr",t._l(t.headers,function(i,n){return s("th",{key:n,domProps:{textContent:t._s(i)}})}),0)]):t._e(),s("tbody",t._l(t.tableRows,function(i,n){return s("tr",{key:n,class:t.rowClass(n),on:{click:function(a){return t.toggleMobileTables(n)}}},t._l(i,function(a,o){return s("td",{key:o,class:t.cellClass(o)},[t.showMobileRow(n,o)?s("div",{staticClass:"monsterinsights-table-mobile-heading",domProps:{textContent:t._s(t.headers[o])}}):t._e(),s("div",{staticClass:"monsterinsights-table-item-content",domProps:{innerHTML:t._s(t.cellText(a,o,n))}})])}),0)}),0)]):s("div",{staticClass:"monsterinsights-table-no-data"},[s("h3",{domProps:{textContent:t._s(t.emptytext)}})])]),t.hasButtonSlot()||t.paginate?s("div",{staticClass:"monsterinsights-table-box-footer"},[t._t("button"),t.paginate?s("reports-pagination",{attrs:{limit:t.limit,length:t.rows.length},on:{updated:t.changeLimit}}):t._e()],2):t._e()],1)},ht=[],dt=c(lt,ct,ht,!1,null,null,null,null);const Et=dt.exports,pt={name:"ReportUpsellOverlay",props:{report:String,noImage:{type:Boolean,default:!1}},data(){return{upgrade_link:this.$getUpgradeUrl("report",this.report),text_upsell_button:r("Upgrade and Unlock","ga-premium"),report_class:"upsell-"+this.report}},computed:{...b({noauth:"$_reports/noauth"}),upsellData(){return this.$mi_get_upsell_content(this.report)},subHeading(){return g(r("What’s in the %1$s?","ga-premium"),this.upsellData.mainheading)},featuresClass(){return this.upsellData.features.length>4?"columns-2":"columns-1"},footer_notice(){return g(r("%1$sPlus%2$s, upgrading to Pro will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about Pro%4$s","ga-premium"),"<strong>","</strong>",'<a target="_blank" href="'+this.upgrade_link+'">',"</a>")}}};var ut=function(){var t=this,s=t._self._c;return t.noauth?t._e():s("div",{staticClass:"monsterinsights-upsell-overlay"},[s("div",{staticClass:"monsterinsights-upsell-top"},[t.upsellData.mainheading?s("h3",{domProps:{textContent:t._s(t.upsellData.mainheading)}}):t._e()]),s("div",{staticClass:"monsterinsights-upsell-content"},[s("div",{staticClass:"monsterinsights-upsell-content__features"},[t.upsellData.title?s("h3",{domProps:{textContent:t._s(t.upsellData.title)}}):t._e(),t.subHeading?s("h4",{domProps:{textContent:t._s(t.subHeading)}}):t._e(),t.upsellData.features?s("ul",{class:t.featuresClass},t._l(t.upsellData.features,function(i,n){return s("li",{key:n,domProps:{textContent:t._s(i)}})}),0):t._e(),s("p",{domProps:{innerHTML:t._s(t.footer_notice)}}),s("a",{staticClass:"monsterinsights-button",attrs:{href:t.upgrade_link,target:"_blank"},domProps:{textContent:t._s(t.text_upsell_button)}})]),t.noImage?t._e():s("div",{staticClass:"monsterinsights-upsell-content__img",class:t.report_class})])])},mt=[],gt=c(pt,ut,mt,!1,null,null,null,null);const Mt=gt.exports,ft={name:"ReportReAuth",data(){return{text_no_auth:r("MonsterInsights encountered an error loading your report data","ga-premium"),text_auth_label:r("There is an issue with your Google Account authentication. Please use the button below to fix it by re-authenticating.","ga-premium"),text_button_reconnect:r("Reconnect MonsterInsights","ga-premium")}},methods:{doReAuth:function(e){e.preventDefault();const t=this;this.$swal({icon:"info",title:r("Re-Authenticating","ga-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,onOpen:function(){t.$swal.showLoading()}}),this.$store.dispatch("$_auth/doReAuth",this.is_network).then(function(s){s.data.redirect?window.location=s.data.redirect:t.$swal({icon:"error",title:r("Error","ga-premium"),text:s.data.message,confirmButtonText:r("Ok","ga-premium")})})}}};var _t=function(){var t=this,s=t._self._c;return s("div",{staticClass:"monsterinsights-not-authenticated-notice"},[s("h3",{domProps:{textContent:t._s(t.text_no_auth)}}),s("p",{domProps:{textContent:t._s(t.text_auth_label)}}),s("p",[s("button",{staticClass:"monsterinsights-button",domProps:{textContent:t._s(t.text_button_reconnect)},on:{click:t.doReAuth}})])])},Ct=[],bt=c(ft,_t,Ct,!1,null,null,null,null);const Rt=bt.exports;export{kt as R,$t as a,yt as b,Ft as c,Dt as d,Mt as e,Et as f,y as g,D as h,Rt as i};
