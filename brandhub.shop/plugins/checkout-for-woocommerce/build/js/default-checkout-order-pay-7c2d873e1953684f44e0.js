(globalThis.webpackChunkcheckout_for_woocommerce=globalThis.webpackChunkcheckout_for_woocommerce||[]).push([[692],{20296:e=>{function t(e,t,r){var s,a,o,i,n;function l(){var c=Date.now()-i;c<t&&c>=0?s=setTimeout(l,t-c):(s=null,r||(n=e.apply(o,a),o=a=null))}null==t&&(t=100);var c=function(){o=this,a=arguments,i=Date.now();var c=r&&!s;return s||(s=setTimeout(l,t)),c&&(n=e.apply(o,a),o=a=null),n};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(n=e.apply(o,a),o=a=null,clearTimeout(s),s=null)},c}t.debounce=t,e.exports=t},22617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e=".cfw-radio-reveal-group"){this._targetSelector=e,this.setListeners()}setListeners(){const e=jQuery("#order_review, #cfw-order-review").first(),t=`${this._targetSelector} .cfw-radio-reveal-title-wrap :radio`,s=this._targetSelector;e.on("change",t,(e=>{r.showContent(jQuery(e.target))})),jQuery(t).filter(":checked").trigger("change"),jQuery(document.body).on("updated_checkout",(()=>{jQuery(s).each(((e,s)=>{r.showContent(jQuery(s).find(`${t}:checked`).first())}))})),jQuery(document.body).on("click",".cfw-shipping-methods-list li, .cfw-radio-reveal-li",(e=>{jQuery(e.target).is(":input")||jQuery(e.currentTarget).find(".cfw-radio-reveal-title-wrap, .cfw-shipping-method-inner").find(":radio:not(:checked)").prop("checked",!0).trigger("change").trigger("click")}))}static showContent(e){const t=e,r=t.parents(".cfw-radio-reveal-li").first(),s=r.siblings(".cfw-radio-reveal-li"),a=s.find(".cfw-radio-reveal-content:visible");t.is(":checked")?(s.removeClass("cfw-active"),r.addClass("cfw-active"),a.slideUp(300),r.find(".cfw-radio-reveal-content:hidden").slideDown(300)):r.removeClass("cfw-active")}}t.default=r},61049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,s=!1){this.type=e,this.message=t,this.cssClass=r,this.alertContainer=jQuery("#cfw-alert-container"),this.temporary=s}}},53346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.setTermsAndConditionsListener()}setTermsAndConditionsListener(){const e=jQuery(".woocommerce-terms-and-conditions-link"),t=jQuery(".woocommerce-terms-and-conditions");e.on("click",(e=>{e.preventDefault(),t.slideToggle(300)}))}}},83691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){jQuery((e=>{if("undefined"==typeof wc_address_i18n_params)return!1;const t=wc_address_i18n_params.locale.replace(/&quot;/g,'"'),r=JSON.parse(t);function s(e,t){t?(e.find("label .optional").remove(),e.addClass("validate-required"),0===e.find("label .required").length&&e.find("label").append(`&nbsp;<abbr class="required" title="${wc_address_i18n_params.i18n_required_text}">*</abbr>`)):(e.find("label .required").remove(),e.removeClass("validate-required woocommerce-invalid woocommerce-invalid-required-field"),0===e.find("label .optional").length&&e.find("label").append(`&nbsp;<span class="optional">(${wc_address_i18n_params.i18n_optional_text})</span>`)),e.attr("data-parsley-required",t?"true":"false")}e(document.body).on("country_to_state_changing",((t,a,o)=>{const i=o;let n;n=void 0!==r[a]?r[a]:r.default;const l=i.find("#billing_postcode_field, #shipping_postcode_field"),c=i.find("#billing_city_field, #shipping_city_field"),d=i.find("#billing_state_field, #shipping_state_field");l.attr("data-o_class")||(l.attr("data-o_class",l.attr("class")),c.attr("data-o_class",c.attr("class")),d.attr("data-o_class",d.attr("class")));const u=JSON.parse(wc_address_i18n_params.locale_fields);e.each(u,((t,a)=>{const o=i.find(a),l=e.extend(!0,{},r.default[t],n[t]);void 0!==l.label&&o.find("label").html(l.label),void 0!==l.placeholder&&(o.find(":input").attr("placeholder",l.placeholder),o.find(":input").attr("data-placeholder",l.placeholder),o.find(".select2-selection__placeholder").text(l.placeholder)),void 0!==l.placeholder||void 0===l.label||o.find("label").length||(o.find(":input").attr("placeholder",l.label),o.find(":input").attr("data-placeholder",l.label),o.find(".select2-selection__placeholder").text(l.label)),void 0!==l.required?s(o,l.required):s(o,!1),void 0!==l.priority&&o.data("priority",l.priority),"state"!==t&&(void 0!==l.hidden&&!0===l.hidden?o.hide().find(":input").val(""):o.is(":hidden")&&!o.hasClass("cfw-hidden")&&o.show()),Array.isArray(l.class)&&(o.removeClass("form-row-first form-row-last form-row-wide"),o.addClass(l.class.join(" ")))}))})).trigger("wc_address_i18n_ready")}))}}},99255:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(64176),o=s(r(61049)),i=r(20296);class n{constructor(e){n.alertContainer=e,n.debouncedScrollToNotices=i(n.scrollToNotices,200),n.debouncedShowAlerts=i(n.showAlerts,200),jQuery(document.body).on("updated_checkout",(()=>{n.showAlerts()})),jQuery(document.body).on("cfw_checkout_place_order_event_returned_false",(()=>{n.showAlerts()}))}static scrollToNotices(){jQuery.scroll_to_notices(n.alertContainer)}static queueAlert(e,t="default"){n.queues[t]||(n.queues[t]=[]),n.queues[t].push(e)}static showAlerts(e="default",t=null){if(n.removeTemporaryAlerts(t),!n.queues[e]||0===n.queues[e].length)return;n.preserveAlerts||n.hideAlerts(t);const r=t?jQuery(t):n.alertContainer;n.queues[e].forEach((e=>{const t=n.getOrBuildAlert(e.type,e.message,e.cssClass);t.toggleClass("cfw-alert-temporary",e.temporary),t.appendTo(r)})),n.alertContainer.slideDown(300),n.debouncedScrollToNotices(),n.queues[e]=[],n.preserveAlerts&&(n.preserveAlerts=!1)}static buildAlert(e,t,r){return`<div id="${e}" class="cfw-alert ${r}"><div class="message">${t}</div></div>`}static getOrBuildAlert(e,t,r){const s=a.Md5.hashStr(t+r+e),o=n.getAlertId(s),i=jQuery(`#${o}`);return i.length>0?(i.show(),"error"===e&&(i.addClass("cfw-alert-temporary-shake"),setTimeout((()=>{i.removeClass("cfw-alert-temporary-shake")}),500)),i):jQuery(n.buildAlert(o,t,`${r} ${s}`))}static getAlertId(e){return`cfw-alert-${e}`}static hideAlerts(e=null){(e?jQuery(e):n.alertContainer).find(".cfw-alert").hide()}static removeTemporaryAlerts(e=null){(e?jQuery(e):n.alertContainer).find(".cfw-alert-temporary").hide()}static createAlertsFromMessages(e,t=null){let r=!1;const s=jQuery(jQuery.parseHTML(`<div>${e}</div>`)),a=s.find("ul.woocommerce-error li, div.woocommerce-error, div.wc-block-components-notice-banner.is-error .wc-block-components-notice-banner__content");jQuery.each(a,((e,r)=>{const s=new o.default("error",jQuery(r).html().trim(),`cfw-alert-error ${t}`);n.queueAlert(s)}));const i=s.find("ul.woocommerce-info li, div.woocommerce-info, div.wc-block-components-notice-banner.is-info .wc-block-components-notice-banner__content");jQuery.each(i,((e,r)=>{const s=new o.default("notice",jQuery(r).html().trim(),`cfw-alert-info ${t}`);n.queueAlert(s)}));const l=s.find("ul.woocommerce-message li, div.woocommerce-message, div.wc-block-components-notice-banner.is-success .wc-block-components-notice-banner__content");return jQuery.each(l,((e,s)=>{const a=new o.default("success",jQuery(s).html().trim(),`cfw-alert-success ${t}`);n.queueAlert(a),r=!0})),-1!==e.indexOf("<script")&&jQuery(document.body).prepend(`<div style="display:none">${e}</div>`),r}}n.queues={},n.preserveAlerts=!1,t.default=n},88565:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(58400));class o{static logError(e,t=null){o.log(`${e} âš ï¸`,!0,t)}static logNotice(e,t=null){o.log(`${e} â„¹ï¸`,!1,t)}static logEvent(e,t=null){o.log(`${e} ðŸ”ˆ`,!1,t)}static log(e,t=!1,r=null){(t||a.default.getCheckoutParam("cfw_debug_mode"))&&(console.log(`CheckoutWC: ${e}`),r&&console.log(r))}}t.default=o},8269:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(8022)),o=s(r(18707)),i=s(r(88565));t.default=class{constructor(){this._selectedGateway=!1,jQuery(document.body).on("click",'input[name="payment_method"]',(e=>{this.paymentGatewayChangeHandler(e)})),jQuery(document.body).on("cfw_pre_updated_checkout",(()=>{this.initSelectedPaymentGateway()})),this.initSelectedPaymentGateway()}initSelectedPaymentGateway(){const e=jQuery('.woocommerce-checkout input[name="payment_method"]');1===e.length&&e.hide(),!1!==this._selectedGateway&&jQuery(`#${this._selectedGateway}`).prop("checked",!0),(0,a.default)().applyFilters("cfw_js_ensure_selected_payment_method",0===e.filter(":checked").length)&&e.eq(0).prop("checked",!0);const t=e.filter(":checked").eq(0).prop("id");e.length>1&&jQuery("div.payment_box").not(`.${t}`).filter(":visible").slideUp(0),e.filter(":checked").eq(0).trigger("click")}paymentGatewayChangeHandler(e){const t=jQuery('.woocommerce-checkout input[name="payment_method"]:checked');if(!t.length)return;const r=jQuery("#place_order");t.data("order_button_text")?r.text(t.data("order_button_text")):r.text(r.data("value"));const s=t.val().toString();void 0!==e.originalEvent&&(window.cfw_update_payment_method_request_xhr=(0,o.default)(s));const a=t.attr("id");a!==this._selectedGateway&&(jQuery(document.body).trigger("payment_method_selected"),i.default.logEvent(`Fired payment_method_selected event. Gateway: ${a}`)),this._selectedGateway=a}}},84878:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(58400)),o=s(r(88565));t.default=function(e,t){o.default.log(`AJAX request to endpoint: ${e}. â˜„ï¸`);const r=Object.assign({},t),s=a.default.getCheckoutParam("wc_ajax_url").toString().replace("%%endpoint%%",e);return r.url=`${s}&nocache=${(new Date).getTime()}`,r.dataType="json",r.cache=!1,r.error=[t.error,(t,r,s)=>{"abort"!==r&&o.default.logError(`cfwAjax ${e} Error: ${s} (${r})`)}].filter(Boolean).flat(),jQuery.ajax(r)}},18707:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(84878));t.default=function(e){const t={type:"POST",data:{paymentMethod:e}};return(0,a.default)("update_payment_method",t)}},64176:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Md5:()=>s,Md5FileHasher:()=>a,ParallelHasher:()=>o});class s{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=s.hexChars,r=s.hexOut;let a,o,i,n;for(n=0;n<4;n+=1)for(o=8*n,a=e[n],i=0;i<8;i+=2)r[o+1+i]=t.charAt(15&a),a>>>=4,r[o+0+i]=t.charAt(15&a),a>>>=4;return r.join("")}static _md5cycle(e,t){let r=e[0],s=e[1],a=e[2],o=e[3];r+=(s&a|~s&o)+t[0]-680876936|0,r=(r<<7|r>>>25)+s|0,o+=(r&s|~r&a)+t[1]-389564586|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&s)+t[2]+606105819|0,a=(a<<17|a>>>15)+o|0,s+=(a&o|~a&r)+t[3]-1044525330|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&o)+t[4]-176418897|0,r=(r<<7|r>>>25)+s|0,o+=(r&s|~r&a)+t[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&s)+t[6]-1473231341|0,a=(a<<17|a>>>15)+o|0,s+=(a&o|~a&r)+t[7]-45705983|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&o)+t[8]+1770035416|0,r=(r<<7|r>>>25)+s|0,o+=(r&s|~r&a)+t[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&s)+t[10]-42063|0,a=(a<<17|a>>>15)+o|0,s+=(a&o|~a&r)+t[11]-1990404162|0,s=(s<<22|s>>>10)+a|0,r+=(s&a|~s&o)+t[12]+1804603682|0,r=(r<<7|r>>>25)+s|0,o+=(r&s|~r&a)+t[13]-40341101|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&s)+t[14]-1502002290|0,a=(a<<17|a>>>15)+o|0,s+=(a&o|~a&r)+t[15]+1236535329|0,s=(s<<22|s>>>10)+a|0,r+=(s&o|a&~o)+t[1]-165796510|0,r=(r<<5|r>>>27)+s|0,o+=(r&a|s&~a)+t[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,a+=(o&s|r&~s)+t[11]+643717713|0,a=(a<<14|a>>>18)+o|0,s+=(a&r|o&~r)+t[0]-373897302|0,s=(s<<20|s>>>12)+a|0,r+=(s&o|a&~o)+t[5]-701558691|0,r=(r<<5|r>>>27)+s|0,o+=(r&a|s&~a)+t[10]+38016083|0,o=(o<<9|o>>>23)+r|0,a+=(o&s|r&~s)+t[15]-660478335|0,a=(a<<14|a>>>18)+o|0,s+=(a&r|o&~r)+t[4]-405537848|0,s=(s<<20|s>>>12)+a|0,r+=(s&o|a&~o)+t[9]+568446438|0,r=(r<<5|r>>>27)+s|0,o+=(r&a|s&~a)+t[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,a+=(o&s|r&~s)+t[3]-187363961|0,a=(a<<14|a>>>18)+o|0,s+=(a&r|o&~r)+t[8]+1163531501|0,s=(s<<20|s>>>12)+a|0,r+=(s&o|a&~o)+t[13]-1444681467|0,r=(r<<5|r>>>27)+s|0,o+=(r&a|s&~a)+t[2]-51403784|0,o=(o<<9|o>>>23)+r|0,a+=(o&s|r&~s)+t[7]+1735328473|0,a=(a<<14|a>>>18)+o|0,s+=(a&r|o&~r)+t[12]-1926607734|0,s=(s<<20|s>>>12)+a|0,r+=(s^a^o)+t[5]-378558|0,r=(r<<4|r>>>28)+s|0,o+=(r^s^a)+t[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^s)+t[11]+1839030562|0,a=(a<<16|a>>>16)+o|0,s+=(a^o^r)+t[14]-35309556|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^o)+t[1]-1530992060|0,r=(r<<4|r>>>28)+s|0,o+=(r^s^a)+t[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^s)+t[7]-155497632|0,a=(a<<16|a>>>16)+o|0,s+=(a^o^r)+t[10]-1094730640|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^o)+t[13]+681279174|0,r=(r<<4|r>>>28)+s|0,o+=(r^s^a)+t[0]-358537222|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^s)+t[3]-722521979|0,a=(a<<16|a>>>16)+o|0,s+=(a^o^r)+t[6]+76029189|0,s=(s<<23|s>>>9)+a|0,r+=(s^a^o)+t[9]-640364487|0,r=(r<<4|r>>>28)+s|0,o+=(r^s^a)+t[12]-421815835|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^s)+t[15]+530742520|0,a=(a<<16|a>>>16)+o|0,s+=(a^o^r)+t[2]-995338651|0,s=(s<<23|s>>>9)+a|0,r+=(a^(s|~o))+t[0]-198630844|0,r=(r<<6|r>>>26)+s|0,o+=(s^(r|~a))+t[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~s))+t[14]-1416354905|0,a=(a<<15|a>>>17)+o|0,s+=(o^(a|~r))+t[5]-57434055|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~o))+t[12]+1700485571|0,r=(r<<6|r>>>26)+s|0,o+=(s^(r|~a))+t[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~s))+t[10]-1051523|0,a=(a<<15|a>>>17)+o|0,s+=(o^(a|~r))+t[1]-2054922799|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~o))+t[8]+1873313359|0,r=(r<<6|r>>>26)+s|0,o+=(s^(r|~a))+t[15]-30611744|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~s))+t[6]-1560198380|0,a=(a<<15|a>>>17)+o|0,s+=(o^(a|~r))+t[13]+1309151649|0,s=(s<<21|s>>>11)+a|0,r+=(a^(s|~o))+t[4]-145523070|0,r=(r<<6|r>>>26)+s|0,o+=(s^(r|~a))+t[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~s))+t[2]+718787259|0,a=(a<<15|a>>>17)+o|0,s+=(o^(a|~r))+t[9]-343485551|0,s=(s<<21|s>>>11)+a|0,e[0]=r+e[0]|0,e[1]=s+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(s.stateIdentity),this}appendStr(e){const t=this._buffer8,r=this._buffer32;let a,o,i=this._bufferLength;for(o=0;o<e.length;o+=1){if(a=e.charCodeAt(o),a<128)t[i++]=a;else if(a<2048)t[i++]=192+(a>>>6),t[i++]=63&a|128;else if(a<55296||a>56319)t[i++]=224+(a>>>12),t[i++]=a>>>6&63|128,t[i++]=63&a|128;else{if(a=1024*(a-55296)+(e.charCodeAt(++o)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[i++]=240+(a>>>18),t[i++]=a>>>12&63|128,t[i++]=a>>>6&63|128,t[i++]=63&a|128}i>=64&&(this._dataLength+=64,s._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this}appendAsciiStr(e){const t=this._buffer8,r=this._buffer32;let a,o=this._bufferLength,i=0;for(;;){for(a=Math.min(e.length-i,64-o);a--;)t[o++]=e.charCodeAt(i++);if(o<64)break;this._dataLength+=64,s._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}appendByteArray(e){const t=this._buffer8,r=this._buffer32;let a,o=this._bufferLength,i=0;for(;;){for(a=Math.min(e.length-i,64-o);a--;)t[o++]=e[i++];if(o<64)break;this._dataLength+=64,s._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,r=e.state,s=this._state;let a;for(this._dataLength=e.length,this._bufferLength=e.buflen,s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],a=0;a<t.length;a+=1)this._buffer8[a]=t.charCodeAt(a)}end(e=!1){const t=this._bufferLength,r=this._buffer8,a=this._buffer32,o=1+(t>>2);this._dataLength+=t;const i=8*this._dataLength;if(r[t]=128,r[t+1]=r[t+2]=r[t+3]=0,a.set(s.buffer32Identity.subarray(o),o),t>55&&(s._md5cycle(this._state,a),a.set(s.buffer32Identity)),i<=4294967295)a[14]=i;else{const e=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),r=parseInt(e[1],16)||0;a[14]=t,a[15]=r}return s._md5cycle(this._state,a),e?this._state:s._hex(this._state)}}if(s.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),s.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s.hexChars="0123456789abcdef",s.hexOut=[],s.onePassHasher=new s,"5d41402abc4b2a76b9719d911017c592"!==s.hashStr("hello"))throw new Error("Md5 self test failed.");class a{constructor(e,t=!0,r=1048576){this._callback=e,this._async=t,this._partSize=r,this._configureReader()}hash(e){const t=this;t._blob=e,t._part=0,t._md5=new s,t._processPart()}_fail(){this._callback({success:!1,result:"data read failed"})}_hashData(e){let t=this;t._md5.appendByteArray(new Uint8Array(e.target.result)),t._part*t._partSize>=t._blob.size?t._callback({success:!0,result:t._md5.end()}):t._processPart()}_processPart(){const e=this;let t,r=0;e._part+=1,e._blob.size>e._partSize?(r=e._part*e._partSize,r>e._blob.size&&(r=e._blob.size),t=e._blob.slice((e._part-1)*e._partSize,r)):t=e._blob,e._async?e._reader.readAsArrayBuffer(t):setTimeout((()=>{try{e._hashData({target:{result:e._reader.readAsArrayBuffer(t)}})}catch(t){e._fail()}}),0)}_configureReader(){const e=this;e._async?(e._reader=new FileReader,e._reader.onload=e._hashData.bind(e),e._reader.onerror=e._fail.bind(e),e._reader.onabort=e._fail.bind(e)):e._reader=new FileReaderSync}}class o{constructor(e,t){this._queue=[],this._ready=!0;const r=this;Worker?(r._hashWorker=new Worker(e,t),r._hashWorker.onmessage=r._recievedMessage.bind(r),r._hashWorker.onerror=e=>{r._ready=!1,console.error("Hash worker failure",e)}):(r._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(e){const t=this;let r;return r=new Promise(((r,s)=>{t._queue.push({blob:e,resolve:r,reject:s}),t._processNext()})),r}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(e){var t,r;const s=e.data;s.success?null===(t=this._processing)||void 0===t||t.resolve(s.result):null===(r=this._processing)||void 0===r||r.reject(s.result),this._processing=void 0,this._processNext()}}}}]);