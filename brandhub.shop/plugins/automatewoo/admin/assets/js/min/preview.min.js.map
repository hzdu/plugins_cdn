{"version":3,"file":"preview.min.js","mappings":"2BAGAA,QAAQ,SAAWC,GAYlB,SAASC,IACRD,EAAG,6BAA8BE,OAChCF,EAAGG,QAASD,SAAWF,EAAG,uBAAwBI,cAEpD,CAEAJ,EAAG,mCAAoCK,GAAI,UAAU,SAAWC,GAC/DA,EAAEC,iBAEF,MAAMC,EAAQR,EAAGS,MAEjBD,EAAME,SAAU,cAChBF,EAAMG,KAAM,UAAWC,QAAS,QAEhC,MAAMC,EAAO,CACZC,OAAQ,qBACRC,KAAMP,EAAMG,KAAM,iBAAkBK,MACpCC,UAAWT,EAAMG,KAAM,sBAAuBK,MAC9CE,KAAMC,KAAKC,MAAOZ,EAAMG,KAAM,iBAAkBK,OAChDK,MAAOC,iCAAiCD,OASzC,OANArB,EAAEuB,KAAMC,QAASX,GAAM,SAAWY,GAEjCC,MAAOD,EAASZ,KAAKc,SACrBnB,EAAMoB,YAAa,aACpB,KAEO,CACR,IApCC3B,IAEAD,EAAGG,QAASE,GAAI,UAAU,WACzBJ,GACD,GAmCF","sources":["webpack://automatewoo/./admin/assets/js/preview.js"],"sourcesContent":["// Register eslint ignored glabals - to be revisited.\n// https://github.com/woocommerce/automatewoo/issues/1212\n/* global ajaxurl, alert, automatewooPreviewLocalizeScript */\njQuery( function ( $ ) {\n\t/**\n\t * Init\n\t */\n\tfunction init() {\n\t\tsetIframeHeight();\n\n\t\t$( window ).on( 'resize', function () {\n\t\t\tsetIframeHeight();\n\t\t} );\n\t}\n\n\tfunction setIframeHeight() {\n\t\t$( '.aw-preview__email-iframe' ).height(\n\t\t\t$( window ).height() - $( '.aw-preview__header' ).outerHeight()\n\t\t);\n\t}\n\n\t$( 'form.aw-preview__send-test-form' ).on( 'submit', function ( e ) {\n\t\te.preventDefault();\n\n\t\tconst $form = $( this );\n\n\t\t$form.addClass( 'aw-loading' );\n\t\t$form.find( 'button' ).trigger( 'blur' );\n\n\t\tconst data = {\n\t\t\taction: 'aw_send_test_email',\n\t\t\ttype: $form.find( '[name=\"type\"]' ).val(),\n\t\t\tto_emails: $form.find( '[name=\"to_emails\"]' ).val(),\n\t\t\targs: JSON.parse( $form.find( '[name=\"args\"]' ).val() ),\n\t\t\tnonce: automatewooPreviewLocalizeScript.nonce,\n\t\t};\n\n\t\t$.post( ajaxurl, data, function ( response ) {\n\t\t\t// eslint-disable-next-line no-alert -- Pre eslint introduction code, to be revised.\n\t\t\talert( response.data.message );\n\t\t\t$form.removeClass( 'aw-loading' );\n\t\t} );\n\n\t\treturn false;\n\t} );\n\n\tinit();\n} );\n"],"names":["jQuery","$","setIframeHeight","height","window","outerHeight","on","e","preventDefault","$form","this","addClass","find","trigger","data","action","type","val","to_emails","args","JSON","parse","nonce","automatewooPreviewLocalizeScript","post","ajaxurl","response","alert","message","removeClass"],"sourceRoot":""}