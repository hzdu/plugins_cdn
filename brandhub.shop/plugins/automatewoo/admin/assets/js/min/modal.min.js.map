{"version":3,"file":"modal.min.js","mappings":"2BAMAA,YAAYC,MAAQ,CAInBC,eAAgB,CAEfC,MAAO,6BAIPC,SAAU,8BAGZC,QAAQ,SAAWC,GAClBC,OAAOC,OAAQR,YAAYC,MAAO,CACjCQ,OACC,MAAMC,EAAQJ,EAAGK,SAASC,MAC1BF,EAAMG,GAAI,QAAS,IAAKC,KAAKZ,eAAeC,SAAU,KACrDW,KAAKX,MAAO,UAAW,IAExBO,EAAMG,GAAI,QAAS,8BAA8B,KAChDC,KAAKX,MAAO,UAAW,IAExBO,EAAMG,GACL,QACA,IAAKC,KAAKZ,eAAeE,WACzBU,KAAKC,aAGNT,EAAGK,UAAWE,GAAI,WAAW,SAAWG,GACpB,KAAdA,EAAEC,SACNjB,YAAYC,MAAME,MAAO,UAE3B,GACD,EAEAY,YAAaC,GACZA,EAAEE,iBAEF,MAAMC,EAAKb,EAAGQ,MACRM,EAAOD,EAAGE,KAAM,0BAEtBrB,YAAYC,MAAMqB,KAAMF,GACxBpB,YAAYC,MAAMsB,UAElBjB,EAAEkB,KAAML,EAAGM,KAAM,QAAU,CAAC,GAAG,SAAWC,GACzC1B,YAAYC,MAAM0B,SAAUD,EAC7B,GACD,EAEAJ,KAAMF,GACL,IAAIQ,EAAY,GAEXR,IACJQ,EAAY,2BAA6BR,GAG1CT,SAASC,KAAKiB,UAAUC,IAAK,0BAE7BxB,EAAGK,SAASC,MAAOmB,OAClB,wHAAyHH,qIAA+Id,KAAKZ,eAAeC,4BAE9R,EAEAoB,UACCZ,SAASC,KAAKiB,UAAUC,IAAK,4BAC9B,EAEAH,SAAUA,GACThB,SAASC,KAAKiB,UAAUG,OAAQ,6BAChC1B,EAAG,gCAAiC2B,KAAMN,GAE1CO,GAAGC,cACJ,EASAhC,MAAOiC,EAAW,IACjBzB,SAASC,KAAKiB,UAAUG,OACvB,yBACA,6BAED1B,EAAG,gCAAiC0B,SAEpC,MACMK,EAAa,IAAIC,YAAa,gBAAiB,CAAEC,OADxC,CAAEH,cAGjBzB,SAASC,KAAK4B,cAAeH,EAC9B,IAGDrC,YAAYC,MAAMQ,MACnB","sources":["webpack://automatewoo/./admin/assets/js/modal.js"],"sourcesContent":["// Register eslint ignored glabals - to be revisited.\n// https://github.com/woocommerce/automatewoo/issues/1212\n/* global AutomateWoo, AW, CustomEvent */\n/**\n * AutomateWoo Modal\n */\nAutomateWoo.Modal = {\n\t/**\n\t * A set of classes to be used to interact with the modal singleton.\n\t */\n\ttriggerClasses: {\n\t\t/** Clicking on such element closes the modal. */\n\t\tclose: 'js-close-automatewoo-modal',\n\t\t/**\n\t\t * To be used on `HTMLAnchorElement`, to load ajax content fetched from `href`.\n\t\t */\n\t\topenLink: 'js-open-automatewoo-modal',\n\t},\n};\njQuery( function ( $ ) {\n\tObject.assign( AutomateWoo.Modal, {\n\t\tinit() {\n\t\t\tconst $body = $( document.body );\n\t\t\t$body.on( 'click', `.${ this.triggerClasses.close }`, () => {\n\t\t\t\tthis.close( 'dismiss' );\n\t\t\t} );\n\t\t\t$body.on( 'click', '.automatewoo-modal-overlay', () => {\n\t\t\t\tthis.close( 'dismiss' );\n\t\t\t} );\n\t\t\t$body.on(\n\t\t\t\t'click',\n\t\t\t\t`.${ this.triggerClasses.openLink }`,\n\t\t\t\tthis.handle_link\n\t\t\t);\n\n\t\t\t$( document ).on( 'keydown', function ( e ) {\n\t\t\t\tif ( e.keyCode === 27 ) {\n\t\t\t\t\tAutomateWoo.Modal.close( 'dismiss' );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\thandle_link( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst $a = $( this );\n\t\t\tconst size = $a.data( 'automatewoo-modal-size' );\n\n\t\t\tAutomateWoo.Modal.open( size );\n\t\t\tAutomateWoo.Modal.loading();\n\n\t\t\t$.post( $a.attr( 'href' ), {}, function ( response ) {\n\t\t\t\tAutomateWoo.Modal.contents( response );\n\t\t\t} );\n\t\t},\n\n\t\topen( size ) {\n\t\t\tlet sizeClass = '';\n\n\t\t\tif ( size ) {\n\t\t\t\tsizeClass = 'automatewoo-modal--size-' + size;\n\t\t\t}\n\n\t\t\tdocument.body.classList.add( 'automatewoo-modal-open' );\n\n\t\t\t$( document.body ).append(\n\t\t\t\t`<div class=\"automatewoo-modal-container\"><div class=\"automatewoo-modal-overlay\"></div><div class=\"automatewoo-modal  ${ sizeClass }\"><div class=\"automatewoo-modal__contents\"><div class=\"automatewoo-modal__header\"></div></div><div class=\"automatewoo-icon-close ${ this.triggerClasses.close }\"></div></div></div>`\n\t\t\t);\n\t\t},\n\n\t\tloading() {\n\t\t\tdocument.body.classList.add( 'automatewoo-modal-loading' );\n\t\t},\n\n\t\tcontents( contents ) {\n\t\t\tdocument.body.classList.remove( 'automatewoo-modal-loading' );\n\t\t\t$( '.automatewoo-modal__contents' ).html( contents );\n\n\t\t\tAW.initTooltips();\n\t\t},\n\n\t\t/**\n\t\t * Closes modal, by changin classes on `document.body` and removing modal elements.\n\t\t *\n\t\t * @param {string} [closedBy=''] - Identifier for what closed the modal which will be included in the event detail.\n\t\t *\n\t\t * @fires awmodal-close on the `document.body`.\n\t\t */\n\t\tclose( closedBy = '' ) {\n\t\t\tdocument.body.classList.remove(\n\t\t\t\t'automatewoo-modal-open',\n\t\t\t\t'automatewoo-modal-loading'\n\t\t\t);\n\t\t\t$( '.automatewoo-modal-container' ).remove();\n\n\t\t\tconst detail = { closedBy };\n\t\t\tconst modalClose = new CustomEvent( 'awmodal-close', { detail } );\n\n\t\t\tdocument.body.dispatchEvent( modalClose );\n\t\t},\n\t} );\n\n\tAutomateWoo.Modal.init();\n} );\n"],"names":["AutomateWoo","Modal","triggerClasses","close","openLink","jQuery","$","Object","assign","init","$body","document","body","on","this","handle_link","e","keyCode","preventDefault","$a","size","data","open","loading","post","attr","response","contents","sizeClass","classList","add","append","remove","html","AW","initTooltips","closedBy","modalClose","CustomEvent","detail","dispatchEvent"],"sourceRoot":""}