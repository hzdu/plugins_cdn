!function(c){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=c,o.c=r,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(c,r,function(e){return t[e]}.bind(null,r));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=71)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},,function(e,t){e.exports=window.wc.blocksCheckout},function(e,t,c){var r=c(41),o=c(42),a=c(34),n=c(43);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||n()},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t){function c(){return e.exports=c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c,r=arguments[t];for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,c.apply(this,arguments)}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){"use strict";var r=c(13);t.a=function(){var e=Object(r.getSetting)("wc-gift-cards-blocks_data"),t=e.show_balance_checkbox,c=e.show_remaining_balance_per_gift_card;return{isUiDisabled:e.is_ui_disabled,isCartDisabled:e.is_cart_disabled,isRedeemingEnabled:e.is_redeeming_enabled,isCart:e.is_cart,isCheckout:e.is_checkout,showBalanceCheckbox:t,showRemainingBalance:c,accountOrdersLink:e.account_orders_link}}},,,function(e,t,c){var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var c=arguments[t];if(c){var r,o=typeof c;if("string"==o||"number"==o)e.push(c);else if(Array.isArray(c))!c.length||(r=s.apply(null,c))&&e.push(r);else if("object"==o)if(c.toString===Object.prototype.toString)for(var a in c)n.call(c,a)&&c[a]&&e.push(a);else e.push(c.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0!==(r=function(){return s}.apply(t,[]))&&(e.exports=r)}()},function(e,t){e.exports=window.wc.priceFormat},function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wp.data},,function(e,t){e.exports=window.wp.compose},,,,,,,function(e,t,c){var n=c(44);e.exports=function(e,t){if(null==e)return{};var c,r=n(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)c=o[a],0<=t.indexOf(c)||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=window.wp.primitives},,,function(e,t,c){"use strict";function a(e){var t=(e=e.extensions["woocommerce-gift-cards"]).is_using_balance,c=e.available_total,r=e.pending_total,o=Object(w.a)().accountOrdersLink,e=Object(d.useState)(t),e=(t=f()(e,2))[0],a=t[1],t=Object(d.useState)(!1),n=(t=f()(t,2))[0],s=t[1],t=n,n=Object(d.useMemo)(function(){var e=Object(b.sprintf)(Object(b.__)("Use %s from your gift cards balance.","woocommerce-gift-cards"),"<strong>"+Object(O.formatPrice)(c)+"</strong>"),t='<a href="'+o+'">'+Object(b.__)("pending orders","woocommerce-gift-cards")+"</a>",t=Object(b.sprintf)(Object(b.__)("%1$s on hold in %2$s","woocommerce-gift-cards"),Object(O.formatPrice)(r),t);return Object(d.createElement)(d.RawHTML,{className:"wc-gift-cards-checkbox-message"},e,0<r&&'<div class="wc-block-components-totals-item__description">'+t+"</div>")},[c,r,o]);return Object(d.createElement)(g.TotalsWrapper,null,Object(d.createElement)("div",{className:p()("wc-gc-balance-checkbox-container",{"wc-gc-balance-checkbox-container--disabled":t})},Object(d.createElement)(g.CheckboxControl,{className:"wc-gc-balance-checkbox",id:"wc-gc-balance-checkbox",checked:e,onChange:function(e){return e=e,s(!0),void Object(g.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"set_balance_usage",value:e?"yes":"no"}}).then(function(){a(function(e){return!e})}).finally(function(){s(!1)})},disabled:t},n)))}function u(e){var t=e.text,c=void 0===(c=e.screenReaderText)?"":c,r=void 0===(r=e.element)?"li":r,o=void 0===(o=e.className)?"":o,a=void 0===(a=e.radius)?"small":a,n=void 0===(n=e.children)?null:n,e=v()(e,_),o=p()(o,"wc-block-components-chip","wc-block-components-chip--radius-"+a),a=Boolean(c&&c!==t);return Object(d.createElement)(r,j()({className:o},e),Object(d.createElement)("span",{"aria-hidden":a,className:"wc-block-components-chip__text"},t),a&&Object(d.createElement)("span",{className:"screen-reader-text"},c),n)}function m(e){var t=void 0===(t=e.ariaLabel)?"":t,c=void 0===(c=e.className)?"":c,r=void 0!==(r=e.disabled)&&r,o=void 0===(a=e.onRemove)?function(){}:a,a=void 0!==(a=e.removeOnAnyClick)&&a,n=e.text,s=void 0===(s=e.screenReaderText)?"":s,e=v()(e,y),i=a?"span":"button",l={"aria-label":t=t?t:"string"!=typeof(l=s&&"string"==typeof s?s:n)?Object(b.__)("Remove","woocommerce-gift-cards"):Object(b.sprintf)(Object(b.__)('Remove gift card "%s"',"woocommerce-gift-cards"),l),disabled:r,onClick:o,onKeyDown:function(e){"Backspace"!==e.key&&"Delete"!==e.key||o()}},t=a?l:{},l=a?{"aria-hidden":!0}:l;return Object(d.createElement)(u,j()({},e,t,{className:p()(c,"is-removable",{"is-removing":r}),element:a?"button":e.element,screenReaderText:s,text:n}),Object(d.createElement)(i,j()({className:"wc-block-components-chip__remove"},l),Object(d.createElement)(h.a,{className:"wc-block-components-chip__remove-icon",icon:x,size:16})))}function n(e){var t=e.giftcard,c=e.handleRemove,e=Object(O.getCurrency)(),r=Object(d.useState)(!1),o=(r=f()(r,2))[0],a=r[1],n=t.id,r=t.code,s=t.amount,i=t.balance,t=t.pending_message,l=Object(w.a)().showRemainingBalance;return Object(d.createElement)(g.TotalsWrapper,null,Object(d.createElement)(g.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:e,label:Object(b.__)("Gift Card:","woocommerce-gift-cards"),value:-1*parseInt(s,10),description:Object(d.createElement)(d.Fragment,null,Object(d.createElement)(m,{key:"gifcard-"+r,className:"wc-gift-cards-totals-giftcard__code-list-item",text:r,element:"div",radius:"large",screenReaderText:Object(b.sprintf)(Object(b.__)("Gift Card: %s","woocommerce-gift-cards"),r),disabled:o,onRemove:function(){a(!0),c(n)},ariaLabel:Object(b.sprintf)(Object(b.__)('Remove gift card "%s"',"woocommerce-gift-cards"),r)}),t&&Object(d.createElement)(d.RawHTML,null,t),l&&Object(d.createElement)("div",null,Object(d.createElement)("strong",null,Object(b.__)("Remaining Balance:","woocommerce-gift-cards")),Object(d.createElement)("div",null,Object(O.formatPrice)(i-s))))}))}function s(e){var t=(e=e.extensions["woocommerce-gift-cards"]).account_giftcards,c=e.balance,e=e.available_total;if(0===t.length)return null;var r=Object(O.getCurrency)(),o=t.reduce(function(e,t){return e+=parseInt(t.amount,10)},0);return Object(d.createElement)(d.Fragment,null,Object(d.createElement)(g.TotalsWrapper,null,Object(d.createElement)(g.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:r,label:Object(b.__)("Gift Cards Balance","woocommerce-gift-cards"),value:-1*o,description:Object(d.createElement)(d.Fragment,null,Object(d.createElement)("strong",null,Object(b._n)("Code:","Codes:",t.length,"woocommerce-gift-cards")),Object(d.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},t.map(function(e){return Object(d.createElement)(u,{key:"account-giftcard-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.code,radius:"large",screenReaderText:Object(b.sprintf)(Object(b.__)("Gift Card: %s","woocommerce-gift-cards"),e.code)})})),Object(d.createElement)("strong",null,Object(b.__)("Remaining Balance:","woocommerce-gift-cards")),Object(d.createElement)("div",null,Object(O.formatPrice)(c-e)))})))}function i(e){if(!0==(!(e=e.extensions)||!e.hasOwnProperty("woocommerce-gift-cards")||!e["woocommerce-gift-cards"].hasOwnProperty("account_giftcards")))return null;var t=(e=e["woocommerce-gift-cards"]).cart_total,c=e.applied_giftcards,e=e.account_giftcards;return c.length||e.length?(c=Object(O.getCurrency)(),Object(d.createElement)(g.TotalsWrapper,null,Object(d.createElement)(g.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-footer-item",currency:c,label:Object(b.__)("Total","woocommerce-gift-cards"),value:parseInt(t,10),description:Object(b.__)("(before gift cards)","woocommerce-gift-cards")}))):null}var d=c(0),r=c(4),f=c.n(r),b=c(1),r=c(11),p=c.n(r),g=c(3),O=c(12),w=c(8),r=(c(53),c(14)),o=c(16),l=c(7),j=c.n(l),l=c(23),v=c.n(l),_=["text","screenReaderText","element","className","radius","children"],h=c(68),l=c(25),x=Object(d.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(d.createElement)(l.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),y=(c(54),["ariaLabel","className","disabled","onRemove","removeOnAnyClick","text","screenReaderText"]),k=Object(o.compose)(Object(r.withDispatch)(function(e){return{createNotice:e("core/notices").createNotice}}))(function(e){var t=e.extensions,c=e.createNotice,e=t["woocommerce-gift-cards"].applied_giftcards;if(!e.length)return null;function r(e){Object(g.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"remove_gift_card_from_session",wc_gc_remove_id:e}}).then(function(){var e=Object(b.__)("Gift card code has been removed.","woocommerce-gift-cards");c("default",e,{id:"wc-gift-cards-removed-gift-card",type:"snackbar",context:o?"wc/checkout":"wc/cart"})}).catch(function(){})}var o=Object(w.a)().isCheckout;return e.map(function(e){return Object(d.createElement)(n,{key:"giftcard-"+e.id,giftcard:e,handleRemove:r})})});t.a=function(e){if(!0==(!e.extensions||!e.extensions.hasOwnProperty("woocommerce-gift-cards")||!(null!=e&&e.extensions["woocommerce-gift-cards"].hasOwnProperty("account_giftcards"))))return null;var t=e.extensions["woocommerce-gift-cards"],c=t.balance,t=t.available_total,r=Object(w.a)(),o=r.isRedeemingEnabled,r=r.showBalanceCheckbox,c=0<c&&o&&r;return Object(d.createElement)(d.Fragment,null,Object(d.createElement)(i,e),Object(d.createElement)(k,e),c&&0<t&&Object(d.createElement)(a,e),c&&Object(d.createElement)(s,e))}},function(e,t,c){"use strict";function d(e){var t=e.children,c=e.className,r=e.screenReaderLabel,e=void 0===(e=e.isLoading)||e;return Object(S.createElement)("div",{className:T()(c,{"wc-block-components-loading-mask":e})},Object(S.createElement)("div",{className:T()({"wc-block-components-loading-mask__children":e}),"aria-hidden":e},t),e&&Object(S.createElement)("span",{className:"screen-reader-text"},r||Object(b.__)("Loading…","woocommerce-gift-cards")))}function f(e){var t=e.className,c=e.id,r=void 0===(r=e.type)?"text":r,o=e.ariaLabel,a=e.ariaDescribedBy,n=e.label,s=e.screenReaderLabel,i=e.disabled,l=e.help,u=void 0===(u=e.autoCapitalize)?"off":u,m=void 0===(m=e.autoComplete)?"off":m,d=void 0===(d=e.value)?"":d,f=e.onChange,b=e.min,p=e.max,g=e.step,O=void 0!==(O=e.hasError)&&O,w=void 0!==(w=e.required)&&w,j=e.focusOnMount,v=void 0!==j&&j,_=void 0===(j=e.onBlur)?function(){}:j,e=Object(S.useState)(!0),h=(j=C()(e,2))[0],x=j[1],e=Object(S.useState)(!1),e=(j=C()(e,2))[0],y=j[1],k=Object(S.useRef)(null),E=(Object(S.useEffect)(function(){var e;h&&v&&null!=(e=k.current)&&e.focus(),x(!1)},[v,h]),"number"===r?{step:g,min:b,max:p}:{}),N={};return Object.keys(E).forEach(function(e){void 0!==E[e]&&(N[e]=E[e])}),Object(S.createElement)("div",{className:T()("wc-gift-cards-text-input",t,{"is-active":e||d,"has-error":O})},Object(S.createElement)("input",M()({type:r,id:c,value:d,ref:k,autoCapitalize:u,autoComplete:m,onChange:function(e){f(e.target.value)},onFocus:function(){return y(!0)},onBlur:function(e){_(e.target.value),y(!1)},"aria-label":o||n,disabled:i,"aria-describedby":l&&!a?c+"__help":a,required:w},N)),Object(S.createElement)(R.Label,{label:n,screenReaderLabel:s||n,wrapperElement:"label",wrapperProps:{htmlFor:c},htmlFor:c}))}var r=c(4),C=c.n(r),S=c(0),b=c(1),R=c(3),r=c(14),o=c(16),a=c(11),T=c.n(a),a=c(7),M=c.n(a),p=(c(51),c(8));c(52),t.a=Object(o.compose)(Object(r.withDispatch)(function(e){return{createNotice:e("core/notices").createNotice}}))(function(e){var t=e.extensions,c=e.createNotice,e=Object(S.useState)(""),e=C()(e,2),r=e[0],o=e[1],e=Object(S.useState)(!1),e=C()(e,2),a=e[0],n=e[1],e=Object(S.useState)(!1),e=C()(e,2),s=e[0],i=e[1],e=Object(S.useState)(""),e=C()(e,2),l=e[0],u=e[1];if(!0==(!t||!t.hasOwnProperty("woocommerce-gift-cards")||!t["woocommerce-gift-cards"].hasOwnProperty("account_giftcards")))return null;var m=Object(p.a)().isCheckout;return Object(S.createElement)(R.Panel,{className:"wc-gift-cards-apply-panel",hasBorder:!1,initialOpen:!1,title:Object(b.__)("Have a gift card?","woocommerce-gift-cards")},Object(S.createElement)(d,{isLoading:a},Object(S.createElement)("form",{className:"wc-gift-cards-form"},Object(S.createElement)(f,{id:"wc-gift-cards-form-input",label:Object(b.__)("Enter code","woocommerce-gift-cards"),type:"string",value:r,disabled:a,ariaDescribedBy:"",onChange:function(e){o(e)},focusOnMount:!0,hasError:s&&""===r,errorMessage:l}),Object(S.createElement)(R.Button,{className:"wc-gift-cards-form__button",disabled:null===r||""===r||a,showSpinner:a,onClick:function(e){e.preventDefault();var e=r;(e=e.trim()).match(/^([a-zA-Z0-9]{4}[\-]){3}[a-zA-Z0-9]{4}$/)?(n(!0),i(!1),u(""),Object(R.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"apply_gift_card_to_session",wc_gc_cart_code:e}}).then(function(){var e=Object(b.__)("Gift card code has been applied.","woocommerce-gift-cards");c("default",e,{id:"wc-gift-cards-form-notice",type:"snackbar",context:m?"wc/checkout":"wc/cart"})}).catch(function(e){i(!0),null!=e&&e.message&&"string"==typeof e.message?u(e.message):u(Object(b.__)("An unknown error occurred.","woocommerce-gift-cards"))}).finally(function(){n(!1),o("")})):(e=Object(b.__)("Please enter a gift card code that follows the format XXXX-XXXX-XXXX-XXXX, where X can be any letter or number.","woocommerce-gift-cards"),o(""),u(e),i(!0))},type:"submit"},Object(b.__)("Apply","woocommerce-gift-cards")),s&&Object(S.createElement)("div",{className:"wc-gift-cards-form__error"},Object(S.createElement)(S.RawHTML,null,l)))))})},,,,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,r=new Array(t);c<t;c++)r[c]=e[c];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){var r=c(33);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(c="Object"===c&&e.constructor?e.constructor.name:c)||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e){e.exports=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var c=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var r,o,a=[],n=!0,s=!1;try{for(c=c.call(e);!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(s)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};for(var c,r={},o=Object.keys(e),a=0;a<o.length;a++)c=o[a],0<=t.indexOf(c)||(r[c]=e[c]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){"use strict";var r=c(0),o=c(3),a=c(29);t.a=function(e){var t=e.className,e=e.extensions;return Object(r.createElement)(o.TotalsWrapper,{className:t},Object(r.createElement)(a.a,{extensions:e}))}},function(e,t,c){"use strict";var r=c(0),o=c(28);t.a=function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(o.a,e))}},function(e,t,c){"use strict";var r=c(0),o=c(3),a=c(29);t.a=function(e){var t=e.className,e=e.extensions;return Object(r.createElement)(o.TotalsWrapper,{className:t},Object(r.createElement)(a.a,{extensions:e}))}},function(e,t,c){"use strict";var r=c(0),o=c(28);t.a=function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(o.a,e))}},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,,,,,,,,,,function(e,t,c){"use strict";var o=c(0);t.a=function(e){let{icon:t,size:c=24,...r}=e;return Object(o.cloneElement)(t,{width:c,height:c,...r})}},,,function(e,t,c){"use strict";c.r(t);var t=c(8),r=c(0),o=c(3),a=c(45),n=c(36),s=c(46),i=c(37),l=c(47),u=c(38),m=c(48),d=c(39);c(55);c=Object(t.a)(),t=c.isCartDisabled,c.isUiDisabled||(Object(o.registerCheckoutBlock)({metadata:n,component:function(e){return Object(r.createElement)(a.a,e)}}),Object(o.registerCheckoutBlock)({metadata:i,component:function(e){return Object(r.createElement)(s.a,e)}}),t||(Object(o.registerCheckoutBlock)({metadata:u,component:function(e){return Object(r.createElement)(l.a,e)}}),Object(o.registerCheckoutBlock)({metadata:d,component:function(e){return Object(r.createElement)(m.a,e)}})))}]);