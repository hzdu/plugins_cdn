var brfCurrentWindowWidth,brfTimeline,brfAnimationData=[],brfPrefix=BRFANIMATIONS.bricksPrefix;async function brfAnimatorInit(){brfCurrentWindowWidth=window.innerWidth,bricksIsFrontend||await brfWait(500);document.querySelectorAll("[data-brf-animation]").forEach((t=>{const o=t.dataset.brfAnimation?JSON.parse(t.dataset.brfAnimation):[];o.node=t,brfAnimationData.push(o)}));for(let t of brfAnimationData)brfHandleAnimation(t)}function brfIsAnimationAllowed(t){let o=t.brf_disable_for_breakpoints,r=!0;return o&&brfCurrentWindowWidth&&(r=brfCurrentWindowWidth>parseInt(o)),r}function brfHandleAnimation(t){let o,r=t.node,e=r,n=t.brf_animations_trigger,i=t.brf_animations_method,a=t.brf_animations_object,s=t.brf_animations_object_fromto,f=t.brf_animations_fromto_duration,m=t.brf_animations_fromto_delay,_=t.brf_animations_click_target,b=t.brf_animations_click_target_custom,l=t.brf_animations_scrub,c=t.brf_animations_markers,u=t.brf_animations_start,d=t.brf_animations_end,p=t.brf_animations_motionpath,g=t.brf_animations_motionpath_helper,h=t.brf_animations_motionpath_autorotate,j=t.brf_animations_motionpath_autorotate_value,y=t.brf_animations_motionpath_ignore_parent,w=t.brf_animations_motionpath_position_absolute,A=t.brf_animations_motionpath_autorotate_direction,P=t.brf_animations_motionpath_autorotate_value_scroll_up,T=t.brf_animations_motionpath_autorotate_value_scroll_down,v=t.brf_animations_motionpath_repeat,O=t.brf_animations_motionpath_yoyo;if(brfIsAnimationAllowed(t)&&(bricksIsFrontend||e)&&(a||s||"motionPath"==i)&&("custom"==_&&b&&(e=document.querySelector(b)),e&&("click"!=n&&"mouseenter"!=n||e.addEventListener(n,(function(t){t.preventDefault(),o=brfGetInlineStyle(r);let e=[];if("fromTo"==i&&s&&s.length>=2){let t=brfTransformAnimationObject(s[0].brf_animations_object_fromto_transform,s[0].brf_animations_object_fromto_filters),o=brfTransformAnimationObject(s[1].brf_animations_object_fromto_transform,s[1].brf_animations_object_fromto_filters),a=s[0].brf_animations_object_fromto_custom,_=s[0].brf_animations_object_fromto_custom_object,b=a&&_&&brfIsParsable(_)?JSON.parse(_):{},l=s[1].brf_animations_object_fromto_custom,c=s[1].brf_animations_object_fromto_custom_object,u=l&&c&&brfIsParsable(c)?JSON.parse(c):{};b&&(t={...b,...t}),u&&(o={...u,...o}),e=[t,o],brfAnimate(r,i,n,e,f||1,m||0)}else if("motionPath"==i){p||(p="M 0,-70 h 500"),gsap.registerPlugin(MotionPathPlugin),g&&gsap.registerPlugin(MotionPathHelper),brfAnimate(r,i,n,!1,f||1,m||0,!1,!1,!1,!1,p,g,h||!1,y||!1,w||!1,j||null,A,P,T,v,O)}else{brfTimeline=gsap.timeline();for(let t of a){let o=brfTransformAnimationObject(t.brf_animations_object_transform,t.brf_animations_object_filters),e=t.brf_animations_object_custom,a=t.brf_animations_object_custom_object,s=e&&a&&brfIsParsable(a)?JSON.parse(a):{};s&&(o={...s,...o});let f=t.brf_animations_object_duration?t.brf_animations_object_duration:1,m=t.brf_animations_object_delay?t.brf_animations_object_delay:0;brfAnimate(r,i,n,o,f,m)}}})),"viewport"==n))){gsap.registerPlugin(ScrollTrigger);let t=[];if("fromTo"==i&&s&&s.length>=2){let o=brfTransformAnimationObject(s[0].brf_animations_object_fromto_transform,s[0].brf_animations_object_fromto_filters),e=brfTransformAnimationObject(s[1].brf_animations_object_fromto_transform,s[1].brf_animations_object_fromto_filters),a=s[0].brf_animations_object_fromto_custom,_=s[0].brf_animations_object_fromto_custom_object,b=a&&_&&brfIsParsable(_)?JSON.parse(_):{},p=s[1].brf_animations_object_fromto_custom,g=s[1].brf_animations_object_fromto_custom_object,h=p&&g&&brfIsParsable(g)?JSON.parse(g):{};b&&(o={...b,...o}),h&&(e={...h,...e}),t=[o,e];let j=f||1,y=m||0;t={scrollTrigger:{trigger:r,scrub:l,start:u||"top bottom",end:d||"bottom top",markers:c},...t},brfAnimate(r,i,n,t,j,y,l,u,d,c)}else if("motionPath"==i){p||(p="M 0,-70 h 500"),gsap.registerPlugin(MotionPathPlugin),g&&gsap.registerPlugin(MotionPathHelper),brfAnimate(r,i,n,!1,f||1,m||0,l,u||"top bottom",d||"bottom top",c,p,g,h||!1,y||!1,w||!1,j||null,A,P,T,v,O)}else{brfTimeline=gsap.timeline();for(let t of a){let o=brfTransformAnimationObject(t.brf_animations_object_transform,t.brf_animations_object_filters),e=t.brf_animations_object_custom,a=t.brf_animations_object_custom_object,s=e&&a&&brfIsParsable(a)?JSON.parse(a):{};s&&(o={...s,...o});let f=t.brf_animations_object_duration?t.brf_animations_object_duration:1,m=t.brf_animations_object_delay?t.brf_animations_object_delay:0;brfAnimate(r,i,n,o,f,m,l,u,d,c)}}}}function brfTransformAnimationObject(t,o){if(!t&&!o)return{};let r={};t&&(r={...t});let e="";if(o){for(let t in o)if("opacity"===t)e=o[t]/100,o.opacity;else o[t]=`${t}(${o[t]/100})`;let t=Object.keys(o).map((function(t){return o[t]})).join(" ");r.filter=t,r.opacity=e}return r}function brfWait(t=2e3){return new Promise((async o=>{setTimeout((()=>o()),t)}))}function brfIsParsable(t){try{JSON.parse(t)}catch(t){return!1}return!0}function brfGetInlineStyle(t){return Array.from(t.style).reduce(((o,r)=>(o[r]=t.style[r],o)),{})}function brfAnimate(t,o="from",r,e={},n,i,a=!1,s,f,m,_=!1,b=!1,l=!1,c=!1,u=!1,d=null,p=!1,g=null,h=null,j=0,y=!1){switch(o){case"from":"viewport"==r?gsap.from(t,{duration:n,delay:i,...e,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}):brfTimeline.from(t,{duration:n,delay:i,...e});break;case"to":"viewport"==r?gsap.to(t,{duration:n,delay:i,...e,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}):brfTimeline.to(t,{duration:n,delay:i,...e});break;case"fromTo":"viewport"==r?gsap.timeline({scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m}}).fromTo(t,{duration:n,delay:i,...e[0]},{duration:n,delay:i,...e[1]}):gsap.fromTo(t,{duration:n,delay:i,...e[0]},{duration:n,delay:i,...e[1]});break;case"motionPath":const o=t,w="brf-motionpath-"+(Math.floor(9e5*Math.random())+1e5),A="."+w,P=document.createElementNS("http://www.w3.org/2000/svg","svg"),T=document.createElementNS("http://www.w3.org/2000/svg","path");P.style.overflow="visible",P.setAttribute("xmlns","http://www.w3.org/2000/svg"),T.setAttribute("class",w),T.setAttribute("fill","none"),T.setAttribute("d",_),P.appendChild(T),1==u&&(P.style.position="absolute");let v=document.createElement("div");if(document.querySelector(A)||(o.parentNode.appendChild(P),v.classList.add("targetNodeParent"),v.style.width=o.offsetWidth+"px",v.style.height=o.offsetHeight+"px",o.parentNode.insertBefore(v,o),v.appendChild(o)),!c){let t=document.querySelector(A).getBBox(),o=t.x+" "+t.y+" "+t.width+" "+t.height;t.height>5&&(document.querySelector(A).closest("svg").setAttribute("viewBox",o),document.querySelector(A).closest("svg").style.padding=75)}let O=l;d&&(O=d);let S,I=o;if(p&&(I=v),!document.querySelector(A))return;S="hover"==r||"click"==r?gsap.to(I,{duration:n,delay:i,repeat:parseInt(j),yoyo:y,motionPath:{path:A,align:A,autoRotate:l,ease:"power1.inOut",alignOrigin:[.5,.5]}}):gsap.to(I,{duration:n,delay:i,repeat:parseInt(j),yoyo:y,scrollTrigger:{trigger:t,scrub:a,start:s,end:f,markers:m,onUpdate:t=>{if(p){let r=g,e=h;r&&e&&gsap.to(o,{rotation:()=>1===t.direction?e:r})}}},motionPath:{path:A,align:A,autoRotate:O,ease:"power1.inOut",alignOrigin:[.5,.5]}}),document.querySelector(".motion-path-helper")||1!=b||MotionPathHelper.create(I,{})}}document.addEventListener("DOMContentLoaded",(function(){brfCurrentWindowWidth=window.innerWidth,brfAnimatorInit()})),window.addEventListener("resize",(function(){brfCurrentWindowWidth=window.innerWidth}));