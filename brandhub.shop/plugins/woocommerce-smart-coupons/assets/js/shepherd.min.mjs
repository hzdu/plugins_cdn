/*! shepherd.js 13.0.3 */function isElement$1(a){return a instanceof Element}function isHTMLElement$1(a){return a instanceof HTMLElement}function isFunction(a){return typeof a=='function'}function isString(a){return typeof a=='string'}function isUndefined(a){return a===void 0}class Evented{on(a,c,d,e=!1){var b;return isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[a])&&(this.bindings[a]=[]),(b=this.bindings[a])==null||b.push({handler:c,ctx:d,once:e}),this}once(a,b,c){return this.on(a,b,c,!0)}off(a,b){if(isUndefined(this.bindings)||isUndefined(this.bindings[a]))return this;if(isUndefined(b))delete this.bindings[a];else{var c;(c=this.bindings[a])==null||c.forEach((d,e)=>{if(d.handler===b){var c;(c=this.bindings[a])==null||c.splice(e,1)}})}return this}trigger(a,...c){if(!isUndefined(this.bindings)&&this.bindings[a]){var b;(b=this.bindings[a])==null||b.forEach((i,d)=>{const{ctx:e,handler:f,once:g}=i,h=e||this;if(f.apply(h,c),g){var b;(b=this.bindings[a])==null||b.splice(d,1)}})}return this}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(d){for(var a=1,b,c;a<arguments.length;a++){b=arguments[a];for(c in b)({}.hasOwnProperty.call(b,c)&&(d[c]=b[c]))}return d},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(b,d){var c,a;if(null==b)return{};c={};for(a in b)if({}.hasOwnProperty.call(b,a)){if(d.includes(a))continue;c[a]=b[a]}return c}const actions={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};({defaultMerge:actions.defaultMerge});function defaultMetaDataUpdater(b,a){return a}function getObjectType(a){return typeof a!="object"||a===null?0:Array.isArray(a)?2:isRecord(a)?1:a instanceof Set?3:a instanceof Map?4:5}function getKeys(b){const a=new Set;for(const c of b)for(const b of[...Object.keys(c),...Object.getOwnPropertySymbols(c)])a.add(b);return a}function objectHasProperty(a,b){return typeof a=="object"&&Object.prototype.propertyIsEnumerable.call(a,b)}function getIterableOfIterables(a){return{*[Symbol.iterator](){for(const b of a)for(const a of b)yield a}}}const validRecordToStringValues=new Set(["[object Object]","[object Module]"]);function isRecord(b){if(!validRecordToStringValues.has(Object.prototype.toString.call(b)))return!1;const{constructor:c}=b;if(c===void 0)return!0;const a=c.prototype;return!(a===null||typeof a!="object"||!validRecordToStringValues.has(Object.prototype.toString.call(a)))&&(!!a.hasOwnProperty("isPrototypeOf"))}function mergeRecords$2(a,c,d){const b={};for(const e of getKeys(a)){const f=[];for(const b of a)objectHasProperty(b,e)&&f.push(b[e]);if(f.length===0)continue;const h=c.metaDataUpdater(d,{key:e,parents:a}),g=mergeUnknowns(f,c,h);if(g===actions.skip)continue;e==="__proto__"?Object.defineProperty(b,e,{value:g,configurable:!0,enumerable:!0,writable:!0}):b[e]=g}return b}function mergeArrays$2(a){return a.flat()}function mergeSets$2(a){return new Set(getIterableOfIterables(a))}function mergeMaps$2(a){return new Map(getIterableOfIterables(a))}function mergeOthers$2(a){return a.at(-1)}var defaultMergeFunctions=Object.freeze({__proto__:null,mergeArrays:mergeArrays$2,mergeMaps:mergeMaps$2,mergeOthers:mergeOthers$2,mergeRecords:mergeRecords$2,mergeSets:mergeSets$2});function deepmerge(...a){return deepmergeCustom({})(...a)}function deepmergeCustom(b,c){const d=getUtils(b,a);function a(...a){return mergeUnknowns(a,d,c)}return a}function getUtils(a,d){var b,c;return{defaultMergeFunctions,mergeFunctions:_extends({},defaultMergeFunctions,Object.fromEntries(Object.entries(a).filter(([a,b])=>Object.hasOwn(defaultMergeFunctions,a)).map(([a,b])=>b===!1?[a,mergeOthers$2]:[a,b]))),metaDataUpdater:(b=a.metaDataUpdater)!=null?b:defaultMetaDataUpdater,deepmerge:d,useImplicitDefaultMerging:(c=a.enableImplicitDefaultMerging)!=null&&c,actions}}function mergeUnknowns(a,b,c){if(a.length===0)return void 0;if(a.length===1)return mergeOthers$1(a,b,c);const d=getObjectType(a[0]);if(d!==0&&d!==5)for(let e=1;e<a.length;e++){if(getObjectType(a[e])===d)continue;return mergeOthers$1(a,b,c)}switch(d){case 1:return mergeRecords$1(a,b,c);case 2:return mergeArrays$1(a,b,c);case 3:return mergeSets$1(a,b,c);case 4:return mergeMaps$1(a,b,c);default:return mergeOthers$1(a,b,c)}}function mergeRecords$1(c,a,d){const b=a.mergeFunctions.mergeRecords(c,a,d);return b===actions.defaultMerge||a.useImplicitDefaultMerging&&b===void 0&&a.mergeFunctions.mergeRecords!==a.defaultMergeFunctions.mergeRecords?a.defaultMergeFunctions.mergeRecords(c,a,d):b}function mergeArrays$1(c,a,d){const b=a.mergeFunctions.mergeArrays(c,a,d);return b===actions.defaultMerge||a.useImplicitDefaultMerging&&b===void 0&&a.mergeFunctions.mergeArrays!==a.defaultMergeFunctions.mergeArrays?a.defaultMergeFunctions.mergeArrays(c):b}function mergeSets$1(c,a,d){const b=a.mergeFunctions.mergeSets(c,a,d);return b===actions.defaultMerge||a.useImplicitDefaultMerging&&b===void 0&&a.mergeFunctions.mergeSets!==a.defaultMergeFunctions.mergeSets?a.defaultMergeFunctions.mergeSets(c):b}function mergeMaps$1(c,a,d){const b=a.mergeFunctions.mergeMaps(c,a,d);return b===actions.defaultMerge||a.useImplicitDefaultMerging&&b===void 0&&a.mergeFunctions.mergeMaps!==a.defaultMergeFunctions.mergeMaps?a.defaultMergeFunctions.mergeMaps(c):b}function mergeOthers$1(c,a,d){const b=a.mergeFunctions.mergeOthers(c,a,d);return b===actions.defaultMerge||a.useImplicitDefaultMerging&&b===void 0&&a.mergeFunctions.mergeOthers!==a.defaultMergeFunctions.mergeOthers?a.defaultMergeFunctions.mergeOthers(c):b}function autoBind(a){const b=Object.getOwnPropertyNames(a.constructor.prototype);for(let c=0;c<b.length;c++){const d=b[c],e=a[d];d!=='constructor'&&typeof e=='function'&&(a[d]=e.bind(a))}return a}function _setupAdvanceOnHandler(a,b){return c=>{if(a.isOpen()){const d=a.el&&c.currentTarget===a.el,e=!isUndefined(b)&&c.currentTarget.matches(b);(e||d)&&a.tour.next()}}}function bindAdvance(b){const{event:a,selector:c}=b.options.advanceOn||{};if(a){const e=_setupAdvanceOnHandler(b,c);let d=null;if(!isUndefined(c))if(d=document.querySelector(c),!d)return console.error(`No element was found for the selector supplied to advanceOn: ${c}`);d?(d.addEventListener(a,e),b.on('destroy',()=>d.removeEventListener(a,e))):(document.body.addEventListener(a,e,!0),b.on('destroy',()=>document.body.removeEventListener(a,e,!0)))}else return console.error('advanceOn was defined, but no event name was passed.')}class StepNoOp{constructor(a){}}class TourNoOp{constructor(a,b){}}function normalizePrefix(a){return!isString(a)||a===''?'':a.charAt(a.length-1)!=='-'?`${a}-`:a}function parseAttachTo(b){const c=b.options.attachTo||{},a=Object.assign({},c);if(isFunction(a.element)&&(a.element=a.element.call(b)),isString(a.element)){try{a.element=document.querySelector(a.element)}catch(a){}a.element||console.error(`The element for this Shepherd step was not found ${c.element}`)}return a}function shouldCenterStep(a){return!!(a===void 0||a===null)||!a.element||!a.on}function uuid(){let a=Date.now();return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,c=>{const b=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(c=='x'?b:b&3|8).toString(16)})}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=a=>({x:a,y:a}),oppositeSideMap={left:'right',right:'left',bottom:'top',top:'bottom'},oppositeAlignmentMap={start:'end',end:'start'};function clamp(a,b,c){return max(a,min(b,c))}function evaluate(a,b){return typeof a=='function'?a(b):a}function getSide(a){return a.split('-')[0]}function getAlignment(a){return a.split('-')[1]}function getOppositeAxis(a){return a==='x'?'y':'x'}function getAxisLength(a){return a==='y'?'height':'width'}function getSideAxis(a){return['top','bottom'].includes(getSide(a))?'y':'x'}function getAlignmentAxis(a){return getOppositeAxis(getSideAxis(a))}function getAlignmentSides(g,c,b){b===void 0&&(b=!1);const d=getAlignment(g),e=getAlignmentAxis(g),f=getAxisLength(e);let a=e==='x'?d===(b?'end':'start')?'right':'left':d==='start'?'bottom':'top';return c.reference[f]>c.floating[f]&&(a=getOppositePlacement(a)),[a,getOppositePlacement(a)]}function getExpandedPlacements(a){const b=getOppositePlacement(a);return[getOppositeAlignmentPlacement(a),b,getOppositeAlignmentPlacement(b)]}function getOppositeAlignmentPlacement(a){return a.replace(/start|end/g,a=>oppositeAlignmentMap[a])}function getSideList(d,a,e){const b=['left','right'],c=['right','left'],f=['top','bottom'],g=['bottom','top'];switch(d){case'top':case'bottom':return e?a?c:b:a?b:c;case'left':case'right':return a?f:g;default:return[]}}function getOppositeAxisPlacements(b,d,e,f){const c=getAlignment(b);let a=getSideList(getSide(b),e==='start',f);return c&&(a=a.map(a=>a+"-"+c),d&&(a=a.concat(a.map(getOppositeAlignmentPlacement)))),a}function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,a=>oppositeSideMap[a])}function expandPaddingObject(a){return _extends({top:0,right:0,bottom:0,left:0},a)}function getPaddingObject(a){return typeof a!='number'?expandPaddingObject(a):{top:a,right:a,bottom:a,left:a}}function rectToClientRect(e){const{x:a,y:b,width:c,height:d}=e;return{width:c,height:d,top:b,left:a,right:a+c,bottom:b+d,x:a,y:b}}const _excluded2=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],_excluded4=["mainAxis","crossAxis","limiter"];function computeCoordsFromPlacement(n,d,h){let{reference:a,floating:c}=n;const m=getSideAxis(d),e=getAlignmentAxis(d),f=getAxisLength(e),l=getSide(d),j=m==='y',k=a.x+a.width/2-c.width/2,i=a.y+a.height/2-c.height/2,g=a[f]/2-c[f]/2;let b;switch(l){case'top':b={x:k,y:a.y-c.height};break;case'bottom':b={x:k,y:a.y+a.height};break;case'right':b={x:a.x+a.width,y:i};break;case'left':b={x:a.x-c.width,y:i};break;default:b={x:a.x,y:a.y}}switch(getAlignment(d)){case'start':b[e]-=g*(h&&j?-1:1);break;case'end':b[e]+=g*(h&&j?-1:1);break}return b}const computePosition$1=async(i,e,o)=>{const{placement:j='bottom',strategy:g='absolute',middleware:n=[],platform:c}=o,k=n.filter(Boolean),l=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:i,floating:e,strategy:g}),{x:a,y:d}=computeCoordsFromPlacement(f,j,l),h=j,b={},m=0;for(let o=0;o<k.length;o++){const{name:p,fn:s}=k[o],{x:q,y:r,data:t,reset:n}=await s({x:a,y:d,initialPlacement:j,placement:h,strategy:g,middlewareData:b,rects:f,platform:c,elements:{reference:i,floating:e}});a=q!=null?q:a,d=r!=null?r:d,b=_extends({},b,{[p]:_extends({},b[p],t)}),n&&m<=50&&(m++,typeof n=='object'&&(n.placement&&(h=n.placement),n.rects&&(f=n.rects===!0?await c.getElementRects({reference:i,floating:e,strategy:g}):n.rects),{x:a,y:d}=computeCoordsFromPlacement(f,h,l)),o=-1)}return{x:a,y:d,placement:h,strategy:g,middlewareData:b}};async function detectOverflow(n,h){var m;h===void 0&&(h={});const{x:t,y:r,platform:a,rects:g,elements:c,strategy:o}=n,{boundary:u='clippingAncestors',rootBoundary:p='viewport',elementContext:k='floating',altBoundary:s=!1,padding:q=0}=evaluate(h,n),e=getPaddingObject(q),v=k==='floating'?'reference':'floating',i=c[s?v:k],f=rectToClientRect(await a.getClippingRect({element:((m=await(a.isElement==null?void 0:a.isElement(i)))==null||m)?i:i.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:o})),l=k==='floating'?{x:t,y:r,width:g.floating.width,height:g.floating.height}:g.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),d=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},b=rectToClientRect(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:l,offsetParent:j,strategy:o}):l);return{top:(f.top-b.top+e.top)/d.y,bottom:(b.bottom-f.bottom+e.bottom)/d.y,left:(f.left-b.left+e.left)/d.x,right:(b.right-f.right+e.right)/d.x}}const arrow$1=a=>({name:'arrow',options:a,async fn(x){const{x:G,y:F,placement:r,rects:e,platform:f,elements:E,middlewareData:D}=x,{element:l,padding:C=0}=evaluate(a,x)||{};if(l==null)return{};const q=getPaddingObject(C),o={x:G,y:F},b=getAlignmentAxis(r),c=getAxisLength(b),i=await f.getDimensions(l),k=b==='y',H=k?'top':'left',B=k?'bottom':'right',t=k?'clientHeight':'clientWidth',A=e.reference[c]+e.reference[b]-o[b]-e.floating[c],z=o[b]-e.reference[b],p=await(f.getOffsetParent==null?void 0:f.getOffsetParent(l));let g=p?p[t]:0;(!g||!await(f.isElement==null?void 0:f.isElement(p)))&&(g=E.floating[t]||e.floating[c]);const y=A/2-z/2,v=g/2-i[c]/2-1,u=min(q[H],v),s=min(q[B],v),h=u,w=g-i[c]-s,d=g/2-i[c]/2+y,j=clamp(h,d,w),n=!D.arrow&&getAlignment(r)!=null&&d!==j&&e.reference[c]/2-(d<h?u:s)-i[c]/2<0,m=n?d<h?d-h:d-w:0;return{[b]:o[b]+m,data:_extends({[b]:j,centerOffset:d-j-m},n&&{alignmentOffset:m}),reset:n}}}),flip$1=function(a){return a===void 0&&(a={}),{name:'flip',options:a,async fn(f){var q,o,j,m,u;const{placement:d,middlewareData:h,rects:D,initialPlacement:b,platform:l,elements:C}=f,k=evaluate(a,f),{mainAxis:B=!0,crossAxis:A=!0,fallbackPlacements:n,fallbackStrategy:z='bestFit',fallbackAxisSideDirection:p='none',flipAlignment:t=!0}=k,y=_objectWithoutPropertiesLoose(k,_excluded2);if((q=h.arrow)!=null&&q.alignmentOffset)return{};const x=getSide(d),w=getSideAxis(b),v=getSide(b)===b,i=await(l.isRTL==null?void 0:l.isRTL(C.floating)),s=n||(v||!t?[getOppositePlacement(b)]:getExpandedPlacements(b)),r=p!=='none';!n&&r&&s.push(...getOppositeAxisPlacements(b,t,p,i));const E=[b,...s],g=await detectOverflow(f,y),e=[];let c=((o=h.flip)==null?void 0:o.overflows)||[];if(B&&e.push(g[x]),A){const a=getAlignmentSides(d,D,i);e.push(g[a[0]],g[a[1]])}if(c=[...c,{placement:d,overflows:e}],!e.every(a=>a<=0)){const e=(((j=h.flip)==null?void 0:j.index)||0)+1,f=E[e];if(f)return{data:{index:e,overflows:c},reset:{placement:f}};let a=(m=c.filter(a=>a.overflows[0]<=0).sort((a,b)=>a.overflows[1]-b.overflows[1])[0])==null?void 0:m.placement;if(!a)switch(z){case'bestFit':{const b=(u=c.filter(a=>{if(r){const b=getSideAxis(a.placement);return b===w||b==='y'}return!0}).map(a=>[a.placement,a.overflows.filter(a=>a>0).reduce((a,b)=>a+b,0)]).sort((a,b)=>a[1]-b[1])[0])==null?void 0:u[0];b&&(a=b);break}case'initialPlacement':a=b;break}if(d!==a)return{reset:{placement:a}}}return{}}}},shift$1=function(a){return a===void 0&&(a={}),{name:'shift',options:a,async fn(e){const{x:j,y:i,placement:n}=e,l=evaluate(a,e),{mainAxis:m=!0,crossAxis:p=!1,limiter:o={fn:a=>{let{x:b,y:c}=a;return{x:b,y:c}}}}=l,q=_objectWithoutPropertiesLoose(l,_excluded4),k={x:j,y:i},g=await detectOverflow(e,q),d=getSideAxis(getSide(n)),f=getOppositeAxis(d);let c=k[f],b=k[d];if(m){const a=f==='y'?'top':'left',b=f==='y'?'bottom':'right',d=c+g[a],e=c-g[b];c=clamp(d,c,e)}if(p){const a=d==='y'?'top':'left',c=d==='y'?'bottom':'right',e=b+g[a],f=b-g[c];b=clamp(e,b,f)}const h=o.fn(_extends({},e,{[f]:c,[d]:b}));return _extends({},h,{data:{x:h.x-j,y:h.y-i}})}}},limitShift$1=function(a){return a===void 0&&(a={}),{options:a,fn(h){const{x:s,y:r,placement:l,rects:b,middlewareData:j}=h,{offset:q=0,mainAxis:p=!0,crossAxis:o=!0}=evaluate(a,h),m={x:s,y:r},c=getSideAxis(l),d=getOppositeAxis(c);let f=m[d],e=m[c];const i=evaluate(q,h),g=typeof i=='number'?{mainAxis:i,crossAxis:0}:_extends({mainAxis:0,crossAxis:0},i);if(p){const a=d==='y'?'height':'width',c=b.reference[d]-b.floating[a]+g.mainAxis,e=b.reference[d]+b.reference[a]-g.mainAxis;f<c?f=c:f>e&&(f=e)}if(o){var k,n;const f=d==='y'?'width':'height',a=['top','left'].includes(getSide(l)),h=b.reference[c]-b.floating[f]+(a?((k=j.offset)==null?void 0:k[c])||0:0)+(a?0:g.crossAxis),i=b.reference[c]+b.reference[f]+(a?0:((n=j.offset)==null?void 0:n[c])||0)-(a?g.crossAxis:0);e<h?e=h:e>i&&(e=i)}return{[d]:f,[c]:e}}}};function getNodeName(a){return isNode(a)?(a.nodeName||'').toLowerCase():'#document'}function getWindow(a){var b;return(a==null||(b=a.ownerDocument)==null?void 0:b.defaultView)||window}function getDocumentElement(a){var b;return(b=(isNode(a)?a.ownerDocument:a.document)||window.document)==null?void 0:b.documentElement}function isNode(a){return a instanceof Node||a instanceof getWindow(a).Node}function isElement(a){return a instanceof Element||a instanceof getWindow(a).Element}function isHTMLElement(a){return a instanceof HTMLElement||a instanceof getWindow(a).HTMLElement}function isShadowRoot(a){return typeof ShadowRoot!='undefined'&&(a instanceof ShadowRoot||a instanceof getWindow(a).ShadowRoot)}function isOverflowElement(a){const{overflow:b,overflowX:c,overflowY:d,display:e}=getComputedStyle(a);return/auto|scroll|overlay|hidden|clip/.test(b+d+c)&&!['inline','contents'].includes(e)}function isTableElement(a){return['table','td','th'].includes(getNodeName(a))}function isTopLayer(a){return[':popover-open',':modal'].some(b=>{try{return a.matches(b)}catch(a){return!1}})}function isContainingBlock(b){const c=isWebKit(),a=isElement(b)?getComputedStyle(b):b;return a.transform!=='none'||a.perspective!=='none'||(!!a.containerType&&a.containerType!=='normal')||!c&&(!!a.backdropFilter&&a.backdropFilter!=='none')||!c&&(!!a.filter&&a.filter!=='none')||['transform','perspective','filter'].some(b=>(a.willChange||'').includes(b))||['paint','layout','strict','content'].some(b=>(a.contain||'').includes(b))}function getContainingBlock(b){let a=getParentNode(b);while(isHTMLElement(a)&&!isLastTraversableNode(a)){if(isContainingBlock(a))return a;if(isTopLayer(a))return null;a=getParentNode(a)}return null}function isWebKit(){return!(typeof CSS=='undefined'||!CSS.supports)&&CSS.supports('-webkit-backdrop-filter','none')}function isLastTraversableNode(a){return['html','body','#document'].includes(getNodeName(a))}function getComputedStyle(a){return getWindow(a).getComputedStyle(a)}function getNodeScroll(a){return isElement(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function getParentNode(a){if(getNodeName(a)==='html')return a;const b=a.assignedSlot||a.parentNode||isShadowRoot(a)&&a.host||getDocumentElement(a);return isShadowRoot(b)?b.host:b}function getNearestOverflowAncestor(b){const a=getParentNode(b);return isLastTraversableNode(a)?b.ownerDocument?b.ownerDocument.body:b.body:isHTMLElement(a)&&isOverflowElement(a)?a:getNearestOverflowAncestor(a)}function getOverflowAncestors(f,c,d){var e;c===void 0&&(c=[]),d===void 0&&(d=!0);const a=getNearestOverflowAncestor(f),g=a===((e=f.ownerDocument)==null?void 0:e.body),b=getWindow(a);return g?c.concat(b,b.visualViewport||[],isOverflowElement(a)?a:[],b.frameElement&&d?getOverflowAncestors(b.frameElement):[]):c.concat(a,getOverflowAncestors(a,[],d))}function getCssDimensions(a){const d=getComputedStyle(a);let b=parseFloat(d.width)||0,c=parseFloat(d.height)||0;const e=isHTMLElement(a),f=e?a.offsetWidth:b,g=e?a.offsetHeight:c,h=round(b)!==f||round(c)!==g;return h&&(b=f,c=g),{width:b,height:c,$:h}}function unwrapElement(a){return isElement(a)?a:a.contextElement}function getScale(h){const d=unwrapElement(h);if(!isHTMLElement(d))return createCoords(1);const c=d.getBoundingClientRect(),{width:f,height:g,$:e}=getCssDimensions(d);let a=(e?round(c.width):c.width)/f,b=(e?round(c.height):c.height)/g;return(!a||!Number.isFinite(a))&&(a=1),(!b||!Number.isFinite(b))&&(b=1),{x:a,y:b}}const noOffsets=createCoords(0);function getVisualOffsets(b){const a=getWindow(b);return!isWebKit()||!a.visualViewport?noOffsets:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function shouldAddVisualOffsets(c,a,b){return!(a===void 0&&(a=!1),!b||a&&b!==getWindow(c))&&a}function getBoundingClientRect(g,e,f,a){e===void 0&&(e=!1),f===void 0&&(f=!1);const c=g.getBoundingClientRect(),d=unwrapElement(g);let b=createCoords(1);e&&(a?isElement(a)&&(b=getScale(a)):b=getScale(g));const j=shouldAddVisualOffsets(d,f,a)?getVisualOffsets(d):createCoords(0);let h=(c.left+j.x)/b.x,i=(c.top+j.y)/b.y,k=c.width/b.x,l=c.height/b.y;if(d){const e=getWindow(d),f=a&&isElement(a)?getWindow(a):a;let c=e,b=c.frameElement;while(b&&a&&f!==c){const a=getScale(b),d=b.getBoundingClientRect(),e=getComputedStyle(b),f=d.left+(b.clientLeft+parseFloat(e.paddingLeft))*a.x,g=d.top+(b.clientTop+parseFloat(e.paddingTop))*a.y;h*=a.x,i*=a.y,k*=a.x,l*=a.y,h+=f,i+=g,c=getWindow(b),b=c.frameElement}}return rectToClientRect({width:k,height:l,x:h,y:i})}function convertOffsetParentRelativeRectToViewportRelativeRect(j){let{elements:g,rect:c,offsetParent:a,strategy:l}=j;const h=l==='fixed',f=getDocumentElement(a),k=!!g&&isTopLayer(g.floating);if(a===f||k&&h)return c;let e={scrollLeft:0,scrollTop:0},b=createCoords(1);const d=createCoords(0),i=isHTMLElement(a);if(i||!i&&!h)if((getNodeName(a)!=='body'||isOverflowElement(f))&&(e=getNodeScroll(a)),isHTMLElement(a)){const c=getBoundingClientRect(a);b=getScale(a),d.x=c.x+a.clientLeft,d.y=c.y+a.clientTop}return{width:c.width*b.x,height:c.height*b.y,x:c.x*b.x-e.scrollLeft*b.x+d.x,y:c.y*b.y-e.scrollTop*b.y+d.y}}function getClientRects(a){return Array.from(a.getClientRects())}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getNodeScroll(a).scrollLeft}function getDocumentRect(c){const b=getDocumentElement(c),d=getNodeScroll(c),a=c.ownerDocument.body,e=max(b.scrollWidth,b.clientWidth,a.scrollWidth,a.clientWidth),g=max(b.scrollHeight,b.clientHeight,a.scrollHeight,a.clientHeight);let f=-d.scrollLeft+getWindowScrollBarX(c);const h=-d.scrollTop;return getComputedStyle(a).direction==='rtl'&&(f+=max(b.clientWidth,a.clientWidth)-e),{width:e,height:g,x:f,y:h}}function getViewportRect(b,h){const i=getWindow(b),e=getDocumentElement(b),a=i.visualViewport;let f=e.clientWidth,g=e.clientHeight,c=0,d=0;if(a){f=a.width,g=a.height;const b=isWebKit();(!b||b&&h==='fixed')&&(c=a.offsetLeft,d=a.offsetTop)}return{width:f,height:g,x:c,y:d}}function getInnerBoundingClientRect(a,d){const c=getBoundingClientRect(a,!0,d==='fixed'),e=c.top+a.clientTop,f=c.left+a.clientLeft,b=isHTMLElement(a)?getScale(a):createCoords(1),g=a.clientWidth*b.x,h=a.clientHeight*b.y,i=f*b.x,j=e*b.y;return{width:g,height:h,x:i,y:j}}function getClientRectFromClippingAncestor(c,a,d){let b;if(a==='viewport')b=getViewportRect(c,d);else if(a==='document')b=getDocumentRect(getDocumentElement(c));else if(isElement(a))b=getInnerBoundingClientRect(a,d);else{const d=getVisualOffsets(c);b=_extends({},a,{x:a.x-d.x,y:a.y-d.y})}return rectToClientRect(b)}function hasFixedPositionAncestor(c,b){const a=getParentNode(c);return!(a===b||!isElement(a)||isLastTraversableNode(a))&&(getComputedStyle(a).position==='fixed'||hasFixedPositionAncestor(a,b))}function getClippingElementAncestors(b,e){const f=e.get(b);if(f)return f;let d=getOverflowAncestors(b,[],!1).filter(a=>isElement(a)&&getNodeName(a)!=='body'),c=null;const g=getComputedStyle(b).position==='fixed';let a=g?getParentNode(b):b;while(isElement(a)&&!isLastTraversableNode(a)){const f=getComputedStyle(a),e=isContainingBlock(a);!e&&f.position==='fixed'&&(c=null);const h=g?!e&&!c:!e&&f.position==='static'&&!!c&&['absolute','fixed'].includes(c.position)||isOverflowElement(a)&&!e&&hasFixedPositionAncestor(b,a);h?d=d.filter(b=>b!==a):c=f,a=getParentNode(a)}return e.set(b,d),d}function getClippingRect(h){let{element:b,boundary:e,rootBoundary:f,strategy:d}=h;const g=e==='clippingAncestors'?isTopLayer(b)?[]:getClippingElementAncestors(b,this._c):[].concat(e),c=[...g,f],i=c[0],a=c.reduce((a,e)=>{const c=getClientRectFromClippingAncestor(b,e,d);return a.top=max(c.top,a.top),a.right=min(c.right,a.right),a.bottom=min(c.bottom,a.bottom),a.left=max(c.left,a.left),a},getClientRectFromClippingAncestor(b,i,d));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function getDimensions(a){const{width:b,height:c}=getCssDimensions(a);return{width:b,height:c}}function getRectRelativeToOffsetParent(h,a,i){const d=isHTMLElement(a),e=getDocumentElement(a),f=i==='fixed',c=getBoundingClientRect(h,!0,f,a);let g={scrollLeft:0,scrollTop:0};const b=createCoords(0);if(d||!d&&!f)if((getNodeName(a)!=='body'||isOverflowElement(e))&&(g=getNodeScroll(a)),d){const c=getBoundingClientRect(a,!0,f,a);b.x=c.x+a.clientLeft,b.y=c.y+a.clientTop}else e&&(b.x=getWindowScrollBarX(e));const j=c.left+g.scrollLeft-b.x,k=c.top+g.scrollTop-b.y;return{x:j,y:k,width:c.width,height:c.height}}function isStaticPositioned(a){return getComputedStyle(a).position==='static'}function getTrueOffsetParent(a,b){return!isHTMLElement(a)||getComputedStyle(a).position==='fixed'?null:b?b(a):a.offsetParent}function getOffsetParent(b,d){const c=getWindow(b);if(isTopLayer(b))return c;if(!isHTMLElement(b)){let a=getParentNode(b);while(a&&!isLastTraversableNode(a)){if(isElement(a)&&!isStaticPositioned(a))return a;a=getParentNode(a)}return c}let a=getTrueOffsetParent(b,d);while(a&&isTableElement(a)&&isStaticPositioned(a))a=getTrueOffsetParent(a,d);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?c:a||getContainingBlock(b)||c}const getElementRects=async function(a){const c=this.getOffsetParent||getOffsetParent,d=this.getDimensions,b=await d(a.floating);return{reference:getRectRelativeToOffsetParent(a.reference,await c(a.floating),a.strategy),floating:{x:0,y:0,width:b.width,height:b.height}}};function isRTL(a){return getComputedStyle(a).direction==='rtl'}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(d,g){let a=null,e;const c=getDocumentElement(d);function f(){var b;clearTimeout(e),(b=a)==null||b.disconnect(),a=null}function b(i,h){i===void 0&&(i=!1),h===void 0&&(h=1),f();const{left:k,top:l,width:m,height:n}=d.getBoundingClientRect();if(i||g(),!m||!n)return;const t=floor(l),u=floor(c.clientWidth-(k+m)),s=floor(c.clientHeight-(l+n)),q=floor(k),r=-t+"px "+-u+"px "+-s+"px "+-q+"px",j={rootMargin:r,threshold:max(0,min(1,h))||1};let o=!0;function p(c){const a=c[0].intersectionRatio;if(a!==h){if(!o)return b();a?b(!1,a):e=setTimeout(()=>{b(!1,1e-7)},1e3)}o=!1}try{a=new IntersectionObserver(p,_extends({},j,{root:c.ownerDocument}))}catch(b){a=new IntersectionObserver(p,j)}a.observe(d)}return b(!0),f}function autoUpdate(j,e,b,g){g===void 0&&(g={});const{ancestorScroll:h=!0,ancestorResize:i=!0,elementResize:q=typeof ResizeObserver=='function',layoutShift:p=typeof IntersectionObserver=='function',animationFrame:f=!1}=g,c=unwrapElement(j),k=h||i?[...c?getOverflowAncestors(c):[],...getOverflowAncestors(e)]:[];k.forEach(a=>{h&&a.addEventListener('scroll',b,{passive:!0}),i&&a.addEventListener('resize',b)});const l=c&&p?observeMove(c,b):null;let m=-1,a=null;q&&(a=new ResizeObserver(f=>{let[d]=f;d&&d.target===c&&a&&(a.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=a)==null||b.observe(e)})),b()}),c&&!f&&a.observe(c),a.observe(e));let n,d=f?getBoundingClientRect(j):null;f&&o();function o(){const a=getBoundingClientRect(j);d&&(a.x!==d.x||a.y!==d.y||a.width!==d.width||a.height!==d.height)&&b(),d=a,n=requestAnimationFrame(o)}return b(),()=>{var c;k.forEach(a=>{h&&a.removeEventListener('scroll',b),i&&a.removeEventListener('resize',b)}),l==null||l(),(c=a)==null||c.disconnect(),a=null,f&&cancelAnimationFrame(n)}}const shift=shift$1,flip=flip$1,arrow=arrow$1,limitShift=limitShift$1,computePosition=(b,c,d)=>{const e=new Map,a=_extends({platform},d),f=_extends({},a.platform,{_c:e});return computePosition$1(b,c,_extends({},a,{platform:f}))};function setupTooltip(a){a.cleanup&&a.cleanup();const b=a._getResolvedAttachToOptions();let c=b.element;const d=getFloatingUIOptions(b,a),e=shouldCenterStep(b);if(e){c=document.body;const b=a.shepherdElementComponent.getElement();b.classList.add('shepherd-centered')}return a.cleanup=autoUpdate(c,a.el,()=>{if(!a.el){a.cleanup==null||a.cleanup();return}setPosition(c,a,d,e)}),a.target=b.element,d}function mergeTooltipConfig(a,b){return{floatingUIOptions:deepmerge(a.floatingUIOptions||{},b.floatingUIOptions||{})}}function destroyTooltip(a){a.cleanup&&a.cleanup(),a.cleanup=null}function setPosition(b,a,c,d){return computePosition(b,a.el,c).then(floatingUIposition(a,d)).then(a=>new Promise(b=>{setTimeout(()=>b(a),300)})).then(a=>{a!=null&&a.el&&a.el.focus({preventScroll:!0})})}function floatingUIposition(a,b){return({x:c,y:d,placement:e,middlewareData:f})=>a.el?(b?Object.assign(a.el.style,{position:'fixed',left:'50%',top:'50%',transform:'translate(-50%, -50%)'}):Object.assign(a.el.style,{position:'absolute',left:`${c}px`,top:`${d}px`}),a.el.dataset.popperPlacement=e,placeArrow(a.el,f),a):a}function placeArrow(c,a){const b=c.querySelector('.shepherd-arrow');if(isHTMLElement$1(b)&&a.arrow){const{x:c,y:d}=a.arrow;Object.assign(b.style,{left:c!=null?`${c}px`:'',top:d!=null?`${d}px`:''})}}function getFloatingUIOptions(a,c){const b={strategy:'absolute'};b.middleware=[];const d=addArrow(c),g=shouldCenterStep(a);if(!g){if(b.middleware.push(flip(),shift({limiter:limitShift(),crossAxis:!0})),d){var e,f;const c=(a==null||(e=a.on)==null?void 0:e.includes('-start'))||(a==null||(f=a.on)==null?void 0:f.includes('-end'));b.middleware.push(arrow({element:d,padding:c?4:0}))}b.placement=a.on}return deepmerge(c.options.floatingUIOptions||{},b)}function addArrow(a){return!!(a.options.arrow&&a.el)&&a.el.querySelector('.shepherd-arrow')}function noop(){}function assign(a,b){for(const c in b)a[c]=b[c];return a}function run(a){return a()}function blank_object(){return Object.create(null)}function run_all(a){a.forEach(run)}function is_function(a){return typeof a=='function'}function safe_not_equal(a,b){return a!=a?b==b:a!==b||a&&typeof a=='object'||typeof a=='function'}function is_empty(a){return Object.keys(a).length===0}function append(a,b){a.appendChild(b)}function insert(a,b,c){a.insertBefore(b,c||null)}function detach(a){a.parentNode&&a.parentNode.removeChild(a)}function destroy_each(a,b){for(let c=0;c<a.length;c+=1)a[c]&&a[c].d(b)}function element(a){return document.createElement(a)}function svg_element(a){return document.createElementNS('http://www.w3.org/2000/svg',a)}function text(a){return document.createTextNode(a)}function space(){return text(' ')}function empty(){return text('')}function listen(a,b,c,d){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c,d)}function attr(a,b,c){c==null?a.removeAttribute(b):a.getAttribute(b)!==c&&a.setAttribute(b,c)}const always_set_through_set_attribute=['width','height'];function set_attributes(a,b){const c=Object.getOwnPropertyDescriptors(a.__proto__);for(const d in b)b[d]==null?a.removeAttribute(d):d==='style'?a.style.cssText=b[d]:d==='__value'?a.value=a[d]=b[d]:c[d]&&c[d].set&&always_set_through_set_attribute.indexOf(d)===-1?a[d]=b[d]:attr(a,d,b[d])}function children(a){return Array.from(a.childNodes)}function toggle_class(a,b,c){a.classList.toggle(b,!!c)}let current_component;function set_current_component(a){current_component=a}function get_current_component(){if(!current_component)throw new Error('Function called outside component initialization');return current_component}function onMount(a){get_current_component().$$.on_mount.push(a)}function afterUpdate(a){get_current_component().$$.after_update.push(a)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(a){render_callbacks.push(a)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const a=current_component;do{try{while(flushidx<dirty_components.length){const a=dirty_components[flushidx];flushidx++,set_current_component(a),update(a.$$)}}catch(a){throw dirty_components.length=0,flushidx=0,a}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let a=0;a<render_callbacks.length;a+=1){const b=render_callbacks[a];seen_callbacks.has(b)||(seen_callbacks.add(b),b())}render_callbacks.length=0}while(dirty_components.length)while(flush_callbacks.length)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(a)}function update(a){if(a.fragment!==null){a.update(),run_all(a.before_update);const b=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,b),a.after_update.forEach(add_render_callback)}}function flush_render_callbacks(c){const a=[],b=[];render_callbacks.forEach(d=>c.indexOf(d)===-1?a.push(d):b.push(d)),b.forEach(a=>a()),render_callbacks=a}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(a,b){a&&a.i&&(outroing.delete(a),a.i(b))}function transition_out(a,c,d,b){if(a&&a.o){if(outroing.has(a))return;outroing.add(a),outros.c.push(()=>{outroing.delete(a),b&&(d&&a.d(1),b())}),a.o(c)}else b&&b()}function ensure_array_like(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function get_spread_update(c,f){const a={},e={},d={$$scope:1};let b=c.length;while(b--){const h=c[b],g=f[b];if(g){for(const a in h)a in g||(e[a]=1);for(const b in g)d[b]||(a[b]=g[b],d[b]=1);c[b]=g}else for(const a in h)d[a]=1}for(const b in e)b in a||(a[b]=void 0);return a}function create_component(a){a&&a.c()}function mount_component(a,c,d){const{fragment:b,after_update:e}=a.$$;b&&b.m(c,d),add_render_callback(()=>{const b=a.$$.on_mount.map(run).filter(is_function);a.$$.on_destroy?a.$$.on_destroy.push(...b):run_all(b),a.$$.on_mount=[]}),e.forEach(add_render_callback)}function destroy_component(b,c){const a=b.$$;a.fragment!==null&&(flush_render_callbacks(a.after_update),run_all(a.on_destroy),a.fragment&&a.fragment.d(c),a.on_destroy=a.fragment=null,a.ctx=[])}function make_dirty(a,b){a.$$.dirty[0]===-1&&(dirty_components.push(a),schedule_update(),a.$$.dirty.fill(0)),a.$$.dirty[b/31|0]|=1<<b%31}function init(c,b,g,h,e,j,f=null,k=[-1]){const d=current_component;set_current_component(c);const a=c.$$={fragment:null,ctx:[],props:j,update:noop,not_equal:e,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(b.context||(d?d.$$.context:[])),callbacks:blank_object(),dirty:k,skip_bound:!1,root:b.target||d.$$.root};f&&f(a.root);let i=!1;if(a.ctx=g?g(c,b.props||{},(b,d,...f)=>{const g=f.length?f[0]:d;return a.ctx&&e(a.ctx[b],a.ctx[b]=g)&&(!a.skip_bound&&a.bound[b]&&a.bound[b](g),i&&make_dirty(c,b)),d}):[],a.update(),i=!0,run_all(a.before_update),a.fragment=!!h&&h(a.ctx),b.target){if(b.hydrate){const c=children(b.target);a.fragment&&a.fragment.l(c),c.forEach(detach)}else a.fragment&&a.fragment.c();b.intro&&transition_in(c.$$.fragment),mount_component(c,b.target,b.anchor),flush()}set_current_component(d)}class SvelteComponent{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(c,a){if(!is_function(a))return noop;const b=this.$$.callbacks[c]||(this.$$.callbacks[c]=[]);return b.push(a),()=>{const c=b.indexOf(a);c!==-1&&b.splice(c,1)}}$set(a){this.$$set&&!is_empty(a)&&(this.$$.skip_bound=!0,this.$$set(a),this.$$.skip_bound=!1)}}const PUBLIC_VERSION='4';typeof window!='undefined'&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);function create_fragment$8(a){let b,c,d,e,f;return{c(){b=element("button"),attr(b,"aria-label",c=a[3]?a[3]:null),attr(b,"class",d=`${a[1]||''} shepherd-button ${a[4]?'shepherd-button-secondary':''}`),b.disabled=a[2],attr(b,"tabindex","0"),attr(b,"type","button")},m(c,d){insert(c,b,d),b.innerHTML=a[5],e||(f=listen(b,"click",function(){is_function(a[0])&&a[0].apply(this,arguments)}),e=!0)},p(f,[e]){a=f,e&32&&(b.innerHTML=a[5]),e&8&&c!==(c=a[3]?a[3]:null)&&attr(b,"aria-label",c),e&18&&d!==(d=`${a[1]||''} shepherd-button ${a[4]?'shepherd-button-secondary':''}`)&&attr(b,"class",d),e&4&&(b.disabled=a[2])},i:noop,o:noop,d(a){a&&detach(b),e=!1,f()}}}function instance$8(d,l,b){let{config:a,step:c}=l,k,g,f,h,i,j;function e(a){return isFunction(a)?a=a.call(c):a}return d.$$set=d=>{'config'in d&&b(6,a=d.config),'step'in d&&b(7,c=d.step)},d.$$.update=()=>{d.$$.dirty&192&&(b(0,k=a.action?a.action.bind(c.tour):null),b(1,g=a.classes),b(2,f=!!a.disabled&&e(a.disabled)),b(3,h=a.label?e(a.label):null),b(4,i=a.secondary),b(5,j=a.text?e(a.text):null))},[k,g,f,h,i,j,a,c]}class Shepherd_button extends SvelteComponent{constructor(a){super(),init(this,a,instance$8,create_fragment$8,safe_not_equal,{config:6,step:7})}}function get_each_context(b,c,d){const a=b.slice();return a[2]=c[d],a}function create_if_block$3(e){let c,d,b=ensure_array_like(e[1]),a=[];for(let c=0;c<b.length;c+=1)a[c]=create_each_block(get_each_context(e,b,c));const f=b=>transition_out(a[b],1,1,()=>{a[b]=null});return{c(){for(let b=0;b<a.length;b+=1)a[b].c();c=empty()},m(b,e){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(b,e);insert(b,c,e),d=!0},p(d,e){if(e&3){b=ensure_array_like(d[1]);let g;for(g=0;g<b.length;g+=1){const f=get_each_context(d,b,g);a[g]?(a[g].p(f,e),transition_in(a[g],1)):(a[g]=create_each_block(f),a[g].c(),transition_in(a[g],1),a[g].m(c.parentNode,c))}group_outros();for(g=b.length;g<a.length;g+=1)f(g);check_outros()}},i(c){if(d)return;for(let c=0;c<b.length;c+=1)transition_in(a[c]);d=!0},o(b){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)transition_out(a[b]);d=!1},d(b){b&&detach(c),destroy_each(a,b)}}}function create_each_block(c){let a,b;return a=new Shepherd_button({props:{config:c[2],step:c[0]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&2&&(b.config=c[2]),d&1&&(b.step=c[0]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_fragment$7(d){let b,c,a=d[1]&&create_if_block$3(d);return{c(){b=element("footer"),a&&a.c(),attr(b,"class","shepherd-footer")},m(d,e){insert(d,b,e),a&&a.m(b,null),c=!0},p(c,[d]){c[1]?a?(a.p(c,d),d&2&&transition_in(a,1)):(a=create_if_block$3(c),a.c(),transition_in(a,1),a.m(b,null)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(b){if(c)return;transition_in(a),c=!0},o(b){transition_out(a),c=!1},d(c){c&&detach(b),a&&a.d()}}}function instance$7(a,e,c){let d,{step:b}=e;return a.$$set=a=>{'step'in a&&c(0,b=a.step)},a.$$.update=()=>{a.$$.dirty&1&&c(1,d=b.options.buttons)},[b,d]}class Shepherd_footer extends SvelteComponent{constructor(a){super(),init(this,a,instance$7,create_fragment$7,safe_not_equal,{step:0})}}function create_fragment$6(d){let a,b,c,e,f;return{c(){a=element("button"),b=element("span"),b.textContent="Ã—",attr(b,"aria-hidden","true"),attr(a,"aria-label",c=d[0].label?d[0].label:'Close Tour'),attr(a,"class","shepherd-cancel-icon"),attr(a,"type","button")},m(c,g){insert(c,a,g),append(a,b),e||(f=listen(a,"click",d[1]),e=!0)},p(b,[d]){d&1&&c!==(c=b[0].label?b[0].label:'Close Tour')&&attr(a,"aria-label",c)},i:noop,o:noop,d(b){b&&detach(a),e=!1,f()}}}function instance$6(d,e,b){let{cancelIcon:c,step:a}=e;const f=b=>{b.preventDefault(),a.cancel()};return d.$$set=d=>{'cancelIcon'in d&&b(0,c=d.cancelIcon),'step'in d&&b(2,a=d.step)},[c,f,a]}class Shepherd_cancel_icon extends SvelteComponent{constructor(a){super(),init(this,a,instance$6,create_fragment$6,safe_not_equal,{cancelIcon:0,step:2})}}function create_fragment$5(b){let a;return{c(){a=element("h3"),attr(a,"id",b[1]),attr(a,"class","shepherd-title")},m(c,d){insert(c,a,d),b[3](a)},p(b,[c]){c&2&&attr(a,"id",b[1])},i:noop,o:noop,d(c){c&&detach(a),b[3](null)}}}function instance$5(e,f,a){let{labelId:d,element:b,title:c}=f;afterUpdate(()=>{isFunction(c)&&a(2,c=c()),a(0,b.innerHTML=c,b)});function g(c){binding_callbacks[c?'unshift':'push'](()=>{b=c,a(0,b)})}return e.$$set=e=>{'labelId'in e&&a(1,d=e.labelId),'element'in e&&a(0,b=e.element),'title'in e&&a(2,c=e.title)},[b,d,c,g]}class Shepherd_title extends SvelteComponent{constructor(a){super(),init(this,a,instance$5,create_fragment$5,safe_not_equal,{labelId:1,element:0,title:2})}}function create_if_block_1$1(c){let a,b;return a=new Shepherd_title({props:{labelId:c[0],title:c[2]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&1&&(b.labelId=c[0]),d&4&&(b.title=c[2]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_if_block$2(c){let a,b;return a=new Shepherd_cancel_icon({props:{cancelIcon:c[3],step:c[1]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&8&&(b.cancelIcon=c[3]),d&2&&(b.step=c[1]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_fragment$4(d){let c,f,e,a=d[2]&&create_if_block_1$1(d),b=d[3]&&d[3].enabled&&create_if_block$2(d);return{c(){c=element("header"),a&&a.c(),f=space(),b&&b.c(),attr(c,"class","shepherd-header")},m(d,g){insert(d,c,g),a&&a.m(c,null),append(c,f),b&&b.m(c,null),e=!0},p(d,[e]){d[2]?a?(a.p(d,e),e&4&&transition_in(a,1)):(a=create_if_block_1$1(d),a.c(),transition_in(a,1),a.m(c,f)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros()),d[3]&&d[3].enabled?b?(b.p(d,e),e&8&&transition_in(b,1)):(b=create_if_block$2(d),b.c(),transition_in(b,1),b.m(c,null)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros())},i(c){if(e)return;transition_in(a),transition_in(b),e=!0},o(c){transition_out(a),transition_out(b),e=!1},d(d){d&&detach(c),a&&a.d(),b&&b.d()}}}function instance$4(c,g,a){let{labelId:d,step:b}=g,e,f;return c.$$set=c=>{'labelId'in c&&a(0,d=c.labelId),'step'in c&&a(1,b=c.step)},c.$$.update=()=>{c.$$.dirty&2&&(a(2,e=b.options.title),a(3,f=b.options.cancelIcon))},[d,b,e,f]}class Shepherd_header extends SvelteComponent{constructor(a){super(),init(this,a,instance$4,create_fragment$4,safe_not_equal,{labelId:0,step:1})}}function create_fragment$3(b){let a;return{c(){a=element("div"),attr(a,"class","shepherd-text"),attr(a,"id",b[1])},m(c,d){insert(c,a,d),b[3](a)},p(b,[c]){c&2&&attr(a,"id",b[1])},i:noop,o:noop,d(c){c&&detach(a),b[3](null)}}}function instance$3(e,f,b){let{descriptionId:d,element:a,step:c}=f;afterUpdate(()=>{let{text:d}=c.options;isFunction(d)&&(d=d.call(c)),isHTMLElement$1(d)?a.appendChild(d):b(0,a.innerHTML=d,a)});function g(c){binding_callbacks[c?'unshift':'push'](()=>{a=c,b(0,a)})}return e.$$set=e=>{'descriptionId'in e&&b(1,d=e.descriptionId),'element'in e&&b(0,a=e.element),'step'in e&&b(2,c=e.step)},[a,d,c,g]}class Shepherd_text extends SvelteComponent{constructor(a){super(),init(this,a,instance$3,create_fragment$3,safe_not_equal,{descriptionId:1,element:0,step:2})}}function create_if_block_2(c){let a,b;return a=new Shepherd_header({props:{labelId:c[1],step:c[2]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&2&&(b.labelId=c[1]),d&4&&(b.step=c[2]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_if_block_1(c){let a,b;return a=new Shepherd_text({props:{descriptionId:c[0],step:c[2]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&1&&(b.descriptionId=c[0]),d&4&&(b.step=c[2]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_if_block$1(c){let a,b;return a=new Shepherd_footer({props:{step:c[2]}}),{c(){create_component(a.$$.fragment)},m(c,d){mount_component(a,c,d),b=!0},p(c,d){const b={};d&4&&(b.step=c[2]),a.$set(b)},i(c){if(b)return;transition_in(a.$$.fragment,c),b=!0},o(c){transition_out(a.$$.fragment,c),b=!1},d(b){destroy_component(a,b)}}}function create_fragment$2(e){let d,i=!isUndefined(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,j,k=!isUndefined(e[2].options.text),g,h=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,f,a=i&&create_if_block_2(e),b=k&&create_if_block_1(e),c=h&&create_if_block$1(e);return{c(){d=element("div"),a&&a.c(),j=space(),b&&b.c(),g=space(),c&&c.c(),attr(d,"class","shepherd-content")},m(e,h){insert(e,d,h),a&&a.m(d,null),append(d,j),b&&b.m(d,null),append(d,g),c&&c.m(d,null),f=!0},p(e,[f]){f&4&&(i=!isUndefined(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled),i?a?(a.p(e,f),f&4&&transition_in(a,1)):(a=create_if_block_2(e),a.c(),transition_in(a,1),a.m(d,j)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros()),f&4&&(k=!isUndefined(e[2].options.text)),k?b?(b.p(e,f),f&4&&transition_in(b,1)):(b=create_if_block_1(e),b.c(),transition_in(b,1),b.m(d,g)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros()),f&4&&(h=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length),h?c?(c.p(e,f),f&4&&transition_in(c,1)):(c=create_if_block$1(e),c.c(),transition_in(c,1),c.m(d,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(d){if(f)return;transition_in(a),transition_in(b),transition_in(c),f=!0},o(d){transition_out(a),transition_out(b),transition_out(c),f=!1},d(e){e&&detach(d),a&&a.d(),b&&b.d(),c&&c.d()}}}function instance$2(e,f,a){let{descriptionId:b,labelId:c,step:d}=f;return e.$$set=e=>{'descriptionId'in e&&a(0,b=e.descriptionId),'labelId'in e&&a(1,c=e.labelId),'step'in e&&a(2,d=e.step)},[b,c,d]}class Shepherd_content extends SvelteComponent{constructor(a){super(),init(this,a,instance$2,create_fragment$2,safe_not_equal,{descriptionId:0,labelId:1,step:2})}}function create_if_block(b){let a;return{c(){a=element("div"),attr(a,"class","shepherd-arrow"),attr(a,"data-popper-arrow","")},m(b,c){insert(b,a,c)},d(b){b&&detach(a)}}}function create_fragment$1(a){let b,i,d,f,g,e,j,l,c=a[4].options.arrow&&a[4].options.attachTo&&a[4].options.attachTo.element&&a[4].options.attachTo.on&&create_if_block();d=new Shepherd_content({props:{descriptionId:a[2],labelId:a[3],step:a[4]}});let k=[{"aria-describedby":f=isUndefined(a[4].options.text)?null:a[2]},{"aria-labelledby":g=a[4].options.title?a[3]:null},a[1],{role:"dialog"},{tabindex:"0"}],h={};for(let a=0;a<k.length;a+=1)h=assign(h,k[a]);return{c(){b=element("div"),c&&c.c(),i=space(),create_component(d.$$.fragment),set_attributes(b,h),toggle_class(b,"shepherd-has-cancel-icon",a[5]),toggle_class(b,"shepherd-has-title",a[6]),toggle_class(b,"shepherd-element",!0)},m(f,g){insert(f,b,g),c&&c.m(b,null),append(b,i),mount_component(d,b,null),a[13](b),e=!0,j||(l=listen(b,"keydown",a[7]),j=!0)},p(a,[j]){a[4].options.arrow&&a[4].options.attachTo&&a[4].options.attachTo.element&&a[4].options.attachTo.on?c||(c=create_if_block(),c.c(),c.m(b,i)):c&&(c.d(1),c=null);const l={};j&4&&(l.descriptionId=a[2]),j&8&&(l.labelId=a[3]),j&16&&(l.step=a[4]),d.$set(l),set_attributes(b,h=get_spread_update(k,[(!e||j&20&&f!==(f=isUndefined(a[4].options.text)?null:a[2]))&&{"aria-describedby":f},(!e||j&24&&g!==(g=a[4].options.title?a[3]:null))&&{"aria-labelledby":g},j&2&&a[1],{role:"dialog"},{tabindex:"0"}])),toggle_class(b,"shepherd-has-cancel-icon",a[5]),toggle_class(b,"shepherd-has-title",a[6]),toggle_class(b,"shepherd-element",!0)},i(a){if(e)return;transition_in(d.$$.fragment,a),e=!0},o(a){transition_out(d.$$.fragment,a),e=!1},d(e){e&&detach(b),c&&c.d(),destroy_component(d),a[13](null),j=!1,l()}}}const KEY_TAB=9,KEY_ESC=27,LEFT_ARROW=37,RIGHT_ARROW=39;function getClassesArray(a){return a.split(' ').filter(a=>!!a.length)}function instance$1(j,o,a){let{classPrefix:h,element:c,descriptionId:l,firstFocusableElement:f,focusableElements:d,labelId:k,lastFocusableElement:e,step:b,dataStepId:i}=o,m,n,g;const p=()=>c;onMount(()=>{a(1,i={[`data-${h}shepherd-step-id`]:b.id}),a(9,d=c.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),a(8,f=d[0]),a(10,e=d[d.length-1])}),afterUpdate(()=>{g!==b.options.classes&&q()});function q(){r(g),g=b.options.classes,s(g)}function r(a){if(isString(a)){const b=getClassesArray(a);b.length&&c.classList.remove(...b)}}function s(a){if(isString(a)){const b=getClassesArray(a);b.length&&c.classList.add(...b)}}const t=a=>{const{tour:c}=b;switch(a.keyCode){case KEY_TAB:if(d.length===0){a.preventDefault();break}a.shiftKey?(document.activeElement===f||document.activeElement.classList.contains('shepherd-element'))&&(a.preventDefault(),e.focus()):document.activeElement===e&&(a.preventDefault(),f.focus());break;case KEY_ESC:c.options.exitOnEsc&&(a.preventDefault(),a.stopPropagation(),b.cancel());break;case LEFT_ARROW:c.options.keyboardNavigation&&(a.preventDefault(),a.stopPropagation(),c.back());break;case RIGHT_ARROW:c.options.keyboardNavigation&&(a.preventDefault(),a.stopPropagation(),c.next());break}};function u(b){binding_callbacks[b?'unshift':'push'](()=>{c=b,a(0,c)})}return j.$$set=g=>{'classPrefix'in g&&a(11,h=g.classPrefix),'element'in g&&a(0,c=g.element),'descriptionId'in g&&a(2,l=g.descriptionId),'firstFocusableElement'in g&&a(8,f=g.firstFocusableElement),'focusableElements'in g&&a(9,d=g.focusableElements),'labelId'in g&&a(3,k=g.labelId),'lastFocusableElement'in g&&a(10,e=g.lastFocusableElement),'step'in g&&a(4,b=g.step),'dataStepId'in g&&a(1,i=g.dataStepId)},j.$$.update=()=>{j.$$.dirty&16&&(a(5,m=b.options&&b.options.cancelIcon&&b.options.cancelIcon.enabled),a(6,n=b.options&&b.options.title))},[c,i,l,k,b,m,n,t,f,d,e,h,p,u]}class Shepherd_element extends SvelteComponent{constructor(a){super(),init(this,a,instance$1,create_fragment$1,safe_not_equal,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class Step extends Evented{constructor(a,b={}){return super(),this._resolvedAttachTo=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=a,this.classPrefix=this.tour.options?normalizePrefix(this.tour.options.classPrefix):'',this.styles=a.styles,this._resolvedAttachTo=null,autoBind(this),this._setOptions(b),this}cancel(){this.tour.cancel(),this.trigger('cancel')}complete(){this.tour.complete(),this.trigger('complete')}destroy(){destroyTooltip(this),isHTMLElement$1(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger('destroy')}getTour(){return this.tour}hide(){var a;(a=this.tour.modal)==null||a.hide(),this.trigger('before-hide'),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger('hide')}_resolveAttachToOptions(){return this._resolvedAttachTo=parseAttachTo(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return Boolean(this.el&&!this.el.hidden)}show(){return isFunction(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(a){Object.assign(this.options,a),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const a=`${this.id}-description`,b=`${this.id}-label`;return this.shepherdElementComponent=new Shepherd_element({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:a,labelId:b,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(b){const{element:a}=this._getResolvedAttachToOptions();isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(a):isElement$1(a)&&typeof a.scrollIntoView=='function'&&a.scrollIntoView(b)}_getClassOptions(b){const a=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,c=b.classes?b.classes:'',d=a&&a.classes?a.classes:'',e=[...c.split(' '),...d.split(' ')],f=new Set(e);return Array.from(f).join(' ').trim()}_setOptions(b={}){let a=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;a=deepmerge({},a||{}),this.options=Object.assign({arrow:!0},a,b,mergeTooltipConfig(a,b));const{when:c}=this.options;this.options.classes=this._getClassOptions(b),this.destroy(),this.id=this.options.id||`step-${uuid()}`,c&&Object.keys(c).forEach(a=>{this.on(a,c[a],this)})}_setupElements(){isUndefined(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&bindAdvance(this),setupTooltip(this)}_show(){var a;this.trigger('before-show'),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(a=this.tour.modal)==null||a.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);const c=this.shepherdElementComponent.getElement(),b=this.target||document.body;b.classList.add(`${this.classPrefix}shepherd-enabled`),b.classList.add(`${this.classPrefix}shepherd-target`),c.classList.add('shepherd-enabled'),this.trigger('show')}_styleTargetElementForStep(a){const b=a.target;if(!b)return;a.options.highlightClass&&b.classList.add(a.options.highlightClass),b.classList.remove('shepherd-target-click-disabled'),a.options.canClickTarget===!1&&b.classList.add('shepherd-target-click-disabled')}_updateStepTargetOnHide(){const a=this.target||document.body;this.options.highlightClass&&a.classList.remove(this.options.highlightClass),a.classList.remove('shepherd-target-click-disabled',`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}}function cleanupSteps(a){if(a){const{steps:b}=a;b.forEach(a=>{a.options&&a.options.canClickTarget===!1&&a.options.attachTo&&isHTMLElement$1(a.target)&&a.target.classList.remove('shepherd-target-click-disabled')})}}function makeOverlayPath({width:j,height:k,x:i=0,y:f=0,r:a=0}){const{innerWidth:h,innerHeight:g}=window,{topLeft:b=0,topRight:c=0,bottomRight:d=0,bottomLeft:e=0}=typeof a=='number'?{topLeft:a,topRight:a,bottomRight:a,bottomLeft:a}:a;return`M${h},${g}\
H0\
V0\
H${h}\
V${g}\
Z\
M${i+b},${f}\
a${b},${b},0,0,0-${b},${b}\
V${k+f-e}\
a${e},${e},0,0,0,${e},${e}\
H${j+i-d}\
a${d},${d},0,0,0,${d}-${d}\
V${f+c}\
a${c},${c},0,0,0-${c}-${c}\
Z`}function create_fragment(b){let a,c,d,e,f;return{c(){a=svg_element("svg"),c=svg_element("path"),attr(c,"d",b[2]),attr(a,"class",d=`${b[1]?'shepherd-modal-is-visible':''} shepherd-modal-overlay-container`)},m(d,g){insert(d,a,g),append(a,c),b[11](a),e||(f=listen(a,"touchmove",b[3]),e=!0)},p(b,[e]){e&4&&attr(c,"d",b[2]),e&2&&d!==(d=`${b[1]?'shepherd-modal-is-visible':''} shepherd-modal-overlay-container`)&&attr(a,"class",d)},i:noop,o:noop,d(c){c&&detach(a),b[11](null),e=!1,f()}}}function _getScrollParent(a){if(!a)return null;const c=a instanceof HTMLElement,b=c&&window.getComputedStyle(a).overflowY,d=b!=='hidden'&&b!=='visible';return d&&a.scrollHeight>=a.clientHeight?a:_getScrollParent(a.parentElement)}function _getIframeOffset(f){var c,d,e;let a={top:0,left:0};if(!f)return a;let b=f.ownerDocument.defaultView;while(b!==window.top){const f=(c=b)==null?void 0:c.frameElement;if(f){const b=f.getBoundingClientRect();a.top+=b.top+((d=b.scrollTop)!=null?d:0),a.left+=b.left+((e=b.scrollLeft)!=null?e:0)}b=b.parent}return a}function _getVisibleHeight(e,d){const b=e.getBoundingClientRect();let a=b.y||b.top,c=b.bottom||a+b.height;if(d){const b=d.getBoundingClientRect(),e=b.y||b.top,f=b.bottom||e+b.height;a=Math.max(a,e),c=Math.min(c,f)}const f=Math.max(c-a,0);return{y:a,height:f}}function instance(g,r,a){let{element:c,openingProperties:d}=r,e=!1,b=void 0,j;f();const o=()=>c;function f(){a(4,d={width:0,height:0,x:0,y:0,r:0})}function m(){a(1,e=!1),h()}function l(b=0,e=0,g=0,h=0,i,c){if(c){const{y:f,height:j}=_getVisibleHeight(c,i),{x:k,width:l,left:m}=c.getBoundingClientRect();a(4,d={width:l+b*2,height:j+b*2,x:(k||m)+g-b,y:f+h-b,r:e})}else f()}function n(a){h(),a.tour.options.useModalOverlay?(s(a),i()):m()}function i(){a(1,e=!0)}const k=a=>{a.preventDefault()},p=a=>{a.stopPropagation()};function q(){window.addEventListener('touchmove',k,{passive:!1})}function h(){b&&(cancelAnimationFrame(b),b=void 0),window.removeEventListener('touchmove',k,{passive:!1})}function s(a){const{modalOverlayOpeningPadding:i,modalOverlayOpeningRadius:e,modalOverlayOpeningXOffset:f=0,modalOverlayOpeningYOffset:g=0}=a.options,d=_getIframeOffset(a.target),h=_getScrollParent(a.target),c=()=>{b=void 0,l(i,e,f+d.left,g+d.top,h,a.target),b=requestAnimationFrame(c)};c(),q()}function t(b){binding_callbacks[b?'unshift':'push'](()=>{c=b,a(0,c)})}return g.$$set=b=>{'element'in b&&a(0,c=b.element),'openingProperties'in b&&a(4,d=b.openingProperties)},g.$$.update=()=>{g.$$.dirty&16&&a(2,j=makeOverlayPath(d))},[c,e,j,p,d,o,f,m,l,n,i,t]}class Shepherd_modal extends SvelteComponent{constructor(a){super(),init(this,a,instance,create_fragment,safe_not_equal,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}class ShepherdBase extends Evented{constructor(){super(),this.activeTour=void 0,autoBind(this)}}class Tour extends Evented{constructor(a={}){super(),this.trackedEvents=['active','cancel','complete','show'],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,autoBind(this);const b={exitOnEsc:!0,keyboardNavigation:!0};this.options=Object.assign({},b,a),this.classPrefix=normalizePrefix(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps);const c=['active','cancel','complete','inactive','show','start'];return c.map(a=>{(a=>{this.on(a,b=>{b=b||{},b.tour=this,Shepherd.trigger(a,b)})})(a)}),this._setTourID(a.id),this}addStep(c,b){let a=c;return a instanceof Step?a.tour=this:a=new Step(this,a),isUndefined(b)?this.steps.push(a):this.steps.splice(b,0,a),a}addSteps(a){return Array.isArray(a)&&a.forEach(a=>{this.addStep(a)}),this}back(){const a=this.steps.indexOf(this.currentStep);this.show(a-1,!1)}async cancel(){if(this.options.confirmCancel){const b=this.options.confirmCancelMessage||'Are you sure you want to stop the tour?';let a;isFunction(this.options.confirmCancel)?a=await this.options.confirmCancel():a=window.confirm(b),a&&this._done('cancel')}else this._done('cancel')}complete(){this._done('complete')}getById(a){return this.steps.find(b=>b.id===a)}getCurrentStep(){return this.currentStep}hide(){const a=this.getCurrentStep();if(a)return a.hide()}isActive(){return Shepherd.activeTour===this}next(){const a=this.steps.indexOf(this.currentStep);a===this.steps.length-1?this.complete():this.show(a+1,!0)}removeStep(a){const b=this.getCurrentStep();this.steps.some((b,c)=>{if(b.id===a)return b.isOpen()&&b.hide(),b.destroy(),this.steps.splice(c,1),!0}),b&&b.id===a&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(b=0,c=!0){const a=isString(b)?this.getById(b):this.steps[b];if(a){this._updateStateBeforeShow();const b=isFunction(a.options.showOn)&&!a.options.showOn();b?this._skipStep(a,c):(this.trigger('show',{step:a,previous:this.currentStep}),this.currentStep=a,a.show())}}async start(){this.trigger('start'),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()}_done(a){const b=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(a=>a.destroy()),cleanupSteps(this),this.trigger(a,{index:b}),Shepherd.activeTour=null,this.trigger('inactive',{tour:this}),this.modal&&this.modal.hide(),a==='cancel'||a==='complete')if(this.modal){const a=document.querySelector('.shepherd-modal-overlay-container');a&&(a.remove(),this.modal=null)}isHTMLElement$1(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger('active',{tour:this}),Shepherd.activeTour=this}setupModal(){this.modal=new Shepherd_modal({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(c,b){const a=this.steps.indexOf(c);if(a===this.steps.length-1)this.complete();else{const c=b?a+1:a-1;this.show(c,b)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(a){const b=this.options.tourName||'tour',c=a||uuid();this.id=`${b}--${c}`}}const Shepherd=new ShepherdBase,isServerSide=typeof window=='undefined';Shepherd.Step=isServerSide?StepNoOp:Step,Shepherd.Tour=isServerSide?TourNoOp:Tour;export{ShepherdBase,Shepherd as default}