/*! Swipebox v1.5.2 | Constantin Saguin csag.co | MIT License | github.com/brutaldesign/swipebox */
!function(e,t,i,s){i.swipebox=function(r,o){i(r).addClass("swipebox");var a,n,p={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},l=this,c=[],d=".swipebox",w=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),b=null!==w||t.createTouch!==s||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,u=!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h=e.innerWidth?e.innerWidth:i(e).width(),g=e.innerHeight?e.innerHeight:i(e).height(),f=0;l.settings={},i.swipebox.close=function(){a.closeSlide()},i.swipebox.extend=function(){return a},l.init=function(){l.settings=i.extend({},p,o),Array.isArray(r)?(c=r,a.target=i(e),a.init(l.settings.initialIndexOnArray)):i(t).on("click",d,(function(e){if("slide current"===e.target.parentNode.className)return!1;var t,s,o;Array.isArray(r)||(a.destroy(),n=i(d),a.actions()),c=[],o||(s="data-rel",o=i(this).attr(s)),o||(s="rel",o=i(this).attr(s)),(n=o&&""!==o&&"nofollow"!==o?i(d).filter("["+s+'="'+o+'"]'):i(d)).each((function(){var e=null,t=null;i(this).attr("title")&&(e=i(this).attr("title")),i(this).attr("href")&&(t=i(this).attr("href")),c.push({href:t,title:e})})),t=n.index(i(this)),e.preventDefault(),e.stopPropagation(),a.target=i(e.target),a.init(t)}))},a={init:function(e){l.settings.beforeOpen&&l.settings.beforeOpen(),this.target.trigger("wcpr-swipebox-start"),i.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),l.settings.afterOpen&&l.settings.afterOpen(e)},build:function(){var e,t=this;i("body").append('<div id="wcpr-swipebox-overlay">\t\t\t\t\t<div id="wcpr-swipebox-container">\t\t\t\t\t\t<div id="wcpr-swipebox-slider"></div>\t\t\t\t\t\t<div id="wcpr-swipebox-top-bar">\t\t\t\t\t\t\t<div id="wcpr-swipebox-title"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div id="wcpr-swipebox-bottom-bar">\t\t\t\t\t\t\t<div id="wcpr-swipebox-arrows">\t\t\t\t\t\t\t\t<a id="wcpr-swipebox-prev"></a>\t\t\t\t\t\t\t\t<a id="wcpr-swipebox-next"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<a id="wcpr-swipebox-close"></a>\t\t\t\t\t</div>\t\t\t</div>'),u&&!0===l.settings.useSVG&&(e=(e=i("#wcpr-swipebox-close").css("background-image")).replace("png","svg"),i("#wcpr-swipebox-prev, #wcpr-swipebox-next, #wcpr-swipebox-close").css({"background-image":e})),w&&l.settings.removeBarsOnMobile&&i("#wcpr-swipebox-bottom-bar, #wcpr-swipebox-top-bar").remove(),i.each(c,(function(){i("#wcpr-swipebox-slider").append('<div class="slide"></div>')})),t.setDim(),t.actions(),b&&t.gesture(),t.keyboard(),t.animBars(),t.resize()},setDim:function(){var t,s,r;"onorientationchange"in e?e.addEventListener("orientationchange",(function(){0===e.orientation?(t=h,s=g):90!==e.orientation&&-90!==e.orientation||(t=g,s=h)}),!1):(t=e.innerWidth?e.innerWidth:i(e).width(),s=e.innerHeight?e.innerHeight:i(e).height()),r={width:t,height:s},i("#wcpr-swipebox-overlay").css(r)},resize:function(){var t=this;i(e).resize((function(){t.setDim()})).resize()},supportTransition:function(){var e,i="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(e=0;e<i.length;e++)if(t.createElement("div").style[i[e]]!==s)return i[e];return!1},doCssTrans:function(){if(l.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var e,t,s,r,o,a,n=this,p=!1,l=!1,d={},w={},b=i("#wcpr-swipebox-top-bar, #wcpr-swipebox-bottom-bar"),u=i("#wcpr-swipebox-slider");b.addClass("visible-bars"),n.setTimeout(),i("body").bind("touchstart",(function(n){return i(this).addClass("wcpr-touching"),e=i("#wcpr-swipebox-slider .slide").index(i("#wcpr-swipebox-slider .slide.current")),w=n.originalEvent.targetTouches[0],d.pageX=n.originalEvent.targetTouches[0].pageX,d.pageY=n.originalEvent.targetTouches[0].pageY,i("#wcpr-swipebox-slider").css({"-webkit-transform":"translate3d("+f+"%, 0, 0)",transform:"translate3d("+f+"%, 0, 0)"}),i(".wcpr-touching").bind("touchmove",(function(n){if(n.preventDefault(),n.stopPropagation(),w=n.originalEvent.targetTouches[0],!l&&(o=s,s=w.pageY-d.pageY,Math.abs(s)>=50||p)){var b=.75-Math.abs(s)/u.height();u.css({top:s+"px"}),u.css({opacity:b}),p=!0}r=t,t=w.pageX-d.pageX,a=100*t/h,!l&&!p&&Math.abs(t)>=10&&(i("#wcpr-swipebox-slider").css({"-webkit-transition":"",transition:""}),l=!0),l&&(0<t?0===e?i("#wcpr-swipebox-overlay").addClass("leftSpringTouch"):(i("#wcpr-swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i("#wcpr-swipebox-slider").css({"-webkit-transform":"translate3d("+(f+a)+"%, 0, 0)",transform:"translate3d("+(f+a)+"%, 0, 0)"})):0>t&&(c.length===e+1?i("#wcpr-swipebox-overlay").addClass("rightSpringTouch"):(i("#wcpr-swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i("#wcpr-swipebox-slider").css({"-webkit-transform":"translate3d("+(f+a)+"%, 0, 0)",transform:"translate3d("+(f+a)+"%, 0, 0)"}))))})),!1})).bind("touchend",(function(e){if(e.preventDefault(),e.stopPropagation(),i("#wcpr-swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),s=w.pageY-d.pageY,t=w.pageX-d.pageX,a=100*t/h,p)if(p=!1,Math.abs(s)>=100&&Math.abs(s)>Math.abs(o)){var c=s>0?u.height():-u.height();u.animate({top:c+"px",opacity:0},300,(function(){n.closeSlide()}))}else u.animate({top:0,opacity:1},300);else l?(l=!1,t>=10&&t>=r?n.getPrev():t<=-10&&t<=r&&n.getNext()):b.hasClass("visible-bars")?(n.clearTimeout(),n.hideBars()):(n.showBars(),n.setTimeout());i("#wcpr-swipebox-slider").css({"-webkit-transform":"translate3d("+f+"%, 0, 0)",transform:"translate3d("+f+"%, 0, 0)"}),i("#wcpr-swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i(".wcpr-touching").off("touchmove").removeClass("wcpr-touching")}))},setTimeout:function(){if(l.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout((function(){t.hideBars()}),l.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=i("#wcpr-swipebox-top-bar, #wcpr-swipebox-bottom-bar");this.doCssTrans()?e.addClass("visible-bars"):(i("#wcpr-swipebox-top-bar").animate({top:0},500),i("#wcpr-swipebox-bottom-bar").animate({bottom:0},500),setTimeout((function(){e.addClass("visible-bars")}),1e3))},hideBars:function(){var e=i("#wcpr-swipebox-top-bar, #wcpr-swipebox-bottom-bar");this.doCssTrans()?e.removeClass("visible-bars"):(i("#wcpr-swipebox-top-bar").animate({top:"-50px"},500),i("#wcpr-swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout((function(){e.removeClass("visible-bars")}),1e3))},animBars:function(){var e=this,t=i("#wcpr-swipebox-top-bar, #wcpr-swipebox-bottom-bar");t.addClass("visible-bars"),e.setTimeout(),i("#wcpr-swipebox-slider").click((function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())})),i("#wcpr-swipebox-bottom-bar").hover((function(){e.showBars(),t.addClass("visible-bars"),e.clearTimeout()}),(function(){l.settings.hideBarsDelay>0&&(t.removeClass("visible-bars"),e.setTimeout())}))},keyboard:function(){var t=this;i(e).bind("keyup",(function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?t.getPrev():39===e.keyCode?t.getNext():27===e.keyCode&&t.closeSlide()}))},actions:function(){var e=this,t="touchend click";c.length<2?(i("#wcpr-swipebox-bottom-bar").hide(),s===c[1]&&i("#wcpr-swipebox-top-bar").hide()):(i("#wcpr-swipebox-prev").bind(t,(function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()})),i("#wcpr-swipebox-next").bind(t,(function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()}))),i("#wcpr-swipebox-close").bind(t,(function(t){t.preventDefault(),t.stopPropagation(),e.closeSlide()}))},setSlide:function(e,t){t=t||!1;var s=i("#wcpr-swipebox-slider");f=100*-e,this.doCssTrans()?s.css({"-webkit-transform":"translate3d("+100*-e+"%, 0, 0)",transform:"translate3d("+100*-e+"%, 0, 0)"}):s.animate({left:100*-e+"%"}),i("#wcpr-swipebox-slider .slide").removeClass("current"),i("#wcpr-swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&s.fadeIn(),i("#wcpr-swipebox-prev, #wcpr-swipebox-next").removeClass("disabled"),0===e?i("#wcpr-swipebox-prev").addClass("disabled"):e===c.length-1&&!0!==l.settings.loopAtEnd&&i("#wcpr-swipebox-next").addClass("disabled")},openSlide:function(t){i("html").addClass("wcpr-swipebox-html"),b?(i("html").addClass("wcpr-swipebox-touch"),l.settings.hideCloseButtonOnMobile&&i("html").addClass("wcpr-swipebox-no-close-button")):i("html").addClass("wcpr-swipebox-no-touch"),i(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,i=null;c[e]!==s&&(i=c[e].href),t.isVideo(i)?t.openMedia(e):setTimeout((function(){t.openMedia(e)}),1e3)},openMedia:function(e){var t,r,o=this;if(c[e]!==s&&(t=c[e].href),e<0||e>=c.length)return!1;r=i("#wcpr-swipebox-slider .slide").eq(e),o.isVideo(t)?(r.html(o.getVideo(t)),l.settings.afterMedia&&l.settings.afterMedia(e)):(r.addClass("slide-loading"),o.loadMedia(t,(function(){r.removeClass("slide-loading"),r.html(this),l.settings.afterMedia&&l.settings.afterMedia(e)})))},setTitle:function(e){var t=null;i("#wcpr-swipebox-title").empty(),c[e]!==s&&(t=c[e].title),t?(i("#wcpr-swipebox-top-bar").show(),i("#wcpr-swipebox-title").append(t)):i("#wcpr-swipebox-top-bar").hide()},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(e.toLowerCase().indexOf("swipeboxvideo=1")>=0)return!0;if(e=e.toLowerCase().split("."),["mp4","webm"].indexOf(e[e.length-1])>-1)return!0}},parseUri:function(e,s){var r=t.createElement("a"),o={};return r.href=decodeURIComponent(e),r.search&&(o=JSON.parse('{"'+r.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),i.isPlainObject(s)&&(o=i.extend(o,s,l.settings.queryStringData)),i.map(o,(function(e,t){if(e&&e>"")return encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&")},getVideo:function(e){var t="",i=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),s=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),r=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),o="";return i||s?(s&&(i=s),console.log(i),o=a.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",v:""}),t='<iframe width="560" height="315" src="https://'+i[1]+"/embed/"+i[2]+"?"+o+'" frameborder="0" allowfullscreen></iframe>'):r?(o=a.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:l.settings.vimeoColor}),t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+r[1]+"?"+o+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):t='<video src="'+e+'" width="100%" controls></video>','<div class="wcpr-swipebox-video-container" style="max-width:'+l.settings.videoMaxWidth+'px"><div class="wcpr-swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(0===e.trim().indexOf("#"))t.call(i("<div>",{class:"wcpr-swipebox-inline-container"}).append(i(e).clone().toggleClass(l.settings.toggleClassOnLoad)));else if(!this.isVideo(e)){var s=i("<img>").on("load",(function(){t.call(s)}));s.attr("src",e)}},getNext:function(){var e,t=this,s=i("#wcpr-swipebox-slider .slide").index(i("#wcpr-swipebox-slider .slide.current"));s+1<c.length?(e=i("#wcpr-swipebox-slider .slide").eq(s).contents().find("iframe").attr("src"),i("#wcpr-swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",e),s++,t.setSlide(s),t.preloadMedia(s+1),l.settings.nextSlide&&l.settings.nextSlide(s)):!0===l.settings.loopAtEnd?(e=i("#wcpr-swipebox-slider .slide").eq(s).contents().find("iframe").attr("src"),i("#wcpr-swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",e),s=0,t.preloadMedia(s),t.setSlide(s),t.preloadMedia(s+1),l.settings.nextSlide&&l.settings.nextSlide(s)):(i("#wcpr-swipebox-overlay").addClass("rightSpring"),setTimeout((function(){i("#wcpr-swipebox-overlay").removeClass("rightSpring")}),500))},getPrev:function(){var e,t=i("#wcpr-swipebox-slider .slide").index(i("#wcpr-swipebox-slider .slide.current"));t>0?(e=i("#wcpr-swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),i("#wcpr-swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t--,this.setSlide(t),this.preloadMedia(t-1),l.settings.prevSlide&&l.settings.prevSlide(t)):(i("#wcpr-swipebox-overlay").addClass("leftSpring"),setTimeout((function(){i("#wcpr-swipebox-overlay").removeClass("leftSpring")}),500))},nextSlide:function(e){},prevSlide:function(e){},closeSlide:function(){i("html").removeClass("wcpr-swipebox-html"),i("html").removeClass("wcpr-swipebox-touch"),i(e).trigger("resize"),this.destroy()},destroy:function(){i(e).unbind("keyup"),i("body").unbind("touchstart"),i("body").unbind("touchmove"),i("body").unbind("touchend"),i("#wcpr-swipebox-slider").unbind(),i("#wcpr-swipebox-overlay").remove(),Array.isArray(r)||r.removeData("_swipebox"),this.target&&this.target.trigger("wcpr-swipebox-destroy"),i.swipebox.isOpen=!1,l.settings.afterClose&&l.settings.afterClose()}},l.init()},i.fn.swipebox=function(e){if(!i.data(this,"_swipebox")){var t=new i.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery);