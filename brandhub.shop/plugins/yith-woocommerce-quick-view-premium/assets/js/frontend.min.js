jQuery(document).ready((function(i){"use strict";if("undefined"!=typeof yith_qv){var t="",e="yith-inline"!=yith_qv.type?i(document).find(".yith-quick-view"):i(document).find(".yith-quick-view").clone(),a=e.find(".yith-quick-view-content"),n=e.find(".yith-quick-view-close"),o=e.find(".yith-quick-view-nav"),r=[],c=null,d=null,_=function(){if("yith-inline"!=yith_qv.type){var t=i(document).find(".yith-quick-view .yith-wcqv-wrapper"),e=i(window).width(),a=i(window).height(),n=e-60>yith_qv.popup_size_width?yith_qv.popup_size_width:e-60,o=a-120>yith_qv.popup_size_height?yith_qv.popup_size_height:a-120;t.css({left:e/2-n/2,top:a/2-o/2,width:n+"px",height:o+"px"})}};if("undefined"!=typeof yith_qv){i.fn.yith_wcqv_init=function(){t=i(document).find(".yith-wcqv-button"),i.each(t,(function(){var t=i(this).data("product_id");-1==i.inArray(t,r)&&r.push(t)})),o.length&&h(o),f(n),_(),t.off("click"),imagesLoaded(a,(function(){s(t)})),i(document).on("click",".yith-wcqv-button",(function(t){var n=i(this),o=(n.data("type"),n.data("product_id"));if(o){if(t.preventDefault(),t.stopPropagation(),yith_qv.enable_loading||l(n),"yith-inline"==yith_qv.type){var r=n.closest(yith_qv.main_product),c=r.hasClass("last")?r:r.nextUntil(".first",".last");if(c.length&&c.hasClass("last")||(c=r.parent().find(yith_qv.main_product).last()),r.closest(".yith-quick-view").length||c.next(".yith-quick-view").length)l(a);else{if(e.hasClass("open"))return e.removeClass("open").removeClass("loading"),void e.slideUp("slow",(function(){c.after(e),v(n,o)}));c.after(e)}}else i(document).trigger("qv_loading"),i(document).trigger("yith_quick_view_loading");v(n,o)}}))};var s=function(t){t.length&&!t.hasClass("inside-thumb")||i.each(t,(function(){var t=i(this),e=t.closest(yith_qv.main_product).find(yith_qv.main_image_class);t.css({top:(e.height()-t.height())/2+"px",right:(e.width()-t.width())/2+"px",display:"inline-block"})}))},l=function(t){void 0!==yith_qv.loader&&(t.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),i(document).on("qv_loader_stop",(function(){t.unblock()})))},h=function(t){var e=t.find("> a");e.off("click"),e.on("click",(function(t){t.preventDefault();var e=i(this),n=e.data("product_id");l(a),v(e,n)}))},v=function(t,n){var c=i.inArray(n,r),_=r[c-1],s=r[c+1],l={action:yith_qv.ajaxQuickView,product_id:n,prev_product_id:_,next_product_id:s,context:"frontend",lang:yith_qv.lang};null!=d&&d.abort(),d=i.ajax({url:yith_qv.ajaxurl.toString().replace("%%endpoint%%",yith_qv.ajaxQuickView),data:l,dataType:"json",type:"GET",success:function(t){a.html(t.html),"slider"==yith_qv.imagesMode&&imagesLoaded(a,(function(){u()})),i(window).width()>480&&a.find("div.summary").perfectScrollbar({suppressScrollX:!0}),yith_qv.increment_plugin&&a.find("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />');var n=a.find(".variations_form");n.each((function(){i(this).wc_variation_form(),void 0!==i.fn.yith_wccl?i(this).yith_wccl():void 0!==i.yith_wccl&&t.prod_attr&&i.yith_wccl(t.prod_attr)})),n.trigger("check_variations"),n.trigger("reset_image"),void 0!==i.fn.yith_ywraq_variations&&(i.fn.yith_ywraq_variations(),a.find('[name|="variation_id"]').trigger("change"));var r=a.find(".yith-wocc-wrapper");r.length&&void 0!==i.fn.yith_wocc_init&&r.yith_wocc_init(),void 0!==i.fn.init_addon_totals?a.find(".cart:not(.cart_group)").each((function(){i(this).init_addon_totals()})):"undefined"!=typeof woocommerce_addons_params&&i("body").trigger("quick-view-displayed"),void 0!==i.fn.prettyPhoto&&a.find("a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1,show_title:!1}),yith_qv.ajaxcart&&m(t.product_link,a);var c=n.find(".single_variation_wrap");if(y(c),void 0!==i.fn.ajaxForm&&void 0!==i.fn.wpcf7InitForm&&(i.fn.ajaxForm({delegation:!0,target:"#output"}),a.find("div.wpcf7 > form").wpcf7InitForm()),o.length){var _=o.find(".yith-wcqv-next"),s=o.find(".yith-wcqv-prev");t.prev_product?(s.find("div").html(t.prev_product_preview),s.data("product_id",t.prev_product).css({display:"block"})):s.css({display:"none"}),t.next_product?(_.find("div").html(t.next_product_preview),_.data("product_id",t.next_product).css({display:"block"})):_.css({display:"none"})}e.hasClass("open")||(e.removeClass("loading").addClass("open"),"yith-inline"==yith_qv.type?e.slideDown("slow"):i("html").addClass("yith-quick-view-is-open")),d=null;var l=window.wcmp_force_init;void 0!==l&&l(),i(document).trigger("qv_loader_stop"),i(document).trigger("yith_quick_view_loaded")}})},u=function(){var t=a.find(".yith-quick-view-images-slider");t.length&&void 0!==i.fn.bxSlider&&(c=t.bxSlider({pager:yith_qv.enable_images_slider_pagination,prevText:"",nextText:""}))};i(document).on("click",".yith-quick-view-single-thumb",(function(){i(this).siblings().removeClass("active");var t=i(this).parents(".images"),e=t.find(".woocommerce-main-image"),a=t.find("img.wp-post-image"),n=i(this).data("img"),o=i(this).data("href");a.length||(e=(a=t.find("img.attachment-quick_view_image_size")).closest("a")),a.attr("src",n).attr("srcset",n).attr("src-orig",n),e.attr("href",o),i(this).addClass("active"),i(document).trigger("yith_wcqv_change_thumb")}));var f=function(t){t.off("click"),t.on("click",(function(i){i.preventDefault(),n()})),"yith-inline"!=yith_qv.type&&(i(document).keyup((function(i){27===i.keyCode&&n()})),i(".yith-quick-view-overlay").on("click",(function(i){e.hasClass("loading")||n()})));var n=function(){e.removeClass("open").removeClass("loading"),"yith-inline"!=yith_qv.type?(i("html").removeClass("yith-quick-view-is-open"),setTimeout((function(){o()}),500)):e.slideUp("slow",(function(){if("scroll-up"==yith_qv.closing_cascading){var t=i(".yith-quick-view.yith-inline").prev().offset().top;i("html,body").animate({scrollTop:t-100},1e3)}o()}))},o=function(){a.html(""),i(document).trigger("qv_is_closed")}};i(document).on("yith_infs_adding_elem yith-wcan-ajax-filtered",(function(){i.fn.yith_wcqv_init()}));var m=function(t,e){e.find("form.cart").on("submit",(function(o){var r,c=i(this),d=c.find('button[name="add-to-cart"]');if(!("is_one_click"==c.find('input[name="_yith_wocc_one_click"]').val())){o.preventDefault();var _=new FormData;i.each(c.find("input[type='file']"),(function(t,e){i.each(i(e)[0].files,(function(i,t){_.append(e.name,t)}))}));var s=!1;r=c.serializeArray(),i.each(r,(function(i,t){"add-to-cart"==t.name&&(s=!0),_.append(t.name,t.value)})),_.append("wp_http_referer",t),s||_.append("add-to-cart",d.val()),_.append("context","frontend"),_.append("action",yith_qv.ajaxAddToCart),void 0!==yith_qv.loader&&d.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),i.ajax({url:t,data:_,contentType:!1,processData:!1,type:"POST",dataType:"json",success:function(t){if(yith_qv.redirect_checkout)window.location.href=yith_qv.checkout_url;else{var o=void 0!==t.fragments.ywcqv_messages?t.fragments.ywcqv_messages:"",r=e.find("div.summary");r.find(".woocommerce-message, .woocommerce-error").remove(),o.length&&(o=i(o).removeAttr("role"),r.prepend(o)),void 0!==yith_qv.loader&&d.unblock(),yith_qv.ismobile?a.scrollTop(r.position().top):r.scrollTop(0),i(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,d]),yith_qv.closeOnAjaxCart&&void 0===t.fragments.ywcqv_error&&setTimeout((function(){n.click()}),yith_qv.timeout_close_quick_view)}}})}}))},y=function(t){var e=[],n=function(t){var n=a.find("div.images"),o=n.find(".yith-quick-view-thumbs"),r=n.find(".attachment-quick_view_image_size").first(),d=n.find("a.woocommerce-main-image"),_=o.find('.yith-quick-view-single-thumb[data-attachment_id="'+t.attachment_id+'"]'),s=i.inArray(t.attachment_id,e);_.length?_.click():-1!==s&&null!==c?c.goToSlide(s):t.image&&t.image.src&&t.image.src.length>1&&(r.wc_set_variation_attr("src",t.image.src),r.wc_set_variation_attr("height",t.image.src_h),r.wc_set_variation_attr("width",t.image.src_w),r.wc_set_variation_attr("srcset",t.image.srcset),r.wc_set_variation_attr("sizes",t.image.sizes),r.wc_set_variation_attr("title",t.image.title),r.wc_set_variation_attr("alt",t.image.alt),r.wc_set_variation_attr("data-src",t.image.full_src),r.wc_set_variation_attr("data-large_image",t.image.full_src),r.wc_set_variation_attr("data-large_image_width",t.image.full_src_w),r.wc_set_variation_attr("data-large_image_height",t.image.full_src_h),d.wc_set_variation_attr("href",t.image.full_src),o.find(".yith-quick-view-single-thumb").removeClass("active"))},o=function(t){return!(!yith_qv.ajaxVariationGallery||"none"==yith_qv.imagesMode||!t.has_custom_gallery&&!a.find("div.images").hasClass("has_custom_gallery"))&&(null!=d&&d.abort(),d=i.ajax({url:yith_qv.ajaxurl.toString().replace("%%endpoint%%",yith_qv.ajaxVariationGallery),data:{action:yith_qv.ajaxVariationGallery,id:t?t.variation_id:i("input#yith_wcqv_product_id").val(),context:"frontend"},dataType:"json",type:"POST",beforeSend:function(){a.find("div.images").addClass("loading-gallery")},success:function(o){a.find("div.images").replaceWith(o.html),"slider"==yith_qv.imagesMode&&(e=[],u()),t&&n(t),void 0!==i.fn.prettyPhoto&&a.find("a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1,show_title:!1}),d=null,o.default||a.find("div.images").addClass("has_custom_gallery"),i(document).trigger("qv_variation_gallery_loaded")}}),!0)};i(".yith-quick-view-images-slider").find(".yith-quick-view-slide").each((function(t,a){e[t]=i(this).data("attachment_id")+""})),t.on("show_variation",(function(i,t){void 0===t.attachment_id||o(t)||n(t)})),t.on("hide_variation",(function(){var i,t,e,n;o(!1)||(i=a.find("div.images"),t=i.find(".yith-quick-view-thumbs"),e=i.find(".attachment-quick_view_image_size").first(),n=i.find("a.woocommerce-main-image"),e.wc_reset_variation_attr("src"),e.wc_reset_variation_attr("width"),e.wc_reset_variation_attr("height"),e.wc_reset_variation_attr("srcset"),e.wc_reset_variation_attr("sizes"),e.wc_reset_variation_attr("title"),e.wc_reset_variation_attr("alt"),e.wc_reset_variation_attr("data-src"),e.wc_reset_variation_attr("data-large_image"),e.wc_reset_variation_attr("data-large_image_width"),e.wc_reset_variation_attr("data-large_image_height"),n.wc_reset_variation_attr("href"),t.find(".yith-quick-view-single-thumb").first().click(),null!==c&&c.goToSlide(0))}))};i(document).on("qv_loading",(function(){if(!yith_qv.enable_loading)return!1;var t=i(document).find(".yith-quick-view"),e=t.find(".yith-quick-view-overlay");if(t.hasClass("loading")||t.addClass("loading"),!e.find("p").length){var a=i("<p />").text(yith_qv.loading_text);e.append(a)}})),yith_qv.enable_zoom&&void 0!==i.fn.yith_magnifier&&i(document).on("qv_loader_stop qv_variation_gallery_loaded",(function(t){if("undefined"==typeof yith_magnifier_options)return!1;var e=i(".yith-quick-view-content .images"),a=e.find(".yith_magnifier_zoom"),n=e.find(".yith_magnifier_zoom img.attachment-quick_view_image_size"),o=e.find(".yith_magnifier_zoom").attr("href"),r=e.find(".yith_magnifier_zoom img").attr("src");e.data("yith_magnifier")&&e.yith_magnifier("destroy"),a.attr("href",o),n.attr("src",r),n.attr("srcset",r),n.attr("src-orig",r);var c={enableSlider:!1,position:"inside",elements:{zoom:a,zoomImage:n}};c=i.extend(!0,{},yith_magnifier_options,c),e.find("a.pp_expand, a.yith_expand").remove(),e.yith_magnifier(c),i(document).off("yith_wcqv_change_thumb").on("yith_wcqv_change_thumb",(function(){e.data("yith_magnifier")&&e.yith_magnifier("destroy"),e.yith_magnifier(c)})),i(document).on("found_variation","form.variations_form",(function(i,t){var o=!1;if(t.image_src&&t.image_src.length?o=t.image_src:t.image.src&&(o=t.image.src),!o)return!1;a.attr("href",o),n.attr("src",o),n.attr("srcset",o),n.attr("src-orig",o),e.data("yith_magnifier")&&e.yith_magnifier("destroy"),e.yith_magnifier(c)})).on("reset_image",(function(i){a.attr("href",o),n.attr("src",r),n.attr("srcset",r),n.attr("src-orig",r),e.data("yith_magnifier")&&e.yith_magnifier("destroy"),e.yith_magnifier(c)}))})),i(document).on("qv_loader_stop",(function(){"yith-inline"==yith_qv.type&&i("html, body").animate({scrollTop:i(".yith-quick-view").offset().top-100},1e3)})),i.fn.YitdoubleTapToGo=function(){return this.each((function(){var t=!1,e=i(this).closest(".product");i(document).on("qv_loader_stop",(function(){e.removeClass("hover_mobile")})),i(this).on("touchstart",(function(i){e.siblings().removeClass("hover_mobile"),t&&e.hasClass("hover_mobile")||(i.preventDefault(),e.addClass("hover_mobile"),t=!0)}))})),this},yith_qv.ismobile&&yith_qv.enable_double_tab&&i(yith_qv.main_product_link).YitdoubleTapToGo(),i.fn.yith_wcqv_init(),i(document).on("yith_wcqv_wcajaxnav_update post-load",i.fn.yith_wcqv_init),i(window).on("resize",(function(){_(),s(i(document).find(".yith-wcqv-button"))})),i(document).on("facetwp-loaded",(function(){s(i(document).find(".yith-wcqv-button"))})),i(document).on("qv_loader_stop",(function(){void 0!==i.fn.tawcvs_variation_swatches_form&&(i(".variations_form").tawcvs_variation_swatches_form(),i(document.body).trigger("tawcvs_initialized"))}))}}}));