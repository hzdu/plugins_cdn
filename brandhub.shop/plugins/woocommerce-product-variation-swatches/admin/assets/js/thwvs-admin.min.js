function thwvsOpenFormTab(elm,tab_id,form_type){thwvs_base.openFormTab(elm,tab_id,form_type)}function thwvs_upload_icon_image(elm,e){thwvs_settings.upload_icon_image(elm,e)}function thwvs_remove_icon_image(elm,e){thwvs_settings.remove_icon_image(elm,e)}function thwvsOpenSwatchesForm(elm,props_json,id,design_type){thwvs_settings.OpenSwatchesForm(elm,props_json,id,design_type)}function thwvsCheckboxChangeListner(elm){thwvs_settings.CheckboxChangeListner(elm)}function thwvsradiobuttonStyle(elm){thwvs_settings.radiobuttonStyle(elm)}function thwvstooltiptypeListner(elm){thwvs_settings.TooltipStyle(elm)}function thwvs_change_term_type(elm,e){thwvs_settings.change_term_type(elm,e)}function thwvs_open_term_body(elm,e){thwvs_settings.open_term_body(elm,e)}function thwvs_change_color_type(elm){thwvs_settings.ChangeColorType(elm)}function thwvs_change_locl_attr_tooltip_type(elm,e){thwvs_settings.ChangeLocalTooltipType(elm,e)}function thwvs_change_custom_attribute_color_type(elm){thwvs_settings.ChangeCustomAttributeColorType(elm)}function thwvs_local_attr_radiobutton_style(elm){thwvs_settings.local_attr_radiobutton_style(elm)}function thwvsCrossBgColor(elm){thwvs_settings.show_cross_bg_color(elm)}function thwvsShowColWidth(elm){thwvs_settings.show_col_width(elm)}function thwvsShowAddWidth(elm){thwvs_settings.show_ad_width(elm)}function thwvsTriggerAttributeTab(elm){thwvs_settings.trigger_attribute_tab(elm)}function thwvsShowShopePageSettings(elm){thwvs_settings.show_shop_page_settings(elm)}function thwvs_change_settings_tab(elm,tab){thwvs_settings.change_settings_tab(elm,tab)}function thwvsSwatchTypeChangeListner(elm){thwvs_settings.SwatchTypeChangeListner(elm)}function thwvsChangeBiColorType(elm,term){thwvs_settings.ChangeBiColorType(elm,term)}function thwvsAddNewDesign(elm,design_id){thwvs_designs.AddNewDesign(elm,design_id)}function thwvsEditDesignForm(elm,design_styles,design_id,des_title){thwvs_designs.EditDesignForm(elm,design_styles,design_id,des_title)}function thwvsCloseDesignPopup(elm){thwvs_designs.CloseDesignPopup()}function thwvsShowScale(elm){thwvs_designs.show_scaling(elm)}function thwvsRemoveDesign(elm,design){thwvs_designs.remove_design(elm,design)}function thwvsShowcheckStyles(elm){thwvs_designs.show_check_styles(elm)}function thwvsShowLabelSelectionStyles(elm){thwvs_designs.label_selection_syles(elm)}var thwvs_base=function($,window,document){"use strict";function escapeHTML(html){var fn=function(tag){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;"}[tag]||tag};return html.replace(/[&<>"]/g,fn)}function isHtmlIdValid(id){return/^[a-z\_]+[a-z0-9\_]*$/.test(id.trim())}function isValidHexColor(value){return!!preg_match("/^#[a-f0-9]{6}$/i",value)}function setup_tiptip_tooltips(){var tiptip_args={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200};$(".tips").tipTip(tiptip_args)}function setup_enhanced_multi_select(parent){parent.find("select.thpladmin-enhanced-multi-select").each(function(){$(this).hasClass("enhanced")||$(this).select2({minimumResultsForSearch:10,allowClear:!0,placeholder:$(this).data("placeholder")}).addClass("enhanced")})}function setup_enhanced_multi_select_with_value(parent){parent.find("select.thpladmin-enhanced-multi-select").each(function(){if(!$(this).hasClass("enhanced")){$(this).select2({minimumResultsForSearch:10,allowClear:!0,placeholder:$(this).data("placeholder")}).addClass("enhanced");var value=$(this).data("value");value=value.split(","),$(this).val(value),$(this).trigger("change")}})}function setup_color_picker(form){var i=0;form.find(".thpladmin-colorpick").iris({change:function(event,ui){$(this).parent().find(".thwvs-admin-colorpickpreview").css({backgroundColor:ui.color.toString()})},hide:!0,border:!0}).click(function(){$(this).closest(".thwvs_settings_fields_form").length>0?($(".iris-picker").hide(),$(this).closest(".thwvs_settings_fields_form").find(".iris-picker").show()):($(".iris-picker").hide(),$(this).closest("td").find(".iris-picker").show())}),$("body").click(function(){$(".iris-picker").hide()}),$(".thpladmin-colorpick").click(function(event){event.stopPropagation()}),i++}function setup_popup_tabs(form,selector_prefix){$("."+selector_prefix+"-tabs-menu a").click(function(event){event.preventDefault(),$(this).parent().addClass("current"),$(this).parent().siblings().removeClass("current");var tab=$(this).attr("href");$("."+selector_prefix+"-tab-content").not(tab).css("display","none"),$(tab).fadeIn()})}function open_form_tab(elm,tab_id,form_type){var tabs_container=$("#thwvs-tabs-container_"+form_type);$(elm).parent().addClass("current"),$(elm).parent().siblings().removeClass("current");var tab=$("#"+tab_id+"_"+form_type);tabs_container.find(".thpladmin-tab-content").not(tab).css("display","none"),$(tab).fadeIn()}function prepare_field_order_indexes(elm){$(elm+" tbody tr").each(function(index,el){$("input.f_order",el).val(parseInt($(el).index(elm+" tbody tr")))})}function setup_sortable_table(parent,elm,left){parent.find(elm+" tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort",scrollSensitivity:40,helper:function(e,ui){return ui.children().each(function(){$(this).width($(this).width())}),ui.css("left",left),ui}}),$(elm+" tbody").on("sortstart",function(event,ui){ui.item.css("background-color","#f6f6f6")}),$(elm+" tbody").on("sortstop",function(event,ui){ui.item.removeAttr("style"),prepare_field_order_indexes(elm)})}function get_property_field_value(form,type,name){var value="";switch(type){case"select":value=form.find("select[name=i_"+name+"]").val(),value=null==value?"":value;break;case"checkbox":value=form.find("input[name=i_"+name+"]").prop("checked"),value=value?1:0;break;default:value=form.find("input[name=i_"+name+"]").val(),value=null==value?"":value}return value}function set_property_field_value(form,type,name,value,multiple){switch(type){case"select":1==multiple&&"string"==typeof value&&(value=value.split(","),name+="[]"),form.find('select[name="i_'+name+'"]').val(value);break;case"checkbox":value="yes"===value||1==value,form.find("input[name=i_"+name+"]").prop("checked",value);break;case"colorpicker":form.find("input[name=i_"+name+"]").val(value),form.find("span."+name+"_preview").css("background-color",value);break;case"radio":form.find("input[name=i_"+name+"]").val(value),form.find($("."+value)).addClass("rad-selected").siblings(".rad-selected").removeClass("rad-selected");break;case"normal_radio":form.find("#i_"+value).prop("checked",!0);break;default:form.find("input[name=i_"+name+"]").val(value)}}function setup_form_side_popup(){$(".pp_nav_tabs > li").click(function(){var index=$(this).data("index");open_tab($(this).closest(".popup-wrapper"),$(this),index),active_tab=index})}function open_tab(popup,link,index){var panel=popup.find(".data_panel_"+index);close_all_data_panel(popup),link.addClass("active"),panel.css("display","block")}function close_all_data_panel(popup){popup.find(".pp_nav_tabs > li").removeClass("active"),popup.find(".data-panel").css("display","none"),popup.find(".global-tabs > li").removeClass("active")}function setup_global_tabs(){$(".global-tabs > li").click(function(){var index=$(this).data("index");open_tab($(this).closest(".form-wrapper-content"),$(this),index),active_tab=index})}var active_tab=0;return{escapeHTML:escapeHTML,isHtmlIdValid:isHtmlIdValid,isValidHexColor:isValidHexColor,setup_tiptip_tooltips:setup_tiptip_tooltips,setupEnhancedMultiSelect:setup_enhanced_multi_select,setupEnhancedMultiSelectWithValue:setup_enhanced_multi_select_with_value,setupColorPicker:setup_color_picker,setupSortableTable:setup_sortable_table,setupPopupTabs:setup_popup_tabs,openFormTab:open_form_tab,get_property_field_value:get_property_field_value,set_property_field_value:set_property_field_value,setup_form_side_popup:setup_form_side_popup,setup_global_tabs:setup_global_tabs}}(window.jQuery,window,document),thwvs_settings=function($,window,document){"use strict";function initialise_tab_switch(tabs_wrapper,design_type,last_tab){var tabs=tabs_wrapper.find(".thwvsadmin-tabs"),tab_panels=tabs_wrapper.find(".thwvsadmin-tab-panels");tabs.find("li.thwvsadmin-tab a").on("click",function(){switch_settings_tab($(this).data("tab"),$(this),tabs,tab_panels)}),tabs.find("li.thwvsadmin-tab.first-default-tab").find("a").trigger("click")}function switch_settings_tab(tab_number,tab,tabs,tab_panels){tab||(tab=tabs.find("#tab-"+tab)),tabs.find("li a").removeClass("active");var active_tab_panel=tab_panels.find("#thwvsadmin-tab-panel-"+tab_number);tab.hasClass("active")||tab.addClass("active"),tab_panels.find("div.thwvsadmin-tab-panel").not("#thwvsadmin-tab-panel-"+tab_number).hide(),active_tab_panel.show()}function upload_icon_image(elm,e){mediaUploader=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1});var supported_file=["jpeg","jpg","png","gif"],$image_div=$(elm).parents(".thwvs-upload-image"),$index_media_image=$image_div.find(".i_index_media_img"),$index_media=$image_div.find(".i_index_media"),$remove_button=$image_div.find(".thwvs_remove_image_button");mediaUploader.on("select",function(){var attachment=mediaUploader.state().get("selection").first().toJSON(),image_type=attachment.subtype;-1!=supported_file.indexOf(image_type)?($image_div.find(".image_error").remove(),$index_media_image.attr("src",attachment.url),$index_media.val(attachment.id),$(".thwvs_remove_uploaded").show(),$remove_button.show()):($image_div.find(".image_error").remove(),$image_div.append('<div class="image_error"><p>Invalid file type chosen</p></div>'))}),mediaUploader.open()}function remove_icon_image(elm,e){var $image_div=$(elm).parents(".thwvs-upload-image"),$index_media_image=$image_div.find(".i_index_media_img"),$index_media=$image_div.find(".i_index_media"),$remove_button=$image_div.find(".thwvs_remove_image_button");return $index_media_image.attr("src",placeholder),$index_media.val(""),$remove_button.hide(),!1}function CheckboxChangeListner(elm){var form=$(elm).closest("form");$(elm).is(":checked")?form.find(".thwvs_local_settings").css({opacity:1,"pointer-events":"initial"}):form.find(".thwvs_local_settings").css({opacity:.3,"pointer-events":"none"})}function open_swatches_form(elm,props_json,id,design_type){var attr_type=props_json.name,label=props_json.label;$(".popup-wrapper").hasClass("dismiss")&&$(".popup-wrapper").removeClass("dismiss").addClass("selected").show(),$(".thwvs-design-templates.thwvs-template-popup").addClass("pop-active"),$(".product_page_th_woocommerce_product_variation_swatches").addClass("thwvs-body-deactive"),$(".thwvs-template-preview-wrapper .thwvs-template-box").removeClass("design-active"),$(elm).closest(".thwvs-template-box").addClass("design-active"),$(".popup-wrapper").find("ul.pp_nav_tabs li").first().click();var form=$("#thwvs_attribute_form"),attr_type=props_json.type,tooltip_type=(props_json.name,props_json.term_tooltip_type);form.find(".attr_label").text(label),field_type_change_listner(form,attr_type),tooltip_type_change_listner(form,attr_type,tooltip_type),populate_field_form(form,props_json),populate_field_form_general(form,props_json,id,design_type);var terms_json=$(elm).data("terms");populate_attribute_term_fields(form,terms_json,id,attr_type),populate_attribute_term_tooltip_fields(form,terms_json,id,attr_type,tooltip_type);var general_settings_div=$("#thwvs_attribute_form");if(thwvs_base.setupColorPicker(general_settings_div),"select"!=attr_type){CheckboxChangeListner(form.find("#i_enable_local_settings"))}else form.find(".thwvs_local_settings").css({opacity:.3,"pointer-events":"none"});form.find("input[name = i_attr_id]").val(id)}function field_type_change_listner(form,type){form.find(".thwvs_field_form_tab_general_placeholder").html($("#thwvs_field_form_id_"+type).html()),$('select[name="i_term_tooltip_type"]').closest("tr").show(),"select"===type?($('select[name="i_term_tooltip_type"]').closest("tr").hide(),$("tr.thwvs-checkbox-tr").hide()):("radio"==type?$('select[name="i_term_tooltip_type"]').closest("tr").hide():$('select[name="i_term_tooltip_type"]').closest("tr").show(),$("tr.thwvs-checkbox-tr").show())}function tooltip_type_change_listner(form,type,tooltip_type){"select"!==type&&"radio"!==type&&void 0!==tooltip_type&&"none"!=tooltip_type?form.find(".thwvs_field_form_tab_tooltip").html($("#thwvs_field_form_tooltip_"+tooltip_type).html()):form.find(".thwvs_field_form_tab_tooltip").html("")}function populate_field_form(form,props){$.each(FIELD_FORM_PROPS,function(name,field){if("name"==name||"type"==name)return!0;"enable_local_settings"==name&&(void 0===value&&(value=0),thwvs_base.set_property_field_value(form,type,name,value,0));var type=field.type,value=props[name];"term_tooltip_type"==name&&void 0===value&&(value="none"),value&&void 0!==value&&("radio_button_style"==name?(form.find('input[name="i_'+name+'"]').val(value),form.find($("."+value)).addClass("rad-selected").siblings(".rad-selected").removeClass("rad-selected")):thwvs_base.set_property_field_value(form,type,name,value,field.multiple))})}function populate_attribute_term_fields(form,terms_json,id,attr_type){attr_type="image_with_label"===attr_type?"image":attr_type;var terms=terms_json.terms;populate_color_swatch_terms_html(terms,form),populate_label_swatch_terms_html(terms,form),populate_image_swatch_terms_html(terms,form),form.find(".thwvs_attribute_terms_settings").hide(),form.find("#thwvs_attribute_terms_"+attr_type).show()}function populate_attribute_term_tooltip_fields(form,terms_json,id,attr_type,tooltip_type){attr_type="image_with_label"===attr_type?"image":attr_type;var terms=terms_json.terms;populate_image_tooltip_terms_html(terms,form),populate_description_tooltip_terms_html(terms,form),form.find(".thwvs_attribute_terms_tooltip_settings").hide(),"select"!==attr_type&&"radio"!==attr_type&&form.find("#thwvs_attribute_terms_tooltip_"+tooltip_type).show()}function populate_color_swatch_terms_html(terms,form){var termHtml="";termHtml+='<tr><td class="terms-label" colspan="3">Set Terms Color</td> </tr>',jQuery.each(terms,function(key,value){var Op1Selected="",Op2Selected="";Op1Selected="single_color"==value.color_type?"selected":"",Op2Selected="bicolor"==value.color_type?"selected":"";var bicolor_style="bicolor"==value.color_type?"style=display:table-row;":"style=display:none;";termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%">'+value.term_name+"</td>",termHtml+='<td style="width: 26px; padding:0px;"></td>',termHtml+='<td class ="forminp inp-color">',termHtml+='<select name="i_color_type_'+value.slug+'" value="'+value.color_type+'" onchange="thwvsChangeBiColorType(this,\''+value.slug+'\')" style="width: 260px;">',termHtml+='<option value="single_color" '+Op1Selected+">Single Color</option>",termHtml+='<option value="bicolor" '+Op2Selected+">Bicolor</option>",termHtml+="</select></td>",termHtml+="</tr>",termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%" colspan="2"></td>',termHtml+='<td class ="forminp inp-color">',termHtml+='<input type="text" name="i_single_color_'+value.slug+'" value="'+value.color+'" style="width: 260px;" class="thpladmin-colorpick"/>',termHtml+='<span class="thwvs-admin-colorpickpreview  '+value.slug+'_preview"  style="background-color:'+value.color+'"></span>',termHtml+="</td>",termHtml+="</tr>",termHtml+='<tr class = "th-bicolor_'+value.slug+'" '+bicolor_style+">",termHtml+='<td class="titledesc" style="width:35%" colspan="2"></td>',termHtml+='<td class ="forminp inp-color">',termHtml+='<input type="text" name="i_bicolor'+value.slug+'" value="'+value.bi_color+'" style="width: 260px;" class="thpladmin-colorpick"/>',termHtml+='<span class="thwvs-admin-colorpickpreview  '+value.slug+'_preview"  style="background-color:'+value.bi_color+'"></span>',termHtml+="</td>",termHtml+="</tr>"}),form.find("#thwvs_attribute_terms_color").html(termHtml)}function populate_image_swatch_terms_html(terms,form){var termHtml="",placeholder_image=thwvs_var.placeholder_image;termHtml+='<tr><td class="terms-label" colspan="3">Set Terms Image</td> </tr>',jQuery.each(terms,function(key,value){var remove_icon_style=value.image?"":"display:none;",image=value.image?value.image:placeholder_image;termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%">'+value.term_name+"</td>",termHtml+='<td style="width: 26px; padding:0px;"></td>',termHtml+="<td>",termHtml+='<div class = "thwvs-upload-image"> <div class="tawcvs-term-image-thumbnail" style="float:left;margin-right:10px;">',termHtml+='<img  class="i_index_media_img" src="'+image+'" width="60px" height="60px" alt="term-image" />',termHtml+="</div>",termHtml+='<div style="line-height:30px;">',termHtml+='<input type="hidden" class="i_index_media"  name= "i_product_image_'+value.slug+'" value="'+value.term_value+'">',termHtml+='<button type="button" class="thwvs-upload-image-button button " onclick="thwvs_upload_icon_image(this,event)">Upload/Add image </button>',termHtml+='<button type="button" style ="'+remove_icon_style+'"  class="thwvs_remove_image_button button " onclick="thwvs_remove_icon_image(this,event)"> Remove Image</button>',termHtml+="</div>",termHtml+="</div>",termHtml+="</td>",termHtml+="</tr>"}),form.find("#thwvs_attribute_terms_image").html(termHtml)}function populate_label_swatch_terms_html(terms,form){var termHtml="";termHtml+='<tr><td class="terms-label" colspan="3">Set Terms Label</td> </tr>',jQuery.each(terms,function(key,value){termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%">'+value.term_name+"</td>",termHtml+='<td style="width: 26px; padding:0px;"></td>',termHtml+='<td class ="forminp">',termHtml+='<input type="text" name="i_label_'+value.slug+'" value="'+value.label+'" style="width: 260px;" />',termHtml+="</td>",termHtml+="</tr>"}),termHtml+="</div>",form.find("#thwvs_attribute_terms_label").html(termHtml)}function populate_image_tooltip_terms_html(terms,form){var termHtml="",placeholder_image=thwvs_var.placeholder_image;termHtml+='<tr><td class="terms-label" colspan="3">Set Terms Tooltip Image</td> </tr>',jQuery.each(terms,function(key,value){var remove_icon_style=value.tooltip_image?"":"display:none;",image=value.tooltip_image?value.tooltip_image:placeholder_image;termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%">'+value.term_name+"</td>",termHtml+='<td style="width: 26px; padding:0px;"></td>',termHtml+="<td>",termHtml+='<div class = "thwvs-upload-image"> <div class="tawcvs-term-image-thumbnail" style="float:left;margin-right:10px;">',termHtml+='<img  class="i_index_media_img" src="'+image+'" width="60px" height="60px" alt="term-image" />',termHtml+="</div>",termHtml+='<div style="line-height:30px;">',termHtml+='<input type="hidden" class="i_index_media"  name= "i_tooltip_image_'+value.slug+'" value="'+value.tooltip_image_id+'">',termHtml+='<button type="button" class="thwvs-upload-image-button button " onclick="thwvs_upload_icon_image(this,event)">Upload/Add image </button>',termHtml+='<button type="button" style ="'+remove_icon_style+'"  class="thwvs_remove_image_button button " onclick="thwvs_remove_icon_image(this,event)"> Remove Image</button>',termHtml+="</div>",termHtml+="</div>",termHtml+="</td>",termHtml+="</tr>"}),form.find("#thwvs_attribute_terms_tooltip_image").html(termHtml)}function populate_description_tooltip_terms_html(terms,form){var termHtml="";termHtml+='<tr><td class="terms-label" colspan="3">Set Terms Tooltip Description</td> </tr>',jQuery.each(terms,function(key,value){termHtml+="<tr>",termHtml+='<td class="titledesc" style="width:35%">'+value.term_name+"</td>",termHtml+='<td style="width: 26px; padding:0px;"></td>',termHtml+='<td class ="forminp">',termHtml+='<textarea name="i_tooltip_description_'+value.slug+'" style="width: 260px;">'+value.tooltip_description+"</textarea>",termHtml+="</td>",termHtml+="</tr>"}),termHtml+="</div>",form.find("#thwvs_attribute_terms_tooltip_description").html(termHtml)}function swatch_type_change_listener(elm){var type=$(elm).val(),form=$("#thwvs_attribute_form"),tooltip_type=form.find("select[name=i_term_tooltip_type]").val();type="image_with_label"===type?"image":type,field_type_change_listner(form,type),tooltip_type_change_listner(form,type,tooltip_type);var general_settings_div=$("#thwvs_attribute_form");thwvs_base.setupColorPicker(general_settings_div),form.find(".thwvs_attribute_terms_settings").hide(),form.find("#thwvs_attribute_terms_"+type).show(),form.find(".thwvs_attribute_terms_tooltip_settings").hide(),"select"!==type&&"radio"!==type&&$("#thwvs_attribute_terms_tooltip_"+tooltip_type).show()}function change_bicolor_color_type(elm,term){"bicolor"===$(elm).val()?$(".th-bicolor_"+term).show():$(".th-bicolor_"+term).hide()}function populate_field_form_general(form,props,id,design_type){var name=props.name,type=props.type,label=props.label,tooltip_type=props.term_tooltip_type?props.term_tooltip_type:"none",local_settings=props.enable_local_settings;thwvs_base.set_property_field_value(form,"hidden","attr_id",id,0),thwvs_base.set_property_field_value(form,"text","label",label,0),thwvs_base.set_property_field_value(form,"text","name",name,0),thwvs_base.set_property_field_value(form,"select","type",type,0),thwvs_base.set_property_field_value(form,"select","swatch_design_style",design_type,0),thwvs_base.set_property_field_value(form,"select","term_tooltip_type",tooltip_type,0),thwvs_base.set_property_field_value(form,"checkbox","enable_local_settings",local_settings,0)}function radiobuttonStyle(elm){var value=$(elm).data("value"),$element=$(elm);(1==$element.siblings('input[name="i_radio_button_style"]').length?$element.siblings('input[name="i_radio_button_style"]'):$element.siblings('input[name="i_radio_button_style_design"]')).val(value),$element.addClass("rad-selected").siblings(".rad-selected").removeClass("rad-selected")}function tooltip_style(elm){var type=$(elm).val(),form=$(elm).closest("form");"none"!=type?form.find(".thwvs_field_form_tab_tooltip").html($("#thwvs_field_form_tooltip_"+type).html()):form.find(".thwvs_field_form_tab_tooltip").html("");var tooltip_div=$(".thwvs_field_form_tab_tooltip");thwvs_base.setupColorPicker(tooltip_div),$(".thwvs_attribute_terms_tooltip_settings").hide(),$("#thwvs_attribute_terms_tooltip_"+type).show()}function change_term_type(elm,e){var type=$(elm).val(),form=$(elm).closest(".thwvs_custom_attribute");"image_with_label"==type&&(type="image");var custom_attr_div=$(".thwvs-custom-table");thwvs_base.setupColorPicker(custom_attr_div),"select"==type?form.find($(".thwvs-custom-table")).hide():(form.find($(".thwvs-custom-table")).hide(),form.find($(".thwvs-custom-table-"+type)).show(),form.find($(".th-tooltip-row")).show()),"select"==type||"radio"==type?form.find($(".th-tooltip-row")).hide():form.find($(".th-tooltip-row")).show()}function open_term_body(elm,e){var element=$(elm),parent=$(elm).closest("td"),parent_table=$(elm).closest("table");element.hasClass("open")?(element.removeClass("open"),parent.find(".thwvs-local-body").hide()):(parent_table.find(".thwvs-local-body").hide(),parent.find(".thwvs-local-body").show("slow"),parent_table.find(".thwvs-local-head").removeClass("open"),element.addClass("open"))}function change_local_tooltip_type(elm,e){var type=$(elm).val(),form=$(elm).closest(".thwvs_custom_attribute");form.find($(".th-local-tooltip")).hide(),"image"==type?form.find($(".th-local-tooltip.th-tt-image")).show():"description"==type?form.find($(".th-local-tooltip.th-tt-description")).show():form.find($(".th-local-tooltip")).hide()}function change_color_type(elm){"bicolor"==$(elm).val()?$(".thwvs_settings_fields_form.bicolor").show():$(".thwvs_settings_fields_form.bicolor").hide()}function change_custom_attribute_colortype(elm){"bicolor"==$(elm).val()?$(elm).closest("tr").next("tr").find(".thwvs_settings_fields_form.bicolor").show():$(elm).closest("tr").next("tr").find(".thwvs_settings_fields_form.bicolor").hide()}function local_attr_radiobutton_style(elm){var value=$(elm).data("value"),$element=$(elm);$element.siblings(".th-custom-radio-type").val(value),$element.addClass("rad-selected").siblings(".rad-selected").removeClass("rad-selected")}function show_cross_bg_color(elm){var parent_table=$(elm).closest("table"),unavailable=parent_table.find('select[name="i_behavior_for_unavailable_variation"]').val(),out_of_stock=parent_table.find('select[name="i_behavior_of_out_of_stock"]').val(),behaviour="blur_with_cross"==unavailable?"blur_with_cross":out_of_stock,cross_bg_color=$(".cross_bg");!behaviour||"blur_with_cross"!=behaviour&&"blur_with_cancel"!=behaviour?cross_bg_color.hide():cross_bg_color.show()}function show_col_width(elm){var title_position=$(elm).val(),col_width=$(".col_width");title_position&&"left"==title_position?col_width.show():col_width.hide()}function show_ad_width(elm){var host_class=$(".ad_size");1==$(elm).prop("checked")?remove_class_wvs_blur(host_class):add_class_wvs_blur(host_class)}function show_shop_page_settings(elm){var table_elm=$(elm).closest(".th-shop-table").siblings(".th-shop-based-settings");1==$(elm).prop("checked")?remove_class_wvs_blur(table_elm):add_class_wvs_blur(table_elm)}function add_class_wvs_blur(host_class){host_class.addClass("wpvs_blur")}function remove_class_wvs_blur(host_class){host_class.removeClass("wpvs_blur")}function trigger_attribute_tab(elm){$("ul.wc-tabs .attribute_options.attribute_tab a").trigger("click")}function set_design_accordion(elm,last_tab){var current_design=$(elm).closest(".thwvsp-design-wrapper");current_design.siblings(".thwvsp-design-wrapper").removeClass("thwvsp-design-active"),current_design.toggleClass("thwvsp-design-active");var design_type=$(elm).data("design");current_design.find("#thwvsadmin_wrapper_"+design_type)}function change_settings_tab(elm,tab_id){var current_nav_tab=$(elm);$(".thwvs-nav-tab .nav-tab").removeClass("nav-tab-active"),current_nav_tab.addClass("nav-tab-active");var current_tab=$("#thwvs_"+tab_id);$(".swatches_settings").removeClass("th-tab-active"),current_tab.addClass("th-tab-active")}var mediaUploader;$(function(){var settings_div=$("#edittag"),add_tag_div=$("#addtag"),advanced_settings_div=$("#advanced_settings_form"),custom_attr_div=$(".thwvs-custom-table"),settings_design_form=$("#thwvs_design_form"),global_settings_form=$("#global_settings_form"),thwvs_attribute_form=$("#thwvs_attribute_form");thwvs_base.setupColorPicker(advanced_settings_div),thwvs_base.setupColorPicker(settings_div),thwvs_base.setupColorPicker(add_tag_div),thwvs_base.setupColorPicker(custom_attr_div),thwvs_base.setupColorPicker(settings_design_form),thwvs_base.setupColorPicker(global_settings_form),thwvs_base.setupColorPicker(thwvs_attribute_form),initialise_tab_switch($("#thwvsadmin_wrapper_default"),"default",""),initialise_tab_switch($("#thwvsadmin_wrapper_design"),"design",""),thwvs_base.setup_form_side_popup(),thwvs_base.setup_global_tabs(),$("#thwvs_global_settings").find("ul.global-tabs li").first().click(),$(".settings-element-container").click(function(){var links_container=$(".settings-element-container .th-settings-links");links_container.hasClass("select")?links_container.removeClass("select"):links_container.addClass("select")}),window.onclick=function(event){var container=document.getElementById("thwvs_element_container"),cont_img=document.getElementById("thwvs_settings_img");event.target!=container&&event.target!=cont_img&&$(".settings-element-container .th-settings-links").removeClass("select");var cont_search=document.getElementById("th_search_wrapp"),search_img=document.getElementById("th_search_img"),search_box=document.getElementById("th_search_box");event.target!=cont_search&&event.target!=search_img&&event.target!=search_box&&($(".thwvs-template-box.search-elements").show(),$(".thwvs-search-box").val(""))},$("input[type=search]").on("input",function(){clearTimeout(this.delay),this.delay=setTimeout(function(){$(this).trigger("search")}.bind(this),800)}).on("search",function(){var divs=$(".thwvs-template-box.search-elements");if(this.value){var search_val=this.value;$.each(divs,function(index,element){var search_elm=$(element).data("search_name");search_val=search_val.toLowerCase(),search_elm=search_elm.toLowerCase(),search_elm.indexOf(search_val)>-1?$(element).css("display","block"):$(element).css("display","none")})}else divs.css("display","block")})});var placeholder=thwvs_var.placeholder_image;$(document).ajaxComplete(function(event,request,options){if(request&&4===request.readyState&&200===request.status&&options.data&&0<=options.data.indexOf("action=add-tag")){var res=wpAjax.parseAjaxResponse(request.responseXML,"ajax-response");if(!res||res.errors)return;return $(".i_index_media_img").attr("src",placeholder),$(".i_index_media").val(""),$("#product_cat_thumbnail_id").val(""),$(".thwvs_remove_image_button").hide(),$(".thwvs_settings_fields_form").find(".thwvs-admin-colorpickpreview").css("background-color","#ffffff"),$(".thwvs_settings_fields_form").find(".thpladmin-colorpick").val(""),$(".thwvs_settings_fields_form").find(".thwvs-admin-colorpickpreview").val(""),void $(".th-color-type").val("single_color").change()}if(request&&4===request.readyState&&200===request.status&&options.data&&0<=options.data.indexOf("action=woocommerce_save_attributes")){var this_page=window.location.toString();this_page=this_page.replace("post-new.php?","post.php?post="+woocommerce_admin_meta_boxes.post_id+"&action=edit&");$(".thwvs-custom-table");$("#thwvs-product-attribute-settings").load(this_page+" #custom_variations_inner",function(){$("#thwvs-product-attribute-settings").trigger("reload"),thwvs_base.setupColorPicker($(".th-custom-attr-color-td"))})}});var FIELD_FORM_PROPS={icon_height:{name:"icon_height",type:"text"},icon_width:{name:"icon_width",type:"text"},icon_roundness:{name:"icon_roundness",type:"text"},enable_hover_image:{name:"enable_hover_image",type:"checkbox"},enable_hover_text:{name:"enable_hover_text",type:"checkbox"},term_tooltip_type:{name:"term_tooltip_type",type:"select"},title:{name:"name",type:"text"},subtitle:{name:"subtitle",type:"text"},label_font_weight:{name:"label_font_weight",type:"text"},icon_border_color:{name:"icon_border_color",type:"colorpicker"},icon_border_color_hover:{name:"icon_border_color_hover",type:"colorpicker"},icon_border_color_selected:{name:"icon_border_color_selected",type:"colorpicker"},behavior_for_unavailable_variation:{name:"behavior_for_unavailable_variation",type:"select"},radio_button_style:{name:"radio_button_style",type:"hidden"},radio_inner_color:{name:"radio_inner_color",type:"colorpicker"},radio_outer_color:{name:"radio_outer_color",type:"colorpicker"},radio_normal_inner_color:{name:"radio_normal_inner_color",type:"colorpicker"},radio_normal_outer_color:{name:"radio_normal_outer_color",type:"colorpicker"},label_background_color:{name:"label_background_color",type:"colorpicker"},label_text_color:{name:"label_text_color",type:"colorpicker"},tooltip_image_border_color:{name:"tooltip_image_border_color",type:"colorpicker"},tooltip_image_height:{name:"tooltip_image_height",type:"text"},tooltip_image_width:{name:"tooltip_image_width",type:"text"},tooltip_text_background_color:{name:"tooltip_text_background_color",type:"colorpicker"},tooltip_text_color:{name:"tooltip_text_color",type:"colorpicker"},description_text_color:{name:"description_text_color",type:"colorpicker"},description_background_color:{name:"description_background_color",type:"colorpicker"},description_text_size:{name:"description_text_size",type:"text"},description_shadow_enable:{name:"description_shadow_enable",type:"checkbox"},icon_border_width_hover:{name:"icon_border_width_hover",type:"text"},icon_border_width_selected:{name:"icon_border_width_selected",type:"text"},image_label_icon_height:{name:"image_label_icon_height",type:"text"},image_label_icon_width:{name:"image_label_icon_width",type:"text"}};return{upload_icon_image:upload_icon_image,CheckboxChangeListner:CheckboxChangeListner,remove_icon_image:remove_icon_image,radiobuttonStyle:radiobuttonStyle,TooltipStyle:tooltip_style,change_term_type:change_term_type,
ChangeColorType:change_color_type,ChangeLocalTooltipType:change_local_tooltip_type,ChangeCustomAttributeColorType:change_custom_attribute_colortype,local_attr_radiobutton_style:local_attr_radiobutton_style,show_cross_bg_color:show_cross_bg_color,show_col_width:show_col_width,show_ad_width:show_ad_width,trigger_attribute_tab:trigger_attribute_tab,open_term_body:open_term_body,show_shop_page_settings:show_shop_page_settings,setDesignAccordion:set_design_accordion,change_settings_tab:change_settings_tab,OpenSwatchesForm:open_swatches_form,SwatchTypeChangeListner:swatch_type_change_listener,ChangeBiColorType:change_bicolor_color_type}}(window.jQuery,window,document),thwvs_designs=function($,window,document){"use strict";function add_new_design_form(elm,design_id){open_design_form("new",!1,design_id,elm,!1)}function edit_design_form(elm,design_styles,design_id,des_title){open_design_form("edit",design_styles,design_id,elm,des_title)}function open_design_form(type,valueJson,design_id,elm,des_title){var container=$("#thwvs_design_form_pp"),form=$("#thwvs_design_form");populate_design_form(form,type,valueJson,container,des_title),form.find("input[name=thwvs_design_id]").val(design_id),open_design_popup(elm,valueJson,design_id)}function populate_design_form(form,type,valueJson,container,des_title){var title="edit"===type&&des_title?des_title:"New Design Style";container.find(".pp-title").text(title);var design_name="New Design Style"===title?"":title;thwvs_base.set_property_field_value(form,"text","design_name",design_name,0),"new"===type?(form.find(".reset-btn.btn-primary-alt").prop("disabled",!0),form.find(".reset-btn.btn-primary-alt").css("opacity","25%"),set_form_field_values(form,DESIGN_FORM_FIELDS,!1)):(form.find(".reset-btn.btn-primary-alt").prop("disabled",!1),form.find(".reset-btn.btn-primary-alt").css("opacity","1"),set_form_field_values(form,DESIGN_FORM_FIELDS,valueJson))}function set_form_field_values(form,fields,valuesJson){valuesJson&&valuesJson.name&&valuesJson.name;$.each(fields,function(name,field){var type=field.type,value=valuesJson&&valuesJson[name]?valuesJson[name]:field.value,multiple=field.multiple?field.multiple:0;"radio_button_style"==name&&form.find($("."+value)).addClass("rad-selected").siblings(".rad-selected").removeClass("rad-selected"),"checkbox"===type&&!valuesJson&&field.checked&&(value=field.checked),name=name,thwvs_base.set_property_field_value(form,type,name,value,multiple)}),form.find("select[name=i_attr_selection_style]").change(),form.find("select[name=i_common_selection_style]").change(),form.find("select[name=i_label_selection_style]").change()}function open_design_popup(elm,design_values,design_id){var popup=$("#thwvs_design_form_pp");$(".popup-wrapper").hasClass("dismiss")&&$(".popup-wrapper").removeClass("dismiss").addClass("selected").show(),$(".thwvs-design-templates.thwvs-template-popup").addClass("pop-active"),$(".product_page_th_woocommerce_product_variation_swatches").addClass("thwvs-body-deactive"),$(".thwvs-template-preview-wrapper .thwvs-template-box").removeClass("design-active"),$(elm).closest(".thwvs-template-box").addClass("design-active"),popup.find("ul.pp_nav_tabs li").first().click()}function close_design_popup(){if($(".popup-wrapper").hasClass("selected")){$(".popup-wrapper").removeClass("selected").addClass("dismiss");$("#thwvs_design_form_container").css("display","none")}$(".thwvs-design-templates.thwvs-template-popup").removeClass("pop-active"),$(".product_page_th_woocommerce_product_variation_swatches").removeClass("thwvs-body-deactive"),$(".thwvs-template-preview-wrapper .thwvs-template-box").removeClass("design-active")}function show_scaling(elm){var style=$(elm).val(),scale_div=$(".enlage_scale");"enlarge"==style?scale_div.show():scale_div.hide()}function show_check_styles(elm){var sel_type=$(elm).val(),tick_style=$(".tick_prop");"border_with_tick"==sel_type?tick_style.show():tick_style.hide()}function label_selection_syles(elm){var sel_lab_type=$(elm).val(),lab_back_elm=$(".label_background_prop"),lab_tick_elm=$(".label_tick_prop");"border_with_tick"==sel_lab_type?(lab_back_elm.hide(),lab_tick_elm.show()):"background_color"==sel_lab_type?(lab_tick_elm.hide(),lab_back_elm.show()):(lab_tick_elm.hide(),lab_back_elm.hide())}function remove_design(elm,design){if(confirm("Are you sure you want to delete "+design+"?.")){var form=$(elm).closest("form");form&&form.submit()}}var DESIGN_FORM_FIELDS={icon_height:{name:"icon_height",type:"text",value:"45px"},icon_width:{name:"icon_height",type:"text",value:"45px"},icon_roundness:{name:"icon_roundness",type:"text",value:"0px"},icon_border_color:{name:"icon_border_color",type:"colorpicker",value:"#e2dbdb"},enable_swatch_dropdown:{name:"enable_swatch_dropdown",type:"normal_radio",value:"none"},label_size:{name:"label_size",type:"text",value:"16px"},label_background_color:{name:"label_background_color",type:"colorpicker",value:"#fff"},radio_inner_color:{name:"radio_inner_color",type:"colorpicker",value:"#eee"},radio_outer_color:{name:"radio_outer_color",type:"colorpicker",value:"#0073aa"},radio_normal_inner_color:{name:"radio_normal_inner_color",type:"colorpicker",value:"#0073aa"},radio_normal_outer_color:{name:"radio_normal_outer_color",type:"colorpicker",value:"#eee"},label_text_color:{name:"abel_text_color",type:"colorpicker",value:"#eee"},radio_button_style:{name:"radio_button_style",type:"hidden",value:"radiobutton_style_1"},image_label_icon_height:{name:"image_label_icon_height",type:"text",value:"45px"},image_label_icon_width:{name:"image_label_icon_width",type:"text",value:"45px"},enable_select2_style:{name:"enable_select2_style",type:"checkbox",value:0},icon_border_color_hover:{name:"icon_border_color_hover",type:"colorpicker",value:"#aaaaaa"},icon_border_color_selected:{name:"icon_border_color_selected",type:"colorpicker",value:"#827d7d"},icon_border_width_hover:{name:"icon_border_width_hover",type:"text",value:"3px"},icon_border_width_selected:{name:"icon_border_width_selected",type:"text",value:"2px"},attr_selection_style:{name:"attr_selection_style",type:"select",value:"border"},enlarge_scale:{name:"enlarge_scale",type:"select",value:"1.1"},common_selection_style:{name:"common_selection_style",type:"select",value:"border"},tick_color:{name:"tick_color",type:"colorpicker",value:"#ffffff"},tick_size:{name:"tick_size",type:"text",value:"15px"},label_selection_style:{name:"label_selection_style",type:"select",value:"border"},label_background_color_hover:{name:"label_background_color_hover",type:"colorpicker",value:"#ffffff"},label_text_color_hover:{name:"label_text_color_hover",type:"colorpicker",value:"#000000"},label_background_color_selection:{name:"label_background_color_selection",type:"colorpicker",value:"#000000"},label_text_color_selection:{name:"label_text_color_selection",type:"colorpicker",value:"#ffffff"},label_tick_color:{name:"label_tick_color",type:"colorpicker",value:"#000000"},label_tick_size:{name:"label_tick_size",type:"text",value:"15px"},tooltip_image_border_color:{name:"tooltip_image_border_color",type:"colorpicker",value:"#000000"},tooltip_image_height:{name:"tooltip_image_height",type:"text",value:"125px"},tooltip_image_width:{name:"tooltip_image_width",type:"text",value:"120px"},tooltip_text_background_color:{name:"tooltip_text_background_color",type:"colorpicker",value:"#000000"},tooltip_text_color:{name:"tooltip_text_color",type:"colorpicker",value:"#ffffff"},tooltip_text_size:{name:"tooltip_text_size",type:"text",value:"16px"},description_text_color:{name:"description_text_color",type:"colorpicker",value:"#000000"},description_background_color:{name:"description_background_color",type:"colorpicker",value:"#ffffff"},description_text_size:{name:"description_text_size",type:"text",value:"16px"},description_shadow_enable:{name:"description_shadow_enable",type:"checkbox",value:0},attr_desc_color:{name:"attr_desc_color",type:"colorpicker",value:"#000"},attr_desc_size:{name:"attr_desc_size",type:"text",value:"16px"},f_icon_height:{name:"f_icon_height",type:"text",value:"50px"},f_icon_width:{name:"f_icon_width",type:"text",value:"50px"},f_font_size:{name:"f_font_size",type:"text",value:"16px"},ad_icon_height:{name:"ad_icon_height",type:"text",value:"40px"},ad_icon_width:{name:"ad_icon_width",type:"text",value:"40px"},shop_icon_height:{name:"shop_icon_height",type:"text",value:"30px"},shop_icon_width:{name:"shop_icon_width",type:"text",value:"30px"},shop_font_size:{name:"shop_font_size",type:"text",value:"14px"}};return{AddNewDesign:add_new_design_form,EditDesignForm:edit_design_form,OpenDesignPopup:open_design_popup,CloseDesignPopup:close_design_popup,show_scaling:show_scaling,remove_design:remove_design,show_check_styles:show_check_styles,label_selection_syles:label_selection_syles}}(window.jQuery,window,document);jQuery(function($){"use strict";function save_new_term($wrapper,$dialog,attribute){var new_attribute_name="",term_spec={};if(new_attribute_name=$dialog.find('input[name = "attribute_name"]').val(),$dialog.find('select[name = "term_color_type"]').length>0?(term_spec.term_color_type=$dialog.find('select[name = "term_color_type"]').val(),term_spec["bicolor_product_"+attribute]=$dialog.find('input[name = "bicolor_type"]').val(),term_spec["product_"+attribute]=$dialog.find('input[name = "attribute_type"]').val()):term_spec["product_"+attribute]=$dialog.find('input[name = "attribute_type"]').val(),new_attribute_name){var ajax_data=_extends({action:"woocommerce_add_new_attribute",taxonomy:attribute,term:new_attribute_name,security:woocommerce_admin_meta_boxes.add_attribute_nonce},term_spec);$.post(woocommerce_admin_meta_boxes.ajax_url,ajax_data,function(response){response.error?window.alert(response.error):response.slug&&($wrapper.find("select.attribute_values").append('<option value="'+response.term_id+'" selected="selected">'+response.name+"</option>"),$wrapper.find("select.attribute_values").change()),$(".product_attributes").unblock()})}else $(".product_attributes").unblock()}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};$(".product_attributes").on("click","button.thwvs_add_new_attribute",function(event){event.preventDefault(),$(".thwvs-class").val("");var placeholder=thwvs_var.placeholder_image;$(".i_index_media_img").attr("src",placeholder),$(".thwvs-admin-colorpickpreview").css("background-color",""),$(".thwvs_remove_image_button").hide();var $wrapper=$(this).closest(".woocommerce_attribute"),attribute=$wrapper.data("taxonomy"),type=($(this).data("attr_taxonomy"),$(this).data("attr_type")),settings_div=$(".thwvs_settings_fields_form");thwvs_base.setupColorPicker(settings_div);var $popup_div=$(".thwvs-attribte-dialog-"+type),height="color"==type?395:250;$popup_div.length>0&&($popup_div.dialog({dialogClass:"wp-dialog thwvs-popup",title:"Add new term",modal:!0,autoOpen:!1,width:500,minHeight:height,buttons:[{text:"save",class:"button_class",closeText:"hide",click:function(){save_new_term($wrapper,$(this),attribute),$(this).dialog("close")}}]}),$(".product_attributes").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),$popup_div.dialog("open"),$(".product_attributes").unblock(),$(".ui-dialog.thwvs-popup").css("z-index",99999999))})});