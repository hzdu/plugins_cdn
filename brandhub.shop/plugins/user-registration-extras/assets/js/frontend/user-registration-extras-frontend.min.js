"use strict";!function(n){n(document).ready(function(){user_registration_extras_frontend_data.has_create_user_capability&&user_registration_extras_frontend_data.is_user_logged_in?n(document).find(".user-registration-modal-link").show():!user_registration_extras_frontend_data.has_create_user_capability&&user_registration_extras_frontend_data.is_user_logged_in&&n(document).find(".user-registration-modal-link").hide()}),n(document).on("hover",".user-registration-modal-link",function(t){n(".user-registration-modal-link").css("cursor","pointer")}),n(document).on("click",".user-registration-modal-link",function(t){t.preventDefault();n.map(n(this)[0].classList,function(t,e){0===t.indexOf("user-registration-modal-link-")&&(t=t.replace("user-registration-modal-link-",""),n(".user-registration-modal-"+t).each(function(){0===n(this).parents(".entry-content").length&&n(this).show()}),n(document.body).addClass("user-registration-modal-open"))})}),n(".ur-frontend-form.login").on("submit",function(){n(this).closest(".user-registration-modal").length?n.map(n(this).closest(".user-registration-modal")[0].classList,function(t,e){var r;0===t.indexOf("user-registration-modal-")&&(r=t.replace("user-registration-modal-",""),(t={}).popup_id=r,n(".user-registration-modal-"+r).closest(".entry-content").length?t.inner_popup=!0:t.inner_popup=!1,localStorage.setItem("ur_extras_popup",JSON.stringify(t)))}):localStorage.removeItem("ur_extras_popup")}),n(".user-registration-modal").ready(function(){n(".entry-content").find(".user-registration-modal").length&&n(document.body).addClass("user-registration-modal-open");var t,e,r=JSON.parse(localStorage.getItem("ur_extras_popup"));r&&r.popup_id&&(t=r.popup_id,e=n(".user-registration-modal-"+t),n(".entry-content").find(".ur-frontend-form.login").length?n(".entry-content").find(".ur-frontend-form.login").each(function(){n(this).closest("body").find(".entry-content .user-registration-error").length&&((!0===r.inner_popup?n(this).closest("body").find(".entry-content"):n(this).closest(".user-registration")).find(".user-registration-error").prependTo(e.find(".user-registration")),n(this).closest("body").find(".user-registration-modal").hide(),e.show())}):n(".user-registration-modal").find(".ur-frontend-form.login").each(function(){n(this).siblings(".user-registration-error").length&&n(this).closest(".user-registration").find(".user-registration-error").prependTo(e.find(".user-registration")),n(this).closest("body").find(".user-registration-modal").hide(),e.show()}),localStorage.removeItem("ur_extras_popup"),n(document.body).addClass("user-registration-modal-open")),n(".user-registration-modal").find(".ur-frontend-form.login").each(function(){var t;0<n(this).find("#ur-recaptcha-node").length&&(t=n(this).closest(".user-registration-modal").attr("class").split(" ")[1].replace("user-registration-modal-",""),n(this).find("#node_recaptcha_login").attr("id","node_recaptcha_login_popup_"+t))})}),n(document).on("click",".user-registration-modal__close-icon, .user-registration-modal__backdrop",function(){n(this).closest(".user-registration-modal").css({display:"none",opacity:"1"}),n(document.body).removeClass("user-registration-modal-open")}),n(document).on("click",".user-registration-MyAccount-navigation-link--delete-account",function(){var o=user_registration_extras_frontend_data.delete_account_option,t='<span class="user-registration-swal2-modal__title">'+user_registration_extras_frontend_data.delete_account_popup_title;return swal.fire({title:t,html:user_registration_extras_frontend_data.delete_account_popup_html,confirmButtonText:user_registration_extras_frontend_data.delete_account_button_text,confirmButtonColor:"#FF4149",showConfirmButton:!0,showCancelButton:!0,cancelButtonText:user_registration_extras_frontend_data.cancel_button_text,customClass:{container:"user-registration-swal2-container"},focusConfirm:!1,showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(t){var e,r="";"prompt_password"===o?(e=Swal.getPopup().querySelector("#password").value)?r={action:"user_registration_extras_delete_account",password:e}:(Swal.showValidationMessage(user_registration_extras_frontend_data.please_enter_password),Swal.hideLoading(),n(".swal2-actions").find("button").prop("disabled",!1)):r={action:"user_registration_extras_delete_account"},""!==r&&n.ajax({url:user_registration_extras_frontend_data.ajax_url,method:"POST",data:r}).done(function(t){t.success?Swal.fire({icon:"success",title:user_registration_extras_frontend_data.account_deleted_message,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center",showConfirmButton:!1,timer:1e3}).then(function(t){window.location.reload()}):(Swal.showValidationMessage(t.data.message),Swal.hideLoading(),n(".swal2-actions").find("button").prop("disabled",!1))})})}}),!1}),n(document).on("click",".ur-reset-button",function(t){t.preventDefault(),Swal.fire({html:user_registration_extras_frontend_data.clear_button_text,icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",allowOutsideClick:!1,showCancelButton:!0,customClass:{container:"user-registration-swal2-container"}}).then(t=>{!0===t.value&&(n(document).trigger("user_registration_frontend_reset_button"),n(".ur-field-item.field-select2 select").val(null).trigger("change"),n(".ur-field-item.field-multi_select2 select").val(null).trigger("change"),n(".ur-frontend-form").find("form.register").validate().resetForm(),n(".user-registration-error").remove(),n(".ur-frontend-form").find("form.register").trigger("reset"))})})}(jQuery);