jQuery(function(K){function L(t){return t.replace(/{{(((\w+-?)*) ((\w+\d*-?)*))}}/gm,'<i class="$1"></i>')}K(window).on("resize",function(){K(window).width()<1440?K("body").addClass("folded"):K("body").removeClass("folded")}),K(".ywctm-back-button").on("click",function(){window.onbeforeunload=""});var M=K("tr.ywctm_selected_icon"),N=K("tr.ywctm_selected_icon_size"),O=K("tr.ywctm_selected_icon_alignment"),Q=K("tr.ywctm_icon_color"),U=K("tr.ywctm_custom_icon"),e=(K(function(){K(window).width()<1440&&K("body").addClass("folded"),K(".ywctm-metabox-tab-button").each(function(){K(this).on("click",function(){var t=K(this).data("tab-name"),t=K(".ywctm-settings-wrapper."+t);t.hasClass("tab-active")||(K(".ywctm-metabox-tab-button").removeClass("tab-active"),K(".ywctm-settings-wrapper").removeClass("tab-active"),K(this).addClass("tab-active"),t.addClass("tab-active"))})});var H=K("span.ywctm-custom-button");K(document).on("tinymce-editor-setup",function(t,e){e.on("init",function(t){t.target.editorCommands.execCommand("fontName",!1,ywctm_btns.editor_font),t.target.editorCommands.execCommand("fontSize",!1,"16px")}),e.on("ExecCommand",function(t){""!==t.target.getContent()&&H.find(".ywctm-inquiry-title").html(L(t.target.getContent()))}),e.on("SetContent",function(t){""!==t.content&&H.find(".ywctm-inquiry-title").html(L(t.content))}),e.on("KeyUp",function(t){H.find(".ywctm-inquiry-title").html(L(t.target.innerHTML))})}),H.css("font-family",ywctm_btns.editor_font),K(".ywctm-metabox-wrapper input, .ywctm-metabox-wrapper select, .ywctm-metabox-wrapper .yit-icons-manager-wrapper, .ywctm-metabox-wrapper .ui-slider-horizontal, .wp-editor-area, .wp-picker-holder").on("change keyup input keydown keypress click mousemove",function(){var t,e,o=K(this),i=H.find(".ywctm-inquiry-title").html(),s="";if(!K(this).hasClass("wp-editor-area")||""===K(this).val()&&-1!==i.indexOf("btn-placeholder")||(i=K(this).val()),""!==o&&"ywctm_icon_type"===o.attr("id"))switch(o.val()){case"icon":Q.show(500),M.show(500),N.show(500),O.show(500),U.hide();break;case"custom":Q.hide(),M.hide(),N.hide(),O.show(500),U.show(500);break;default:Q.hide(),M.hide(),N.hide(),O.hide(),U.hide()}var n=K("#ywctm_default_colors_text").val(),c=K("#ywctm_hover_colors_text").val(),a=K("#ywctm_default_colors_background").val(),r=K("#ywctm_hover_colors_background").val(),d=K("#ywctm_default_colors_borders").val(),l=K("#ywctm_hover_colors_borders").val(),o=K("#ywctm_border_thickness-dimension-top").val(),m=K("#ywctm_border_thickness-dimension-right").val(),w=K("#ywctm_border_thickness-dimension-bottom").val(),_=K("#ywctm_border_thickness-dimension-left").val(),p=K("#ywctm_border_radius-dimension-top-left").val(),u=K("#ywctm_border_radius-dimension-top-right").val(),f=K("#ywctm_border_radius-dimension-bottom-right").val(),h=K("#ywctm_border_radius-dimension-bottom-left").val(),y=K("#ywctm_margin_settings-dimension-top").val(),v=K("#ywctm_margin_settings-dimension-right").val(),b=K("#ywctm_margin_settings-dimension-bottom").val(),g=K("#ywctm_margin_settings-dimension-left").val(),x=K("#ywctm_padding_settings-dimension-top").val(),k=K("#ywctm_padding_settings-dimension-right").val(),C=K("#ywctm_padding_settings-dimension-bottom").val(),q=K("#ywctm_padding_settings-dimension-left").val(),z=K("#ywctm_width_settings_width").val(),S=K("#ywctm_width_settings_unit").val(),j=K("#ywctm_selected_icon").val(),F=K("#ywctm_icon_color_default").val(),D=K("#ywctm_icon_color_hover").val(),R=K("#ywctm_selected_icon_size").val(),T=K("#ywctm_selected_icon_alignment").val(),A=K("#ywctm_custom_icon").val(),E=K("#ywctm_hover_animation").val(),z=""===z?"max-content":z+S;switch(K("#ywctm_icon_type").val()){case"icon":switch((e=j.split(":"))[0]){case"FontAwesome":s="fa fa-"+e[1];break;case"Dashicons":s="dashicons dashicons-"+e[1]}t='<span class="ywctm-icon-form '+s+'"></span>';break;case"custom":t='<span class="custom-icon">'+(""!==A?'<img src="'+A+'" />':"")+"</span>";break;default:t=""}"none"===E?H.removeClass("ywctm-hover-effect").removeClass(function(t,e){return(e.match(/\bywctm-effect-\S+/g)||[]).join(" ")}):(H.removeClass(function(t,e){return(e.match(/\bywctm-effect-\S+/g)||[]).join(" ")}).addClass("ywctm-hover-effect ywctm-effect-"+E),K(":root").css("--hover-bg-color",r).css("--bg-color",a).css("--border-radius",p+"px "+u+"px "+f+"px "+h+"px"),"slide-top"!==E&&"slide-left"!==E||(a=r="transparent")),H.css("color",n).css("background-color",a).css("border-color",d).css("border-top-width",o+"px").css("border-right-width",m+"px").css("border-bottom-width",w+"px").css("border-left-width",_+"px").css("border-top-left-radius",p+"px").css("border-top-right-radius",u+"px").css("border-bottom-right-radius",f+"px").css("border-bottom-left-radius",h+"px").css("margin-top",y+"px").css("margin-right",v+"px").css("margin-bottom",b+"px").css("margin-left",g+"px").css("padding-top",x+"px").css("padding-right",k+"px").css("padding-bottom",C+"px").css("padding-left",q+"px").css("max-width",z).html(t+'<span class="ywctm-inquiry-title">'+L(i)+"</span>").off("mouseenter mouseleave").on("hover",function(){K(this).css("color",c).css("background-color",r).css("border-color",l),K(this).find(".ywctm-icon-form").css("color",D)},function(){K(this).css("color",n).css("background-color",a).css("border-color",d),K(this).find(".ywctm-icon-form").css("color",F)}),H.find(".ywctm-icon-form").css("color",F).css("font-size",R+"px").css("align-self",T),H.find(".custom-icon").css("align-self",T)}).trigger("change"),K(window).on("scroll",function(){var t=K(".ywctm-button-preview");t.offset().top<K(window).scrollTop()+32?t.find("div.sticky").css({position:"fixed",top:"3rem",width:t.width()}):t.find("div.sticky").css({position:"relative",top:"initial",width:"100%"})})}),K("input[name^=ywctm_button_url_type]").on("change",function(){K(this).is(":checked")&&"custom"===K(this).val()?K("#ywctm_button_url").parent().parent().parent().show(500):K("#ywctm_button_url").parent().parent().parent().hide()}).trigger("change"),{after_validation:function(t,e){var o=e.data("message"),i=e;i.next(".validate-error").remove(),"valid"!==t?(e.addClass("invalid"),void 0!==o&&i.after('<span class="validate-error">'+o+"</span>")):e.removeClass("invalid")},validateRequiredField:function(){var t=!K(this).val()||null==K(this).val();e.after_validation(t?"":"valid",K(this))}});K(document).on("focusout validate_field",".yith-plugin-ui input.required",e.validateRequiredField),K(document).on("submit","body.post-type-ywctm-button-label form#post",function(t){var e=K(t.target).find("input,select,textarea");e.trigger("validate_field"),(e=e.filter(".invalid")).length&&(e.first().focus(),K("#publish").removeClass("disabled"),t.preventDefault())})});