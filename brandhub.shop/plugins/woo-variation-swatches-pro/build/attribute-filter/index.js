!function(){var e,t={588:function(e,t,o){"use strict";var r=window.wp.blocks,a=window.wp.element,n=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,i=window.wp.primitives,c=(0,a.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(i.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),u=function({icon:e,size:t=24,...o}){return(0,a.cloneElement)(e,{width:t,height:t,...o})},p=(0,a.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(i.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})),h=o(184),m=o.n(h),w=window.wp.compose;function d(e,t,o){if(!t)return;const r=(Array.isArray(t)?t:t.match(/([^[.\]])+/g)).reduce(((e,t)=>e&&e[t]),e);return void 0===r?o:r}function v({className:e,onChange:t,onKeyDown:o,value:r,label:l,isLoading:i=!1,placeholder:h=(0,n.__)("Search","image-hotspot-blocks"),hideLabelFromVision:d=!0,help:g,onClear:f,..._}){const b=(0,a.useRef)(),E=`storepress-components-search-control-${(0,w.useInstanceId)(v)}`;return(0,a.createElement)(s.BaseControl,{label:l,id:E,__nextHasNoMarginBottom:!0,hideLabelFromVision:d,help:g,className:m()(e,"storepress-components-search-control")},(0,a.createElement)("div",{className:"storepress-components-search-control__input-wrapper"},(0,a.createElement)("input",{..._,ref:b,className:"storepress-components-search-control__input",id:E,type:"search",placeholder:h,onChange:e=>t(e.target.value),onKeyDown:o,autoComplete:"off",value:r||""}),(0,a.createElement)("div",{className:"storepress-components-search-control__icon"},i?(0,a.createElement)(s.Spinner,null):f?(0,a.createElement)(s.Button,{icon:c,label:(0,n.__)("Close search","image-hotspot-blocks"),onClick:()=>{f(),t(""),b.current?.focus()}}):r?(0,a.createElement)(s.Button,{icon:c,label:(0,n.__)("Reset search","image-hotspot-blocks"),onClick:()=>{t(""),b.current?.focus()}}):(0,a.createElement)(u,{icon:p}))))}function g({useKey:e,useValue:t,useMeta:o,selected:r,suggestions:n,isMultiSelect:l,onSelect:s}){const i=(0,w.useInstanceId)(g),c=`storepress-components-search-result-item-${i}`,[u,p]=(0,a.useState)(r),h=e=>{const{value:t,checked:o}=e?.target;var r;l?(r=t,p(o?e=>(e.push(r),[...new Set(e)]):e=>e.filter((e=>e!==r)))):((e,t)=>{p(t?[e]:[])})(t,o)};return(0,a.useLayoutEffect)((()=>{s(u)}),[u]),n.length>0?(0,a.createElement)("div",{className:"storepress-search-list-search-result-wrapper"},(0,a.createElement)("ul",null,n.map(((n,s)=>{const u=d(n,e),p=d(n,t),m=d(n,o),w=`storepress-components-search-result-id-${i}-${s}`;return(0,a.createElement)("li",{key:s,className:"storepress-search-list-search-result-item"},(0,a.createElement)("input",{checked:(v=r,g=u,v.includes(g)||v.includes(g?.toString())),onChange:h,id:w,name:c,value:u,type:l?"checkbox":"radio"}),(0,a.createElement)("label",{htmlFor:w,className:"storepress-search-list-search-result-item__label"},(0,a.createElement)("span",{className:"storepress-search-list-search-result-item__title"},p)),m&&(0,a.createElement)("small",{className:"storepress-search-list-search-result-item__meta"},m));var v,g})))):""}function f({selected:e=[],suggestions:t=[],isLoading:o=!1,isMultiSelect:r=!1,hideSearchBox:l=!1,keyName:s="id",valueName:i="name",metaName:c="",onSearch:u=(e=>{}),onSelect:p=(e=>{}),placeholder:h=(0,n.__)("Search","image-hotspot-blocks"),help:m=""}){const[w,d]=(0,a.useState)("");return(0,a.createElement)("div",{className:"storepress-search-list-wrapper"},!l&&(0,a.createElement)("div",{className:"storepress-search-list-search-control-wrapper"},(0,a.createElement)(v,{isLoading:o,onChange:e=>{d(e),u(e)},value:w,placeholder:h,help:m})),(0,a.createElement)(g,{useKey:s,useValue:i,useMeta:c,selected:e,suggestions:t,onSelect:p,isMultiSelect:r}))}var _=window.wp.serverSideRender,b=o.n(_),E=window.wp.apiFetch,y=o.n(E);window.wp.url;var S=(0,a.createElement)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(i.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),C=JSON.parse('{"u2":"getwooplugins/attribute-filter"}');(0,r.registerBlockType)(C.u2,{edit:function({attributes:e,setAttributes:t}){const{attributeId:o,showCount:r,selectType:i,queryType:c}=e,[u,p]=(0,a.useState)(o<=0),[h,m]=(0,a.useState)(!0),[w,d]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),[_,E]=(0,a.useState)([]),[k,N]=(0,a.useState)("");(0,a.useEffect)((()=>{y()({path:"wc/store/v1/products/attributes"}).then((e=>{if(e&&e.length>0){const t=e.filter((e=>["image","color"].includes(e.type)));d(t)}})).finally((()=>{m(!1)}))}),[]),(0,a.useEffect)((()=>{o>0&&y()({path:`wc/store/products/attributes/${o}/terms`}).then((e=>{e&&e.length>0&&g([...e])}))}),[o]);const x=e=>{t({attributeId:parseInt(e.at(0),10)})},O=()=>{N(""),E([])},B=e=>{const t=w.filter((t=>null!==new RegExp(e,"ium").exec(t?.name)));E(t),N(e)},M=(0,l.useBlockProps)();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.BlockControls,{group:"block"},(0,a.createElement)(s.ToolbarButton,{icon:"edit",label:(0,n.__)("Edit Attribute","woo-variation-swatches-pro"),onClick:()=>{p((e=>!e))},isPressed:u})),(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Disaplay Settings","woo-variation-swatches-pro")},(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Display product count","woo-variation-swatches-pro"),checked:r,onChange:e=>{t({showCount:e})}}),(0,a.createElement)(s.__experimentalToggleGroupControl,{label:(0,n.__)("Allow selecting multiple options?","woo-variation-swatches-pro"),value:i,onChange:e=>{t({selectType:e})},className:"wc-block-attribute-filter__multiple-toggle",isBlock:!0},(0,a.createElement)(s.__experimentalToggleGroupControlOption,{value:"multiple",label:(0,n.__)("Multiple","woo-variation-swatches-pro")}),(0,a.createElement)(s.__experimentalToggleGroupControlOption,{value:"single",label:(0,n.__)("Single","woo-variation-swatches-pro")})),"multiple"===i&&(0,a.createElement)(s.__experimentalToggleGroupControl,{label:(0,n.__)("Filter Conditions","woo-variation-swatches-pro"),help:"and"===c?(0,n.__)("Choose to return filter results for all of the attributes selected.","woo-variation-swatches-pro"):(0,n.__)("Choose to return filter results for any of the attributes selected.","woo-variation-swatches-pro"),value:c,onChange:e=>{t({queryType:e})},className:"wc-block-attribute-filter__conditions-toggle",isBlock:!0},(0,a.createElement)(s.__experimentalToggleGroupControlOption,{value:"and",label:(0,n.__)("All","woo-variation-swatches-pro")}),(0,a.createElement)(s.__experimentalToggleGroupControlOption,{value:"or",label:(0,n.__)("Any","woo-variation-swatches-pro")}))),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Content Settings","woo-variation-swatches-pro"),initialOpen:!1},(0,a.createElement)(f,{valueName:"name",selected:[o],suggestions:k.length>0?_:w,onClear:O,onSearch:B,onSelect:x,isLoading:h}))),(0,a.createElement)("div",{...M},u&&(0,a.createElement)(s.Placeholder,{className:"wc-block-attribute-filter",icon:S,label:(0,n.__)("Variation Swatches: Filter by Attribute","woo-variation-swatches-pro")},(0,a.createElement)("div",{className:"wc-block-attribute-filter__instructions"},(0,n.__)("Display a list of filters based on the selected attributes type (Color or Image).","woo-variation-swatches-pro")),(0,a.createElement)("div",{className:"wc-block-attribute-filter__selection"},(0,a.createElement)(f,{valueName:"name",selected:[o],suggestions:k.length>0?_:w,onClear:O,onSearch:B,onSelect:x,isLoading:h}),(0,a.createElement)(s.Button,{isPrimary:!0,className:"storepress-search-list-button",onClick:()=>{p(!1)}},(0,n.__)("Done","woo-variation-swatches-pro")))),v.length>0&&!u&&(0,a.createElement)(s.Disabled,null,(0,a.createElement)(b(),{attributes:e,block:C.u2}))))},save:()=>null})},184:function(e,t){var o;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var l=a.apply(null,o);l&&e.push(l)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var s in o)r.call(o,s)&&o[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=function(t,o,a,n){if(!o){var l=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],n=e[u][2];for(var s=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={251:0,202:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,l=o[0],s=o[1],i=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(i)var u=i(r)}for(t&&t(o);c<l.length;c++)n=l[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},o=self.webpackChunkwoo_variation_swatches_pro=self.webpackChunkwoo_variation_swatches_pro||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var a=r.O(void 0,[202],(function(){return r(588)}));a=r.O(a)}();