(()=>{var e,t={418:(e,t,a)=>{"use strict";const o=window.wp.blocks,r=window.React,n=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,i=window.wp.element,c=window.wp.primitives,u=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(c.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),p=(0,i.forwardRef)((function({icon:e,size:t=24,...a},o){return(0,i.cloneElement)(e,{width:t,height:t,...a,ref:o})})),m=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(c.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}));var h=a(942),w=a.n(h);const d=window.wp.compose;function v(e,t,a){if(!t)return;const o=(Array.isArray(t)?t:t.match(/([^[.\]])+/g)).reduce(((e,t)=>e&&e[t]),e);return void 0===o?a:o}function g({className:e,onChange:t,onKeyDown:a,value:o,label:l,isLoading:c=!1,placeholder:h=(0,n.__)("Search","image-hotspot-blocks"),hideLabelFromVision:v=!0,help:_,onClear:f,...b}){const E=(0,i.useRef)(),y=`storepress-components-search-control-${(0,d.useInstanceId)(g)}`;return(0,r.createElement)(s.BaseControl,{label:l,id:y,__nextHasNoMarginBottom:!0,hideLabelFromVision:v,help:_,className:w()(e,"storepress-components-search-control")},(0,r.createElement)("div",{className:"storepress-components-search-control__input-wrapper"},(0,r.createElement)("input",{...b,ref:E,className:"storepress-components-search-control__input",id:y,type:"search",placeholder:h,onChange:e=>t(e.target.value),onKeyDown:a,autoComplete:"off",value:o||""}),(0,r.createElement)("div",{className:"storepress-components-search-control__icon"},c?(0,r.createElement)(s.Spinner,null):f?(0,r.createElement)(s.Button,{icon:u,label:(0,n.__)("Close search","image-hotspot-blocks"),onClick:()=>{f(),t(""),E.current?.focus()}}):o?(0,r.createElement)(s.Button,{icon:u,label:(0,n.__)("Reset search","image-hotspot-blocks"),onClick:()=>{t(""),E.current?.focus()}}):(0,r.createElement)(p,{icon:m}))))}function _({useKey:e,useValue:t,useMeta:a,selected:o,suggestions:n,isMultiSelect:l,onSelect:s}){const c=(0,d.useInstanceId)(_),u=`storepress-components-search-result-item-${c}`,[p,m]=(0,i.useState)(o),h=e=>{const{value:t,checked:a}=e?.target;var o;l?(o=t,m(a?e=>(e.push(o),[...new Set(e)]):e=>e.filter((e=>e!==o)))):((e,t)=>{m(t?[e]:[])})(t,a)};return(0,i.useLayoutEffect)((()=>{s(p)}),[p]),n.length>0?(0,r.createElement)("div",{className:"storepress-search-list-search-result-wrapper"},(0,r.createElement)("ul",null,n.map(((n,s)=>{const i=v(n,e),p=v(n,t),m=v(n,a),w=`storepress-components-search-result-id-${c}-${s}`;return(0,r.createElement)("li",{key:s,className:"storepress-search-list-search-result-item"},(0,r.createElement)("input",{checked:(d=o,g=i,d.includes(g)||d.includes(g?.toString())),onChange:h,id:w,name:u,value:i,type:l?"checkbox":"radio"}),(0,r.createElement)("label",{htmlFor:w,className:"storepress-search-list-search-result-item__label"},(0,r.createElement)("span",{className:"storepress-search-list-search-result-item__title"},p)),m&&(0,r.createElement)("small",{className:"storepress-search-list-search-result-item__meta"},m));var d,g})))):""}function f({selected:e=[],suggestions:t=[],isLoading:a=!1,isMultiSelect:o=!1,hideSearchBox:l=!1,keyName:s="id",valueName:c="name",metaName:u="",onSearch:p=(e=>{}),onSelect:m=(e=>{}),placeholder:h=(0,n.__)("Search","image-hotspot-blocks"),help:w=""}){const[d,v]=(0,i.useState)("");return(0,r.createElement)("div",{className:"storepress-search-list-wrapper"},!l&&(0,r.createElement)("div",{className:"storepress-search-list-search-control-wrapper"},(0,r.createElement)(g,{isLoading:a,onChange:e=>{v(e),p(e)},value:d,placeholder:h,help:w})),(0,r.createElement)(_,{useKey:s,useValue:c,useMeta:u,selected:e,suggestions:t,onSelect:m,isMultiSelect:o}))}const b=window.wp.serverSideRender;var E=a.n(b);const y=window.wp.apiFetch;var S=a.n(y);window.wp.url;const C=(0,r.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(c.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),k=JSON.parse('{"UU":"getwooplugins/attribute-filter"}');(0,o.registerBlockType)(k.UU,{edit:function({attributes:e,setAttributes:t}){const{attributeId:a,showCount:o,selectType:c,queryType:u}=e,[p,m]=(0,i.useState)(a<=0),[h,w]=(0,i.useState)(!0),[d,v]=(0,i.useState)([]),[g,_]=(0,i.useState)([]),[b,y]=(0,i.useState)([]),[N,x]=(0,i.useState)("");(0,i.useEffect)((()=>{S()({path:"wc/store/v1/products/attributes"}).then((e=>{if(e&&e.length>0){const t=e.filter((e=>["image","color"].includes(e.type)));v(t)}})).finally((()=>{w(!1)}))}),[]),(0,i.useEffect)((()=>{a>0&&S()({path:`wc/store/products/attributes/${a}/terms`}).then((e=>{e&&e.length>0&&_([...e])}))}),[a]);const O=e=>{t({attributeId:parseInt(e.at(0),10)})},B=()=>{x(""),y([])},M=e=>{const t=d.filter((t=>null!==new RegExp(e,"ium").exec(t?.name)));y(t),x(e)},T=(0,l.useBlockProps)();return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.BlockControls,{group:"block"},(0,r.createElement)(s.ToolbarButton,{icon:"edit",label:(0,n.__)("Edit Attribute","woo-variation-swatches-pro"),onClick:()=>{m((e=>!e))},isPressed:p})),(0,r.createElement)(l.InspectorControls,null,(0,r.createElement)(s.PanelBody,{title:(0,n.__)("Disaplay Settings","woo-variation-swatches-pro")},(0,r.createElement)(s.ToggleControl,{label:(0,n.__)("Display product count","woo-variation-swatches-pro"),checked:o,onChange:e=>{t({showCount:e})}}),(0,r.createElement)(s.__experimentalToggleGroupControl,{label:(0,n.__)("Allow selecting multiple options?","woo-variation-swatches-pro"),value:c,onChange:e=>{t({selectType:e})},className:"wc-block-attribute-filter__multiple-toggle",isBlock:!0},(0,r.createElement)(s.__experimentalToggleGroupControlOption,{value:"multiple",label:(0,n.__)("Multiple","woo-variation-swatches-pro")}),(0,r.createElement)(s.__experimentalToggleGroupControlOption,{value:"single",label:(0,n.__)("Single","woo-variation-swatches-pro")})),"multiple"===c&&(0,r.createElement)(s.__experimentalToggleGroupControl,{label:(0,n.__)("Filter Conditions","woo-variation-swatches-pro"),help:"and"===u?(0,n.__)("Choose to return filter results for all of the attributes selected.","woo-variation-swatches-pro"):(0,n.__)("Choose to return filter results for any of the attributes selected.","woo-variation-swatches-pro"),value:u,onChange:e=>{t({queryType:e})},className:"wc-block-attribute-filter__conditions-toggle",isBlock:!0},(0,r.createElement)(s.__experimentalToggleGroupControlOption,{value:"and",label:(0,n.__)("All","woo-variation-swatches-pro")}),(0,r.createElement)(s.__experimentalToggleGroupControlOption,{value:"or",label:(0,n.__)("Any","woo-variation-swatches-pro")}))),(0,r.createElement)(s.PanelBody,{title:(0,n.__)("Content Settings","woo-variation-swatches-pro"),initialOpen:!1},(0,r.createElement)(f,{valueName:"name",selected:[a],suggestions:N.length>0?b:d,onClear:B,onSearch:M,onSelect:O,isLoading:h}))),(0,r.createElement)("div",{...T},p&&(0,r.createElement)(s.Placeholder,{className:"wc-block-attribute-filter",icon:C,label:(0,n.__)("Variation Swatches: Filter by Attribute","woo-variation-swatches-pro")},(0,r.createElement)("div",{className:"wc-block-attribute-filter__instructions"},(0,n.__)("Display a list of filters based on the selected attributes type (Color or Image).","woo-variation-swatches-pro")),(0,r.createElement)("div",{className:"wc-block-attribute-filter__selection"},(0,r.createElement)(f,{valueName:"name",selected:[a],suggestions:N.length>0?b:d,onClear:B,onSearch:M,onSelect:O,isLoading:h}),(0,r.createElement)(s.Button,{isPrimary:!0,className:"storepress-search-list-button",onClick:()=>{m(!1)}},(0,n.__)("Done","woo-variation-swatches-pro")))),g.length>0&&!p&&(0,r.createElement)(s.Disabled,null,(0,r.createElement)(E(),{attributes:e,block:k.UU}))))},save:()=>null})},942:(e,t)=>{var a;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=l(e,n(a)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)o.call(e,a)&&e[a]&&(t=l(t,a));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}},a={};function o(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,a,r,n)=>{if(!a){var l=1/0;for(u=0;u<e.length;u++){for(var[a,r,n]=e[u],s=!0,i=0;i<a.length;i++)(!1&n||l>=n)&&Object.keys(o.O).every((e=>o.O[e](a[i])))?a.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,r,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={73:0,189:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[l,s,i]=a,c=0;if(l.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(i)var u=i(o)}for(t&&t(a);c<l.length;c++)n=l[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=globalThis.webpackChunkwoo_variation_swatches_pro=globalThis.webpackChunkwoo_variation_swatches_pro||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=o.O(void 0,[189],(()=>o(418)));r=o.O(r)})();