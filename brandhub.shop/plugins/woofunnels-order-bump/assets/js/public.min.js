"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){window.wfob_storage={variation_data:{}},wfob_frontend.call_backs={},wfob_frontend.hooks={hooks:{action:{},filter:{}},addAction:function(t,o,a,e){this.addHook("action",t,o,a,e)},addFilter:function(t,o,a,e){this.addHook("filter",t,o,a,e)},doAction:function(t){this.doHook("action",t,arguments)},applyFilters:function(t){return this.doHook("filter",t,arguments)},removeAction:function(t,o){this.removeHook("action",t,o)},removeFilter:function(t,o,a){this.removeHook("filter",t,o,a)},addHook:function(t,o,a,e,n){void 0==this.hooks[t][o]&&(this.hooks[t][o]=[]);var i=this.hooks[t][o];void 0==n&&(n=o+"_"+i.length),void 0==e&&(e=10),this.hooks[t][o].push({tag:n,callable:a,priority:e})},doHook:function(t,o,a){if(a=Array.prototype.slice.call(a,1),void 0!=this.hooks[t][o]){var e,n=this.hooks[t][o];n.sort(function(t,o){return t.priority-o.priority});for(var i=0;i<n.length;i++)"function"!=typeof(e=n[i].callable)&&(e=window[e]),"action"==t?e.apply(null,a):a[0]=e.apply(null,a)}if("filter"==t)return a[0]},removeHook:function(t,o,a,e){if(void 0!=this.hooks[t][o])for(var n=this.hooks[t][o],i=n.length-1;i>=0;i--)void 0!=e&&e!=n[i].tag||void 0!=a&&a!=n[i].priority||n.splice(i,1)}},t(document.body).on("updated_checkout",function(t,o){if("object"==_typeof(o)&&o.hasOwnProperty("fragments")&&o.fragments.hasOwnProperty("wfob_ajax_data")){var a=o.fragments.wfob_ajax_data.action,e=o.fragments.wfob_ajax_data,n=o.fragments;wfob_frontend.hooks.doAction("wfob_ajax_response",e,n),wfob_frontend.hooks.doAction("wfob_ajax_"+a,e,n);var i=o.fragments.wfob_ajax_data.callback_id;""!==i&&wfob_frontend.call_backs.hasOwnProperty(i)&&"function"==typeof wfob_frontend.call_backs[i]&&wfob_frontend.call_backs[i](o.fragments.wfob_ajax_data,o.fragments)}});var o,a="1"==wfob_frontend.cart_is_virtual,e=0===parseFloat(wfob_frontend.cart_total),n=window.innerWidth,i=t("form.checkout"),r={message:null,overlayCSS:{background:"#fff",opacity:.6}};function _(){if(t(".wfob_qv-main table.variations").length>0){var o=t(".wfob_qv-main .wfob_qv-images").innerHeight();t(".wfob_qv-main").animate({scrollTop:o})}t("form.variations_form.cart .variations").removeClass("wfacp_animate_shake"),setTimeout(function(){t("form.variations_form.cart .variations").addClass("wfacp_animate_shake")},500)}function f(o){t(document.body).trigger("wfob_bump_trigger",o)}window.set_data=function(o,a){if("function"==typeof a){var e=(new Date).getTime();o.callback_id=e,wfob_frontend.call_backs[e]=a}wfob_frontend.hooks.doAction("wfob_before_ajax_"+o.action,o.data),o=wfob_frontend.hooks.applyFilters("wfob_before_ajax_data_"+o.action,o),wfob_frontend.hooks.applyFilters("wfob_run_update_order_review_"+o.action,!0,o)?("object"==_typeof(o)&&(o=JSON.stringify(o)),t("#wfob_input_hidden_data").val(o),setTimeout(function(){t(document.body).addClass("wfob_bump_trigger"),t(document.body).trigger("update_checkout")},100)):wfob_frontend.hooks.doAction("wfob_run_update_order_review_placeholder_"+o.action,o)},window.wfob_send_ajax=function(o,a){var e=wfob_frontend.admin_ajax;o.hasOwnProperty("url")&&(e=o.url),o.action="wfob_"+o.action,wfob_frontend.hasOwnProperty("wc_endpoints")&&wfob_frontend.wc_endpoints.hasOwnProperty(o.action)&&(e=wfob_frontend.wc_endpoints[o.action]),o.wfob_nonce=wfob_frontend.wfob_nonce,t.ajax({url:e,type:o.type,data:o,success:function(t){"function"==typeof a&&a(t),"object"==_typeof(t)&&t.hasOwnProperty("nonce")&&(wfob_frontend.wfob_nonce=t.nonce)}})},wfob_frontend.hooks.addAction("wfob_ajax_add_order_bump",function(o,a){!0===o.status&&void 0!=o.new_item&&""!=o.new_item&&setTimeout(function(){t(document.body).trigger("wfob_product_added",{item:o.cart_item,item_key:o.wfob_product_key,cart_key:o.new_item})},300),o.hasOwnProperty("analytics_data")&&t(document.body).trigger("wfob_checkout_data",{checkout:o.analytics_data})}),wfob_frontend.hooks.addAction("wfob_ajax_remove_order_bump",function(o,a){!0===o.status&&void 0!=o.remove_item&&""!=o.remove_item&&setTimeout(function(){t(document.body).trigger("wfob_product_removed",{item:o.cart_item,item_key:o.wfob_product_key,cart_key:o.remove_item})},300),o.hasOwnProperty("analytics_data")&&t(document.body).trigger("wfob_checkout_data",{checkout:o.analytics_data})}),window.numincreaseItmQty=function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e=t(o).siblings(".wfob_quantity_increment"),n=parseInt(e.val(),10);n=isNaN(n)?0:n,n++,e.val(n),e.trigger("change",[a])},window.numdecreaseItmQty=function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=t(o).siblings(".wfob_quantity_increment"),e=parseInt(a.val(),10);(e=isNaN(e)?0:e)<1&&(e=1),e--,a.val(e),a.trigger("change")},t(document).on("click",".wfob_read_more_link",function(o){o.preventDefault();var a=t(this).parents(".wfob_l3_wrap"),e=a.find(".wfob_l3_s_desc"),n=a.find(".wfob_l3_s_data .wfob_l3_c_sub_desc_choose_option");e.slideToggle(),n.length>0&&(n.is(":visible")?n.slideUp():n.slideDown())}),t(document).on("click",".wfob_l3_f_btn",function(o){o.preventDefault();var a=t(this).parents(".wfob_bump_r_outer_wrap");if(t(this).hasClass("wfob_choose_variation")){var e=a.find(".wfob_qv-button");if(e.length>0)return void e.trigger("click")}var n=a.data("wfob-id");n=parseInt(n);var i=a.data("product-key"),_=a.attr("cart_key"),f=1,c="";if(t(this).hasClass("wfob_item_present"))c="remove_order_bump";else{c="add_order_bump",_="";var d=a.find(".wfob_quantity_increment");d.length>0&&(f=d.eq(0).val())}t(this).closest(".wfacp_below_mini_cart_items").length>0&&t(".wfacp_mini_cart_start_h").addClass("wfob_mini_cart_container"),a.block(r),a.find(".wfob_l3_f_btn").length>0&&a.addClass("wfacp_bump_clicked"),set_data({action:c,type:"post",product_key:i,wfob_id:n,cart_key:_,qty:f})}),t(document).on("change",".wfob_quantity_increment",function(){var o=t(this).val(),a=t(this).parents(".wfob_bump"),e=a.data("wfob-id");e=parseInt(e);var n=a.data("product-key"),i=a.attr("cart_key");if(""==i||void 0==i)return a.find(".wfob_btn_add").length>0?void a.find(".wfob_btn_add").trigger("click"):void a.find(".wfob_checkbox").trigger("click");a.block(r),set_data({action:"update_quantity",type:"post",product_key:n,qty:o,wfob_id:e,cart_key:i})}),t(document).on("change",".wfob_bump_product",function(){var o=t(this).parents(".wfob_bump"),a=o.data("wfob-id");a=parseInt(a);var e=o.data("product-key"),n=o.attr("cart_key"),i=1,_="remove_order_bump";if(t(this).is(":checked")){_="add_order_bump",n="";var f=o.find(".wfob_quantity_increment");f.length>0&&(i=f.eq(0).val())}t(".wfacp_below_mini_cart_items .wfob_wrap_start").length>0&&t(".wfacp_mini_cart_start_h").addClass("wfob_mini_cart_container"),o.block(r),set_data({action:_,type:"post",product_key:e,wfob_id:a,cart_key:n,qty:i})}),t(document).ready(function(){function o(){var o=t(".variations_form");o.on("hide_variation",function(o){t(".wfob_qv-summary .quantity").hide(),t(".wfob_option_btn").show(),t(this).find(".wfob_single_add_to_cart_button").text(wfob_frontend.quick_popup.choose_an_option),t("#wfob_qr_model_wrap .wfob_option_btn").click(function(){_()})}),o.on("show_variation",function(o,a){var e=a.variation_id;wfob_storage.variation_data[e]=a;var n="";n=""==t("#wfob_qr_model_wrap").data("cart-key")?wfob_frontend.quick_popup.add_to_cart_text:wfob_frontend.quick_popup.update,t(this).find(".wfob_single_add_to_cart_button").text(n),t(".wfob_qv-summary .quantity").show(),t(".wfob_option_btn").hide()})}function a(o,a){t(".wfob_qv-inner-modal").css("opacity","0").addClass(a)}function e(e,i){!function(a,e,i,r){a.action="quick_view_ajax",a.type="post",wfob_send_ajax(a,function(f){if(1==f.status){t(".wfob_qv-modal").html(f.html),e(i,r),t(".wfob_qv-pl-active").removeClass("wfob_qv-pl-active"),wc_single_product_params.flexslider_enabled=!0,wc_single_product_params.photoswipe_enabled=!0,wc_single_product_params.zoom_enabled=!0,t(".woocommerce-product-gallery").each(function(){t(this).wc_product_gallery()}),t(".wfob_qv-panel").find(".variations_form").wc_variation_form(),t(".wfob_qv-panel .variations_form select").change(),a.hasOwnProperty("variation_id")&&function(o,a){if(!window.wfob_storage.variation_data.hasOwnProperty(o))return!1;var e=window.wfob_storage.variation_data[o];if(0===Object.keys(e).length)return!1;var n=e.attributes;if(0===Object.keys(n).length)return!1;for(var i in n){var r=t('[data-attribute_name="'+i+'"]');if(r.length>0){var _=n[i];r.val(_)}}}(a.variation_id,a.item_key),o(),n<600&&setTimeout(function(){_()},200);var c=t('.wfob_bump[data-product-key="'+a.item_key+'"]');if(t(document.body).trigger("wfob_quick_view_open",{data:f}),0===c.length)return;var d=t(".wfob_qv-summary .price");if(d.length>0){var s=c.find(".wfob_price").html();d.html(s)}}else t(".wfob_qv-close").trigger("click")})}(e,a,null,"wfob_qv-animation-fadein")}function i(o){t.each(o.target.classList,function(a,e){"wfob_qv-close"!==e&&"wfob_qv-inner-modal"!==e||(o.preventDefault(),t(".wfob_qv-opac").hide(),t(".wfob_qv-panel").removeClass("wfob_qv-panel-active"),t(".wfob_qv-modal").html(""))})}function f(o){var a=t(".wfob_qv-summary .variation_id").val();a>0&&o.attr("variation_id",a);var e=function(o){if(!window.wfob_storage.variation_data.hasOwnProperty(o))return{};var a=window.wfob_storage.variation_data[o];if(0===Object.keys(a).length)return{};var e=a.attributes;if(0===Object.keys(e).length)return{};var n={};for(var i in e){var r=t('[data-attribute_name="'+i+'"]');r.length>0&&(n[i]=r.val(),window.wfob_storage.variation_data[o].attributes[i]=r.val())}return n}(a),n=o.attr("cart_key"),i=o.data("wfob-id"),_=o.data("product-key"),f=1,c=o.find(".wfob_quantity_increment");c.length>0&&(f=c.eq(0).val()),o.find(".wfob_l3_f_btn").length>0&&o.addClass("wfacp_bump_clicked"),o.block(r);var d={action:"add_order_bump",type:"post",remove_item_key:n,product_key:_,variation_id:a,attributes:e,wfob_id:i,qty:f},s=jQuery(".wfob_qv-summary form.cart").serializeArray();s.length>0&&(t.each(s,function(t,o){if(/^addon-/.test(o.name))if(/\[\]$/.test(o.name)){var a=o.name.substring(0,o.name.length-2);d[a]?d[a].push(o.value):d[a]=[o.value]}else d[o.name]=o.value;else/^bwf_plan_/.test(o.name)&&(d[o.name]=o.value)}),d.bwf_payments_plan="yes"),console.log("data",d),set_data(d)}t(".wfob_qv-panel").on("click",".wfob_qv-close",i),t(document.body).on("click",".wfob_qv-inner-modal",i),t(document).keyup(function(o){27===o.keyCode&&t(".wfob_qv-close").trigger("click")}),t(document.body).on("click",".wfob_qv-button",function(t){t.preventDefault(),d(this)}),t(document).on("click",".wfob_single_add_to_cart_button",function(){var o=t(".wfob_qv-inner-modal"),a=o.data("item-key"),e=o.data("cart-key"),n=!1;if((t(".wfob_qv-summary .variations_form").length>0||t(".bwf_plans_option_list").length>0)&&(n=!0),void 0!==e&&""!==e){var i=t('.wfob_bump[cart_key="'+e+'"]');i.length>0&&(!0===n&&f(i),t(".wfob_qv-close").trigger("click"))}else if(void 0!==a&&""!==a){var r=t('.wfob_bump[data-product-key="'+a+'"]');r.length>0&&(!0===n&&f(r),t(".wfob_qv-close").trigger("click"))}}),t(document).on("change",".wfob_choose_variation",function(){var o=t(this).parents(".wfob_bump").find(".wfob_qv-button");o.length>0&&d(o[0]),t(this).prop("checked",!1)});var c=null;function d(o){var a=this;clearTimeout(c),c=setTimeout(function(o){var n=t(o).parents(".wfob_bump");t(".wfob_qv-opac").show();var i=t(".wfob_qv-panel");i.addClass("wfob_qv-panel-active"),i.find(".wfob_qv-opl").addClass("wfob_qv-pl-active");var r=t(o).attr("qv-id"),_={};n.length>0&&(_.item_key=n.data("product-key"),_.cart_key=n.attr("cart_key")),_.wfob_id=n.data("wfob-id"),_.wfob_nonce=wfob_frontend.wfob_nonce,_.product_id=r;var f=t(a).attr("qv-var-id");void 0!=f&&(_.variation_id=f),e(_)},300,o)}}),t(document.body).on("updated_checkout",function(o,n){var i=t("#product_switcher_need_refresh");i.length>0&&i.val(1),t("#wfob_input_hidden_data").val("{}"),t(".wfob_bump_wrapper .wfob_bump").unblock(),"object"==_typeof(n)&&function(o){if(!o.hasOwnProperty("fragments"))return o;var n=o.fragments;t(".woocommerce-checkout-payment, .woocommerce-checkout-review-order-table").unblock(),t(document.body).removeClass("wfob_bump_trigger"),a!==n.cart_is_virtual&&wfob_frontend.hooks.applyFilters("wfob_reload_page_cart_virtual_changed",!0,o)&&("undefined"!=typeof wfob_frontend&&""===wfob_frontend.is_global||(a=n.cart_is_virtual));var i=t("#shipping_same_as_billing_field");i.length>0&&(1==n.cart_is_virtual?i.hide():0==n.cart_is_virtual&&i.show()),!0!==n.cart_is_empty&&(n.hasOwnProperty("cart_total")&&0==parseFloat(n.cart_total)?(e=!0,f(o)):e?(e=!1,f(o)):n.hasOwnProperty(".cart_total")&&0===parseFloat(n[".cart_total"])&&(t(document.body).trigger("wfob_cart_goes_empty",{cart_total:parseFloat(n.cart_total)}),f(o)))}(n)}),o=!1,i.on("click",'input[name="payment_method"]',function(){"woo-mercado-pago-custom"===t(this).val()&&"object"==("undefined"==typeof MPv1?"undefined":_typeof(MPv1))&&1==o&&(MPv1.guessingPaymentMethod({event:"keyup"}),o=!1)}),t(document.body).on("wfob_cart_goes_empty",function(){e=!0}),t(document.body).on("wfacp_cart_goes_empty",function(){e=!0})}(jQuery);