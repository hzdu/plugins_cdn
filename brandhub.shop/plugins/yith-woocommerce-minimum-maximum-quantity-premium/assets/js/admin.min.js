jQuery(function(_){_(".ywmmq-rules #doaction, .ywmmq-rules #doaction2, .ywmmq-rules #search-submit, .ywmmq-rules .pagination-links, .ywmmq-rules .yith-add-button, .ywmmq-rules .yith-update-button, .ywmmq-rules .yith-save-button").on("click",function(){window.onbeforeunload=null});var i=_("tr.ajax-products.product_ids"),t=_("tr.ajax-terms.category_ids"),e=_("tr.ajax-terms.tag_ids"),m=_("tr._value_limit_override"),r=_("tr._exclusion span.description");function a(){var i=_("#_ywmmq_product_quantity_limit_variations_override"),t=_("#_ywmmq_product_quantity_limit_override").is(":checked"),e=0<i.length&&i.is(":checked");t?(i.prop("disabled",!1),e||(_("#_ywmmq_product_minimum_quantity").prop("disabled",!1),_("#_ywmmq_product_maximum_quantity").prop("disabled",!1),_("#_ywmmq_product_step_quantity").prop("disabled",!1))):(i.prop("disabled",!0),_("#_ywmmq_product_minimum_quantity").prop("disabled",!0),_("#_ywmmq_product_maximum_quantity").prop("disabled",!0),_("#_ywmmq_product_step_quantity").prop("disabled",!0))}_("#item_type").on("change",function(){switch(_(this).val()){case"category":i.hide(),t.show(500),e.hide(),m.show(500),r.find("span").hide(),r.find("span.category").show();break;case"tag":i.hide(),t.hide(),e.show(500),m.show(500),r.find("span").hide(),r.find("span.tag").show();break;default:i.show(500),t.hide(),e.hide(),m.hide(),r.find("span").hide(),r.find("span.product").show(),_(".ywmmq-table #_value_limit_override").prop("checked",!1).val("no").removeClass("onoffchecked").trigger("change")}}).trigger("change"),_(".ywmmq-table #_exclusion").on("change",function(){_(this).is(":checked")?(_("tr._quantity_limit_override").hide(),_("tr._minimum_quantity").hide(),_("tr._maximum_quantity").hide(),_("tr._step_quantity").hide(),_("tr._value_limit_override").hide(),_("tr._minimum_value").hide(),_("tr._maximum_value").hide()):(_("tr._quantity_limit_override").show(500),"product"!==_("#item_type").val()&&_("tr._value_limit_override").show(500),_(".ywmmq-table #_quantity_limit_override").trigger("change"),_(".ywmmq-table #_value_limit_override").trigger("change"))}).trigger("change"),_(".ywmmq-table #_quantity_limit_override").on("change",function(){_(this).is(":checked")?(_("tr._minimum_quantity").show(500),_("tr._maximum_quantity").show(500),_("tr._step_quantity").show(500)):(_("tr._minimum_quantity").hide(),_("tr._maximum_quantity").hide(),_("tr._step_quantity").hide())}).trigger("change"),_(".ywmmq-table #_value_limit_override").on("change",function(){_(this).is(":checked")?(_("tr._minimum_value").show(500),_("tr._maximum_value").show(500)):(_("tr._minimum_value").hide(),_("tr._maximum_value").hide())}).trigger("change"),_("#_ywmmq_product_exclusion").on("change",function(){_(this).is(":checked")?(_("#_ywmmq_product_quantity_limit_override").prop("disabled",!0),_("#_ywmmq_product_minimum_quantity").prop("disabled",!0),_("#_ywmmq_product_maximum_quantity").prop("disabled",!0),_("#_ywmmq_product_step_quantity").prop("disabled",!0),_("#_ywmmq_product_quantity_limit_variations_override").prop("disabled",!0)):(_("#_ywmmq_product_quantity_limit_override").prop("disabled",!1),a())}).trigger("change"),_("#_ywmmq_product_quantity_limit_override").on("change",function(){a()}).trigger("change"),_("#_ywmmq_product_quantity_limit_variations_override").on("change",function(){_("#_ywmmq_product_quantity_limit_override").is(":checked")&&(_(this).is(":checked")?(_("#_ywmmq_product_minimum_quantity").prop("disabled",!0),_("#_ywmmq_product_maximum_quantity").prop("disabled",!0),_("#_ywmmq_product_step_quantity").prop("disabled",!0),_(".ywmmq-variation-field").each(function(){_(this).prop("disabled",!1)})):(_("#_ywmmq_product_minimum_quantity").prop("disabled",!1),_("#_ywmmq_product_maximum_quantity").prop("disabled",!1),_("#_ywmmq_product_step_quantity").prop("disabled",!1),_(".ywmmq-variation-field").each(function(){_(this).prop("disabled",!0)})))}).trigger("change"),_("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){_(".ywmmq-variation-field").each(function(){_("#_ywmmq_product_quantity_limit_override").is(":checked")&&_("#_ywmmq_product_quantity_limit_variations_override").is(":checked")?_(this).prop("disabled",!1):_(this).prop("disabled",!0)})})});