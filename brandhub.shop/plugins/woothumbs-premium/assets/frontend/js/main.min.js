!function(g,t){window.iconic_woothumbs_plyr={gallery:[],fullscreen:[]},window.iconic_woothumbs_last_variation_slide_index=window.iconic_woothumbs_photoswipe=!1;var p={cache(){p.cache_run||(p.els={},p.vars={},p.tpl={},p.products={},p.wishlist_adding=[],p.vars.d=new Date,p.els.all_images_wrap=g(".iconic-woothumbs-all-images-wrap"),p.els.images_wrap=g(".iconic-woothumbs-images-wrap"),p.els.video_template=g("#iconic-woothumbs-video-template"),p.vars.zoom_setup=!1,p.vars.media_touch_timer=!1,p.vars.window_resize_timeout=!1,p.vars.is_dragging_image_slide=!1,p.vars.is_slider_layout="slider"===iconic_woothumbs_vars.settings.display_general_layout,p.vars.is_stacked_layout="stacked"===iconic_woothumbs_vars.settings.display_general_layout,p.vars.is_rtl=p.is_true(iconic_woothumbs_vars.is_rtl),p.vars.dedupe_images=p.is_true(iconic_woothumbs_vars.dedupe_images),p.vars.images_are_vertical="vertical"===iconic_woothumbs_vars.settings.carousel_general_mode,p.vars.thumbnails_are_vertical="left"===iconic_woothumbs_vars.settings.navigation_thumbnails_position||"right"===iconic_woothumbs_vars.settings.navigation_thumbnails_position,p.vars.lazyload_mode=iconic_woothumbs_vars.settings.carousel_general_lazyload_mode,p.vars.slide_class="iconic-woothumbs-images__slide",p.vars.loading_class="iconic-woothumbs-loading",p.vars.fullscreen_loading_class="iconic-woothumbs-fullscreen-loading",p.vars.media_playing_class="iconic-woothumbs-images-wrap--media-playing",p.vars.reset_class="iconic-woothumbs-reset",p.vars.thumbnails_active_class="iconic-woothumbs-thumbnails__slide--active",p.vars.wishlist_adding_class="iconic-woothumbs-wishlist-buttons--adding",p.vars.wishlist_added_class="iconic-woothumbs-wishlist-buttons--added",p.vars.is_zoom_enabled=p.is_true(iconic_woothumbs_vars.settings.zoom_general_enable),p.vars.is_fullscreen_enabled=p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable),p.vars.change_on_thumb_hover=p.is_true(iconic_woothumbs_vars.settings.navigation_thumbnails_change_on_thumb_hover),p.vars.thumbnail_hover_timer=!1,p.vars.show_variation_trigger="iconic_woothumbs_show_variation",p.vars.loading_variation_trigger="iconic_woothumbs_loading_variation",p.vars.show_attribute_trigger="iconic_woothumbs_show_attribute",p.vars.loading_attribute_trigger="iconic_woothumbs_loading_attribute",p.vars.fullscreen_trigger=p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_click_anywhere)?".iconic-woothumbs-fullscreen, img":".iconic-woothumbs-fullscreen",p.vars.zoom_fullscreen_trigger=p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_click_anywhere)?".zm-viewer .iconic-woothumbs-fullscreen, .zm-viewer img":".iconic-woothumbs-fullscreen",p.vars.photoswipe_container_class=".iconic-woothumbs-pswp",p.vars.play_trigger=".iconic-woothumbs-play",p.vars.window_size={height:g(window).height(),width:g(window).width()},p.vars.placeholder_img="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",p.vars.plyr_gallery_type="gallery",p.vars.plyr_fullscreen_type="fullscreen",p.vars.plyr_video_selector=".iconic-woothumbs-plyr:not(.plyr)",p.vars.plyr_poster=p.is_true(iconic_woothumbs_vars.settings.media_general_poster),p.vars.plyr_loop=p.is_true(iconic_woothumbs_vars.settings.media_general_loop),p.vars.plyr_autoplay=p.is_true(iconic_woothumbs_vars.settings.media_general_autoplay),p.vars.plyr_controls=p.is_true(iconic_woothumbs_vars.settings.media_general_controls),p.vars.plyr_controls_list=iconic_woothumbs_vars.settings.media_general_controls_list,p.vars.plyr_tooltips=p.is_true(iconic_woothumbs_vars.settings.display_general_icons_tooltips),p.vars.icon_loading=JSON.parse(iconic_woothumbs_vars.icon_loading),p.vars.icon_video=JSON.parse(iconic_woothumbs_vars.icon_video),p.vars.icon_fullscreen=JSON.parse(iconic_woothumbs_vars.icon_fullscreen),p.vars.icon_arrow_left=JSON.parse(iconic_woothumbs_vars.icon_arrow_left),p.vars.icon_arrow_right=JSON.parse(iconic_woothumbs_vars.icon_arrow_right),p.vars.icon_arrow_up=JSON.parse(iconic_woothumbs_vars.icon_arrow_up),p.vars.icon_arrow_down=JSON.parse(iconic_woothumbs_vars.icon_arrow_down),p.vars.icon_zoom=JSON.parse(iconic_woothumbs_vars.icon_zoom),p.vars.icon_close=JSON.parse(iconic_woothumbs_vars.icon_close),p.vars.icon_pswp_arrow_left=JSON.parse(iconic_woothumbs_vars.icon_pswp_arrow_left),p.vars.icon_pswp_arrow_right=JSON.parse(iconic_woothumbs_vars.icon_pswp_arrow_right),p.vars.icon_pswp_zoom=JSON.parse(iconic_woothumbs_vars.icon_pswp_zoom),p.vars.icon_pswp_close=JSON.parse(iconic_woothumbs_vars.icon_pswp_close),p.tpl.prev_arrow=`<a href="javascript: void(0);" class="iconic-woothumbs-images__arrow iconic-woothumbs-images__arrow--prev">${p.vars.icon_arrow_left}</a>`,p.tpl.next_arrow=`<a href="javascript: void(0);" class="iconic-woothumbs-images__arrow iconic-woothumbs-images__arrow--next">${p.vars.icon_arrow_right}</a>`,p.tpl.prev_arrow_rtl=p.tpl.next_arrow,p.tpl.next_arrow_rtl=p.tpl.prev_arrow,p.tpl.fullscreen_button=`<a href="javascript: void(0);" class="iconic-woothumbs-fullscreen" data-iconic-woothumbs-tooltip="${iconic_woothumbs_vars.text.fullscreen}">${p.vars.icon_fullscreen}</a>`,p.tpl.play_button=`<a href="javascript: void(0);" class="iconic-woothumbs-play" data-iconic-woothumbs-tooltip="${iconic_woothumbs_vars.text.video}">${p.vars.icon_video}</a>`,p.tpl.stacked_image_slide=`<div class="${p.vars.slide_class} {{slide_index_class}}" data-index="{{index}}"><img style="{{slide_aspect}}" class="iconic-woothumbs-images__image" src="{{image_lazy}}" srcset="{{image_srcset}}" sizes="{{image_sizes}}" data-caption="{{image_caption}}" data-large_image="{{large_image_src}}" data-large_image_width="{{large_image_width}}" data-large_image_height="{{large_image_height}}" width="{{image_width}}" height="{{image_height}}" title="{{title}}" alt="{{alt}}" loading="lazy"></div>`,p.tpl.gallery_image_slide=`<div class="${p.vars.slide_class} {{slide_index_class}}" data-index="{{index}}"><img style="{{slide_aspect}}" class="iconic-woothumbs-images__image no-lazyload skip-lazy" src="${p.vars.placeholder_img}" data-lazy="{{image_lazy}}" data-srcset="{{image_srcset}}" data-sizes="{{image_sizes}}" data-caption="{{image_caption}}" data-large_image="{{large_image_src}}" data-large_image_width="{{large_image_width}}" data-large_image_height="{{large_image_height}}" width="{{image_width}}" height="{{image_height}}" title="{{title}}" alt="{{alt}}"></div>`,p.tpl.media_slide=`<div class="${p.vars.slide_class} {{slide_index_class}}" style="{{slide_aspect}}" data-index="{{index}}">{{media_embed}}</div>`,p.tpl.thumbnail_slide='<div class="iconic-woothumbs-thumbnails__slide {{slide_class}}"  data-index="{{index}}"><div class="iconic-woothumbs-thumbnails__image-wrapper">{{play_icon}}<img style="{{slide_aspect}}" class="iconic-woothumbs-thumbnails__image {{lazy_classes}}" src="{{maybe_image_src}}" data-lazy="{{image_src}}" data-srcset="{{image_srcset}}" data-sizes="{{image_sizes}}" title="{{title}}" alt="{{alt}}" width="{{image_width}}" height="{{image_height}}" loading="{{lazy_type}}"></div></div>',p.tpl.thumbnail_play_icon=`<div class="iconic-woothumbs-thumbnails__play-overlay">${p.vars.icon_video}</div>`,p.tpl.photoswipe=wp.template("iconic-woothumbs-pswp"),p.tpl.media='<div class="iconic-woothumbs-fullscreen-video-wrapper iconic-woothumbs-fullscreen-video-wrapper--wide">{{media_embed}}</div>',p.tpl=g.extend(p.tpl,void 0!==iconic_woothumbs_vars.tpl?iconic_woothumbs_vars.tpl:[]),p.custom_init_events=["jckqv_open","jet-popup/show-event/after-show","iconic-woothumbs-init-js","perfmatters-allScriptsLoaded","rocket-pageshow"])},on_load(i){p.cache_run=!1,p.cache(),(window.iconicWooThumbsLoadFired||"load"!==i.type)&&-1===p.custom_init_events.indexOf(i.type)||(p.prepare_products(),p.init(),window.iconicWooThumbsLoadFired="load"===i.type)},on_resize(){p.cache();let i={height:g(window).height(),width:g(window).width()};clearTimeout(p.vars.window_resize_timeout),p.vars.window_resize_timeout=setTimeout(function(){void 0===p.vars.window_size.width&&g(window).trigger("resize-end"),void 0!==p.vars.window_size.width&&p.vars.window_size.width!==i.width&&(p.vars.window_size.width=i.width,p.vars.window_size.height=i.height,g(window).trigger("resize-end"))},100)},is_true(i){return 1===parseInt(i,10)},is_active(i){return"woothemes_swatches"===i&&0<g("#swatches-and-photos-css").length},prepare_products(){p.els.all_images_wrap.length<=0||p.els.all_images_wrap.each(function(i,e){var e=g(e),t=e.closest(".product, .wp-block-woocommerce-single-product"),a=!!e.data("product-type").includes("variable")&&t.find("form.variations_form"),s=!!a&&a.attr("data-product_variations");p.products[i]={product:t,all_images_wrap:e,images:e.find(".iconic-woothumbs-images"),images_wrap:e.find(".iconic-woothumbs-images-wrap"),thumbnails:e.find(".iconic-woothumbs-thumbnails"),thumbnails_wrap:e.find(".iconic-woothumbs-thumbnails-wrap"),variations_form:a,variation_id_field:!!a&&a.find("input[name=variation_id]"),wishlist_buttons:e.find(".iconic-woothumbs-images-wrap > .iconic-woothumbs-wishlist-buttons"),play_button:e.find(".iconic-woothumbs-play"),wishlist_add_button:e.find(".iconic-woothumbs-wishlist-buttons__add"),wishlist_browse_button:e.find(".iconic-woothumbs-wishlist-buttons__browse"),variations_json:s,maintain_slide_index:"yes"===e.attr("data-maintain-slide-index"),variations:!!s&&JSON.parse(s),product_id:!!a&&a.data("product_id"),default_images:JSON.parse(e.attr("data-default")),imagezoom:!1,caption:e.find(".iconic-woothumbs-caption")}})},init(){p.products.length<=0||(g(".iconic-woothumbs-remove-on-js-load").remove(),g(".iconic-woothumbs-all-images-wrap").addClass("iconic-woothumbs-js-loaded"),g.each(p.products,function(i,e){p.setup_sliders(e),p.watch_variations(e),p.setup_zoom(e),p.setup_fullscreen_open_triggers(e),p.setup_video_play_triggers(e),p.watch_yith_wishlist(e),p.vars.is_stacked_layout&&p.setup_stacked_layout(e)}),p.setup_yith_wishlist(),p.setup_tooltips())},images_slider_args(i,e){var t={},i=i.images.children().length;return t.initialSlide=void 0!==e&&e<i?e:0,t.speed=parseInt(iconic_woothumbs_vars.settings.carousel_general_transition_speed,10),t.arrows=1<i&&p.is_true(iconic_woothumbs_vars.settings.navigation_general_controls),t.infinite=1<i&&p.is_true(iconic_woothumbs_vars.settings.carousel_general_infinite_loop),t.touchMove=1<i,t.adaptiveHeight=!0,t.autoplay=p.is_true(iconic_woothumbs_vars.settings.carousel_general_autoplay),t.autoplaySpeed=parseInt(iconic_woothumbs_vars.settings.carousel_general_duration,10),t.dots=p.is_true(iconic_woothumbs_vars.settings.navigation_bullets_enable),t.prevArrow=p.vars.is_rtl?p.tpl.prev_arrow_rtl:p.tpl.prev_arrow,t.nextArrow=p.vars.is_rtl?p.tpl.next_arrow_rtl:p.tpl.next_arrow,t.respondTo="slider",t.centerPadding=0,t.touchThreshold=iconic_woothumbs_vars.settings.carousel_general_main_slider_swipe_threshold,t.lazyLoad=p.vars.lazyload_mode,t.centerMode=!0,t.waitForAnimate=!1,p.vars.images_are_vertical?t.vertical=!0:"fade"===iconic_woothumbs_vars.settings.carousel_general_mode&&(t.fade=!0),!0!==p.vars.images_are_vertical&&(t.rtl=p.vars.is_rtl),wp.hooks.applyFilters("iconic_woothumbs_image_slider_args",t)},thumbnails_slider_args(i){var e={infinite:!1};return e.speed=parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_transition_speed,10),e.slidesToShow=p.get_slides_to_show(),e.slidesToScroll=1,e.arrows=!1,e.vertical=!1,e.centerMode=!1,e.swipeToSlide=!0,e.lazyLoad=p.vars.lazyload_mode,e.waitForAnimate=!1,p.vars.thumbnails_are_vertical&&(e.vertical=!0),p.is_below_breakpoint()&&p.move_thumbnails_at_breakpoint()&&(e.vertical=!1),(!p.vars.thumbnails_are_vertical||p.is_below_breakpoint()&&p.move_thumbnails_at_breakpoint())&&(e.rtl=p.vars.is_rtl),wp.hooks.applyFilters("iconic_woothumbs_thumbnails_slider_args",e)},toggle_fullscreen_control(i,e){var t=i.find("img"),e=e.all_images_wrap.find(p.vars.fullscreen_trigger).not("img");!i.find(".iconic-woothumbs-standard-embed").length&&p.is_media(i)||p.is_placeholder(t)?e.hide():e.show()},is_placeholder(i,e){e=!0===e?i:i.attr("src");return null!=e&&0<=e.indexOf("woocommerce-placeholder")},is_media(i){return 0<i.find("iframe, video, object, .plyr, .js-plyr-div").length},get_slides_to_show(){return p.is_below_breakpoint()?parseInt(iconic_woothumbs_vars.settings.mobile_general_thumbnails_count,10):parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_count,10)},get_thumbnail_count(i){return i.thumbnails.find(".iconic-woothumbs-thumbnails__slide").length},setup_sliders(i){p.setup_images_events(i),p.setup_thumbnails_events(i),p.init_images(i),p.init_thumbnails(i)},setup_images_events(l){g(window).on("resize-end",function(){p.maybe_resize_wrap(l)}),l.images.on("init",function(i,e){var t=l.images.find(".slick-slide.slick-current"),a=t.find("img:first"),s=parseInt(g(l.variation_id_field).val(),10),o=parseInt(l.all_images_wrap.attr("data-showing"),10);p.maybe_show_gallery_ui(t,l),s&&!isNaN(s)&&s!==o&&0<s&&p.go_to_thumbnail(e.currentSlide,l),p.init_zoom(a,l),p.update_caption(a,l),p.reveal_slides(l),p.plyr_autoplay_current_instance(p.vars.plyr_gallery_type,l),g(window).trigger("resize")}),l.images.on("init_zoom",function(i){var e=l.images.find(".slick-active").find("img:first");p.init_zoom(e,l)}),l.images.on("beforeChange",function(i,e,t,a){p.maybe_load_poster_images(l,a),p.go_to_thumbnail(a,l),p.plyr_pause_current_instance(p.vars.plyr_gallery_type,l),l.imagezoom&&l.imagezoom.destroy()}),l.images.on("afterChange",function(i,e,t){var t=p.get_slide_by_index(l,t),a=t.find("img:first");clearTimeout(p.vars.thumbnail_hover_timer),p.maybe_show_gallery_ui(t,l),p.init_zoom(a,l),p.update_caption(a,l),p.plyr_has_videos_of_type(p.vars.plyr_gallery_type,l)&&p.plyr_autoplay_current_instance(p.vars.plyr_gallery_type,l)}),l.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__slide, .iconic-woothumbs-images__arrow, .iconic-woothumbs-zoom-prev, .iconic-woothumbs-zoom-next, .slick-dots button",function(){l.images.slick("slickPause")}),p.vars.is_slider_layout&&(g(t).on("mouseover",".plyr__controls",function(i){l.images.slick("setOption","draggable",!1,!1)}),g(t).on("mouseout",".plyr__controls",function(i){l.images.slick("setOption","draggable",!0,!1)}))},maybe_load_poster_images(t,i){if(p.vars.is_slider_layout&&p.vars.plyr_poster){t=p.get_slide_by_index(t,i);if(t.length){let e=t.find(".plyr__poster");if(e.length){let i=t.find(".iconic-woothumbs-plyr");i.length&&i.data("poster-gallery")&&setTimeout(function(){e.css("background-image","url("+i.data("poster-gallery")+")")},10)}}}},maybe_show_gallery_ui(i,e,t=!1){!t&&i.find(".plyr").length||e.all_images_wrap.addClass("iconic-woothumbs-all-images-wrap--show-ui")},setup_thumbnails_events(a){a.thumbnails.on("init",function(i,e){p.reveal_thumbnails(a),p.set_thumbnail_controls_visibility(a)}),a.thumbnails.on("afterChange",function(i,e,t){p.set_thumbnail_controls_visibility(a)}),"stacked"===iconic_woothumbs_vars.settings.navigation_thumbnails_type&&p.vars.change_on_thumb_hover||a.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__slide",function(){var i;a.all_images_wrap.hasClass(p.vars.loading_class)||a&&(i=parseInt(g(this).attr("data-index"),10),p.set_active_thumbnail(a.thumbnails,i),a.images.slick("slickGoTo",i))}),a.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__control",function(){a.all_images_wrap.hasClass(p.vars.loading_class)||("next"===g(this).attr("data-direction")?p.vars.is_rtl?a.thumbnails.slick("slickPrev"):a.thumbnails.slick("slickNext"):p.vars.is_rtl?a.thumbnails.slick("slickNext"):a.thumbnails.slick("slickPrev"))}),g(window).on("resize-end",function(){p.position_thumbnails(a),p.resize_thumbnails(a)})},reveal_thumbnails(i){i.thumbnails_wrap.height("").removeClass("iconic-woothumbs-thumbnails-wrap--hidden"),setTimeout(function(){p.set_thumbnail_controls_visibility(i)},500)},slider_keydown_handler(i){"ArrowLeft"===i.key&&i.data.images.slick("slickPrev"),"ArrowRight"===i.key&&i.data.images.slick("slickNext")},plyr_init_gallery(i){p.plyr_has_videos_of_type(p.vars.plyr_gallery_type,i)&&(i.all_images_wrap.addClass("iconic-woothumbs--has-video"),p.plyr_reset(p.vars.plyr_gallery_type,i))},init_images(i,e=0){if(p.vars.is_slider_layout&&!(i.images.length<=0)){let s=i.images.not(".slick-initialized");p.maybe_resize_wrap(i),p.plyr_init_gallery(i),i.maintain_slide_index||(e=0),s.on("init",function(i,e){p.els.all_images_wrap.addClass("iconic-woothumbs-gallery-loaded")}),s.slick(p.images_slider_args(i,e)),g(t).off("keydown",p.slider_keydown_handler),g(t).on("keydown",i,p.slider_keydown_handler),i.images_slider_data=0<i.images.length,s.on("lazyLoaded",function(i,e,t,a){s.slick("setPosition"),g(t).css("height","").css("padding","")})}},maybe_resize_wrap(i){i.all_images_wrap.width("").width(2*Math.floor(i.all_images_wrap.width()/2));i=i.all_images_wrap.find(".slick-slider");i.length<=0||i.each(function(i,e){void 0!==e.slick&&e.slick.refresh()})},init_thumbnails(i,e){i.thumbnails.find("img").length<=0||(p.get_slides_to_show()<=0?i.thumbnails.hide():p.sliding_thumbnails_enabled()?p.images_loaded(i.thumbnails,function(){i.thumbnails.not(".slick-initialized").slick(p.thumbnails_slider_args(i)),i.thumbnails_slider_data=0<i.thumbnails.length,p.position_thumbnails(i),p.sliding_thumbnails_enabled()||p.add_thumbnail_hover_events(i),"function"==typeof e&&e()}):p.images_loaded(i.thumbnails,function(){p.reveal_thumbnails(i),p.add_thumbnail_hover_events(i)}))},add_thumbnail_hover_events(t){p.vars.change_on_thumb_hover&&t.thumbnails.on("mouseenter",".iconic-woothumbs-thumbnails__slide",function(i){clearTimeout(p.vars.thumbnail_hover_timer);let e=g(this).data("index");p.vars.thumbnail_hover_timer=setTimeout(function(){e!==t.images.slick("slickCurrentSlide")&&t.images.slick("slickGoTo",e)},500)})},resize_thumbnails(e){if(!(e.thumbnails.length<1)){let i=p.get_slides_to_show();i<=0?e.thumbnails.hide():(e.thumbnails.show(),e.thumbnails_slider_data?e.thumbnails.slick("slickSetOption","slidesToShow",i):p.init_thumbnails(e,function(){e.thumbnails.slick("slickSetOption","slidesToShow",i)}))}},get_slide_by_index(i,e){return i.images.find('[data-slick-index="'+e+'"]')},sliding_thumbnails_enabled(){return"sliding"===iconic_woothumbs_vars.settings.navigation_thumbnails_type},has_thumbnails(i){return 0<p.get_thumbnail_count(i)&&("sliding"===iconic_woothumbs_vars.settings.navigation_thumbnails_type||"stacked"===iconic_woothumbs_vars.settings.navigation_thumbnails_type)},thumbnails_enabled(){return p.is_true(iconic_woothumbs_vars.settings.navigation_thumbnails_enable)&&p.vars.is_slider_layout},move_thumbnails_at_breakpoint(){return p.is_true(iconic_woothumbs_vars.settings.mobile_general_thumbnails_below)&&"below"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position},is_below_breakpoint(){return p.is_true(iconic_woothumbs_vars.settings.mobile_general_breakpoint_enable)&&p.viewport().width<=parseInt(iconic_woothumbs_vars.settings.mobile_general_breakpoint,10)},viewport(){let i=window,e="inner";return"innerWidth"in window||(e="client",i=t.documentElement||t.body),{width:i[e+"Width"],height:i[e+"Height"]}},position_thumbnails(i){var e,t;!p.move_thumbnails_at_breakpoint()||p.get_thumbnail_count(i)<=0||(e=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--right, .iconic-woothumbs-thumbnails__control--down"),t=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--left, .iconic-woothumbs-thumbnails__control--up"),p.is_below_breakpoint()?(i.all_images_wrap.removeClass("iconic-woothumbs-all-images-wrap--thumbnails-left iconic-woothumbs-all-images-wrap--thumbnails-right iconic-woothumbs-all-images-wrap--thumbnails-above").addClass("iconic-woothumbs-all-images-wrap--thumbnails-below"),i.images_wrap.after(i.thumbnails_wrap),i.thumbnails_wrap.removeClass("iconic-woothumbs-thumbnails-wrap--vertical").addClass("iconic-woothumbs-thumbnails-wrap--horizontal"),e.removeClass("iconic-woothumbs-thumbnails__control--down").addClass("iconic-woothumbs-thumbnails__control--right").html(p.vars.icon_arrow_right),t.removeClass("iconic-woothumbs-thumbnails__control--up").addClass("iconic-woothumbs-thumbnails__control--left").html(p.vars.icon_arrow_left),i.thumbnails_slider_data&&p.sliding_thumbnails_enabled()&&i.thumbnails.slick("slickSetOption","vertical",!1).removeClass("slick-vertical")):(i.all_images_wrap.removeClass("iconic-woothumbs-all-images-wrap--thumbnails-below").addClass("iconic-woothumbs-all-images-wrap--thumbnails-"+iconic_woothumbs_vars.settings.navigation_thumbnails_position),"left"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position&&"above"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position||i.images_wrap.before(i.thumbnails_wrap),"left"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position&&"right"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position||(i.thumbnails_wrap.removeClass("iconic-woothumbs-thumbnails-wrap--horizontal").addClass("iconic-woothumbs-thumbnails-wrap--vertical"),e.removeClass("iconic-woothumbs-thumbnails__control--right").addClass("iconic-woothumbs-thumbnails__control--down").html(p.vars.icon_arrow_down),t.removeClass("iconic-woothumbs-thumbnails__control--left").addClass("iconic-woothumbs-thumbnails__control--up").html(p.vars.icon_arrow_up),i.thumbnails_slider_data&&p.sliding_thumbnails_enabled()&&i.thumbnails.slick("slickSetOption","vertical",!0).addClass("slick-vertical"))),g(window).trigger("resize"))},set_thumbnail_controls_visibility(l){var n=l.thumbnails.find(".slick-track");if(n.length){let i=null,e=null,t=null,a,s=l.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--right, .iconic-woothumbs-thumbnails__control--down"),o=l.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--left, .iconic-woothumbs-thumbnails__control--up");t=p.thumbnails_slider_args().vertical?(i=n.position().top,e=n.height(),l.thumbnails.height()):(i=n.position().left,e=n.width(),l.thumbnails.width()),a=-(e-t-parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_spacing,10)),o.show(),s.show(),i<=1&&-1<=i?o.hide():p.get_difference(i,a)<=5&&s.hide(),p.get_thumbnail_count(l)<=p.get_slides_to_show()&&(o.hide(),s.hide())}},get_difference(i,e){return Math.abs(i-e)},set_active_thumbnail(i,e){i.find(".iconic-woothumbs-thumbnails__slide").removeClass(p.vars.thumbnails_active_class),i.find(".iconic-woothumbs-thumbnails__slide[data-index="+e+"]").addClass(p.vars.thumbnails_active_class)},go_to_thumbnail(i,e){var t;e.thumbnails_slider_data&&(t=p.get_thumbnail_index(i,e),e.thumbnails.slick("slickGoTo",t)),p.set_active_thumbnail(e.thumbnails,i)},get_thumbnail_index(i,e){return 1===parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_count,10)?i:(e=p.get_last_thumbnail_index(e))<i?e:0===i?0:i-1},get_last_thumbnail_index(i){let e=p.get_thumbnail_count(i),t=parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_count,10);return e-(t=p.is_below_breakpoint()?parseInt(iconic_woothumbs_vars.settings.responsive_general_thumbnails_count,10):t)},watch_variations(a){var i,e;a.variations_form&&(a.variation_id_field.on("change",function(){var i=parseInt(g(this).val(),10);p.get_selected_attributes(a).count||a.all_images_wrap.addClass("iconic-woothumbs-reset-required"),!isNaN(i)&&0<i&&(p.get_variation_data(a,i),p.vars.is_stacked_layout)&&p.init_stacked_zoom(a)}),a.variations_form.on("click",".reset_variations",function(i){a.all_images_wrap.removeClass(p.vars.reset_class)}),a.variations_form.on("reset_data",function(i){var e=p.get_selected_attributes(a),t=a.variations_form.filter(":visible").find("select[name^=attribute_]");(!a.all_images_wrap.hasClass(p.vars.reset_class)||a.all_images_wrap.hasClass("iconic-woothumbs-reset-required")||e.count&&e.count!==t.length)&&("0"!==g(a.variation_id_field).val()||e.count&&e.count!==t.length)&&((a.all_images_wrap.hasClass("iconic-woothumbs-reset-required")||e.count&&e.count!==t.length)&&a.all_images_wrap.removeClass(p.vars.reset_class),p.reset_images(a),a.all_images_wrap.removeClass("iconic-woothumbs-reset-required"),p.vars.is_stacked_layout)&&p.init_stacked_zoom(a)}),a.all_images_wrap.on(p.vars.loading_variation_trigger,function(i){g(a.variation_id_field).val()!==a.all_images_wrap.attr("data-showing")&&a.all_images_wrap.addClass(p.vars.loading_class)}),a.all_images_wrap.on(p.vars.show_variation_trigger,function(i,e){p.load_images(a,e),setTimeout(function(){p.vars.is_stacked_layout&&(p.plyr_reset(p.vars.plyr_gallery_type,a),p.init_stacked_zoom(a)),a.all_images_wrap.removeClass(p.vars.loading_class)},100)}),i=p.get_selected_attributes(a),e=a.variations_form.filter(":visible").find("select[name^=attribute_]"),parseInt(g(a.variation_id_field).val(),10)&&(a.all_images_wrap.addClass(p.vars.loading_class),g(a.variation_id_field).trigger("change")),i.count)&&i.count!==e.length&&a.variations_form.filter(":visible").trigger("change")},get_no_variation_images_data(i){let e=parseInt(iconic_woothumbs_vars.settings.variations_settings_maintain_gallery,10),t=p.get_selected_attributes(i),a=t.selected,s=void 0!==window.iconic_woothumbs_attributes_data?window.iconic_woothumbs_attributes_data:{},o=[];var l;return Object.keys(s).length&&Object.keys(a).length&&(l=p.get_attribute_images_data(s,a,o),o=[...o,...l],(i.default_images.length&&1===e||i.default_images.length&&2===e&&!l.length)&&(o=[...o,...i.default_images]),i.default_images.length&&i.default_images[0].media_embed&&-1!==i.default_images[0].media_embed.indexOf("<script")&&(o=[i.default_images[0],...o]),(o=p.vars.dedupe_images?p.dedupe_images_data(o):o).length||0===e)?o:i.default_images},get_attribute_images_data(i,e,t=!1){let a=t||[];for(var s in e)if(Object.hasOwnProperty.call(e,s)&&Object.hasOwnProperty.call(i,s)){var o,l,n,r,_=i[s];for(o in _)Object.hasOwnProperty.call(_,o)&&(l=p.sanitize_string(o,!0),n=p.sanitize_string(e[s]),r=g(`select[id="${s}"]`).find(`option[value="${n}"]`),(l===n||r.length&&r.text()===l)&&(a=[...a,..._[o]]),"any"===o.toLowerCase())&&(a=[...a,..._.Any])}return a=Object.hasOwnProperty.call(i,"all")?[...a,...i.all.all]:a},strip_special_chars(i){var e="PLACEHOLDER";let t=i.replace(/([a-zA-Z0-9])-([a-zA-Z0-9])/g,`$1${e}$2`);return t=(t=/[a-zA-Z0-9]/g.test(t)?t.replace(/[^a-zA-Z0-9]/g,""):t).replace(new RegExp(e,"g"),"-")},sanitize_string(i,e=!1){if("string"!=typeof i)return i;var t=/^((%[0-9A-Fa-f]{2})+)$/i;let a=i;return a=a.replace(/ /g,"-"),t.test(a)||(e&&(a=p.strip_special_chars(a)),a=encodeURIComponent(a)),t.test(a)?a.toLowerCase():(a.replace(/\u00dc/g,"Ue").replace(/\u00fc/g,"ue").replace(/\u00c4/g,"Ae").replace(/\u00e4/g,"ae").replace(/\u00d6/g,"Oe").replace(/\u00f6/g,"oe").replace(/\u00df/g,"ss"),a=(a=(a=a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().replace(/[^'\w\s-]/g,"-")).replace(/[']+/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))},get_variation_images_data(i,e){let t=parseInt(iconic_woothumbs_vars.settings.variations_settings_maintain_gallery,10),a=p.get_selected_attributes(i),s=a.selected,o=void 0!==window.iconic_woothumbs_attributes_data?window.iconic_woothumbs_attributes_data:{},l=[],n=[],r=[],_=[];if(!Object.keys(s).length)return e;i.default_images.length&&i.default_images[0].media_embed&&-1!==i.default_images[0].media_embed.indexOf("<script")&&(l=[e[0]]);let c=[];return Object.keys(o).length&&(c=p.get_attribute_images_data(o,s)),e.length&&i.default_images.length&&1===t?(i.default_images.forEach(function(i){n.push(i.url)}),e.forEach(function(i,e){Object.hasOwnProperty.call(i,"url")&&(n.includes(i.url)?_:r).push(i)})):(r=e,_=i.default_images),r.length&&(l=[...l,...r]),c.length&&(l=[...l,...c]),(_.length&&1===t||_.length&&2===t&&!r.length)&&(l=[...l,..._]),(l=p.vars.dedupe_images?p.dedupe_images_data(l):l).length||0===t?l:i.default_images},dedupe_images_data(i){let t=[],a=[];return i.forEach(function(i,e){Object.hasOwnProperty.call(i,"url")&&!t.includes(i.url)&&(t.push(i.url),a.push(i))}),a},get_selected_attributes(i){let t={};return i.variations_form&&i.variations_form.filter(":visible").find("option:selected").each(function(i,e){g(e).val()&&(t[g(e).parent().attr("id")]=g(e).val())}),{count:Object.keys(t).length,selected:t}},load_images(i,e){var t,a,s,o;void 0!==window.iconic_woothumbs_variations_data&&(t=window.iconic_woothumbs_variations_data[i.product_id][e.variation_id],e&&void 0!==t?(a=t.length,!p.compare_variation_data(t,i.default_images)&&0<a?(a=parseInt(i.all_images_wrap.attr("data-showing"),10),i.all_images_wrap.attr("data-showing",e.variation_id).removeClass(p.vars.reset_class),t=p.get_variation_images_data(i,[...t]),s=parseInt(iconic_woothumbs_vars.settings.variations_settings_maintain_gallery,10),o=a===i.product_id,s=1===s&&o?[i.default_images[0],...t]:[...t],o=void 0===i.last_replace_images&&e.variation_id===parseInt(g(i.variation_id_field).val(),10)&&a===e.variation_id,t&&t.length&&!p.compare_variation_data(s,i.default_images)?(o||p.compare_variation_data(s,i.last_replace_images)?i.all_images_wrap.removeClass(p.vars.loading_class):p.replace_images(i,t),i.last_replace_images=t):(i.all_images_wrap.removeClass(p.vars.loading_class),p.reset_images(i))):(i.all_images_wrap.removeClass(p.vars.reset_class),i.all_images_wrap.removeClass(p.vars.loading_class),p.reset_images(i)),p.vars.is_stacked_layout&&p.init_stacked_zoom(i)):i.all_images_wrap.removeClass(p.vars.loading_class))},compare_variation_data(e,t){if(!e||!t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++){var a,s=e[i],o=t[i];if(Object.keys(s).length!==Object.keys(o).length)return!1;for(a in s)if(("title"===a||"url"===a)&&s[a]!==o[a])return!1}return!0},replace_images(i,e,t){let a=!!p.vars.is_slider_layout&&i.images.slick("slickCurrentSlide");a=a||0,parseInt(i.all_images_wrap.attr("data-showing"),10)!==parseInt(i.all_images_wrap.attr("data-parentid"),10)&&!a&&window.iconic_woothumbs_last_variation_slide_index&&(a=window.iconic_woothumbs_last_variation_slide_index),p.remove_temporary_images();var e=p.create_temporary_images(e,i),s=0<e.thumbnails.length;i.images_slider_data?(i.images.slick("unslick"),i.images.html(e.images),p.init_images(i,a)):i.images.hide().html(e.images).fadeIn(),p.thumbnails_enabled()&&(i.thumbnails_wrap.height(i.thumbnails_wrap.height()).addClass("iconic-woothumbs-thumbnails-wrap--hidden"),i.thumbnails_slider_data&&(i.thumbnails.slick("unslick"),delete i.thumbnails[0].slick,i.thumbnails_slider_data=!1),i.thumbnails.html(e.thumbnails),s&&p.sliding_thumbnails_enabled()?p.init_thumbnails(i):p.reveal_thumbnails(i),p.vars.is_slider_layout)&&p.sliding_thumbnails_enabled()&&((e=p.get_thumbnail_count(i))>a&&i.maintain_slide_index&&void 0!==a&&setTimeout(function(){p.go_to_thumbnail(a,i)},100),i.all_images_wrap.attr("data-slide-count",e)),setTimeout(function(){i.all_images_wrap.trigger("iconic_woothumbs_images_loaded",[i])},50),void 0!==t&&t()},remove_temporary_images(){g(".iconic-woothumbs-temp").remove()},create_temporary_images(i,n){let r=i.length,_={container:g(".iconic-woothumbs-temp"),images:"",thumbnails:""};if(g.each(i,function(e,a){var i,t,s,o=n.all_images_wrap.attr("data-global-aspect-ratio"),l=a.media_embed&&-1!==a.media_embed.indexOf("<script"),o=a.aspect&&(!o||p.vars.images_are_vertical||a.media_embed&&!l)?a.aspect:o,l=!l&&o?`aspect-ratio: ${o.replace(":","/")};`:"",o=p.vars.slide_class+"-"+(e+1);if(a.media_embed){let i=p.tpl.media_slide.replace("{{media_embed}}",a.media_embed);i=i.replace("{{index}}",e).replace("{{slide_aspect}}",l).replace("{{slide_index_class}}",o),0<n.wishlist_buttons.length&&(i=i.replace(/<\/div>$/,n.wishlist_buttons.clone().prop("outerHTML")+"</div>")),0<n.play_button.length&&0===e&&(i=i.replace(/<\/div>$/,p.tpl.play_button+"</div>")),p.vars.is_stacked_layout&&a.media_embed.includes("iconic-woothumbs-standard-embed")&&(i=i.replace(/<\/div>$/,p.tpl.fullscreen_button+"</div>")),_.images+=i}else{let t=g.extend(a,{index:e,image_lazy:a.src,image_srcset:a.srcset,image_sizes:a.sizes,image_caption:a.caption,large_image_src:a.large_src,large_image_width:a.large_src_w,large_image_height:a.large_src_h,image_width:a.src_w,image_height:a.src_h,alt:a.alt,title:a.title,slide_aspect:l,slide_index_class:o});p.vars.is_stacked_layout&&(p.tpl.stacked_image_slide=`<div class="${p.vars.slide_class} {{slide_index_class}}" data-index="{{index}}"><img style="{{slide_aspect}}" class="iconic-woothumbs-images__image" src="{{image_lazy}}" srcset="{{image_srcset}}" sizes="{{image_sizes}}" data-caption="{{image_caption}}" data-large_image="{{large_image_src}}" data-large_image_width="{{large_image_width}}" data-large_image_height="{{large_image_height}}" width="{{image_width}}" height="{{image_height}}" title="{{title}}" alt="{{alt}}" loading="lazy">`,0<n.wishlist_buttons.length&&(p.tpl.stacked_image_slide+=n.wishlist_buttons.clone().prop("outerHTML")),0<n.play_button.length&&0===e&&(p.tpl.stacked_image_slide+=p.tpl.play_button),p.vars.is_fullscreen_enabled&&(p.tpl.stacked_image_slide+=p.tpl.fullscreen_button),p.tpl.stacked_image_slide+="</div>");l=p.vars.is_slider_layout?p.tpl.gallery_image_slide:p.tpl.stacked_image_slide;_.images+=Object.keys(t).reduce(function(i,e){return i.replace("{{"+e+"}}",p.maybe_empty(t[e]))},l)}1<r&&p.thumbnails_enabled()&&(o=p.is_placeholder(a.src,!0)?a.src:p.vars.placeholder_img,l=a.media_embed&&!0!==a.no_media_icon?p.tpl.thumbnail_play_icon:"",o=p.sliding_thumbnails_enabled()?o:a.gallery_thumbnail_src,s=p.sliding_thumbnails_enabled()?"":"lazy",i=p.sliding_thumbnails_enabled()?"no-lazyload skip-lazy":"",t=n.all_images_wrap.attr("data-global-thumbs-aspect-ratio"),t=(t=a.aspect&&p.vars.images_are_vertical?a.aspect:t)?`aspect-ratio: ${t.replace(":","/")};`:"",s=p.tpl.thumbnail_slide.replace("{{lazy_type}}",s).replace("{{lazy_classes}}",i).replace("{{play_icon}}",l).replace("{{maybe_image_src}}",o).replace("{{image_src}}",a.gallery_thumbnail_src).replace("{{image_srcset}}",p.maybe_empty(a.gallery_thumbnail_srcset)).replace("{{image_sizes}}",p.maybe_empty(a.gallery_thumbnail_sizes)).replace("{{index}}",e).replace("{{image_width}}",p.maybe_empty(a.gallery_thumbnail_src_w)).replace("{{image_height}}",p.maybe_empty(a.gallery_thumbnail_src_h)).replace("{{alt}}",a.alt).replace("{{title}}",a.title).replace("{{slide_class}}",0===e?p.vars.thumbnails_active_class:"").replace("{{slide_aspect}}",t),_.thumbnails+=s)}),n.thumbnails_slider_data&&1!==r&&r<iconic_woothumbs_vars.settings.navigation_thumbnails_count){var e=iconic_woothumbs_vars.settings.navigation_thumbnails_count-r;let i=0;for(;i<e;)_.thumbnails+="<div></div>",i++}return _},maybe_empty(i){return i||0===i?i:""},reset_images(i){var e;i.all_images_wrap.hasClass(p.vars.reset_class)||i.all_images_wrap.hasClass(p.vars.loading_class)||(p.vars.is_slider_layout&&i.default_images.length<2&&(window.iconic_woothumbs_last_variation_slide_index=i.images.slick("slickCurrentSlide")),i.all_images_wrap.trigger(p.vars.loading_variation_trigger),i.all_images_wrap.attr("data-showing",i.product_id),i.all_images_wrap.addClass(p.vars.reset_class),(e=p.get_no_variation_images_data(i)).length&&(!i.images.find("img").length||void 0===i.last_replace_images&&!p.compare_variation_data(i.default_images,e)||void 0!==i.last_replace_images&&!p.compare_variation_data(i.last_replace_images,e))?(p.replace_images(i,e),i.last_replace_images=e,setTimeout(function(){p.vars.is_stacked_layout&&(p.plyr_reset(p.vars.plyr_gallery_type,i),p.init_stacked_zoom(i)),i.all_images_wrap.removeClass(p.vars.loading_class)},100)):i.all_images_wrap.removeClass(p.vars.loading_class))},found_variation(i){i=parseInt(g(i.variation_id_field).val(),10);return!isNaN(i)},get_variation_data(e,t){e.all_images_wrap.trigger(p.vars.loading_variation_trigger);let a=!1;e.variations?(g.each(e.variations,function(i,e){e.variation_id===t&&(a=e)}),e.all_images_wrap.trigger(p.vars.show_variation_trigger,[a])):g.ajax({type:"GET",url:iconic_woothumbs_vars.ajaxurl,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woothumbs_get_variation",variation_id:t,product_id:e.product_id},success(i){i.success&&i.variation&&(a=i.variation,e.all_images_wrap.trigger(p.vars.show_variation_trigger,[a]))}})},trigger_photoswipe(t,a,s,o){if(void 0!==window.iconic_woothumbs_photoswipe&&!1===window.iconic_woothumbs_photoswipe){let i=p.get_gallery_items(t),e=void 0!==i.index?i.index:0;if(p.vars.is_stacked_layout||a.hasClass("iconic-woothumbs-images__image")||a.hasClass("plyr__control")){let i=a.closest("."+p.vars.slide_class);void 0!==o&&o&&(i=o),e=i.data("slick-index")?i.data("slick-index"):i.data("index")}a=p.vars.is_rtl?i.items.reverse():i.items,o={mainClass:"iconic-woothumbs-pswp",dataSource:a,index:(p.vars.is_stacked_layout||void 0===s||!s)&&!0!==s&&!p.vars.is_rtl?e:a.length-1,showHideAnimationType:"fade",showAnimationDuration:100,hideAnimationDuration:100,bgOpacity:1,arrowPrevSVG:p.vars.icon_pswp_arrow_left,arrowNextSVG:p.vars.icon_pswp_arrow_right,closeSVG:p.vars.icon_pswp_close,zoomSVG:p.vars.icon_pswp_zoom,paddingFn:(i,e,t)=>{i=i.x<600?0:60;return{top:60,bottom:60,left:i,right:i}}};window.iconic_woothumbs_photoswipe=new PhotoSwipe(o),window.iconic_woothumbs_photoswipe.on("openingAnimationEnd",function(i){p.plyr_destroy(p.vars.plyr_gallery_type)}),window.iconic_woothumbs_photoswipe.on("pointerDown",function(i){g(i.originalEvent.target).closest(".plyr__controls").length&&i.preventDefault()}),window.iconic_woothumbs_photoswipe.on("contentRemove",function(i){p.plyr_pause_current_instance(p.vars.plyr_fullscreen_type,t)}),window.iconic_woothumbs_photoswipe.on("contentActivate",function(e){setTimeout(function(){var i,e,t;p.vars.is_rtl&&(e=(i=window.iconic_woothumbs_photoswipe.options.dataSource.length)-window.iconic_woothumbs_photoswipe.currIndex,t=window.iconic_woothumbs_photoswipe.options.indexIndicatorSep,g(".iconic-woothumbs-pswp .pswp__counter").html(e+t+i))},10),setTimeout(function(){var i=g(e.content.element).find(".plyr");i.length?g(e.content.element).find(".iconic-woothumbs-loading-overlay").hide():g(e.content.element).find(".iconic-woothumbs-loading-overlay").show(),e.content.slide.isActive&&(i.length?p.plyr_autoplay_current_instance(p.vars.plyr_fullscreen_type,t):p.plyr_setup(p.vars.plyr_fullscreen_type,t))},250)}),window.iconic_woothumbs_photoswipe.on("close",function(){p.plyr_get_gallery_videos(t.images_wrap)&&p.plyr_reset(p.vars.plyr_fullscreen_type,t,p.vars.plyr_gallery_type)}),window.iconic_woothumbs_photoswipe.on("destroy",function(){window.iconic_woothumbs_photoswipe=!1}),window.iconic_woothumbs_photoswipe.on("uiRegister",function(){p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_image_title)&&window.iconic_woothumbs_photoswipe.ui.registerElement({name:"caption",order:9,isButton:!1,appendTo:"root",html:"",onInit:(e,t)=>{t.on("change",()=>{var i=t.currSlide.data;i.caption&&void 0!==i.caption?e.innerHTML=t.currSlide.data.caption:e.innerHTML=i.title&&"undefined"!==i.title?i.title:""})}})}),window.iconic_woothumbs_photoswipe.init()}},setup_fullscreen_open_triggers(e){p.vars.is_fullscreen_enabled&&(e.images_wrap.on("click",p.vars.fullscreen_trigger,function(){p.plyr_destroy(p.vars.plyr_gallery_type).then(i=>{p.trigger_photoswipe(e,g(this))})}),p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_click_anywhere))&&g(t).on("click",".zm-handler, .zm-viewer",function(){var i=(this.classList.contains("zm-viewer")?g(this).next():g(this)).data("el");g(i).trigger("click"),g(i).find("img").trigger("click")})},setup_video_play_triggers(e){e.images_wrap.on("click touchstart",p.vars.play_trigger,function(){p.plyr_destroy(p.vars.plyr_gallery_type).then(i=>{p.trigger_photoswipe(e,g(this),!0)}).then(i=>{p.plyr_autoplay_current_instance(p.vars.plyr_fullscreen_type,e)})})},setup_stacked_layout(i){var e=p.get_selected_attributes(i);!p.plyr_has_videos_of_type(p.vars.plyr_gallery_type,i)||parseInt(g(i.variation_id_field).val(),10)||e.count||p.plyr_setup(p.vars.plyr_gallery_type,i)},get_gallery_items(i){let e=i.images.find("."+p.vars.slide_class),a=[],t=!!i.images_slider_data&&i.images.slick("slickCurrentSlide");return p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable)&&0<e.length&&e.each(function(i,e){e=g(e);if(!(0<e.closest(".slick-cloned").length))if(p.is_media(e)){let i=p.tpl.media.replace("{{media_embed}}",e.html());var t=e.find(".iconic-woothumbs-responsive-media").data("orientation");"tall"===t&&(i=i.replace("--wide","--tall")),"square"===t&&(i=i.replace("--wide","--square")),void a.push({html:i})}else{var t=e.find("img");t.length<=0||p.is_placeholder(t)||(e={src:t.attr("data-large_image"),width:t.attr("data-large_image_width"),height:t.attr("data-large_image_height"),caption:t.attr("data-caption"),alt:t.attr("alt")},p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_image_title)&&(t=t.attr("title"),e.title=t),a.push(e))}}),0<p.els.video_template.length&&a.push({html:p.els.video_template.html().trim()}),{index:t,items:a}},setup_zoom(e){p.vars.is_zoom_enabled&&(e.all_images_wrap.on("touchmove",".iconic-woothumbs-images__image",function(){p.vars.is_dragging_image_slide=!0}),e.all_images_wrap.on("touchend",".iconic-woothumbs-images__image",function(i){p.vars.is_dragging_image_slide||(i.preventDefault(),g(this).click())}),e.all_images_wrap.on("touchstart",".iconic-woothumbs-images__image",function(){p.vars.is_dragging_image_slide=!1}),p.vars.zoom_setup||(g(window).on("resize-end",function(){var i=e.images.find(".slick-active img:first");p.init_zoom(i,e)}),p.vars.is_stacked_layout&&p.init_stacked_zoom(e),p.vars.zoom_setup=!0))},init_stacked_zoom(e){e.images.find(`.${p.vars.slide_class} .iconic-woothumbs-images__image`).on("mouseenter",function(i){p.init_zoom(g(i.target),e)})},init_zoom(s,o){if(p.vars.is_zoom_enabled&&!p.is_placeholder(s)){let i=s.closest("."+p.vars.slide_class),e=s.width(),t=s.attr("data-large_image"),a=parseInt(s.attr("data-large_image_width"),10);a<=e||(o.imagezoom&&o.imagezoom.destroy(),i.ImageZoom({type:iconic_woothumbs_vars.settings.zoom_general_zoom_type,bigImageSrc:t,zoomSize:[iconic_woothumbs_vars.settings.zoom_outside_follow_zoom_lens_width,iconic_woothumbs_vars.settings.zoom_outside_follow_zoom_lens_height],zoomViewerClass:"follow"===iconic_woothumbs_vars.settings.zoom_general_zoom_type?"shape"+iconic_woothumbs_vars.settings.zoom_follow_zoom_zoom_shape:"shapesquare",position:iconic_woothumbs_vars.settings.zoom_outside_zoom_zoom_position,preload:!1,showDescription:!1,hoverIntent:"follow"===iconic_woothumbs_vars.settings.zoom_general_zoom_type,onShow(){p.add_zoom_controls(o,i),p.vars.is_slider_layout&&o.images.slick("slickPause")},onHide(){p.vars.is_slider_layout&&p.is_true(iconic_woothumbs_vars.settings.carousel_general_autoplay)&&o.images.slick("slickPlay")}}),o.imagezoom=i.data("imagezoom"))}},add_zoom_controls(e,t){var i,a,s=e.imagezoom.$viewer;s.find(".iconic-woothumbs-zoom-controls").length<=0&&"inner"===iconic_woothumbs_vars.settings.zoom_general_zoom_type&&(p.is_true(iconic_woothumbs_vars.settings.display_general_icons_tooltips)&&s.addClass("iconic-woothumbs-tooltips-enabled"),e.all_images_wrap.hasClass("iconic-woothumbs-all-images-wrap--has-product-media")&&s.addClass("iconic-woothumbs-has-product-media"),s.append('<div class="iconic-woothumbs-zoom-controls"></div>'),i=s.find(".iconic-woothumbs-zoom-controls"),(p.vars.is_slider_layout||p.vars.is_stacked_layout&&"0"===g(t).attr("data-index"))&&0<e.wishlist_buttons.length&&i.append(e.wishlist_buttons.clone()),0<e.play_button.length&&(!p.vars.is_stacked_layout||p.vars.is_stacked_layout&&0===t.data("index"))&&(i.append(p.tpl.play_button),s.on("click",p.vars.play_trigger,function(){p.plyr_has_videos_of_type(p.vars.plyr_gallery_type,e)?p.plyr_destroy(p.vars.plyr_gallery_type).then(i=>{p.trigger_photoswipe(e,g(this),!0)}).then(i=>{p.plyr_autoplay_current_instance(p.vars.plyr_fullscreen_type,e)}):p.trigger_photoswipe(e,g(this),!0)})),p.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable)&&(i.append(p.tpl.fullscreen_button),s.on("click",p.vars.zoom_fullscreen_trigger,function(){p.plyr_destroy(p.vars.plyr_gallery_type).then(i=>{p.trigger_photoswipe(e,g(this),!1,t)})})),p.is_true(iconic_woothumbs_vars.settings.navigation_general_controls)&&1<p.get_thumbnail_count(e)&&(e.images_wrap.find(".iconic-woothumbs-images__arrow--prev").hasClass("slick-disabled")||i.append(`<a class="iconic-woothumbs-zoom-prev" href="javascript: void(0);">${p.vars.icon_arrow_left}</a>`),e.images_wrap.find(".iconic-woothumbs-images__arrow--next").hasClass("slick-disabled")||i.append(`<a class="iconic-woothumbs-zoom-next" href="javascript: void(0);">${p.vars.icon_arrow_right}</a>`),s.on("click",".iconic-woothumbs-zoom-prev",function(){var i=p.vars.is_rtl?"slickNext":"slickPrev";e.images.slick(i)}),s.on("click",".iconic-woothumbs-zoom-next",function(){var i=p.vars.is_rtl?"slickPrev":"slickNext";e.images.slick(i)})),p.is_true(iconic_woothumbs_vars.settings.navigation_bullets_enable)&&1<(a=e.all_images_wrap.find(".slick-dots")).children().length&&(a.clone().appendTo(i).wrap("<div class='iconic-woothumbs-zoom-bullets'></div>"),s.on("click",".iconic-woothumbs-zoom-bullets button",function(){var i=g(this).parent().index();return e.images.slick("slickGoTo",i),!1})),p.setup_tooltips())},setup_yith_wishlist(){g("body").on("added_to_wishlist",function(){var i;p.wishlist_adding.length<=0||(i=p.wishlist_adding.shift(),g('[data-iconic-woothumbs-yith-wishlist-adding-id="'+i+'"]').addClass(p.vars.wishlist_added_class))})},watch_yith_wishlist(e){e.wishlist_buttons.length<=0||e.wishlist_add_button.on("click",function(){var i=p.wishlist_adding.length+1;e.wishlist_buttons.attr("data-iconic-woothumbs-yith-wishlist-adding-id",i),p.wishlist_adding.push(i)})},setup_tooltips(){p.is_true(iconic_woothumbs_vars.settings.display_general_icons_tooltips)&&g("[data-iconic-woothumbs-tooltip]").each(function(){var i=g(this).attr("data-iconic-woothumbs-tooltip");g(this).tooltipster({content:i,debug:!1,delay:100})})},update_caption(i,e){e.caption.length<=0||(void 0===(i=i.data("caption"))||""===i?e.caption.html("&mdash;"):e.caption.text(i))},reveal_slides(i){i.images.find("."+p.vars.slide_class).show(),i.all_images_wrap.removeClass(p.vars.loading_class)},images_loaded(i,t,a){function e(i,e){i={img:i,iteration:++n,success:o,error:l,total:r,status:e},"function"==typeof a&&a(i),o+l===r&&"function"==typeof t&&t(i)}let s=g(i).find("img, iframe, video"),o=0,l=0,n=0,r=s.length;s.each(function(){var i;g(this).is("img")?((i=new Image).onload=function(){o++,e(this,"success")},i.onerror=function(){l++,e(this,"error")},i.src=this.src):(o++,e(this,"success"))})},plyr_setup(d,h){let u=!1;p.vars.plyr_gallery_type===d&&(window.iconic_woothumbs_plyr.fullscreen=[]),p.vars.plyr_fullscreen_type===d&&(window.iconic_woothumbs_plyr.gallery=[]),p.vars.plyr_gallery_type===d?u=p.plyr_get_gallery_videos(h.images_wrap):p.vars.plyr_fullscreen_type===d&&(u=p.plyr_get_photoswipe_videos()),u&&0!==u.length&&u.each(function(e){let t=g(this).closest("."+p.vars.slide_class),i=g(this).data("plyr-provider"),a=g(this).data("plyr-options"),s=h.all_images_wrap.attr("data-global-aspect-ratio"),o=g(this).attr("data-aspect-ratio"),l=p.vars.images_are_vertical?s:o,n=p.vars.plyr_controls?p.vars.plyr_controls_list:[],r={ratio:l,loop:{active:p.vars.plyr_loop},controls:n,clickToPlay:!1,tooltips:{controls:p.vars.plyr_tooltips,seek:p.vars.plyr_tooltips},iconUrl:iconic_woothumbs_vars.plyr_sprite_url};i&&("youtube"===i||"vimeo"===i)&&a&&(r[i]=a),"fullscreen"!==d&&p.vars.is_fullscreen_enabled||(r.controls=r.controls.filter(function(i,e,t){return"fullscreen"!==i})),p.vars.plyr_gallery_type===d&&(r.listeners={fullscreen(i){return p.vars.plyr_fullscreen_type===d||(i.preventDefault(),p.plyr_destroy(p.vars.plyr_gallery_type).then(i=>{p.trigger_photoswipe(h,g(u[e]),!1,t)}),!1)}}),p.vars.plyr_fullscreen_type===d&&(r.listeners={}),$plyr_element=0<g(this).find(".js-plyr-div").length?g(this).find(".js-plyr-div"):g(this);var _,c,m=new Plyr($plyr_element,r);window.iconic_woothumbs_plyr[d].push(m),p.vars.plyr_poster&&(_=p.vars.is_slider_layout?p.vars.placeholder_img:g(this).attr("data-poster-gallery"),c=g(this).attr("data-poster-fullscreen"),m.poster="gallery"===d?_:c),m.on("playing",i=>{g(i.target).closest(".iconic-woothumbs-all-images-wrap").addClass(p.vars.media_playing_class),p.plyr_pause(d,i.detail.plyr)}),m.on("pause",i=>{setTimeout(function(){g(i.target).closest(".iconic-woothumbs-all-images-wrap").removeClass(p.vars.media_playing_class)},300)}),m.on("ended",i=>{setTimeout(function(){g(i.target).closest(".iconic-woothumbs-all-images-wrap").removeClass(p.vars.media_playing_class)},300)}),m.on("ready",i=>{p.plyr_ready_tasks(d,i,h)})})},plyr_ready_tasks(i,e,t){var a;t.images.hasClass("slick-initialized")&&(0===t.images.slick("slickCurrentSlide")&&p.maybe_load_poster_images(t,0),t.images.slick("setPosition"),a=g(e.target).closest("."+p.vars.slide_class).attr("data-index"),parseInt(a,10)===t.images.slick("slickCurrentSlide"))&&(a=t.images.find(".slick-slide.slick-current"),p.maybe_show_gallery_ui(a,t,!0)),setTimeout(function(){("gallery"===i?(g(e.target).closest("."+p.vars.slide_class).addClass("iconic-woothumbs-plyr-ready"),g(e.target).closest("."+p.vars.slide_class)):(g(e.target).closest(".iconic-woothumbs-fullscreen-video-wrapper").addClass("iconic-woothumbs-plyr-ready"),g(e.target).closest(".iconic-woothumbs-fullscreen-video-wrapper"))).find(".iconic-woothumbs-loading-overlay").hide(),t.images.hasClass("slick-initialized")&&t.images.slick("setPosition"),p.plyr_autoplay_current_instance(i,t)},500)},plyr_destroy(s){return new Promise(function(i,e){window.iconic_woothumbs_plyr&&s&&window.iconic_woothumbs_plyr[s].length||i();let t=0;function a(){t===window.iconic_woothumbs_plyr[s].length&&setTimeout(function(){i()},250)}window.iconic_woothumbs_plyr[s].forEach(function(i,e){t++,i.destroy(a)})})},plyr_reset(i,e,t=!1){var a;i&&e&&(a=t||i,p.plyr_destroy(i).then(p.plyr_setup(a,e,t)))},plyr_pause(i,t){return!!(window.iconic_woothumbs_plyr&&window.iconic_woothumbs_plyr[i].length&&i&&t)&&(window.iconic_woothumbs_plyr[i].forEach(function(i,e){t!==i&&i.pause()}),!0)},plyr_has_videos_of_type(i,e){return!(!i||!e)&&(p.vars.plyr_gallery_type===i?(e=p.plyr_get_gallery_videos(e.images_wrap))&&e.length:p.vars.plyr_fullscreen_type===i&&(e=p.plyr_get_photoswipe_videos())&&e.length)},plyr_get_gallery_videos(i){return!!i&&!!(i=g(i).filter(":visible").find(p.vars.plyr_video_selector).filter(function(i){return!g(this).parents(".slick-cloned").length})).length&&i},plyr_get_photoswipe_videos(){var i=g(window.iconic_woothumbs_photoswipe.currSlide.holderElement);return!!i.length&&!!(i=i.find(p.vars.plyr_video_selector)).length&&i},plyr_autoplay_current_instance(e,t){if(p.vars.plyr_autoplay&&e&&t){t=p.plyr_get_instance_container(e,t);if(t.length){let i=p.plyr_pluck_instance(e,t);i&&setTimeout(function(){i.muted=!0,i.play()},250)}}},plyr_pause_current_instance(i,e){i&&e&&(e=p.plyr_get_instance_container(i,e)).length&&(i=p.plyr_pluck_instance(i,e))&&i.pause()},plyr_pluck_instance(i,t){if(!window.iconic_woothumbs_plyr||!i||!t)return!1;let a=!1;return window.iconic_woothumbs_plyr[i].forEach(i=>{for(var e in i)i.hasOwnProperty(e)&&"elements"===e&&i[e]&&i[e].container===t[0]&&(a=i)}),a},plyr_get_instance_container(i,e){if(!i||!e)return!1;let t;return t=p.vars.plyr_gallery_type===i?p.vars.is_slider_layout?e.images.find(".slick-current .plyr"):e.images.find(".plyr:first"):p.vars.plyr_fullscreen_type===i&&(void 0===window.iconic_woothumbs_photoswipe||!1!==window.iconic_woothumbs_photoswipe)&&g(window.iconic_woothumbs_photoswipe.currSlide.holderElement).find(".plyr")}};g(window).on("load",function(i){p.on_load(i)}),g("body").on("jckqv_open",function(i){p.on_load(i)}),g(window).on("iconic-woothumbs-init-js",function(i){p.on_load(i)}),g(window).on("perfmatters-allScriptsLoaded",function(i){p.on_load(i)}),g(window).on("rocket-pageshow",function(i){p.on_load(i)}),g(window).on("jet-popup/show-event/after-show",function(i){p.on_load(i)}),g(window).on("resize",p.on_resize)}(jQuery,document),function(l,d){l.ImageZoom=function(e,i){let c=this;function m(i){i=parseInt(i);return isNaN(i)?0:i}c.$el=l(e),c.$img=c.$el.is("img")?c.$el:c.$el.find("img:first"),c.$el.data("imagezoom",c),c.init=function(i){c.options=l.extend({},l.ImageZoom.defaults,i),c.$viewer=l('<div class="zm-viewer '+c.options.zoomViewerClass+'"></div>').appendTo("body"),c.$handler=l('<div class="zm-handler'+c.options.zoomHandlerClass+'"></div>').data("el",e).appendTo("body"),c.isBigImageReady=-1,c.$largeImg=null,c.isActive=!1,c.$handlerArea=null,c.isWebkit=/chrome/.test(navigator.userAgent.toLowerCase())||/safari/.test(navigator.userAgent.toLowerCase()),c.evt={x:-1,y:-1},c.options.bigImageSrc=""==c.options.bigImageSrc?c.$img.attr("src"):c.options.bigImageSrc,c.options.preload&&((new Image).src=this.options.bigImageSrc),c.callIndex=l.ImageZoom._calltimes+1,c.animateTimer=null,l.ImageZoom._calltimes+=1,l(document).on("mousemove",function(i){d.mouseX=i.pageX,d.mouseY=i.pageY}),l(document).on("mousemove.imagezoom"+c.callIndex,function(i){c.isActive&&c.moveHandler(i.pageX,i.pageY)}),c.options.hoverIntent?c.$el.hoverIntent({over:c.over,out:c.out,sensitivity:10}):c.$el.on("mouseover.imagezoom",function(i){c.isActive=!0,c.showViewer(i)})},c.over=function(i){c.isActive=!0,c.showViewer(i),c.moveHandler(mouseX,mouseY)},c.out=function(){},c.moveHandler=function(l,n){var i=c.$el.offset(),r=c.$el.outerWidth(!1),_=c.$el.outerHeight(!1);if(l>=i.left&&l<=i.left+r&&n>=i.top&&n<=i.top+_){if(i.left=i.left+m(c.$el.css("borderLeftWidth"))+m(c.$el.css("paddingLeft")),i.top=i.top+m(c.$el.css("borderTopWidth"))+m(c.$el.css("paddingTop")),r=c.$el.width(),_=c.$el.height(),l>=i.left&&l<=i.left+r&&n>=i.top&&n<=i.top+_&&(c.evt={x:l,y:n},"follow"==c.options.type&&c.$viewer.css({top:n-c.$viewer.outerHeight(!1)/2,left:l-c.$viewer.outerWidth(!1)/2}),1==c.isBigImageReady)){let s,o;n=n-i.top,l=l-i.left;if("inner"==c.options.type)s=-c.$largeImg.height()*n/_+n,o=-c.$largeImg.width()*l/r+l;else if("standard"==c.options.type){let i=l-c.$handlerArea.width()/2,e=n-c.$handlerArea.height()/2,t=c.$handlerArea.width(),a=c.$handlerArea.height();i<0?i=0:i>r-t&&(i=r-t),e<0?e=0:e>_-a&&(e=_-a),o=-i/c.scale,s=-e/c.scale,c.isWebkit?(c.$handlerArea.css({opacity:.99}),setTimeout(function(){c.$handlerArea.css({top:e,left:i,opacity:1})},0)):c.$handlerArea.css({top:e,left:i})}else"follow"==c.options.type&&(s=-c.$largeImg.height()/_*n+c.options.zoomSize[1]/2,o=-c.$largeImg.width()/r*l+c.options.zoomSize[0]/2,-s>c.$largeImg.height()-c.options.zoomSize[1]?s=-(c.$largeImg.height()-c.options.zoomSize[1]):0<s&&(s=0),-o>c.$largeImg.width()-c.options.zoomSize[0]?o=-(c.$largeImg.width()-c.options.zoomSize[0]):0<o&&(o=0));c.options.smoothMove?(d.clearTimeout(c.animateTimer),c.smoothMove(o,s)):c.$viewer.find("img").css({top:s,left:o})}}else c.isActive=!1,c.$viewer.hide(),c.$handler.hide(),c.options.onHide(c),d.clearTimeout(c.animateTimer),c.animateTimer=null},c.showViewer=function(e){var i=c.$el.offset().top+m(c.$el.css("borderTopWidth"))+m(c.$el.css("paddingTop")),t=c.$el.offset().left+m(c.$el.css("borderLeftWidth"))+m(c.$el.css("paddingLeft"));let a=c.$el.width();var s=c.$el.height();if(c.isBigImageReady<1&&l("div",c.$viewer).remove(),"inner"==c.options.type)c.$viewer.css({top:i,left:t,width:a,height:s}).fadeIn(200);else if("standard"==c.options.type){var o=""==c.options.alignTo?c.$el:l("#"+c.options.alignTo);let i,e;"left"==c.options.position?(i=o.offset().left-c.options.zoomSize[0]-c.options.offset[0],e=o.offset().top+c.options.offset[1]):"right"==c.options.position&&(i=o.offset().left+o.width()+c.options.offset[0],e=o.offset().top+c.options.offset[1]),c.$viewer.css({top:e,left:i,width:c.options.zoomSize[0],height:c.options.zoomSize[1]}).fadeIn(200),c.$handlerArea&&(c.scale=a/c.$largeImg.width(),c.$handlerArea.css({width:c.$viewer.width()*c.scale,height:c.$viewer.height()*c.scale}))}else"follow"==c.options.type&&c.$viewer.css({width:c.options.zoomSize[0],height:c.options.zoomSize[1],top:e.pageY-c.options.zoomSize[1]/2,left:e.pageX-c.options.zoomSize[0]/2}).fadeIn(200);c.$handler.css({top:i,left:t,width:a,height:s}).fadeIn(200),c.options.onShow(c),-1==c.isBigImageReady&&(c.isBigImageReady=0,fastImg(c.options.bigImageSrc,function(){var i;l(this).attr("src").trim()==c.options.bigImageSrc.trim()&&(i=c.$el.is("img")?c.$el:c.$el.find("img:first"),c.$viewer.append('<img src="'+i.attr("src")+'" class="zm-fast" style="position:absolute;width:'+this.width+"px;height:"+this.height+'px" nopin="nopin" >'),c.isBigImageReady=1,c.$largeImg=l('<img src="'+c.options.bigImageSrc+'" style="position:absolute;width:'+this.width+"px;height:"+this.height+'px" nopin="nopin" >'),c.$viewer.append(c.$largeImg),"standard"==c.options.type&&(i=a/this.width,c.$handlerArea=l('<div class="zm-handlerarea" style="width:'+c.$viewer.width()*i+"px;height:"+c.$viewer.height()*i+'px"></div>').appendTo(c.$handler),c.scale=i),-1==c.evt.x&&-1==c.evt.y?c.moveHandler(e.pageX,e.pageY):c.moveHandler(c.evt.x,c.evt.y),c.options.showDescription)&&c.$img.attr("alt")&&""!=c.$img.attr("alt").trim()&&c.$viewer.append('<div class="'+c.options.descriptionClass+'">'+c.$img.attr("alt")+"</div>")},function(){},function(){}))},c.changeImage=function(i,e){this.$el.attr("src",i),this.isBigImageReady=-1,this.options.bigImageSrc="string"==typeof e?e:i,c.options.preload&&((new Image).src=this.options.bigImageSrc),this.$viewer.hide().empty(),this.$handler.hide().empty(),this.$handlerArea=null},c.changeZoomSize=function(i,e){c.options.zoomSize=[i,e]},c.destroy=function(){l(document).off("mousemove.imagezoom"+c.callIndex),this.$el.off(".imagezoom"),this.$viewer.remove(),this.$handler.remove(),this.$el.removeData("imagezoom")},c.smoothMove=function(i,e){var t,a=parseInt(c.$largeImg.css("top")),a=isNaN(a)?0:a,s=parseInt(c.$largeImg.css("left")),s=isNaN(s)?0:s;e=parseInt(e),i=parseInt(i),a==e&&s==i?(d.clearTimeout(c.animateTimer),c.animateTimer=null):(t=i-s,a=a+(a=e-a)/Math.abs(a)*Math.ceil(Math.abs(a/10)),s=s+t/Math.abs(t)*Math.ceil(Math.abs(t/10)),c.$viewer.find("img").css({top:a,left:s}),c.animateTimer=setTimeout(function(){c.smoothMove(i,e)},10))},c.init(i)},l.ImageZoom.defaults={bigImageSrc:"",preload:!0,type:"inner",smoothMove:!0,position:"right",offset:[10,0],alignTo:"",zoomSize:[100,100],descriptionClass:"zm-description",zoomViewerClass:"",zoomHandlerClass:"",showDescription:!0,hoverIntent:!1,onShow(i){},onHide(i){}},l.ImageZoom._calltimes=0,l.fn.ImageZoom=function(i){return this.each(function(){new l.ImageZoom(this,i)})}}(jQuery,window);var fastImg=function(){function c(){let i=0;for(;i<m.length;i++)m[i].end?m.splice(i--,1):m[i]();m.length||(clearInterval(d),d=null)}var m=[],d=null;return function(i,e,t,a){let s,o,l,n,r,_=new Image;_.src=i,_.complete?(e.call(_),t&&t.call(_)):(o=_.width,l=_.height,_.onerror=function(){a&&a.call(_),s.end=!0,_=_.onload=_.onerror=null},(s=function(){n=_.width,r=_.height,(n!==o||r!==l||1024<n*r)&&(e.call(_),s.end=!0)})(),_.onload=function(){s.end||s(),t&&t.call(_),_=_.onload=_.onerror=null},s.end||(m.push(s),null===d&&(d=setInterval(c,40))))}}();