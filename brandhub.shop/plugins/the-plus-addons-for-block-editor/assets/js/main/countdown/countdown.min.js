document.addEventListener("DOMContentLoaded",()=>{tpcountDown(document)});function tpcountDown(a){var b=a.querySelectorAll(".tp-countdown");b&&b.forEach(a=>{var b=JSON.parse(a.dataset.countdata);b&&b.type&&"normal"===b.type&&(b.style&&"style-1"===b.style&&WidgetCountDownHandler(b.blockId),b.style&&"style-2"===b.style&&styleFlipdown(b.blockId),b.style&&"style-3"===b.style&&styleProgressbar(b.blockId))})}function WidgetCountDownHandler(a){var b=document.querySelectorAll("."+a+".tp-countdown");if(b){function c(){b.forEach(b=>{var c=b.querySelector(".tpgb-countdown-counter");if(c){var d=b,e=c.dataset.time,f=d.dataset.offset,g=d.dataset.day,h=d.dataset.hour,i=d.dataset.min,j=d.dataset.sec;e&&""!=e&&downCount(d,{date:e,offset:f,text_day:g,text_hour:h,text_minute:i,text_second:j},function(){countdownExpiry(a)})}})}c(),b.forEach(a=>{a.addEventListener("change",function(){c()})})}}function styleFlipdown(a){var b=document.querySelector("."+a+" .flipdown")?document.querySelector("."+a+" .flipdown").dataset.time:"",c=document.querySelector("."+a),d=c.dataset.offset,e=c.dataset.day,f=c.dataset.hour,g=c.dataset.min,h=c.dataset.sec,i=c.dataset.filptheme;e=null==e?"":e,f=null==f?"":f,g=null==g?"":g,h=null==h?"":h,b&&null!=b&&(b-=3600*d,new FlipDown(b,a,{theme:i,headings:[e,f,g,h]}).start().ifEnded(function(){countdownExpiry(a)}))}function styleProgressbar(a){var b=document.getElementById("s"+a),c=document.getElementById("m"+a),d=document.getElementById("h"+a),e=document.getElementById("d"+a),f={duration:200,color:"#000000",trailColor:"#ddd",strokeWidth:5,trailWidth:3};if(null!=b){var g=new ProgressBar.Circle(b,f),h=new ProgressBar.Circle(c,f),i=new ProgressBar.Circle(d,f),j=new ProgressBar.Circle(e,f),k=document.querySelector("."+a),l=k.querySelector(".tpgb-countdown-counter").dataset.time,m=k.dataset.day,n=k.dataset.hour,o=k.dataset.min,p=k.dataset.sec;m=null==m?"":m,n=null==n?"":n,o=null==o?"":o,p=null==p?"":p;var q=setInterval(function(){var b=new Date,c=new Date(l),d=c-b,e=Math.floor(1*(d/86400000));j.animate(e/(e+5),function(){j.setText("<span class=\"number\">"+e+"</span><span class=\"label\">"+m+"</span>")});var f=Math.floor(1*(d%86400000/3600000));i.animate(f/24,function(){i.setText("<span class=\"number\">"+f+"</span><span class=\"label\">"+n+"</span>")});var k=Math.floor(1*(d%86400000%3600000/60000));h.animate(k/60,function(){h.setText("<span class=\"number\">"+k+"</span><span class=\"label\">"+o+"</span>")});var r=Math.floor(1*(d%86400000%3600000%60000/1e3));g.animate(r/60,function(){g.setText("<span class=\"number\">"+r+"</span><span class=\"label\">"+p+"</span>")}),0==e+f+k+r&&(countdownExpiry(a),clearInterval(q))},1e3)}}function countdownExpiry(a){var b=document.querySelector("."+a);if(b){var c=JSON.parse(b.dataset.countdata);if(c.expiry&&"showmsg"===c.expiry&&window.location.reload(),c.expiry&&"redirect"===c.expiry){var d=decodeURIComponent(c.redirect);window.location.href=d}}}