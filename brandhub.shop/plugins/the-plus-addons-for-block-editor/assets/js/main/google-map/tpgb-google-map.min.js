function tpgbInitMap(){document.querySelectorAll(".tpgb-adv-map").forEach(function(e){var n,t,o=e.getAttribute("data-id"),a=JSON.parse(e.getAttribute("data-map-settings")),s=null,i=null,l=null,d=null;e.classList.contains("map-loaded")||(t=function(){!function(){for(var e=0,t=n.length;e<t;e++)n[e]()}()},(n=[]).push(function(){var e,t;for("",i=new google.maps.LatLngBounds,s=new google.maps.Map(document.getElementById(o),a.options),l=new google.maps.InfoWindow,s.setTilt(45),google.maps.event.addListener(l,"domready",function(){var e=document.querySelector(".gm-style-iw");e.previousElementSibling;e.parentElement.classList.add("marker-icon"),e.nextElementSibling.style.display="none",e.classList.add("marker-title")}),t=0;t<a.places.length;t++)d=new google.maps.LatLng(a.places[t].latitude,a.places[t].longitude),i.extend(d),e=new google.maps.Marker({position:d,map:s,title:a.places[t].address,icon:a.places[t].pin_icon}),google.maps.event.addListener(e,"click",function(e,t){return function(){1<a.places[t].address.length&&l.setContent('<div class="gmap_info_content"><p>'+a.places[t].address+"</p></div>"),l.open(s,e)}}(e,t)),s.fitBounds(i);var n=google.maps.event.addListener(s,"idle",function(e){this.setZoom(a.options.zoom),google.maps.event.removeListener(n)});google.maps.event.trigger(s,"resize"),s.setCenter(d)}),t(),e.classList.add("map-loaded"))})}document.addEventListener("DOMContentLoaded",function(){tpgbInitMap()});