(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6459cd87"],{"89e0":function(t,s,o){"use strict";var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"preview-wp",class:{"ocw-dark":t.opt.dark_switch>0},style:{"--ocw-theme-color":t.opt.custom_theme_color,"--ocw-buoy-icon-size":t.opt.buoy_icon_size+"px","--ocw-bfs":(t.opt.base_font_size?t.opt.base_font_size:12)+"px","--ocw-head-bg-color":t.opt.color_head,"--ocw-head-fcolor":t.opt.panel_hd_fcolor,"--ocw-unfold-size":t.opt.unfold_size+"px","--ocw-unfold-radius":t.opt.unfold_radius+"px","--ocw-panel-width":t.opt.panel_width+"px","--ocw-offset-y":t.opt.position_offset_y+"px","--ocw-offset-x":t.opt.position_offset_x+"px"}},[t.opt.is_fold>0?o("div",{staticClass:"wb-ocw ocw-buoy",class:t.opt.position?t.opt.position:"rb"},[o("div",{staticClass:"ocw-buoy-item"},[o("div",{staticClass:"ocw-buoy-btn j-buoy-btn",on:{click:function(s){t.activePanel=!t.activePanel}}},[o("i",{staticClass:"ocw-point"}),6==t.opt.fold_icon&&t.opt.buoy_icon_custom?o("img",{staticClass:"ocw-wb-icon",style:{width:t.opt.buoy_icon_size+"px",height:t.opt.buoy_icon_size+"px"},attrs:{src:t.opt.buoy_icon_custom}}):o("svg",{staticClass:"ocw-wb-icon ib",style:{fill:t.opt.custom_theme_color,width:t.opt.buoy_icon_size+"px",height:t.opt.buoy_icon_size+"px"}},[o("use",{attrs:{"xlink:href":"#ocw-buoy-"+t.opt.fold_icon}})]),o("span",{directives:[{name:"show",rawName:"v-show",value:t.opt.name_switch>0,expression:"opt.name_switch > 0"}],staticClass:"ocw-btn-text"},[t._v(t._s(t.opt.fold_label))])]),t.opt.buoy_animation>0&&!t.activePanel?o("div",{staticClass:"ocw-animated-circles ocw-animated"},[o("div",{staticClass:"ocw-circle c-1"}),o("div",{staticClass:"ocw-circle c-2"}),o("div",{staticClass:"ocw-circle c-3"})]):t._e(),o("div",{staticClass:"ocw-buoy-panel",class:{"head-more-color":t.opt.color_head,"active-panel":t.activePanel}},[o("div",{staticClass:"ocw-panel-head"},[o("div",{staticClass:"ocw-pic-head"},[o("img",{attrs:{src:t.opt.avatar_url?t.opt.avatar_url:t.$cnf.dir_url+"/assets/images/pic_head.png"}}),o("i",{staticClass:"ocw-b"})]),o("div",{staticClass:"ocw-head-info"},[o("p",{staticClass:"ocw-name"},[t._v(t._s(t.opt.contact_name))]),o("p",{staticClass:"ocw-text",domProps:{innerHTML:t._s(t.opt.contact_msg)}})])]),o("div",{staticClass:"ocw-panel-main"},[t._m(0),o("div",{staticClass:"buoy-default"},[o("div",{staticClass:"ocw-msg-item"},[o("img",{staticClass:"ocw-pic",attrs:{src:t.opt.avatar_url?t.opt.avatar_url:t.$cnf.dir_url+"/assets/images/pic_head.png"}}),o("div",{staticClass:"ocw-msg-con",domProps:{innerHTML:t._s(t.opt.open_msg)}})])]),o("div",{staticClass:"ocw-contact-tool"},[o("h4",{staticClass:"ocw-title"},[t._v("选择聊天工具：")]),o("div",{staticClass:"ocw-tool-list",class:{"tool-list-color":t.opt.custom_theme_color},attrs:{id:"OCW_btnItems"}},t._l(t.cnf.contact_items,(function(t,s){return o("a",{directives:[{name:"show",rawName:"v-show",value:"backtop"!=s,expression:"key != 'backtop'"}],key:s,staticClass:"ocw-btn-tool",class:s},[o("svg",{staticClass:"ocw-wb-icon",class:"ocw-"+s},[o("use",{attrs:{"xlink:href":"#ocw-"+s}})])])})),0)])]),o("span",{staticClass:"ocw-btn-close",on:{click:function(s){return t.$emit("close-preview",!0)}}},[o("svg",{staticClass:"cow-wb-icon ocw-close"},[o("use",{attrs:{"xlink:href":"#ocw-close"}})])])])])]):o("div",{staticClass:"plugin-pc j-ocw-pc",class:t.wpClassNames,attrs:{id:"OCW_Wp"}},[o("div",{staticClass:"ocw-el-item qq"},[o("span",{staticClass:"ocw-btn-item",attrs:{title:"QQ客服"}},[o("svg",{staticClass:"ocw-wb-icon ocw-qq"},[o("use",{attrs:{"xlink:href":"#ocw-qq"}})])])]),o("div",{staticClass:"ocw-el-item wx"},[o("span",{staticClass:"ocw-btn-item",attrs:{title:"关注我们"}},[o("svg",{staticClass:"ocw-wb-icon ocw-wx"},[o("use",{attrs:{"xlink:href":"#ocw-wx"}})])])]),o("div",{staticClass:"ocw-el-item tel"},[o("span",{staticClass:"ocw-btn-item",attrs:{title:"电话联系"}},[o("svg",{staticClass:"ocw-wb-icon ocw-tel"},[o("use",{attrs:{"xlink:href":"#ocw-tel"}})])])]),o("div",{staticClass:"ocw-el-item msg"},[o("span",{staticClass:"ocw-btn-item ocw-msg-btn",attrs:{title:"在线留言"}},[o("svg",{staticClass:"ocw-wb-icon ocw-msg"},[o("use",{attrs:{"xlink:href":"#ocw-msg"}})])])]),o("div",{staticClass:"ocw-el-item backtop"},[o("span",{staticClass:"ocw-btn-item",attrs:{title:"返回顶部"}},[o("svg",{staticClass:"ocw-wb-icon ocw-backtop"},[o("use",{attrs:{"xlink:href":"#ocw-backtop"}})])])])])])},a=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"ocw-now-time"},[o("span",{staticClass:"ocw-time"},[t._v("12:01")])])}],i={name:"Preview",props:["cnf","opt"],data(){return{activePanel:!1,wpClassNames:{}}},mounted(){this.activePanel=2==this.opt.is_fold,this.wpClassNames={"ocw-dark":1==this.opt.dark_switch,"ocw-big":1==this.opt.size_select,"ocw-fillet":1==this.opt.fillet_select},this.opt.position&&(this.wpClassNames[this.opt.position]=!0)},watch:{},methods:{}},c=i,l=o("2877"),n=Object(l["a"])(c,e,a,!1,null,null,null);s["a"]=n.exports},b084:function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"wbs-content"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"wbs-content-inner",class:{"wb-page-loaded":t.isLoaded}},[o("div",{staticClass:"wbs-main"},[t.isPro?t._e():o("el-alert",{attrs:{type:"warning","show-icon":""}},[o("span",[t._v("当前为Free版，高级功能需 ")]),t.$cnf.is_mobile?o("a",{staticClass:"ml",on:{click:function(s){return s.stopPropagation(),t.pro_click.apply(null,arguments)}}},[t._v("升级为PRO版")]):o("el-button",{staticClass:"ml",attrs:{type:"primary",size:"mini"},on:{click:function(s){return s.stopPropagation(),t.pro_click.apply(null,arguments)}}},[t._v("升级为PRO版")])],1),o("div",{staticClass:"align-right mt"},[o("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.activePreview,callback:function(s){t.activePreview=s},expression:"activePreview"}}),o("span",{staticClass:"ml"},[t._v("预览")])],1),t.isLoaded?o("table",{staticClass:"wbs-form-table"},[o("tbody",[o("tr",[o("th",{staticClass:"row"},[t._v("显示设备")]),o("td",{staticClass:"info"},[o("el-checkbox-group",{model:{value:t.opt.active_device,callback:function(s){t.$set(t.opt,"active_device",s)},expression:"opt.active_device"}},[o("el-checkbox",{attrs:{label:"0"}},[t._v("桌面端")]),o("el-checkbox",{attrs:{label:"1"}},[t._v("移动端")])],1)],1)]),o("tr",[o("th",{staticClass:"row w8em"},[t._v("显示页面")]),o("td",{staticClass:"info"},[o("el-radio-group",{model:{value:t.opt.active_page,callback:function(s){t.$set(t.opt,"active_page",s)},expression:"opt.active_page"}},[o("el-radio",{attrs:{label:"0"}},[t._v("全部页面")]),o("el-radio",{attrs:{label:"1"}},[t._v("指定页面")]),o("el-radio",{attrs:{label:"2"}},[t._v("例外页面")])],1),"1"===t.opt.active_page?o("div",{staticClass:"with-sub-form-table mt"},[t._l(t.urls_appoint,(function(s,e){return o("div",{key:e,staticClass:"ml",class:{mt:e>0}},[o("el-input",{attrs:{size:"mini"},model:{value:s.url,callback:function(o){t.$set(s,"url",o)},expression:"r.url"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(s){return t.remove_item("appoint",e)}},slot:"append"})],1)],1)})),o("div",{staticClass:"mt",class:t.opt.appoint_urls?"align-right":"align-center"},[o("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-circle-plus"},on:{click:function(s){return t.push_item("appoint")}}},[t._v("添加")])],1)],2):t._e(),"2"===t.opt.active_page?o("div",{staticClass:"with-sub-form-table mt"},[t._l(t.urls_exception,(function(s,e){return o("div",{key:e,staticClass:"ml",class:{mt:e>0}},[o("el-input",{attrs:{size:"mini"},model:{value:s.url,callback:function(o){t.$set(s,"url",o)},expression:"r.url"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(s){return t.remove_item("exception",e)}},slot:"append"})],1)],1)})),o("div",{staticClass:"mt",class:t.opt.exception_urls?"align-right":"align-center"},[o("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-circle-plus"},on:{click:function(s){return t.push_item("exception")}}},[t._v("添加")])],1)],2):t._e()],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("主色调")]),o("td",[o("el-color-picker",{attrs:{"show-alpha":"",predefine:["#0066cc","#a02533","#ca891e","#6bb020","#8b572a"]},model:{value:t.opt.custom_theme_color,callback:function(s){t.$set(t.opt,"custom_theme_color",s)},expression:"opt.custom_theme_color"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("细节定制")]),o("td",[o("el-tabs",{attrs:{type:"border-card"}},[o("el-tab-pane",{attrs:{label:"浮标模式"}},[o("table",{staticClass:"wbs-form-table-sub"},[o("tr",[o("th",{staticClass:"row w6em"},[t._v("浮标图标尺寸")]),o("td",[o("el-input-number",{attrs:{min:16,max:50,label:"px",size:"mini"},model:{value:t.opt.buoy_icon_size,callback:function(s){t.$set(t.opt,"buoy_icon_size",s)},expression:"opt.buoy_icon_size"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("浮标文字")]),o("td",[o("el-input",{staticClass:"w8em",attrs:{size:"mini"},model:{value:t.opt.fold_label,callback:function(s){t.$set(t.opt,"fold_label",s)},expression:"opt.fold_label"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("浮标图标")]),o("td",[o("el-radio-group",{staticClass:"inline-selector-group",model:{value:t.opt.fold_icon,callback:function(s){t.$set(t.opt,"fold_icon",s)},expression:"opt.fold_icon"}},[t._l([1,2,3,4,5],(function(s,e){return o("el-radio",{key:e,class:s>1?"ml":"",attrs:{label:s}},[o("span",{staticClass:"fold-icon",class:{selected:t.opt.fold_icon==s}},[o("svg",{staticClass:"wb-icon"},[o("use",{attrs:{"xlink:href":"#ocw-buoy-"+s}})])])])})),o("el-radio",{attrs:{label:"6"}},[o("span",{staticClass:"fold-icon",class:{selected:6==t.opt.fold_icon}},[t._v(" 自定义 "),t.opt.buoy_icon_custom?o("span",[t._v(": "),t.opt.buoy_icon_custom?o("img",{staticClass:"wb-icon",attrs:{src:t.opt.buoy_icon_custom}}):t._e()]):t._e()])])],2)],1)]),6==t.opt.fold_icon?o("tr",[o("th",{staticClass:"row"},[t._v("自定义浮标")]),o("td",[o("wbs-upload-box",{attrs:{url:t.opt.buoy_icon_custom},on:{"get-file":function(s){t.opt.buoy_icon_custom=s}}})],1)]):t._e(),o("tr",[o("th",{staticClass:"row"},[t._v("基础字号")]),o("td",[o("el-input-number",{attrs:{min:12,max:16,label:"px",size:"mini"},model:{value:t.opt.base_font_size,callback:function(s){t.$set(t.opt,"base_font_size",s)},expression:"opt.base_font_size"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("窗口宽度")]),o("td",[o("el-input-number",{attrs:{min:200,max:600,label:"px",size:"mini"},model:{value:t.opt.panel_width,callback:function(s){t.$set(t.opt,"panel_width",s)},expression:"opt.panel_width"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("窗口头部")]),o("td",[o("el-color-picker",{staticClass:"ib",attrs:{"show-alpha":"",predefine:["#0066cc","#a02533","#ca891e","#6bb020","#8b572a"]},model:{value:t.opt.color_head,callback:function(s){t.$set(t.opt,"color_head",s)},expression:"opt.color_head"}}),o("span",{staticClass:"ib"},[t._v("背景颜色")]),o("el-color-picker",{staticClass:"ib ml",attrs:{"show-alpha":"",predefine:["#fff","#666","#333","#999"]},model:{value:t.opt.panel_hd_fcolor,callback:function(s){t.$set(t.opt,"panel_hd_fcolor",s)},expression:"opt.panel_hd_fcolor"}}),o("span",{staticClass:"ib"},[t._v("文字颜色")])],1)])])]),o("el-tab-pane",{attrs:{label:"展开模式"}},[o("table",{staticClass:"wbs-form-table-sub"},[o("tr",[o("th",{staticClass:"row w6em"},[t._v("尺寸")]),o("td",[o("el-input-number",{attrs:{min:38,max:68,label:"px",size:"mini"},model:{value:t.opt.unfold_size,callback:function(s){t.$set(t.opt,"unfold_size",s)},expression:"opt.unfold_size"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("圆角")]),o("td",[o("el-input-number",{attrs:{min:0,max:34,label:"px",size:"mini"},model:{value:t.opt.unfold_radius,callback:function(s){t.$set(t.opt,"unfold_radius",s)},expression:"opt.unfold_radius"}})],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("留言窗口宽度")]),o("td",[o("el-input-number",{attrs:{min:200,max:600,label:"px",size:"mini"},model:{value:t.opt.panel_width,callback:function(s){t.$set(t.opt,"panel_width",s)},expression:"opt.panel_width"}})],1)])])]),o("el-tab-pane",{attrs:{label:"位置调整"}},[o("table",{staticClass:"wbs-form-table-sub"},[o("tr",[o("th",{staticClass:"row w6em"},[t._v("展示位置")]),o("td",[o("el-radio-group",{staticClass:"inline-selector-group",model:{value:t.opt.position,callback:function(s){t.$set(t.opt,"position",s)},expression:"opt.position"}},t._l(t.poslists,(function(s,e){return o("el-radio",{key:"position"+e,class:s.value,attrs:{label:s.value}},[o("span",[t._v(t._s(s.name))]),o("div",{staticClass:"position-img"})])})),1)],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("横向偏移值")]),o("td",[o("el-input-number",{attrs:{label:"px",size:"mini"},model:{value:t.opt.position_offset_x,callback:function(s){t.$set(t.opt,"position_offset_x",s)},expression:"opt.position_offset_x"}}),t._v(" px ")],1)]),o("tr",[o("th",{staticClass:"row"},[t._v("纵向偏移值")]),o("td",[o("el-input-number",{attrs:{label:"px",size:"mini"},model:{value:t.opt.position_offset_y,callback:function(s){t.$set(t.opt,"position_offset_y",s)},expression:"opt.position_offset_y"}}),t._v(" px ")],1)])])])],1)],1)]),o("tr",[o("th",{staticClass:"row w8em"},[t._v("自定义CSS样式")]),o("td",[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10}},model:{value:t.opt.custom_style,callback:function(s){t.$set(t.opt,"custom_style",s)},expression:"opt.custom_style"}})],1)])])]):t._e(),1==t.activePreview?o("Preview",{attrs:{opt:t.opt,cnf:t.cnf},on:{"close-preview":function(s){t.activePreview="0"}}}):t._e(),o("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1),t.isPro?t._e():o("wbs-more-sources")],1),o("div",{staticClass:"wbs-footer"},[o("div",{staticClass:"wbsf-inner"},[t.isPro?o("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.updateData()}}},[t._v(" 保存设置 ")]):o("el-button",{attrs:{type:"primary"},on:{click:t.pro_click}},[t._v(" 升级为Pro版 ")])],1)])])},a=[],i=o("89e0"),c={name:"pro",data(){const t=this;return{formChanged:0,isLoaded:!1,isPro:t.$cnf.is_pro,opt:{},cnf:{},activePreview:!1,urls_appoint:[],urls_exception:[],poslists:[{name:"左中",value:"lc"},{name:"左下",value:"lb"},{name:"右中",value:"rc"},{name:"右下",value:"rb"}]}},components:{Preview:i["a"]},created(){const t=this;t._getData()},watch:{opt:{handler(){this.formChanged++},deep:!0}},methods:{_getData(){const t=this;t.$api.getData({action:t.$cnf.action.act,op:t.$cnf.action.fetch}).then(s=>{if(t.opt=s["data"]["opt"],t.cnf=s["data"]["cnf"],0!==t.isPro){if(t.opt.appoint_urls){let s=[];t.opt.appoint_urls.split(",").forEach((t,o)=>{s[o]={url:t}}),t.urls_appoint=s}if(t.opt.exception_urls){let s=[];t.opt.exception_urls.split(",").forEach((t,o)=>{s[o]={url:t}}),t.urls_exception=s}t.isLoaded=!0}else t.isLoaded=!0})},updateData(t){const s=this;s.isPro&&(s.opt.appoint_urls=s.obj2string(s.urls_appoint,"url"),s.opt.exception_urls=s.obj2string(s.urls_exception,"url"),s.$api.saveData({action:s.$cnf.action.act,op:s.$cnf.action.push,opt:s.opt}).then(o=>{s.$wbui.toast("设置保存成功"),s.formChanged=1,t&&t()}))},obj2string(t,s){if(!t)return"";let o=[];return t.forEach((t,e)=>{t[s]&&o.push(t.url)}),o.join(",")},push_item(t){const s=this;switch(s.isLoaded=!1,t){case"appoint":s.urls_appoint.push({url:""});break;case"exception":s.urls_exception.push({url:""});break}s.isLoaded=!0},remove_item(t,s){const o=this;o.$wbui.confirm("确认删除?",(function(){switch(o.isLoaded=!1,t){case"appoint":o.urls_appoint.splice(s,1);break;case"exception":o.urls_exception.splice(s,1);break}o.isLoaded=!0}))},pro_click(){this.doActivePro()}},beforeRouteLeave(t,s,o){const e=this;e.isPro&&e.formChanged>2?e.$wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes(){return o(!1),e.updateData((function(){o()})),!1},no(){return o(),!1}}):o()}},l=c,n=o("2877"),r=Object(n["a"])(l,e,a,!1,null,null,null);s["default"]=r.exports}}]);